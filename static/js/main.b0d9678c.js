/*! For license information please see main.b0d9678c.js.LICENSE.txt */
!function(){var e={764:function(e,t,n){!function(e){"use strict";var t="undefined"!==typeof globalThis?globalThis:"undefined"!==typeof window?window:"undefined"!==typeof n.g?n.g:"undefined"!==typeof self?self:{};function r(e,t,n){return e(n={path:t,exports:{},require:function(e,t){return i(e,void 0===t||null===t?n.path:t)}},n.exports),n.exports}function i(){throw new Error("Dynamic requires are not currently supported by @rollup/plugin-commonjs")}var o=r((function(e,n){!function(t,r){var i="0.7.31",o="",a="?",s="function",u="undefined",l="object",c="string",d="major",f="model",h="name",p="type",v="vendor",m="version",y="architecture",g="console",_="mobile",b="tablet",k="smarttv",w="wearable",I="embedded",x=275,S="Amazon",C="Apple",E="ASUS",T="BlackBerry",N="Browser",P="Chrome",O="Firefox",R="Google",A="Huawei",D="LG",L="Microsoft",M="Motorola",F="Opera",U="Samsung",j="Sony",z="Xiaomi",q="Zebra",W="Facebook",V=function(e,t){var n={};for(var r in e)t[r]&&t[r].length%2===0?n[r]=t[r].concat(e[r]):n[r]=e[r];return n},B=function(e){for(var t={},n=0;n<e.length;n++)t[e[n].toUpperCase()]=e[n];return t},H=function(e,t){return typeof e===c&&-1!==K(t).indexOf(K(e))},K=function(e){return e.toLowerCase()},G=function(e){return typeof e===c?e.replace(/[^\d\.]/g,o).split(".")[0]:r},$=function(e,t){if(typeof e===c)return e=e.replace(/^\s\s*/,o).replace(/\s\s*$/,o),typeof t===u?e:e.substring(0,x)},Y=function(e,t){for(var n,i,o,a,u,c,d=0;d<t.length&&!u;){var f=t[d],h=t[d+1];for(n=i=0;n<f.length&&!u;)if(u=f[n++].exec(e))for(o=0;o<h.length;o++)c=u[++i],typeof(a=h[o])===l&&a.length>0?2===a.length?typeof a[1]==s?this[a[0]]=a[1].call(this,c):this[a[0]]=a[1]:3===a.length?typeof a[1]!==s||a[1].exec&&a[1].test?this[a[0]]=c?c.replace(a[1],a[2]):r:this[a[0]]=c?a[1].call(this,c,a[2]):r:4===a.length&&(this[a[0]]=c?a[3].call(this,c.replace(a[1],a[2])):r):this[a]=c||r;d+=2}},Q=function(e,t){for(var n in t)if(typeof t[n]===l&&t[n].length>0){for(var i=0;i<t[n].length;i++)if(H(t[n][i],e))return n===a?r:n}else if(H(t[n],e))return n===a?r:n;return e},J={ME:"4.90","NT 3.11":"NT3.51","NT 4.0":"NT4.0",2e3:"NT 5.0",XP:["NT 5.1","NT 5.2"],Vista:"NT 6.0",7:"NT 6.1",8:"NT 6.2",8.1:"NT 6.3",10:["NT 6.4","NT 10.0"],RT:"ARM"},X={browser:[[/\b(?:crmo|crios)\/([\w\.]+)/i],[m,[h,"Chrome"]],[/edg(?:e|ios|a)?\/([\w\.]+)/i],[m,[h,"Edge"]],[/(opera mini)\/([-\w\.]+)/i,/(opera [mobiletab]{3,6})\b.+version\/([-\w\.]+)/i,/(opera)(?:.+version\/|[\/ ]+)([\w\.]+)/i],[h,m],[/opios[\/ ]+([\w\.]+)/i],[m,[h,F+" Mini"]],[/\bopr\/([\w\.]+)/i],[m,[h,F]],[/(kindle)\/([\w\.]+)/i,/(lunascape|maxthon|netfront|jasmine|blazer)[\/ ]?([\w\.]*)/i,/(avant |iemobile|slim)(?:browser)?[\/ ]?([\w\.]*)/i,/(ba?idubrowser)[\/ ]?([\w\.]+)/i,/(?:ms|\()(ie) ([\w\.]+)/i,/(flock|rockmelt|midori|epiphany|silk|skyfire|ovibrowser|bolt|iron|vivaldi|iridium|phantomjs|bowser|quark|qupzilla|falkon|rekonq|puffin|brave|whale|qqbrowserlite|qq)\/([-\w\.]+)/i,/(weibo)__([\d\.]+)/i],[h,m],[/(?:\buc? ?browser|(?:juc.+)ucweb)[\/ ]?([\w\.]+)/i],[m,[h,"UC"+N]],[/\bqbcore\/([\w\.]+)/i],[m,[h,"WeChat(Win) Desktop"]],[/micromessenger\/([\w\.]+)/i],[m,[h,"WeChat"]],[/konqueror\/([\w\.]+)/i],[m,[h,"Konqueror"]],[/trident.+rv[: ]([\w\.]{1,9})\b.+like gecko/i],[m,[h,"IE"]],[/yabrowser\/([\w\.]+)/i],[m,[h,"Yandex"]],[/(avast|avg)\/([\w\.]+)/i],[[h,/(.+)/,"$1 Secure "+N],m],[/\bfocus\/([\w\.]+)/i],[m,[h,O+" Focus"]],[/\bopt\/([\w\.]+)/i],[m,[h,F+" Touch"]],[/coc_coc\w+\/([\w\.]+)/i],[m,[h,"Coc Coc"]],[/dolfin\/([\w\.]+)/i],[m,[h,"Dolphin"]],[/coast\/([\w\.]+)/i],[m,[h,F+" Coast"]],[/miuibrowser\/([\w\.]+)/i],[m,[h,"MIUI "+N]],[/fxios\/([-\w\.]+)/i],[m,[h,O]],[/\bqihu|(qi?ho?o?|360)browser/i],[[h,"360 "+N]],[/(oculus|samsung|sailfish)browser\/([\w\.]+)/i],[[h,/(.+)/,"$1 "+N],m],[/(comodo_dragon)\/([\w\.]+)/i],[[h,/_/g," "],m],[/(electron)\/([\w\.]+) safari/i,/(tesla)(?: qtcarbrowser|\/(20\d\d\.[-\w\.]+))/i,/m?(qqbrowser|baiduboxapp|2345Explorer)[\/ ]?([\w\.]+)/i],[h,m],[/(metasr)[\/ ]?([\w\.]+)/i,/(lbbrowser)/i],[h],[/((?:fban\/fbios|fb_iab\/fb4a)(?!.+fbav)|;fbav\/([\w\.]+);)/i],[[h,W],m],[/safari (line)\/([\w\.]+)/i,/\b(line)\/([\w\.]+)\/iab/i,/(chromium|instagram)[\/ ]([-\w\.]+)/i],[h,m],[/\bgsa\/([\w\.]+) .*safari\//i],[m,[h,"GSA"]],[/headlesschrome(?:\/([\w\.]+)| )/i],[m,[h,P+" Headless"]],[/ wv\).+(chrome)\/([\w\.]+)/i],[[h,P+" WebView"],m],[/droid.+ version\/([\w\.]+)\b.+(?:mobile safari|safari)/i],[m,[h,"Android "+N]],[/(chrome|omniweb|arora|[tizenoka]{5} ?browser)\/v?([\w\.]+)/i],[h,m],[/version\/([\w\.]+) .*mobile\/\w+ (safari)/i],[m,[h,"Mobile Safari"]],[/version\/([\w\.]+) .*(mobile ?safari|safari)/i],[m,h],[/webkit.+?(mobile ?safari|safari)(\/[\w\.]+)/i],[h,[m,Q,{"1.0":"/8",1.2:"/1",1.3:"/3","2.0":"/412","2.0.2":"/416","2.0.3":"/417","2.0.4":"/419","?":"/"}]],[/(webkit|khtml)\/([\w\.]+)/i],[h,m],[/(navigator|netscape\d?)\/([-\w\.]+)/i],[[h,"Netscape"],m],[/mobile vr; rv:([\w\.]+)\).+firefox/i],[m,[h,O+" Reality"]],[/ekiohf.+(flow)\/([\w\.]+)/i,/(swiftfox)/i,/(icedragon|iceweasel|camino|chimera|fennec|maemo browser|minimo|conkeror|klar)[\/ ]?([\w\.\+]+)/i,/(seamonkey|k-meleon|icecat|iceape|firebird|phoenix|palemoon|basilisk|waterfox)\/([-\w\.]+)$/i,/(firefox)\/([\w\.]+)/i,/(mozilla)\/([\w\.]+) .+rv\:.+gecko\/\d+/i,/(polaris|lynx|dillo|icab|doris|amaya|w3m|netsurf|sleipnir|obigo|mosaic|(?:go|ice|up)[\. ]?browser)[-\/ ]?v?([\w\.]+)/i,/(links) \(([\w\.]+)/i],[h,m]],cpu:[[/(?:(amd|x(?:(?:86|64)[-_])?|wow|win)64)[;\)]/i],[[y,"amd64"]],[/(ia32(?=;))/i],[[y,K]],[/((?:i[346]|x)86)[;\)]/i],[[y,"ia32"]],[/\b(aarch64|arm(v?8e?l?|_?64))\b/i],[[y,"arm64"]],[/\b(arm(?:v[67])?ht?n?[fl]p?)\b/i],[[y,"armhf"]],[/windows (ce|mobile); ppc;/i],[[y,"arm"]],[/((?:ppc|powerpc)(?:64)?)(?: mac|;|\))/i],[[y,/ower/,o,K]],[/(sun4\w)[;\)]/i],[[y,"sparc"]],[/((?:avr32|ia64(?=;))|68k(?=\))|\barm(?=v(?:[1-7]|[5-7]1)l?|;|eabi)|(?=atmel )avr|(?:irix|mips|sparc)(?:64)?\b|pa-risc)/i],[[y,K]]],device:[[/\b(sch-i[89]0\d|shw-m380s|sm-[pt]\w{2,4}|gt-[pn]\d{2,4}|sgh-t8[56]9|nexus 10)/i],[f,[v,U],[p,b]],[/\b((?:s[cgp]h|gt|sm)-\w+|galaxy nexus)/i,/samsung[- ]([-\w]+)/i,/sec-(sgh\w+)/i],[f,[v,U],[p,_]],[/((ipod|iphone)\d+,\d+)/i],[f,[v,C],[p,_]],[/(ipad\d+,\d+)/i],[f,[v,C],[p,b]],[/\((ip(?:hone|od)[\w ]*);/i],[f,[v,C],[p,_]],[/\((ipad);[-\w\),; ]+apple/i,/applecoremedia\/[\w\.]+ \((ipad)/i,/\b(ipad)\d\d?,\d\d?[;\]].+ios/i],[f,[v,C],[p,b]],[/\b((?:ag[rs][23]?|bah2?|sht?|btv)-a?[lw]\d{2})\b(?!.+d\/s)/i],[f,[v,A],[p,b]],[/(?:huawei|honor)([-\w ]+)[;\)]/i,/\b(nexus 6p|\w{2,4}e?-[atu]?[ln][\dx][012359c][adn]?)\b(?!.+d\/s)/i],[f,[v,A],[p,_]],[/\b(poco[\w ]+)(?: bui|\))/i,/\b; (\w+) build\/hm\1/i,/\b(hm[-_ ]?note?[_ ]?(?:\d\w)?) bui/i,/\b(redmi[\-_ ]?(?:note|k)?[\w_ ]+)(?: bui|\))/i,/\b(mi[-_ ]?(?:a\d|one|one[_ ]plus|note lte|max|cc)?[_ ]?(?:\d?\w?)[_ ]?(?:plus|se|lite)?)(?: bui|\))/i],[[f,/_/g," "],[v,z],[p,_]],[/\b(mi[-_ ]?(?:pad)(?:[\w_ ]+))(?: bui|\))/i],[[f,/_/g," "],[v,z],[p,b]],[/; (\w+) bui.+ oppo/i,/\b(cph[12]\d{3}|p(?:af|c[al]|d\w|e[ar])[mt]\d0|x9007|a101op)\b/i],[f,[v,"OPPO"],[p,_]],[/vivo (\w+)(?: bui|\))/i,/\b(v[12]\d{3}\w?[at])(?: bui|;)/i],[f,[v,"Vivo"],[p,_]],[/\b(rmx[12]\d{3})(?: bui|;|\))/i],[f,[v,"Realme"],[p,_]],[/\b(milestone|droid(?:[2-4x]| (?:bionic|x2|pro|razr))?:?( 4g)?)\b[\w ]+build\//i,/\bmot(?:orola)?[- ](\w*)/i,/((?:moto[\w\(\) ]+|xt\d{3,4}|nexus 6)(?= bui|\)))/i],[f,[v,M],[p,_]],[/\b(mz60\d|xoom[2 ]{0,2}) build\//i],[f,[v,M],[p,b]],[/((?=lg)?[vl]k\-?\d{3}) bui| 3\.[-\w; ]{10}lg?-([06cv9]{3,4})/i],[f,[v,D],[p,b]],[/(lm(?:-?f100[nv]?|-[\w\.]+)(?= bui|\))|nexus [45])/i,/\blg[-e;\/ ]+((?!browser|netcast|android tv)\w+)/i,/\blg-?([\d\w]+) bui/i],[f,[v,D],[p,_]],[/(ideatab[-\w ]+)/i,/lenovo ?(s[56]000[-\w]+|tab(?:[\w ]+)|yt[-\d\w]{6}|tb[-\d\w]{6})/i],[f,[v,"Lenovo"],[p,b]],[/(?:maemo|nokia).*(n900|lumia \d+)/i,/nokia[-_ ]?([-\w\.]*)/i],[[f,/_/g," "],[v,"Nokia"],[p,_]],[/(pixel c)\b/i],[f,[v,R],[p,b]],[/droid.+; (pixel[\daxl ]{0,6})(?: bui|\))/i],[f,[v,R],[p,_]],[/droid.+ (a?\d[0-2]{2}so|[c-g]\d{4}|so[-gl]\w+|xq-a\w[4-7][12])(?= bui|\).+chrome\/(?![1-6]{0,1}\d\.))/i],[f,[v,j],[p,_]],[/sony tablet [ps]/i,/\b(?:sony)?sgp\w+(?: bui|\))/i],[[f,"Xperia Tablet"],[v,j],[p,b]],[/ (kb2005|in20[12]5|be20[12][59])\b/i,/(?:one)?(?:plus)? (a\d0\d\d)(?: b|\))/i],[f,[v,"OnePlus"],[p,_]],[/(alexa)webm/i,/(kf[a-z]{2}wi)( bui|\))/i,/(kf[a-z]+)( bui|\)).+silk\//i],[f,[v,S],[p,b]],[/((?:sd|kf)[0349hijorstuw]+)( bui|\)).+silk\//i],[[f,/(.+)/g,"Fire Phone $1"],[v,S],[p,_]],[/(playbook);[-\w\),; ]+(rim)/i],[f,v,[p,b]],[/\b((?:bb[a-f]|st[hv])100-\d)/i,/\(bb10; (\w+)/i],[f,[v,T],[p,_]],[/(?:\b|asus_)(transfo[prime ]{4,10} \w+|eeepc|slider \w+|nexus 7|padfone|p00[cj])/i],[f,[v,E],[p,b]],[/ (z[bes]6[027][012][km][ls]|zenfone \d\w?)\b/i],[f,[v,E],[p,_]],[/(nexus 9)/i],[f,[v,"HTC"],[p,b]],[/(htc)[-;_ ]{1,2}([\w ]+(?=\)| bui)|\w+)/i,/(zte)[- ]([\w ]+?)(?: bui|\/|\))/i,/(alcatel|geeksphone|nexian|panasonic|sony(?!-bra))[-_ ]?([-\w]*)/i],[v,[f,/_/g," "],[p,_]],[/droid.+; ([ab][1-7]-?[0178a]\d\d?)/i],[f,[v,"Acer"],[p,b]],[/droid.+; (m[1-5] note) bui/i,/\bmz-([-\w]{2,})/i],[f,[v,"Meizu"],[p,_]],[/\b(sh-?[altvz]?\d\d[a-ekm]?)/i],[f,[v,"Sharp"],[p,_]],[/(blackberry|benq|palm(?=\-)|sonyericsson|acer|asus|dell|meizu|motorola|polytron)[-_ ]?([-\w]*)/i,/(hp) ([\w ]+\w)/i,/(asus)-?(\w+)/i,/(microsoft); (lumia[\w ]+)/i,/(lenovo)[-_ ]?([-\w]+)/i,/(jolla)/i,/(oppo) ?([\w ]+) bui/i],[v,f,[p,_]],[/(archos) (gamepad2?)/i,/(hp).+(touchpad(?!.+tablet)|tablet)/i,/(kindle)\/([\w\.]+)/i,/(nook)[\w ]+build\/(\w+)/i,/(dell) (strea[kpr\d ]*[\dko])/i,/(le[- ]+pan)[- ]+(\w{1,9}) bui/i,/(trinity)[- ]*(t\d{3}) bui/i,/(gigaset)[- ]+(q\w{1,9}) bui/i,/(vodafone) ([\w ]+)(?:\)| bui)/i],[v,f,[p,b]],[/(surface duo)/i],[f,[v,L],[p,b]],[/droid [\d\.]+; (fp\du?)(?: b|\))/i],[f,[v,"Fairphone"],[p,_]],[/(u304aa)/i],[f,[v,"AT&T"],[p,_]],[/\bsie-(\w*)/i],[f,[v,"Siemens"],[p,_]],[/\b(rct\w+) b/i],[f,[v,"RCA"],[p,b]],[/\b(venue[\d ]{2,7}) b/i],[f,[v,"Dell"],[p,b]],[/\b(q(?:mv|ta)\w+) b/i],[f,[v,"Verizon"],[p,b]],[/\b(?:barnes[& ]+noble |bn[rt])([\w\+ ]*) b/i],[f,[v,"Barnes & Noble"],[p,b]],[/\b(tm\d{3}\w+) b/i],[f,[v,"NuVision"],[p,b]],[/\b(k88) b/i],[f,[v,"ZTE"],[p,b]],[/\b(nx\d{3}j) b/i],[f,[v,"ZTE"],[p,_]],[/\b(gen\d{3}) b.+49h/i],[f,[v,"Swiss"],[p,_]],[/\b(zur\d{3}) b/i],[f,[v,"Swiss"],[p,b]],[/\b((zeki)?tb.*\b) b/i],[f,[v,"Zeki"],[p,b]],[/\b([yr]\d{2}) b/i,/\b(dragon[- ]+touch |dt)(\w{5}) b/i],[[v,"Dragon Touch"],f,[p,b]],[/\b(ns-?\w{0,9}) b/i],[f,[v,"Insignia"],[p,b]],[/\b((nxa|next)-?\w{0,9}) b/i],[f,[v,"NextBook"],[p,b]],[/\b(xtreme\_)?(v(1[045]|2[015]|[3469]0|7[05])) b/i],[[v,"Voice"],f,[p,_]],[/\b(lvtel\-)?(v1[12]) b/i],[[v,"LvTel"],f,[p,_]],[/\b(ph-1) /i],[f,[v,"Essential"],[p,_]],[/\b(v(100md|700na|7011|917g).*\b) b/i],[f,[v,"Envizen"],[p,b]],[/\b(trio[-\w\. ]+) b/i],[f,[v,"MachSpeed"],[p,b]],[/\btu_(1491) b/i],[f,[v,"Rotor"],[p,b]],[/(shield[\w ]+) b/i],[f,[v,"Nvidia"],[p,b]],[/(sprint) (\w+)/i],[v,f,[p,_]],[/(kin\.[onetw]{3})/i],[[f,/\./g," "],[v,L],[p,_]],[/droid.+; (cc6666?|et5[16]|mc[239][23]x?|vc8[03]x?)\)/i],[f,[v,q],[p,b]],[/droid.+; (ec30|ps20|tc[2-8]\d[kx])\)/i],[f,[v,q],[p,_]],[/(ouya)/i,/(nintendo) ([wids3utch]+)/i],[v,f,[p,g]],[/droid.+; (shield) bui/i],[f,[v,"Nvidia"],[p,g]],[/(playstation [345portablevi]+)/i],[f,[v,j],[p,g]],[/\b(xbox(?: one)?(?!; xbox))[\); ]/i],[f,[v,L],[p,g]],[/smart-tv.+(samsung)/i],[v,[p,k]],[/hbbtv.+maple;(\d+)/i],[[f,/^/,"SmartTV"],[v,U],[p,k]],[/(nux; netcast.+smarttv|lg (netcast\.tv-201\d|android tv))/i],[[v,D],[p,k]],[/(apple) ?tv/i],[v,[f,C+" TV"],[p,k]],[/crkey/i],[[f,P+"cast"],[v,R],[p,k]],[/droid.+aft(\w)( bui|\))/i],[f,[v,S],[p,k]],[/\(dtv[\);].+(aquos)/i],[f,[v,"Sharp"],[p,k]],[/(bravia[\w- ]+) bui/i],[f,[v,j],[p,k]],[/\b(roku)[\dx]*[\)\/]((?:dvp-)?[\d\.]*)/i,/hbbtv\/\d+\.\d+\.\d+ +\([\w ]*; *(\w[^;]*);([^;]*)/i],[[v,$],[f,$],[p,k]],[/\b(android tv|smart[- ]?tv|opera tv|tv; rv:)\b/i],[[p,k]],[/((pebble))app/i],[v,f,[p,w]],[/droid.+; (glass) \d/i],[f,[v,R],[p,w]],[/droid.+; (wt63?0{2,3})\)/i],[f,[v,q],[p,w]],[/(quest( 2)?)/i],[f,[v,W],[p,w]],[/(tesla)(?: qtcarbrowser|\/[-\w\.]+)/i],[v,[p,I]],[/droid .+?; ([^;]+?)(?: bui|\) applew).+? mobile safari/i],[f,[p,_]],[/droid .+?; ([^;]+?)(?: bui|\) applew).+?(?! mobile) safari/i],[f,[p,b]],[/\b((tablet|tab)[;\/]|focus\/\d(?!.+mobile))/i],[[p,b]],[/(phone|mobile(?:[;\/]| safari)|pda(?=.+windows ce))/i],[[p,_]],[/(android[-\w\. ]{0,9});.+buil/i],[f,[v,"Generic"]]],engine:[[/windows.+ edge\/([\w\.]+)/i],[m,[h,"EdgeHTML"]],[/webkit\/537\.36.+chrome\/(?!27)([\w\.]+)/i],[m,[h,"Blink"]],[/(presto)\/([\w\.]+)/i,/(webkit|trident|netfront|netsurf|amaya|lynx|w3m|goanna)\/([\w\.]+)/i,/ekioh(flow)\/([\w\.]+)/i,/(khtml|tasman|links)[\/ ]\(?([\w\.]+)/i,/(icab)[\/ ]([23]\.[\d\.]+)/i],[h,m],[/rv\:([\w\.]{1,9})\b.+(gecko)/i],[m,h]],os:[[/microsoft (windows) (vista|xp)/i],[h,m],[/(windows) nt 6\.2; (arm)/i,/(windows (?:phone(?: os)?|mobile))[\/ ]?([\d\.\w ]*)/i,/(windows)[\/ ]?([ntce\d\. ]+\w)(?!.+xbox)/i],[h,[m,Q,J]],[/(win(?=3|9|n)|win 9x )([nt\d\.]+)/i],[[h,"Windows"],[m,Q,J]],[/ip[honead]{2,4}\b(?:.*os ([\w]+) like mac|; opera)/i,/cfnetwork\/.+darwin/i],[[m,/_/g,"."],[h,"iOS"]],[/(mac os x) ?([\w\. ]*)/i,/(macintosh|mac_powerpc\b)(?!.+haiku)/i],[[h,"Mac OS"],[m,/_/g,"."]],[/droid ([\w\.]+)\b.+(android[- ]x86)/i],[m,h],[/(android|webos|qnx|bada|rim tablet os|maemo|meego|sailfish)[-\/ ]?([\w\.]*)/i,/(blackberry)\w*\/([\w\.]*)/i,/(tizen|kaios)[\/ ]([\w\.]+)/i,/\((series40);/i],[h,m],[/\(bb(10);/i],[m,[h,T]],[/(?:symbian ?os|symbos|s60(?=;)|series60)[-\/ ]?([\w\.]*)/i],[m,[h,"Symbian"]],[/mozilla\/[\d\.]+ \((?:mobile|tablet|tv|mobile; [\w ]+); rv:.+ gecko\/([\w\.]+)/i],[m,[h,O+" OS"]],[/web0s;.+rt(tv)/i,/\b(?:hp)?wos(?:browser)?\/([\w\.]+)/i],[m,[h,"webOS"]],[/crkey\/([\d\.]+)/i],[m,[h,P+"cast"]],[/(cros) [\w]+ ([\w\.]+\w)/i],[[h,"Chromium OS"],m],[/(nintendo|playstation) ([wids345portablevuch]+)/i,/(xbox); +xbox ([^\);]+)/i,/\b(joli|palm)\b ?(?:os)?\/?([\w\.]*)/i,/(mint)[\/\(\) ]?(\w*)/i,/(mageia|vectorlinux)[; ]/i,/([kxln]?ubuntu|debian|suse|opensuse|gentoo|arch(?= linux)|slackware|fedora|mandriva|centos|pclinuxos|red ?hat|zenwalk|linpus|raspbian|plan 9|minix|risc os|contiki|deepin|manjaro|elementary os|sabayon|linspire)(?: gnu\/linux)?(?: enterprise)?(?:[- ]linux)?(?:-gnu)?[-\/ ]?(?!chrom|package)([-\w\.]*)/i,/(hurd|linux) ?([\w\.]*)/i,/(gnu) ?([\w\.]*)/i,/\b([-frentopcghs]{0,5}bsd|dragonfly)[\/ ]?(?!amd|[ix346]{1,2}86)([\w\.]*)/i,/(haiku) (\w+)/i],[h,m],[/(sunos) ?([\w\.\d]*)/i],[[h,"Solaris"],m],[/((?:open)?solaris)[-\/ ]?([\w\.]*)/i,/(aix) ((\d)(?=\.|\)| )[\w\.])*/i,/\b(beos|os\/2|amigaos|morphos|openvms|fuchsia|hp-ux)/i,/(unix) ?([\w\.]*)/i],[h,m]]},Z=function e(n,i){if(typeof n===l&&(i=n,n=r),!(this instanceof e))return new e(n,i).getResult();var a=n||(typeof t!==u&&t.navigator&&t.navigator.userAgent?t.navigator.userAgent:o),s=i?V(X,i):X;return this.getBrowser=function(){var e={};return e[h]=r,e[m]=r,Y.call(e,a,s.browser),e.major=G(e.version),e},this.getCPU=function(){var e={};return e[y]=r,Y.call(e,a,s.cpu),e},this.getDevice=function(){var e={};return e[v]=r,e[f]=r,e[p]=r,Y.call(e,a,s.device),e},this.getEngine=function(){var e={};return e[h]=r,e[m]=r,Y.call(e,a,s.engine),e},this.getOS=function(){var e={};return e[h]=r,e[m]=r,Y.call(e,a,s.os),e},this.getResult=function(){return{ua:this.getUA(),browser:this.getBrowser(),engine:this.getEngine(),os:this.getOS(),device:this.getDevice(),cpu:this.getCPU()}},this.getUA=function(){return a},this.setUA=function(e){return a=typeof e===c&&e.length>x?$(e,x):e,this},this.setUA(a),this};Z.VERSION=i,Z.BROWSER=B([h,m,d]),Z.CPU=B([y]),Z.DEVICE=B([f,v,p,g,_,k,b,w,I]),Z.ENGINE=Z.OS=B([h,m]),e.exports&&(n=e.exports=Z),n.UAParser=Z;var ee=typeof t!==u&&(t.jQuery||t.Zepto);if(ee&&!ee.ua){var te=new Z;ee.ua=te.getResult(),ee.ua.get=function(){return te.getUA()},ee.ua.set=function(e){te.setUA(e);var t=te.getResult();for(var n in t)ee.ua[n]=t[n]}}}("object"===typeof window?window:t)})),a=function(){function e(){this.ua=new o.UAParser("undefined"!==typeof navigator?navigator.userAgent:null).getResult()}return e.prototype.getApplicationContext=function(){return{versionName:this.versionName,language:l(),platform:"Web",os:s(this.ua),deviceModel:u(this.ua)}},e}(),s=function(e){var t,n;return[null===(t=e.browser)||void 0===t?void 0:t.name,null===(n=e.browser)||void 0===n?void 0:n.major].filter((function(e){return null!==e&&void 0!==e})).join(" ")},u=function(e){var t;return null===(t=e.os)||void 0===t?void 0:t.name},l=function(){return"undefined"!==typeof navigator&&(navigator.languages&&navigator.languages[0]||navigator.language)||""},c=function(){function e(){this.queue=[]}return e.prototype.logEvent=function(e){this.receiver?this.receiver(e):this.queue.length<512&&this.queue.push(e)},e.prototype.setEventReceiver=function(e){this.receiver=e,this.queue.length>0&&(this.queue.forEach((function(t){e(t)})),this.queue=[])},e}(),d=function(){return d=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var i in t=arguments[n])Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i]);return e},d.apply(this,arguments)},f="$set",h="$unset",p="$clearAll";Object.entries||(Object.entries=function(e){for(var t=Object.keys(e),n=t.length,r=new Array(n);n--;)r[n]=[t[n],e[t[n]]];return r});var v=function(){function e(){this.identity={userProperties:{}},this.listeners=new Set}return e.prototype.editIdentity=function(){var e=this,t=d({},this.identity.userProperties),n=d(d({},this.identity),{userProperties:t});return{setUserId:function(e){return n.userId=e,this},setDeviceId:function(e){return n.deviceId=e,this},setUserProperties:function(e){return n.userProperties=e,this},updateUserProperties:function(e){for(var t=n.userProperties||{},r=0,i=Object.entries(e);r<i.length;r++){var o=i[r],a=o[0],s=o[1];switch(a){case f:for(var u=0,l=Object.entries(s);u<l.length;u++){var c=l[u],d=c[0],v=c[1];t[d]=v}break;case h:for(var m=0,y=Object.keys(s);m<y.length;m++)delete t[d=y[m]];break;case p:t={}}}return n.userProperties=t,this},commit:function(){return e.setIdentity(n),this}}},e.prototype.getIdentity=function(){return d({},this.identity)},e.prototype.setIdentity=function(e){var t=d({},this.identity);this.identity=d({},e),m(t,this.identity)||this.listeners.forEach((function(t){t(e)}))},e.prototype.addIdentityListener=function(e){this.listeners.add(e)},e.prototype.removeIdentityListener=function(e){this.listeners.delete(e)},e}(),m=function e(t,n){var r=typeof t;if(r!==typeof n)return!1;for(var i=0,o=["string","number","boolean","undefined"];i<o.length;i++)if(o[i]===r)return t===n;if(t.length!==n.length)return!1;var a=Array.isArray(t),s=Array.isArray(n);if(a!==s)return!1;if(!a||!s){var u=Object.keys(t).sort(),l=Object.keys(n).sort();if(!e(u,l))return!1;var c=!0;return Object.keys(t).forEach((function(r){e(t[r],n[r])||(c=!1)})),c}for(var d=0;d<t.length;d++)if(!e(t[d],n[d]))return!1;return!0},y="undefined"!==typeof globalThis?globalThis:n.g||self,g=function(){function e(){this.identityStore=new v,this.eventBridge=new c,this.applicationContextProvider=new a}return e.getInstance=function(t){return y.analyticsConnectorInstances||(y.analyticsConnectorInstances={}),y.analyticsConnectorInstances[t]||(y.analyticsConnectorInstances[t]=new e),y.analyticsConnectorInstances[t]},e}();e.AnalyticsConnector=g,Object.defineProperty(e,"__esModule",{value:!0})}(t)},667:function(e,t,n){var r;!function(i,o){"use strict";var a="function",s="undefined",u="object",l="string",c="model",d="name",f="type",h="vendor",p="version",v="architecture",m="console",y="mobile",g="tablet",_="smarttv",b="wearable",k="embedded",w="Amazon",I="Apple",x="ASUS",S="BlackBerry",C="Firefox",E="Google",T="Huawei",N="LG",P="Microsoft",O="Motorola",R="Opera",A="Samsung",D="Sony",L="Xiaomi",M="Zebra",F="Facebook",U=function(e){for(var t={},n=0;n<e.length;n++)t[e[n].toUpperCase()]=e[n];return t},j=function(e,t){return typeof e===l&&-1!==z(t).indexOf(z(e))},z=function(e){return e.toLowerCase()},q=function(e,t){if(typeof e===l)return e=e.replace(/^\s\s*/,"").replace(/\s\s*$/,""),typeof t===s?e:e.substring(0,275)},W=function(e,t){for(var n,r,i,s,l,c,d=0;d<t.length&&!l;){var f=t[d],h=t[d+1];for(n=r=0;n<f.length&&!l;)if(l=f[n++].exec(e))for(i=0;i<h.length;i++)c=l[++r],typeof(s=h[i])===u&&s.length>0?2===s.length?typeof s[1]==a?this[s[0]]=s[1].call(this,c):this[s[0]]=s[1]:3===s.length?typeof s[1]!==a||s[1].exec&&s[1].test?this[s[0]]=c?c.replace(s[1],s[2]):o:this[s[0]]=c?s[1].call(this,c,s[2]):o:4===s.length&&(this[s[0]]=c?s[3].call(this,c.replace(s[1],s[2])):o):this[s]=c||o;d+=2}},V=function(e,t){for(var n in t)if(typeof t[n]===u&&t[n].length>0){for(var r=0;r<t[n].length;r++)if(j(t[n][r],e))return"?"===n?o:n}else if(j(t[n],e))return"?"===n?o:n;return e},B={ME:"4.90","NT 3.11":"NT3.51","NT 4.0":"NT4.0",2e3:"NT 5.0",XP:["NT 5.1","NT 5.2"],Vista:"NT 6.0",7:"NT 6.1",8:"NT 6.2",8.1:"NT 6.3",10:["NT 6.4","NT 10.0"],RT:"ARM"},H={browser:[[/\b(?:crmo|crios)\/([\w\.]+)/i],[p,[d,"Chrome"]],[/edg(?:e|ios|a)?\/([\w\.]+)/i],[p,[d,"Edge"]],[/(opera mini)\/([-\w\.]+)/i,/(opera [mobiletab]{3,6})\b.+version\/([-\w\.]+)/i,/(opera)(?:.+version\/|[\/ ]+)([\w\.]+)/i],[d,p],[/opios[\/ ]+([\w\.]+)/i],[p,[d,"Opera Mini"]],[/\bopr\/([\w\.]+)/i],[p,[d,R]],[/(kindle)\/([\w\.]+)/i,/(lunascape|maxthon|netfront|jasmine|blazer)[\/ ]?([\w\.]*)/i,/(avant |iemobile|slim)(?:browser)?[\/ ]?([\w\.]*)/i,/(ba?idubrowser)[\/ ]?([\w\.]+)/i,/(?:ms|\()(ie) ([\w\.]+)/i,/(flock|rockmelt|midori|epiphany|silk|skyfire|ovibrowser|bolt|iron|vivaldi|iridium|phantomjs|bowser|quark|qupzilla|falkon|rekonq|puffin|brave|whale|qqbrowserlite|qq)\/([-\w\.]+)/i,/(weibo)__([\d\.]+)/i],[d,p],[/(?:\buc? ?browser|(?:juc.+)ucweb)[\/ ]?([\w\.]+)/i],[p,[d,"UCBrowser"]],[/\bqbcore\/([\w\.]+)/i],[p,[d,"WeChat(Win) Desktop"]],[/micromessenger\/([\w\.]+)/i],[p,[d,"WeChat"]],[/konqueror\/([\w\.]+)/i],[p,[d,"Konqueror"]],[/trident.+rv[: ]([\w\.]{1,9})\b.+like gecko/i],[p,[d,"IE"]],[/yabrowser\/([\w\.]+)/i],[p,[d,"Yandex"]],[/(avast|avg)\/([\w\.]+)/i],[[d,/(.+)/,"$1 Secure Browser"],p],[/\bfocus\/([\w\.]+)/i],[p,[d,"Firefox Focus"]],[/\bopt\/([\w\.]+)/i],[p,[d,"Opera Touch"]],[/coc_coc\w+\/([\w\.]+)/i],[p,[d,"Coc Coc"]],[/dolfin\/([\w\.]+)/i],[p,[d,"Dolphin"]],[/coast\/([\w\.]+)/i],[p,[d,"Opera Coast"]],[/miuibrowser\/([\w\.]+)/i],[p,[d,"MIUI Browser"]],[/fxios\/([-\w\.]+)/i],[p,[d,C]],[/\bqihu|(qi?ho?o?|360)browser/i],[[d,"360 Browser"]],[/(oculus|samsung|sailfish)browser\/([\w\.]+)/i],[[d,/(.+)/,"$1 Browser"],p],[/(comodo_dragon)\/([\w\.]+)/i],[[d,/_/g," "],p],[/(electron)\/([\w\.]+) safari/i,/(tesla)(?: qtcarbrowser|\/(20\d\d\.[-\w\.]+))/i,/m?(qqbrowser|baiduboxapp|2345Explorer)[\/ ]?([\w\.]+)/i],[d,p],[/(metasr)[\/ ]?([\w\.]+)/i,/(lbbrowser)/i],[d],[/((?:fban\/fbios|fb_iab\/fb4a)(?!.+fbav)|;fbav\/([\w\.]+);)/i],[[d,F],p],[/safari (line)\/([\w\.]+)/i,/\b(line)\/([\w\.]+)\/iab/i,/(chromium|instagram)[\/ ]([-\w\.]+)/i],[d,p],[/\bgsa\/([\w\.]+) .*safari\//i],[p,[d,"GSA"]],[/headlesschrome(?:\/([\w\.]+)| )/i],[p,[d,"Chrome Headless"]],[/ wv\).+(chrome)\/([\w\.]+)/i],[[d,"Chrome WebView"],p],[/droid.+ version\/([\w\.]+)\b.+(?:mobile safari|safari)/i],[p,[d,"Android Browser"]],[/(chrome|omniweb|arora|[tizenoka]{5} ?browser)\/v?([\w\.]+)/i],[d,p],[/version\/([\w\.]+) .*mobile\/\w+ (safari)/i],[p,[d,"Mobile Safari"]],[/version\/([\w\.]+) .*(mobile ?safari|safari)/i],[p,d],[/webkit.+?(mobile ?safari|safari)(\/[\w\.]+)/i],[d,[p,V,{"1.0":"/8",1.2:"/1",1.3:"/3","2.0":"/412","2.0.2":"/416","2.0.3":"/417","2.0.4":"/419","?":"/"}]],[/(webkit|khtml)\/([\w\.]+)/i],[d,p],[/(navigator|netscape\d?)\/([-\w\.]+)/i],[[d,"Netscape"],p],[/mobile vr; rv:([\w\.]+)\).+firefox/i],[p,[d,"Firefox Reality"]],[/ekiohf.+(flow)\/([\w\.]+)/i,/(swiftfox)/i,/(icedragon|iceweasel|camino|chimera|fennec|maemo browser|minimo|conkeror|klar)[\/ ]?([\w\.\+]+)/i,/(seamonkey|k-meleon|icecat|iceape|firebird|phoenix|palemoon|basilisk|waterfox)\/([-\w\.]+)$/i,/(firefox)\/([\w\.]+)/i,/(mozilla)\/([\w\.]+) .+rv\:.+gecko\/\d+/i,/(polaris|lynx|dillo|icab|doris|amaya|w3m|netsurf|sleipnir|obigo|mosaic|(?:go|ice|up)[\. ]?browser)[-\/ ]?v?([\w\.]+)/i,/(links) \(([\w\.]+)/i],[d,p]],cpu:[[/(?:(amd|x(?:(?:86|64)[-_])?|wow|win)64)[;\)]/i],[[v,"amd64"]],[/(ia32(?=;))/i],[[v,z]],[/((?:i[346]|x)86)[;\)]/i],[[v,"ia32"]],[/\b(aarch64|arm(v?8e?l?|_?64))\b/i],[[v,"arm64"]],[/\b(arm(?:v[67])?ht?n?[fl]p?)\b/i],[[v,"armhf"]],[/windows (ce|mobile); ppc;/i],[[v,"arm"]],[/((?:ppc|powerpc)(?:64)?)(?: mac|;|\))/i],[[v,/ower/,"",z]],[/(sun4\w)[;\)]/i],[[v,"sparc"]],[/((?:avr32|ia64(?=;))|68k(?=\))|\barm(?=v(?:[1-7]|[5-7]1)l?|;|eabi)|(?=atmel )avr|(?:irix|mips|sparc)(?:64)?\b|pa-risc)/i],[[v,z]]],device:[[/\b(sch-i[89]0\d|shw-m380s|sm-[pt]\w{2,4}|gt-[pn]\d{2,4}|sgh-t8[56]9|nexus 10)/i],[c,[h,A],[f,g]],[/\b((?:s[cgp]h|gt|sm)-\w+|galaxy nexus)/i,/samsung[- ]([-\w]+)/i,/sec-(sgh\w+)/i],[c,[h,A],[f,y]],[/((ipod|iphone)\d+,\d+)/i],[c,[h,I],[f,y]],[/(ipad\d+,\d+)/i],[c,[h,I],[f,g]],[/\((ip(?:hone|od)[\w ]*);/i],[c,[h,I],[f,y]],[/\((ipad);[-\w\),; ]+apple/i,/applecoremedia\/[\w\.]+ \((ipad)/i,/\b(ipad)\d\d?,\d\d?[;\]].+ios/i],[c,[h,I],[f,g]],[/\b((?:ag[rs][23]?|bah2?|sht?|btv)-a?[lw]\d{2})\b(?!.+d\/s)/i],[c,[h,T],[f,g]],[/(?:huawei|honor)([-\w ]+)[;\)]/i,/\b(nexus 6p|\w{2,4}e?-[atu]?[ln][\dx][012359c][adn]?)\b(?!.+d\/s)/i],[c,[h,T],[f,y]],[/\b(poco[\w ]+)(?: bui|\))/i,/\b; (\w+) build\/hm\1/i,/\b(hm[-_ ]?note?[_ ]?(?:\d\w)?) bui/i,/\b(redmi[\-_ ]?(?:note|k)?[\w_ ]+)(?: bui|\))/i,/\b(mi[-_ ]?(?:a\d|one|one[_ ]plus|note lte|max|cc)?[_ ]?(?:\d?\w?)[_ ]?(?:plus|se|lite)?)(?: bui|\))/i],[[c,/_/g," "],[h,L],[f,y]],[/\b(mi[-_ ]?(?:pad)(?:[\w_ ]+))(?: bui|\))/i],[[c,/_/g," "],[h,L],[f,g]],[/; (\w+) bui.+ oppo/i,/\b(cph[12]\d{3}|p(?:af|c[al]|d\w|e[ar])[mt]\d0|x9007|a101op)\b/i],[c,[h,"OPPO"],[f,y]],[/vivo (\w+)(?: bui|\))/i,/\b(v[12]\d{3}\w?[at])(?: bui|;)/i],[c,[h,"Vivo"],[f,y]],[/\b(rmx[12]\d{3})(?: bui|;|\))/i],[c,[h,"Realme"],[f,y]],[/\b(milestone|droid(?:[2-4x]| (?:bionic|x2|pro|razr))?:?( 4g)?)\b[\w ]+build\//i,/\bmot(?:orola)?[- ](\w*)/i,/((?:moto[\w\(\) ]+|xt\d{3,4}|nexus 6)(?= bui|\)))/i],[c,[h,O],[f,y]],[/\b(mz60\d|xoom[2 ]{0,2}) build\//i],[c,[h,O],[f,g]],[/((?=lg)?[vl]k\-?\d{3}) bui| 3\.[-\w; ]{10}lg?-([06cv9]{3,4})/i],[c,[h,N],[f,g]],[/(lm(?:-?f100[nv]?|-[\w\.]+)(?= bui|\))|nexus [45])/i,/\blg[-e;\/ ]+((?!browser|netcast|android tv)\w+)/i,/\blg-?([\d\w]+) bui/i],[c,[h,N],[f,y]],[/(ideatab[-\w ]+)/i,/lenovo ?(s[56]000[-\w]+|tab(?:[\w ]+)|yt[-\d\w]{6}|tb[-\d\w]{6})/i],[c,[h,"Lenovo"],[f,g]],[/(?:maemo|nokia).*(n900|lumia \d+)/i,/nokia[-_ ]?([-\w\.]*)/i],[[c,/_/g," "],[h,"Nokia"],[f,y]],[/(pixel c)\b/i],[c,[h,E],[f,g]],[/droid.+; (pixel[\daxl ]{0,6})(?: bui|\))/i],[c,[h,E],[f,y]],[/droid.+ (a?\d[0-2]{2}so|[c-g]\d{4}|so[-gl]\w+|xq-a\w[4-7][12])(?= bui|\).+chrome\/(?![1-6]{0,1}\d\.))/i],[c,[h,D],[f,y]],[/sony tablet [ps]/i,/\b(?:sony)?sgp\w+(?: bui|\))/i],[[c,"Xperia Tablet"],[h,D],[f,g]],[/ (kb2005|in20[12]5|be20[12][59])\b/i,/(?:one)?(?:plus)? (a\d0\d\d)(?: b|\))/i],[c,[h,"OnePlus"],[f,y]],[/(alexa)webm/i,/(kf[a-z]{2}wi)( bui|\))/i,/(kf[a-z]+)( bui|\)).+silk\//i],[c,[h,w],[f,g]],[/((?:sd|kf)[0349hijorstuw]+)( bui|\)).+silk\//i],[[c,/(.+)/g,"Fire Phone $1"],[h,w],[f,y]],[/(playbook);[-\w\),; ]+(rim)/i],[c,h,[f,g]],[/\b((?:bb[a-f]|st[hv])100-\d)/i,/\(bb10; (\w+)/i],[c,[h,S],[f,y]],[/(?:\b|asus_)(transfo[prime ]{4,10} \w+|eeepc|slider \w+|nexus 7|padfone|p00[cj])/i],[c,[h,x],[f,g]],[/ (z[bes]6[027][012][km][ls]|zenfone \d\w?)\b/i],[c,[h,x],[f,y]],[/(nexus 9)/i],[c,[h,"HTC"],[f,g]],[/(htc)[-;_ ]{1,2}([\w ]+(?=\)| bui)|\w+)/i,/(zte)[- ]([\w ]+?)(?: bui|\/|\))/i,/(alcatel|geeksphone|nexian|panasonic|sony(?!-bra))[-_ ]?([-\w]*)/i],[h,[c,/_/g," "],[f,y]],[/droid.+; ([ab][1-7]-?[0178a]\d\d?)/i],[c,[h,"Acer"],[f,g]],[/droid.+; (m[1-5] note) bui/i,/\bmz-([-\w]{2,})/i],[c,[h,"Meizu"],[f,y]],[/\b(sh-?[altvz]?\d\d[a-ekm]?)/i],[c,[h,"Sharp"],[f,y]],[/(blackberry|benq|palm(?=\-)|sonyericsson|acer|asus|dell|meizu|motorola|polytron)[-_ ]?([-\w]*)/i,/(hp) ([\w ]+\w)/i,/(asus)-?(\w+)/i,/(microsoft); (lumia[\w ]+)/i,/(lenovo)[-_ ]?([-\w]+)/i,/(jolla)/i,/(oppo) ?([\w ]+) bui/i],[h,c,[f,y]],[/(archos) (gamepad2?)/i,/(hp).+(touchpad(?!.+tablet)|tablet)/i,/(kindle)\/([\w\.]+)/i,/(nook)[\w ]+build\/(\w+)/i,/(dell) (strea[kpr\d ]*[\dko])/i,/(le[- ]+pan)[- ]+(\w{1,9}) bui/i,/(trinity)[- ]*(t\d{3}) bui/i,/(gigaset)[- ]+(q\w{1,9}) bui/i,/(vodafone) ([\w ]+)(?:\)| bui)/i],[h,c,[f,g]],[/(surface duo)/i],[c,[h,P],[f,g]],[/droid [\d\.]+; (fp\du?)(?: b|\))/i],[c,[h,"Fairphone"],[f,y]],[/(u304aa)/i],[c,[h,"AT&T"],[f,y]],[/\bsie-(\w*)/i],[c,[h,"Siemens"],[f,y]],[/\b(rct\w+) b/i],[c,[h,"RCA"],[f,g]],[/\b(venue[\d ]{2,7}) b/i],[c,[h,"Dell"],[f,g]],[/\b(q(?:mv|ta)\w+) b/i],[c,[h,"Verizon"],[f,g]],[/\b(?:barnes[& ]+noble |bn[rt])([\w\+ ]*) b/i],[c,[h,"Barnes & Noble"],[f,g]],[/\b(tm\d{3}\w+) b/i],[c,[h,"NuVision"],[f,g]],[/\b(k88) b/i],[c,[h,"ZTE"],[f,g]],[/\b(nx\d{3}j) b/i],[c,[h,"ZTE"],[f,y]],[/\b(gen\d{3}) b.+49h/i],[c,[h,"Swiss"],[f,y]],[/\b(zur\d{3}) b/i],[c,[h,"Swiss"],[f,g]],[/\b((zeki)?tb.*\b) b/i],[c,[h,"Zeki"],[f,g]],[/\b([yr]\d{2}) b/i,/\b(dragon[- ]+touch |dt)(\w{5}) b/i],[[h,"Dragon Touch"],c,[f,g]],[/\b(ns-?\w{0,9}) b/i],[c,[h,"Insignia"],[f,g]],[/\b((nxa|next)-?\w{0,9}) b/i],[c,[h,"NextBook"],[f,g]],[/\b(xtreme\_)?(v(1[045]|2[015]|[3469]0|7[05])) b/i],[[h,"Voice"],c,[f,y]],[/\b(lvtel\-)?(v1[12]) b/i],[[h,"LvTel"],c,[f,y]],[/\b(ph-1) /i],[c,[h,"Essential"],[f,y]],[/\b(v(100md|700na|7011|917g).*\b) b/i],[c,[h,"Envizen"],[f,g]],[/\b(trio[-\w\. ]+) b/i],[c,[h,"MachSpeed"],[f,g]],[/\btu_(1491) b/i],[c,[h,"Rotor"],[f,g]],[/(shield[\w ]+) b/i],[c,[h,"Nvidia"],[f,g]],[/(sprint) (\w+)/i],[h,c,[f,y]],[/(kin\.[onetw]{3})/i],[[c,/\./g," "],[h,P],[f,y]],[/droid.+; (cc6666?|et5[16]|mc[239][23]x?|vc8[03]x?)\)/i],[c,[h,M],[f,g]],[/droid.+; (ec30|ps20|tc[2-8]\d[kx])\)/i],[c,[h,M],[f,y]],[/(ouya)/i,/(nintendo) ([wids3utch]+)/i],[h,c,[f,m]],[/droid.+; (shield) bui/i],[c,[h,"Nvidia"],[f,m]],[/(playstation [345portablevi]+)/i],[c,[h,D],[f,m]],[/\b(xbox(?: one)?(?!; xbox))[\); ]/i],[c,[h,P],[f,m]],[/smart-tv.+(samsung)/i],[h,[f,_]],[/hbbtv.+maple;(\d+)/i],[[c,/^/,"SmartTV"],[h,A],[f,_]],[/(nux; netcast.+smarttv|lg (netcast\.tv-201\d|android tv))/i],[[h,N],[f,_]],[/(apple) ?tv/i],[h,[c,"Apple TV"],[f,_]],[/crkey/i],[[c,"Chromecast"],[h,E],[f,_]],[/droid.+aft(\w)( bui|\))/i],[c,[h,w],[f,_]],[/\(dtv[\);].+(aquos)/i],[c,[h,"Sharp"],[f,_]],[/(bravia[\w- ]+) bui/i],[c,[h,D],[f,_]],[/\b(roku)[\dx]*[\)\/]((?:dvp-)?[\d\.]*)/i,/hbbtv\/\d+\.\d+\.\d+ +\([\w ]*; *(\w[^;]*);([^;]*)/i],[[h,q],[c,q],[f,_]],[/\b(android tv|smart[- ]?tv|opera tv|tv; rv:)\b/i],[[f,_]],[/((pebble))app/i],[h,c,[f,b]],[/droid.+; (glass) \d/i],[c,[h,E],[f,b]],[/droid.+; (wt63?0{2,3})\)/i],[c,[h,M],[f,b]],[/(quest( 2)?)/i],[c,[h,F],[f,b]],[/(tesla)(?: qtcarbrowser|\/[-\w\.]+)/i],[h,[f,k]],[/droid .+?; ([^;]+?)(?: bui|\) applew).+? mobile safari/i],[c,[f,y]],[/droid .+?; ([^;]+?)(?: bui|\) applew).+?(?! mobile) safari/i],[c,[f,g]],[/\b((tablet|tab)[;\/]|focus\/\d(?!.+mobile))/i],[[f,g]],[/(phone|mobile(?:[;\/]| safari)|pda(?=.+windows ce))/i],[[f,y]],[/(android[-\w\. ]{0,9});.+buil/i],[c,[h,"Generic"]]],engine:[[/windows.+ edge\/([\w\.]+)/i],[p,[d,"EdgeHTML"]],[/webkit\/537\.36.+chrome\/(?!27)([\w\.]+)/i],[p,[d,"Blink"]],[/(presto)\/([\w\.]+)/i,/(webkit|trident|netfront|netsurf|amaya|lynx|w3m|goanna)\/([\w\.]+)/i,/ekioh(flow)\/([\w\.]+)/i,/(khtml|tasman|links)[\/ ]\(?([\w\.]+)/i,/(icab)[\/ ]([23]\.[\d\.]+)/i],[d,p],[/rv\:([\w\.]{1,9})\b.+(gecko)/i],[p,d]],os:[[/microsoft (windows) (vista|xp)/i],[d,p],[/(windows) nt 6\.2; (arm)/i,/(windows (?:phone(?: os)?|mobile))[\/ ]?([\d\.\w ]*)/i,/(windows)[\/ ]?([ntce\d\. ]+\w)(?!.+xbox)/i],[d,[p,V,B]],[/(win(?=3|9|n)|win 9x )([nt\d\.]+)/i],[[d,"Windows"],[p,V,B]],[/ip[honead]{2,4}\b(?:.*os ([\w]+) like mac|; opera)/i,/cfnetwork\/.+darwin/i],[[p,/_/g,"."],[d,"iOS"]],[/(mac os x) ?([\w\. ]*)/i,/(macintosh|mac_powerpc\b)(?!.+haiku)/i],[[d,"Mac OS"],[p,/_/g,"."]],[/droid ([\w\.]+)\b.+(android[- ]x86)/i],[p,d],[/(android|webos|qnx|bada|rim tablet os|maemo|meego|sailfish)[-\/ ]?([\w\.]*)/i,/(blackberry)\w*\/([\w\.]*)/i,/(tizen|kaios)[\/ ]([\w\.]+)/i,/\((series40);/i],[d,p],[/\(bb(10);/i],[p,[d,S]],[/(?:symbian ?os|symbos|s60(?=;)|series60)[-\/ ]?([\w\.]*)/i],[p,[d,"Symbian"]],[/mozilla\/[\d\.]+ \((?:mobile|tablet|tv|mobile; [\w ]+); rv:.+ gecko\/([\w\.]+)/i],[p,[d,"Firefox OS"]],[/web0s;.+rt(tv)/i,/\b(?:hp)?wos(?:browser)?\/([\w\.]+)/i],[p,[d,"webOS"]],[/crkey\/([\d\.]+)/i],[p,[d,"Chromecast"]],[/(cros) [\w]+ ([\w\.]+\w)/i],[[d,"Chromium OS"],p],[/(nintendo|playstation) ([wids345portablevuch]+)/i,/(xbox); +xbox ([^\);]+)/i,/\b(joli|palm)\b ?(?:os)?\/?([\w\.]*)/i,/(mint)[\/\(\) ]?(\w*)/i,/(mageia|vectorlinux)[; ]/i,/([kxln]?ubuntu|debian|suse|opensuse|gentoo|arch(?= linux)|slackware|fedora|mandriva|centos|pclinuxos|red ?hat|zenwalk|linpus|raspbian|plan 9|minix|risc os|contiki|deepin|manjaro|elementary os|sabayon|linspire)(?: gnu\/linux)?(?: enterprise)?(?:[- ]linux)?(?:-gnu)?[-\/ ]?(?!chrom|package)([-\w\.]*)/i,/(hurd|linux) ?([\w\.]*)/i,/(gnu) ?([\w\.]*)/i,/\b([-frentopcghs]{0,5}bsd|dragonfly)[\/ ]?(?!amd|[ix346]{1,2}86)([\w\.]*)/i,/(haiku) (\w+)/i],[d,p],[/(sunos) ?([\w\.\d]*)/i],[[d,"Solaris"],p],[/((?:open)?solaris)[-\/ ]?([\w\.]*)/i,/(aix) ((\d)(?=\.|\)| )[\w\.])*/i,/\b(beos|os\/2|amigaos|morphos|openvms|fuchsia|hp-ux)/i,/(unix) ?([\w\.]*)/i],[d,p]]},K=function e(t,n){if(typeof t===u&&(n=t,t=o),!(this instanceof e))return new e(t,n).getResult();var r=t||(typeof i!==s&&i.navigator&&i.navigator.userAgent?i.navigator.userAgent:""),a=n?function(e,t){var n={};for(var r in e)t[r]&&t[r].length%2===0?n[r]=t[r].concat(e[r]):n[r]=e[r];return n}(H,n):H;return this.getBrowser=function(){var e,t={};return t.name=o,t.version=o,W.call(t,r,a.browser),t.major=typeof(e=t.version)===l?e.replace(/[^\d\.]/g,"").split(".")[0]:o,t},this.getCPU=function(){var e={};return e.architecture=o,W.call(e,r,a.cpu),e},this.getDevice=function(){var e={};return e.vendor=o,e.model=o,e.type=o,W.call(e,r,a.device),e},this.getEngine=function(){var e={};return e.name=o,e.version=o,W.call(e,r,a.engine),e},this.getOS=function(){var e={};return e.name=o,e.version=o,W.call(e,r,a.os),e},this.getResult=function(){return{ua:this.getUA(),browser:this.getBrowser(),engine:this.getEngine(),os:this.getOS(),device:this.getDevice(),cpu:this.getCPU()}},this.getUA=function(){return r},this.setUA=function(e){return r=typeof e===l&&e.length>275?q(e,275):e,this},this.setUA(r),this};K.VERSION="0.7.31",K.BROWSER=U([d,p,"major"]),K.CPU=U([v]),K.DEVICE=U([c,h,f,m,y,_,g,b,k]),K.ENGINE=K.OS=U([d,p]),typeof t!==s?(e.exports&&(t=e.exports=K),t.UAParser=K):n.amdO?(r=function(){return K}.call(t,n,t,e))===o||(e.exports=r):typeof i!==s&&(i.UAParser=K);var G=typeof i!==s&&(i.jQuery||i.Zepto);if(G&&!G.ua){var $=new K;G.ua=$.getResult(),G.ua.get=function(){return $.getUA()},G.ua.set=function(e){$.setUA(e);var t=$.getResult();for(var n in t)G.ua[n]=t[n]}}}("object"===typeof window?window:this)},450:function(e,t,n){var r;!function(i){"use strict";function o(e,t){var n=(65535&e)+(65535&t);return(e>>16)+(t>>16)+(n>>16)<<16|65535&n}function a(e,t,n,r,i,a){return o((s=o(o(t,e),o(r,a)))<<(u=i)|s>>>32-u,n);var s,u}function s(e,t,n,r,i,o,s){return a(t&n|~t&r,e,t,i,o,s)}function u(e,t,n,r,i,o,s){return a(t&r|n&~r,e,t,i,o,s)}function l(e,t,n,r,i,o,s){return a(t^n^r,e,t,i,o,s)}function c(e,t,n,r,i,o,s){return a(n^(t|~r),e,t,i,o,s)}function d(e,t){var n,r,i,a,d;e[t>>5]|=128<<t%32,e[14+(t+64>>>9<<4)]=t;var f=1732584193,h=-271733879,p=-1732584194,v=271733878;for(n=0;n<e.length;n+=16)r=f,i=h,a=p,d=v,f=s(f,h,p,v,e[n],7,-680876936),v=s(v,f,h,p,e[n+1],12,-389564586),p=s(p,v,f,h,e[n+2],17,606105819),h=s(h,p,v,f,e[n+3],22,-1044525330),f=s(f,h,p,v,e[n+4],7,-176418897),v=s(v,f,h,p,e[n+5],12,1200080426),p=s(p,v,f,h,e[n+6],17,-1473231341),h=s(h,p,v,f,e[n+7],22,-45705983),f=s(f,h,p,v,e[n+8],7,1770035416),v=s(v,f,h,p,e[n+9],12,-1958414417),p=s(p,v,f,h,e[n+10],17,-42063),h=s(h,p,v,f,e[n+11],22,-1990404162),f=s(f,h,p,v,e[n+12],7,1804603682),v=s(v,f,h,p,e[n+13],12,-40341101),p=s(p,v,f,h,e[n+14],17,-1502002290),f=u(f,h=s(h,p,v,f,e[n+15],22,1236535329),p,v,e[n+1],5,-165796510),v=u(v,f,h,p,e[n+6],9,-1069501632),p=u(p,v,f,h,e[n+11],14,643717713),h=u(h,p,v,f,e[n],20,-373897302),f=u(f,h,p,v,e[n+5],5,-701558691),v=u(v,f,h,p,e[n+10],9,38016083),p=u(p,v,f,h,e[n+15],14,-660478335),h=u(h,p,v,f,e[n+4],20,-405537848),f=u(f,h,p,v,e[n+9],5,568446438),v=u(v,f,h,p,e[n+14],9,-1019803690),p=u(p,v,f,h,e[n+3],14,-187363961),h=u(h,p,v,f,e[n+8],20,1163531501),f=u(f,h,p,v,e[n+13],5,-1444681467),v=u(v,f,h,p,e[n+2],9,-51403784),p=u(p,v,f,h,e[n+7],14,1735328473),f=l(f,h=u(h,p,v,f,e[n+12],20,-1926607734),p,v,e[n+5],4,-378558),v=l(v,f,h,p,e[n+8],11,-2022574463),p=l(p,v,f,h,e[n+11],16,1839030562),h=l(h,p,v,f,e[n+14],23,-35309556),f=l(f,h,p,v,e[n+1],4,-1530992060),v=l(v,f,h,p,e[n+4],11,1272893353),p=l(p,v,f,h,e[n+7],16,-155497632),h=l(h,p,v,f,e[n+10],23,-1094730640),f=l(f,h,p,v,e[n+13],4,681279174),v=l(v,f,h,p,e[n],11,-358537222),p=l(p,v,f,h,e[n+3],16,-722521979),h=l(h,p,v,f,e[n+6],23,76029189),f=l(f,h,p,v,e[n+9],4,-640364487),v=l(v,f,h,p,e[n+12],11,-421815835),p=l(p,v,f,h,e[n+15],16,530742520),f=c(f,h=l(h,p,v,f,e[n+2],23,-995338651),p,v,e[n],6,-198630844),v=c(v,f,h,p,e[n+7],10,1126891415),p=c(p,v,f,h,e[n+14],15,-1416354905),h=c(h,p,v,f,e[n+5],21,-57434055),f=c(f,h,p,v,e[n+12],6,1700485571),v=c(v,f,h,p,e[n+3],10,-1894986606),p=c(p,v,f,h,e[n+10],15,-1051523),h=c(h,p,v,f,e[n+1],21,-2054922799),f=c(f,h,p,v,e[n+8],6,1873313359),v=c(v,f,h,p,e[n+15],10,-30611744),p=c(p,v,f,h,e[n+6],15,-1560198380),h=c(h,p,v,f,e[n+13],21,1309151649),f=c(f,h,p,v,e[n+4],6,-145523070),v=c(v,f,h,p,e[n+11],10,-1120210379),p=c(p,v,f,h,e[n+2],15,718787259),h=c(h,p,v,f,e[n+9],21,-343485551),f=o(f,r),h=o(h,i),p=o(p,a),v=o(v,d);return[f,h,p,v]}function f(e){var t,n="",r=32*e.length;for(t=0;t<r;t+=8)n+=String.fromCharCode(e[t>>5]>>>t%32&255);return n}function h(e){var t,n=[];for(n[(e.length>>2)-1]=void 0,t=0;t<n.length;t+=1)n[t]=0;var r=8*e.length;for(t=0;t<r;t+=8)n[t>>5]|=(255&e.charCodeAt(t/8))<<t%32;return n}function p(e){var t,n,r="0123456789abcdef",i="";for(n=0;n<e.length;n+=1)t=e.charCodeAt(n),i+=r.charAt(t>>>4&15)+r.charAt(15&t);return i}function v(e){return unescape(encodeURIComponent(e))}function m(e){return function(e){return f(d(h(e),8*e.length))}(v(e))}function y(e,t){return function(e,t){var n,r,i=h(e),o=[],a=[];for(o[15]=a[15]=void 0,i.length>16&&(i=d(i,8*e.length)),n=0;n<16;n+=1)o[n]=909522486^i[n],a[n]=1549556828^i[n];return r=d(o.concat(h(t)),512+8*t.length),f(d(a.concat(r),640))}(v(e),v(t))}function g(e,t,n){return t?n?y(t,e):p(y(t,e)):n?m(e):p(m(e))}void 0===(r=function(){return g}.call(t,n,t,e))||(e.exports=r)}()},412:function(e){"use strict";var t="%[a-f0-9]{2}",n=new RegExp(t,"gi"),r=new RegExp("("+t+")+","gi");function i(e,t){try{return decodeURIComponent(e.join(""))}catch(o){}if(1===e.length)return e;t=t||1;var n=e.slice(0,t),r=e.slice(t);return Array.prototype.concat.call([],i(n),i(r))}function o(e){try{return decodeURIComponent(e)}catch(o){for(var t=e.match(n),r=1;r<t.length;r++)t=(e=i(t,r).join("")).match(n);return e}}e.exports=function(e){if("string"!==typeof e)throw new TypeError("Expected `encodedURI` to be of type `string`, got `"+typeof e+"`");try{return e=e.replace(/\+/g," "),decodeURIComponent(e)}catch(t){return function(e){for(var n={"%FE%FF":"\ufffd\ufffd","%FF%FE":"\ufffd\ufffd"},i=r.exec(e);i;){try{n[i[0]]=decodeURIComponent(i[0])}catch(t){var a=o(i[0]);a!==i[0]&&(n[i[0]]=a)}i=r.exec(e)}n["%C2"]="\ufffd";for(var s=Object.keys(n),u=0;u<s.length;u++){var l=s[u];e=e.replace(new RegExp(l,"g"),n[l])}return e}(e)}}},725:function(e){"use strict";var t=Object.getOwnPropertySymbols,n=Object.prototype.hasOwnProperty,r=Object.prototype.propertyIsEnumerable;function i(e){if(null===e||void 0===e)throw new TypeError("Object.assign cannot be called with null or undefined");return Object(e)}e.exports=function(){try{if(!Object.assign)return!1;var e=new String("abc");if(e[5]="de","5"===Object.getOwnPropertyNames(e)[0])return!1;for(var t={},n=0;n<10;n++)t["_"+String.fromCharCode(n)]=n;if("0123456789"!==Object.getOwnPropertyNames(t).map((function(e){return t[e]})).join(""))return!1;var r={};return"abcdefghijklmnopqrst".split("").forEach((function(e){r[e]=e})),"abcdefghijklmnopqrst"===Object.keys(Object.assign({},r)).join("")}catch(i){return!1}}()?Object.assign:function(e,o){for(var a,s,u=i(e),l=1;l<arguments.length;l++){for(var c in a=Object(arguments[l]))n.call(a,c)&&(u[c]=a[c]);if(t){s=t(a);for(var d=0;d<s.length;d++)r.call(a,s[d])&&(u[s[d]]=a[s[d]])}}return u}},245:function(e,t,n){"use strict";var r=n(499),i=n(725),o=n(412);function a(e,t){return t.encode?t.strict?r(e):encodeURIComponent(e):e}function s(e){return Array.isArray(e)?e.sort():"object"===typeof e?s(Object.keys(e)).sort((function(e,t){return Number(e)-Number(t)})).map((function(t){return e[t]})):e}function u(e){var t=e.indexOf("?");return-1===t?"":e.slice(t+1)}function l(e,t){var n=function(e){var t;switch(e.arrayFormat){case"index":return function(e,n,r){t=/\[(\d*)\]$/.exec(e),e=e.replace(/\[\d*\]$/,""),t?(void 0===r[e]&&(r[e]={}),r[e][t[1]]=n):r[e]=n};case"bracket":return function(e,n,r){t=/(\[\])$/.exec(e),e=e.replace(/\[\]$/,""),t?void 0!==r[e]?r[e]=[].concat(r[e],n):r[e]=[n]:r[e]=n};default:return function(e,t,n){void 0!==n[e]?n[e]=[].concat(n[e],t):n[e]=t}}}(t=i({arrayFormat:"none"},t)),r=Object.create(null);return"string"!==typeof e?r:(e=e.trim().replace(/^[?#&]/,""))?(e.split("&").forEach((function(e){var t=e.replace(/\+/g," ").split("="),i=t.shift(),a=t.length>0?t.join("="):void 0;a=void 0===a?null:o(a),n(o(i),a,r)})),Object.keys(r).sort().reduce((function(e,t){var n=r[t];return Boolean(n)&&"object"===typeof n&&!Array.isArray(n)?e[t]=s(n):e[t]=n,e}),Object.create(null))):r}t.extract=u,t.parse=l,t.stringify=function(e,t){!1===(t=i({encode:!0,strict:!0,arrayFormat:"none"},t)).sort&&(t.sort=function(){});var n=function(e){switch(e.arrayFormat){case"index":return function(t,n,r){return null===n?[a(t,e),"[",r,"]"].join(""):[a(t,e),"[",a(r,e),"]=",a(n,e)].join("")};case"bracket":return function(t,n){return null===n?a(t,e):[a(t,e),"[]=",a(n,e)].join("")};default:return function(t,n){return null===n?a(t,e):[a(t,e),"=",a(n,e)].join("")}}}(t);return e?Object.keys(e).sort(t.sort).map((function(r){var i=e[r];if(void 0===i)return"";if(null===i)return a(r,t);if(Array.isArray(i)){var o=[];return i.slice().forEach((function(e){void 0!==e&&o.push(n(r,e,o.length))})),o.join("&")}return a(r,t)+"="+a(i,t)})).filter((function(e){return e.length>0})).join("&"):""},t.parseUrl=function(e,t){return{url:e.split("?")[0]||"",query:l(u(e),t)}}},463:function(e,t,n){"use strict";var r=n(791),i=n(296);function o(e){for(var t="https://reactjs.org/docs/error-decoder.html?invariant="+e,n=1;n<arguments.length;n++)t+="&args[]="+encodeURIComponent(arguments[n]);return"Minified React error #"+e+"; visit "+t+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var a=new Set,s={};function u(e,t){l(e,t),l(e+"Capture",t)}function l(e,t){for(s[e]=t,e=0;e<t.length;e++)a.add(t[e])}var c=!("undefined"===typeof window||"undefined"===typeof window.document||"undefined"===typeof window.document.createElement),d=Object.prototype.hasOwnProperty,f=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,h={},p={};function v(e,t,n,r,i,o,a){this.acceptsBooleans=2===t||3===t||4===t,this.attributeName=r,this.attributeNamespace=i,this.mustUseProperty=n,this.propertyName=e,this.type=t,this.sanitizeURL=o,this.removeEmptyString=a}var m={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach((function(e){m[e]=new v(e,0,!1,e,null,!1,!1)})),[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach((function(e){var t=e[0];m[t]=new v(t,1,!1,e[1],null,!1,!1)})),["contentEditable","draggable","spellCheck","value"].forEach((function(e){m[e]=new v(e,2,!1,e.toLowerCase(),null,!1,!1)})),["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach((function(e){m[e]=new v(e,2,!1,e,null,!1,!1)})),"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach((function(e){m[e]=new v(e,3,!1,e.toLowerCase(),null,!1,!1)})),["checked","multiple","muted","selected"].forEach((function(e){m[e]=new v(e,3,!0,e,null,!1,!1)})),["capture","download"].forEach((function(e){m[e]=new v(e,4,!1,e,null,!1,!1)})),["cols","rows","size","span"].forEach((function(e){m[e]=new v(e,6,!1,e,null,!1,!1)})),["rowSpan","start"].forEach((function(e){m[e]=new v(e,5,!1,e.toLowerCase(),null,!1,!1)}));var y=/[\-:]([a-z])/g;function g(e){return e[1].toUpperCase()}function _(e,t,n,r){var i=m.hasOwnProperty(t)?m[t]:null;(null!==i?0!==i.type:r||!(2<t.length)||"o"!==t[0]&&"O"!==t[0]||"n"!==t[1]&&"N"!==t[1])&&(function(e,t,n,r){if(null===t||"undefined"===typeof t||function(e,t,n,r){if(null!==n&&0===n.type)return!1;switch(typeof t){case"function":case"symbol":return!0;case"boolean":return!r&&(null!==n?!n.acceptsBooleans:"data-"!==(e=e.toLowerCase().slice(0,5))&&"aria-"!==e);default:return!1}}(e,t,n,r))return!0;if(r)return!1;if(null!==n)switch(n.type){case 3:return!t;case 4:return!1===t;case 5:return isNaN(t);case 6:return isNaN(t)||1>t}return!1}(t,n,i,r)&&(n=null),r||null===i?function(e){return!!d.call(p,e)||!d.call(h,e)&&(f.test(e)?p[e]=!0:(h[e]=!0,!1))}(t)&&(null===n?e.removeAttribute(t):e.setAttribute(t,""+n)):i.mustUseProperty?e[i.propertyName]=null===n?3!==i.type&&"":n:(t=i.attributeName,r=i.attributeNamespace,null===n?e.removeAttribute(t):(n=3===(i=i.type)||4===i&&!0===n?"":""+n,r?e.setAttributeNS(r,t,n):e.setAttribute(t,n))))}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach((function(e){var t=e.replace(y,g);m[t]=new v(t,1,!1,e,null,!1,!1)})),"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach((function(e){var t=e.replace(y,g);m[t]=new v(t,1,!1,e,"http://www.w3.org/1999/xlink",!1,!1)})),["xml:base","xml:lang","xml:space"].forEach((function(e){var t=e.replace(y,g);m[t]=new v(t,1,!1,e,"http://www.w3.org/XML/1998/namespace",!1,!1)})),["tabIndex","crossOrigin"].forEach((function(e){m[e]=new v(e,1,!1,e.toLowerCase(),null,!1,!1)})),m.xlinkHref=new v("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1),["src","href","action","formAction"].forEach((function(e){m[e]=new v(e,1,!1,e.toLowerCase(),null,!0,!0)}));var b=r.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,k=Symbol.for("react.element"),w=Symbol.for("react.portal"),I=Symbol.for("react.fragment"),x=Symbol.for("react.strict_mode"),S=Symbol.for("react.profiler"),C=Symbol.for("react.provider"),E=Symbol.for("react.context"),T=Symbol.for("react.forward_ref"),N=Symbol.for("react.suspense"),P=Symbol.for("react.suspense_list"),O=Symbol.for("react.memo"),R=Symbol.for("react.lazy");Symbol.for("react.scope"),Symbol.for("react.debug_trace_mode");var A=Symbol.for("react.offscreen");Symbol.for("react.legacy_hidden"),Symbol.for("react.cache"),Symbol.for("react.tracing_marker");var D=Symbol.iterator;function L(e){return null===e||"object"!==typeof e?null:"function"===typeof(e=D&&e[D]||e["@@iterator"])?e:null}var M,F=Object.assign;function U(e){if(void 0===M)try{throw Error()}catch(n){var t=n.stack.trim().match(/\n( *(at )?)/);M=t&&t[1]||""}return"\n"+M+e}var j=!1;function z(e,t){if(!e||j)return"";j=!0;var n=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(t)if(t=function(){throw Error()},Object.defineProperty(t.prototype,"props",{set:function(){throw Error()}}),"object"===typeof Reflect&&Reflect.construct){try{Reflect.construct(t,[])}catch(l){var r=l}Reflect.construct(e,[],t)}else{try{t.call()}catch(l){r=l}e.call(t.prototype)}else{try{throw Error()}catch(l){r=l}e()}}catch(l){if(l&&r&&"string"===typeof l.stack){for(var i=l.stack.split("\n"),o=r.stack.split("\n"),a=i.length-1,s=o.length-1;1<=a&&0<=s&&i[a]!==o[s];)s--;for(;1<=a&&0<=s;a--,s--)if(i[a]!==o[s]){if(1!==a||1!==s)do{if(a--,0>--s||i[a]!==o[s]){var u="\n"+i[a].replace(" at new "," at ");return e.displayName&&u.includes("<anonymous>")&&(u=u.replace("<anonymous>",e.displayName)),u}}while(1<=a&&0<=s);break}}}finally{j=!1,Error.prepareStackTrace=n}return(e=e?e.displayName||e.name:"")?U(e):""}function q(e){switch(e.tag){case 5:return U(e.type);case 16:return U("Lazy");case 13:return U("Suspense");case 19:return U("SuspenseList");case 0:case 2:case 15:return e=z(e.type,!1);case 11:return e=z(e.type.render,!1);case 1:return e=z(e.type,!0);default:return""}}function W(e){if(null==e)return null;if("function"===typeof e)return e.displayName||e.name||null;if("string"===typeof e)return e;switch(e){case I:return"Fragment";case w:return"Portal";case S:return"Profiler";case x:return"StrictMode";case N:return"Suspense";case P:return"SuspenseList"}if("object"===typeof e)switch(e.$$typeof){case E:return(e.displayName||"Context")+".Consumer";case C:return(e._context.displayName||"Context")+".Provider";case T:var t=e.render;return(e=e.displayName)||(e=""!==(e=t.displayName||t.name||"")?"ForwardRef("+e+")":"ForwardRef"),e;case O:return null!==(t=e.displayName||null)?t:W(e.type)||"Memo";case R:t=e._payload,e=e._init;try{return W(e(t))}catch(n){}}return null}function V(e){var t=e.type;switch(e.tag){case 24:return"Cache";case 9:return(t.displayName||"Context")+".Consumer";case 10:return(t._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return e=(e=t.render).displayName||e.name||"",t.displayName||(""!==e?"ForwardRef("+e+")":"ForwardRef");case 7:return"Fragment";case 5:return t;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return W(t);case 8:return t===x?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if("function"===typeof t)return t.displayName||t.name||null;if("string"===typeof t)return t}return null}function B(e){switch(typeof e){case"boolean":case"number":case"string":case"undefined":case"object":return e;default:return""}}function H(e){var t=e.type;return(e=e.nodeName)&&"input"===e.toLowerCase()&&("checkbox"===t||"radio"===t)}function K(e){e._valueTracker||(e._valueTracker=function(e){var t=H(e)?"checked":"value",n=Object.getOwnPropertyDescriptor(e.constructor.prototype,t),r=""+e[t];if(!e.hasOwnProperty(t)&&"undefined"!==typeof n&&"function"===typeof n.get&&"function"===typeof n.set){var i=n.get,o=n.set;return Object.defineProperty(e,t,{configurable:!0,get:function(){return i.call(this)},set:function(e){r=""+e,o.call(this,e)}}),Object.defineProperty(e,t,{enumerable:n.enumerable}),{getValue:function(){return r},setValue:function(e){r=""+e},stopTracking:function(){e._valueTracker=null,delete e[t]}}}}(e))}function G(e){if(!e)return!1;var t=e._valueTracker;if(!t)return!0;var n=t.getValue(),r="";return e&&(r=H(e)?e.checked?"true":"false":e.value),(e=r)!==n&&(t.setValue(e),!0)}function $(e){if("undefined"===typeof(e=e||("undefined"!==typeof document?document:void 0)))return null;try{return e.activeElement||e.body}catch(t){return e.body}}function Y(e,t){var n=t.checked;return F({},t,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:null!=n?n:e._wrapperState.initialChecked})}function Q(e,t){var n=null==t.defaultValue?"":t.defaultValue,r=null!=t.checked?t.checked:t.defaultChecked;n=B(null!=t.value?t.value:n),e._wrapperState={initialChecked:r,initialValue:n,controlled:"checkbox"===t.type||"radio"===t.type?null!=t.checked:null!=t.value}}function J(e,t){null!=(t=t.checked)&&_(e,"checked",t,!1)}function X(e,t){J(e,t);var n=B(t.value),r=t.type;if(null!=n)"number"===r?(0===n&&""===e.value||e.value!=n)&&(e.value=""+n):e.value!==""+n&&(e.value=""+n);else if("submit"===r||"reset"===r)return void e.removeAttribute("value");t.hasOwnProperty("value")?ee(e,t.type,n):t.hasOwnProperty("defaultValue")&&ee(e,t.type,B(t.defaultValue)),null==t.checked&&null!=t.defaultChecked&&(e.defaultChecked=!!t.defaultChecked)}function Z(e,t,n){if(t.hasOwnProperty("value")||t.hasOwnProperty("defaultValue")){var r=t.type;if(!("submit"!==r&&"reset"!==r||void 0!==t.value&&null!==t.value))return;t=""+e._wrapperState.initialValue,n||t===e.value||(e.value=t),e.defaultValue=t}""!==(n=e.name)&&(e.name=""),e.defaultChecked=!!e._wrapperState.initialChecked,""!==n&&(e.name=n)}function ee(e,t,n){"number"===t&&$(e.ownerDocument)===e||(null==n?e.defaultValue=""+e._wrapperState.initialValue:e.defaultValue!==""+n&&(e.defaultValue=""+n))}var te=Array.isArray;function ne(e,t,n,r){if(e=e.options,t){t={};for(var i=0;i<n.length;i++)t["$"+n[i]]=!0;for(n=0;n<e.length;n++)i=t.hasOwnProperty("$"+e[n].value),e[n].selected!==i&&(e[n].selected=i),i&&r&&(e[n].defaultSelected=!0)}else{for(n=""+B(n),t=null,i=0;i<e.length;i++){if(e[i].value===n)return e[i].selected=!0,void(r&&(e[i].defaultSelected=!0));null!==t||e[i].disabled||(t=e[i])}null!==t&&(t.selected=!0)}}function re(e,t){if(null!=t.dangerouslySetInnerHTML)throw Error(o(91));return F({},t,{value:void 0,defaultValue:void 0,children:""+e._wrapperState.initialValue})}function ie(e,t){var n=t.value;if(null==n){if(n=t.children,t=t.defaultValue,null!=n){if(null!=t)throw Error(o(92));if(te(n)){if(1<n.length)throw Error(o(93));n=n[0]}t=n}null==t&&(t=""),n=t}e._wrapperState={initialValue:B(n)}}function oe(e,t){var n=B(t.value),r=B(t.defaultValue);null!=n&&((n=""+n)!==e.value&&(e.value=n),null==t.defaultValue&&e.defaultValue!==n&&(e.defaultValue=n)),null!=r&&(e.defaultValue=""+r)}function ae(e){var t=e.textContent;t===e._wrapperState.initialValue&&""!==t&&null!==t&&(e.value=t)}function se(e){switch(e){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function ue(e,t){return null==e||"http://www.w3.org/1999/xhtml"===e?se(t):"http://www.w3.org/2000/svg"===e&&"foreignObject"===t?"http://www.w3.org/1999/xhtml":e}var le,ce,de=(ce=function(e,t){if("http://www.w3.org/2000/svg"!==e.namespaceURI||"innerHTML"in e)e.innerHTML=t;else{for((le=le||document.createElement("div")).innerHTML="<svg>"+t.valueOf().toString()+"</svg>",t=le.firstChild;e.firstChild;)e.removeChild(e.firstChild);for(;t.firstChild;)e.appendChild(t.firstChild)}},"undefined"!==typeof MSApp&&MSApp.execUnsafeLocalFunction?function(e,t,n,r){MSApp.execUnsafeLocalFunction((function(){return ce(e,t)}))}:ce);function fe(e,t){if(t){var n=e.firstChild;if(n&&n===e.lastChild&&3===n.nodeType)return void(n.nodeValue=t)}e.textContent=t}var he={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},pe=["Webkit","ms","Moz","O"];function ve(e,t,n){return null==t||"boolean"===typeof t||""===t?"":n||"number"!==typeof t||0===t||he.hasOwnProperty(e)&&he[e]?(""+t).trim():t+"px"}function me(e,t){for(var n in e=e.style,t)if(t.hasOwnProperty(n)){var r=0===n.indexOf("--"),i=ve(n,t[n],r);"float"===n&&(n="cssFloat"),r?e.setProperty(n,i):e[n]=i}}Object.keys(he).forEach((function(e){pe.forEach((function(t){t=t+e.charAt(0).toUpperCase()+e.substring(1),he[t]=he[e]}))}));var ye=F({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function ge(e,t){if(t){if(ye[e]&&(null!=t.children||null!=t.dangerouslySetInnerHTML))throw Error(o(137,e));if(null!=t.dangerouslySetInnerHTML){if(null!=t.children)throw Error(o(60));if("object"!==typeof t.dangerouslySetInnerHTML||!("__html"in t.dangerouslySetInnerHTML))throw Error(o(61))}if(null!=t.style&&"object"!==typeof t.style)throw Error(o(62))}}function _e(e,t){if(-1===e.indexOf("-"))return"string"===typeof t.is;switch(e){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var be=null;function ke(e){return(e=e.target||e.srcElement||window).correspondingUseElement&&(e=e.correspondingUseElement),3===e.nodeType?e.parentNode:e}var we=null,Ie=null,xe=null;function Se(e){if(e=_i(e)){if("function"!==typeof we)throw Error(o(280));var t=e.stateNode;t&&(t=ki(t),we(e.stateNode,e.type,t))}}function Ce(e){Ie?xe?xe.push(e):xe=[e]:Ie=e}function Ee(){if(Ie){var e=Ie,t=xe;if(xe=Ie=null,Se(e),t)for(e=0;e<t.length;e++)Se(t[e])}}function Te(e,t){return e(t)}function Ne(){}var Pe=!1;function Oe(e,t,n){if(Pe)return e(t,n);Pe=!0;try{return Te(e,t,n)}finally{Pe=!1,(null!==Ie||null!==xe)&&(Ne(),Ee())}}function Re(e,t){var n=e.stateNode;if(null===n)return null;var r=ki(n);if(null===r)return null;n=r[t];e:switch(t){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(r=!r.disabled)||(r=!("button"===(e=e.type)||"input"===e||"select"===e||"textarea"===e)),e=!r;break e;default:e=!1}if(e)return null;if(n&&"function"!==typeof n)throw Error(o(231,t,typeof n));return n}var Ae=!1;if(c)try{var De={};Object.defineProperty(De,"passive",{get:function(){Ae=!0}}),window.addEventListener("test",De,De),window.removeEventListener("test",De,De)}catch(ce){Ae=!1}function Le(e,t,n,r,i,o,a,s,u){var l=Array.prototype.slice.call(arguments,3);try{t.apply(n,l)}catch(c){this.onError(c)}}var Me=!1,Fe=null,Ue=!1,je=null,ze={onError:function(e){Me=!0,Fe=e}};function qe(e,t,n,r,i,o,a,s,u){Me=!1,Fe=null,Le.apply(ze,arguments)}function We(e){var t=e,n=e;if(e.alternate)for(;t.return;)t=t.return;else{e=t;do{0!==(4098&(t=e).flags)&&(n=t.return),e=t.return}while(e)}return 3===t.tag?n:null}function Ve(e){if(13===e.tag){var t=e.memoizedState;if(null===t&&(null!==(e=e.alternate)&&(t=e.memoizedState)),null!==t)return t.dehydrated}return null}function Be(e){if(We(e)!==e)throw Error(o(188))}function He(e){return null!==(e=function(e){var t=e.alternate;if(!t){if(null===(t=We(e)))throw Error(o(188));return t!==e?null:e}for(var n=e,r=t;;){var i=n.return;if(null===i)break;var a=i.alternate;if(null===a){if(null!==(r=i.return)){n=r;continue}break}if(i.child===a.child){for(a=i.child;a;){if(a===n)return Be(i),e;if(a===r)return Be(i),t;a=a.sibling}throw Error(o(188))}if(n.return!==r.return)n=i,r=a;else{for(var s=!1,u=i.child;u;){if(u===n){s=!0,n=i,r=a;break}if(u===r){s=!0,r=i,n=a;break}u=u.sibling}if(!s){for(u=a.child;u;){if(u===n){s=!0,n=a,r=i;break}if(u===r){s=!0,r=a,n=i;break}u=u.sibling}if(!s)throw Error(o(189))}}if(n.alternate!==r)throw Error(o(190))}if(3!==n.tag)throw Error(o(188));return n.stateNode.current===n?e:t}(e))?Ke(e):null}function Ke(e){if(5===e.tag||6===e.tag)return e;for(e=e.child;null!==e;){var t=Ke(e);if(null!==t)return t;e=e.sibling}return null}var Ge=i.unstable_scheduleCallback,$e=i.unstable_cancelCallback,Ye=i.unstable_shouldYield,Qe=i.unstable_requestPaint,Je=i.unstable_now,Xe=i.unstable_getCurrentPriorityLevel,Ze=i.unstable_ImmediatePriority,et=i.unstable_UserBlockingPriority,tt=i.unstable_NormalPriority,nt=i.unstable_LowPriority,rt=i.unstable_IdlePriority,it=null,ot=null;var at=Math.clz32?Math.clz32:function(e){return 0===(e>>>=0)?32:31-(st(e)/ut|0)|0},st=Math.log,ut=Math.LN2;var lt=64,ct=4194304;function dt(e){switch(e&-e){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return 4194240&e;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return 130023424&e;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return e}}function ft(e,t){var n=e.pendingLanes;if(0===n)return 0;var r=0,i=e.suspendedLanes,o=e.pingedLanes,a=268435455&n;if(0!==a){var s=a&~i;0!==s?r=dt(s):0!==(o&=a)&&(r=dt(o))}else 0!==(a=n&~i)?r=dt(a):0!==o&&(r=dt(o));if(0===r)return 0;if(0!==t&&t!==r&&0===(t&i)&&((i=r&-r)>=(o=t&-t)||16===i&&0!==(4194240&o)))return t;if(0!==(4&r)&&(r|=16&n),0!==(t=e.entangledLanes))for(e=e.entanglements,t&=r;0<t;)i=1<<(n=31-at(t)),r|=e[n],t&=~i;return r}function ht(e,t){switch(e){case 1:case 2:case 4:return t+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t+5e3;default:return-1}}function pt(e){return 0!==(e=-1073741825&e.pendingLanes)?e:1073741824&e?1073741824:0}function vt(){var e=lt;return 0===(4194240&(lt<<=1))&&(lt=64),e}function mt(e){for(var t=[],n=0;31>n;n++)t.push(e);return t}function yt(e,t,n){e.pendingLanes|=t,536870912!==t&&(e.suspendedLanes=0,e.pingedLanes=0),(e=e.eventTimes)[t=31-at(t)]=n}function gt(e,t){var n=e.entangledLanes|=t;for(e=e.entanglements;n;){var r=31-at(n),i=1<<r;i&t|e[r]&t&&(e[r]|=t),n&=~i}}var _t=0;function bt(e){return 1<(e&=-e)?4<e?0!==(268435455&e)?16:536870912:4:1}var kt,wt,It,xt,St,Ct=!1,Et=[],Tt=null,Nt=null,Pt=null,Ot=new Map,Rt=new Map,At=[],Dt="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function Lt(e,t){switch(e){case"focusin":case"focusout":Tt=null;break;case"dragenter":case"dragleave":Nt=null;break;case"mouseover":case"mouseout":Pt=null;break;case"pointerover":case"pointerout":Ot.delete(t.pointerId);break;case"gotpointercapture":case"lostpointercapture":Rt.delete(t.pointerId)}}function Mt(e,t,n,r,i,o){return null===e||e.nativeEvent!==o?(e={blockedOn:t,domEventName:n,eventSystemFlags:r,nativeEvent:o,targetContainers:[i]},null!==t&&(null!==(t=_i(t))&&wt(t)),e):(e.eventSystemFlags|=r,t=e.targetContainers,null!==i&&-1===t.indexOf(i)&&t.push(i),e)}function Ft(e){var t=gi(e.target);if(null!==t){var n=We(t);if(null!==n)if(13===(t=n.tag)){if(null!==(t=Ve(n)))return e.blockedOn=t,void St(e.priority,(function(){It(n)}))}else if(3===t&&n.stateNode.current.memoizedState.isDehydrated)return void(e.blockedOn=3===n.tag?n.stateNode.containerInfo:null)}e.blockedOn=null}function Ut(e){if(null!==e.blockedOn)return!1;for(var t=e.targetContainers;0<t.length;){var n=Yt(e.domEventName,e.eventSystemFlags,t[0],e.nativeEvent);if(null!==n)return null!==(t=_i(n))&&wt(t),e.blockedOn=n,!1;var r=new(n=e.nativeEvent).constructor(n.type,n);be=r,n.target.dispatchEvent(r),be=null,t.shift()}return!0}function jt(e,t,n){Ut(e)&&n.delete(t)}function zt(){Ct=!1,null!==Tt&&Ut(Tt)&&(Tt=null),null!==Nt&&Ut(Nt)&&(Nt=null),null!==Pt&&Ut(Pt)&&(Pt=null),Ot.forEach(jt),Rt.forEach(jt)}function qt(e,t){e.blockedOn===t&&(e.blockedOn=null,Ct||(Ct=!0,i.unstable_scheduleCallback(i.unstable_NormalPriority,zt)))}function Wt(e){function t(t){return qt(t,e)}if(0<Et.length){qt(Et[0],e);for(var n=1;n<Et.length;n++){var r=Et[n];r.blockedOn===e&&(r.blockedOn=null)}}for(null!==Tt&&qt(Tt,e),null!==Nt&&qt(Nt,e),null!==Pt&&qt(Pt,e),Ot.forEach(t),Rt.forEach(t),n=0;n<At.length;n++)(r=At[n]).blockedOn===e&&(r.blockedOn=null);for(;0<At.length&&null===(n=At[0]).blockedOn;)Ft(n),null===n.blockedOn&&At.shift()}var Vt=b.ReactCurrentBatchConfig,Bt=!0;function Ht(e,t,n,r){var i=_t,o=Vt.transition;Vt.transition=null;try{_t=1,Gt(e,t,n,r)}finally{_t=i,Vt.transition=o}}function Kt(e,t,n,r){var i=_t,o=Vt.transition;Vt.transition=null;try{_t=4,Gt(e,t,n,r)}finally{_t=i,Vt.transition=o}}function Gt(e,t,n,r){if(Bt){var i=Yt(e,t,n,r);if(null===i)Br(e,t,r,$t,n),Lt(e,r);else if(function(e,t,n,r,i){switch(t){case"focusin":return Tt=Mt(Tt,e,t,n,r,i),!0;case"dragenter":return Nt=Mt(Nt,e,t,n,r,i),!0;case"mouseover":return Pt=Mt(Pt,e,t,n,r,i),!0;case"pointerover":var o=i.pointerId;return Ot.set(o,Mt(Ot.get(o)||null,e,t,n,r,i)),!0;case"gotpointercapture":return o=i.pointerId,Rt.set(o,Mt(Rt.get(o)||null,e,t,n,r,i)),!0}return!1}(i,e,t,n,r))r.stopPropagation();else if(Lt(e,r),4&t&&-1<Dt.indexOf(e)){for(;null!==i;){var o=_i(i);if(null!==o&&kt(o),null===(o=Yt(e,t,n,r))&&Br(e,t,r,$t,n),o===i)break;i=o}null!==i&&r.stopPropagation()}else Br(e,t,r,null,n)}}var $t=null;function Yt(e,t,n,r){if($t=null,null!==(e=gi(e=ke(r))))if(null===(t=We(e)))e=null;else if(13===(n=t.tag)){if(null!==(e=Ve(t)))return e;e=null}else if(3===n){if(t.stateNode.current.memoizedState.isDehydrated)return 3===t.tag?t.stateNode.containerInfo:null;e=null}else t!==e&&(e=null);return $t=e,null}function Qt(e){switch(e){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(Xe()){case Ze:return 1;case et:return 4;case tt:case nt:return 16;case rt:return 536870912;default:return 16}default:return 16}}var Jt=null,Xt=null,Zt=null;function en(){if(Zt)return Zt;var e,t,n=Xt,r=n.length,i="value"in Jt?Jt.value:Jt.textContent,o=i.length;for(e=0;e<r&&n[e]===i[e];e++);var a=r-e;for(t=1;t<=a&&n[r-t]===i[o-t];t++);return Zt=i.slice(e,1<t?1-t:void 0)}function tn(e){var t=e.keyCode;return"charCode"in e?0===(e=e.charCode)&&13===t&&(e=13):e=t,10===e&&(e=13),32<=e||13===e?e:0}function nn(){return!0}function rn(){return!1}function on(e){function t(t,n,r,i,o){for(var a in this._reactName=t,this._targetInst=r,this.type=n,this.nativeEvent=i,this.target=o,this.currentTarget=null,e)e.hasOwnProperty(a)&&(t=e[a],this[a]=t?t(i):i[a]);return this.isDefaultPrevented=(null!=i.defaultPrevented?i.defaultPrevented:!1===i.returnValue)?nn:rn,this.isPropagationStopped=rn,this}return F(t.prototype,{preventDefault:function(){this.defaultPrevented=!0;var e=this.nativeEvent;e&&(e.preventDefault?e.preventDefault():"unknown"!==typeof e.returnValue&&(e.returnValue=!1),this.isDefaultPrevented=nn)},stopPropagation:function(){var e=this.nativeEvent;e&&(e.stopPropagation?e.stopPropagation():"unknown"!==typeof e.cancelBubble&&(e.cancelBubble=!0),this.isPropagationStopped=nn)},persist:function(){},isPersistent:nn}),t}var an,sn,un,ln={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(e){return e.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},cn=on(ln),dn=F({},ln,{view:0,detail:0}),fn=on(dn),hn=F({},dn,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:Sn,button:0,buttons:0,relatedTarget:function(e){return void 0===e.relatedTarget?e.fromElement===e.srcElement?e.toElement:e.fromElement:e.relatedTarget},movementX:function(e){return"movementX"in e?e.movementX:(e!==un&&(un&&"mousemove"===e.type?(an=e.screenX-un.screenX,sn=e.screenY-un.screenY):sn=an=0,un=e),an)},movementY:function(e){return"movementY"in e?e.movementY:sn}}),pn=on(hn),vn=on(F({},hn,{dataTransfer:0})),mn=on(F({},dn,{relatedTarget:0})),yn=on(F({},ln,{animationName:0,elapsedTime:0,pseudoElement:0})),gn=F({},ln,{clipboardData:function(e){return"clipboardData"in e?e.clipboardData:window.clipboardData}}),_n=on(gn),bn=on(F({},ln,{data:0})),kn={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},wn={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},In={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function xn(e){var t=this.nativeEvent;return t.getModifierState?t.getModifierState(e):!!(e=In[e])&&!!t[e]}function Sn(){return xn}var Cn=F({},dn,{key:function(e){if(e.key){var t=kn[e.key]||e.key;if("Unidentified"!==t)return t}return"keypress"===e.type?13===(e=tn(e))?"Enter":String.fromCharCode(e):"keydown"===e.type||"keyup"===e.type?wn[e.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:Sn,charCode:function(e){return"keypress"===e.type?tn(e):0},keyCode:function(e){return"keydown"===e.type||"keyup"===e.type?e.keyCode:0},which:function(e){return"keypress"===e.type?tn(e):"keydown"===e.type||"keyup"===e.type?e.keyCode:0}}),En=on(Cn),Tn=on(F({},hn,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0})),Nn=on(F({},dn,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:Sn})),Pn=on(F({},ln,{propertyName:0,elapsedTime:0,pseudoElement:0})),On=F({},hn,{deltaX:function(e){return"deltaX"in e?e.deltaX:"wheelDeltaX"in e?-e.wheelDeltaX:0},deltaY:function(e){return"deltaY"in e?e.deltaY:"wheelDeltaY"in e?-e.wheelDeltaY:"wheelDelta"in e?-e.wheelDelta:0},deltaZ:0,deltaMode:0}),Rn=on(On),An=[9,13,27,32],Dn=c&&"CompositionEvent"in window,Ln=null;c&&"documentMode"in document&&(Ln=document.documentMode);var Mn=c&&"TextEvent"in window&&!Ln,Fn=c&&(!Dn||Ln&&8<Ln&&11>=Ln),Un=String.fromCharCode(32),jn=!1;function zn(e,t){switch(e){case"keyup":return-1!==An.indexOf(t.keyCode);case"keydown":return 229!==t.keyCode;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function qn(e){return"object"===typeof(e=e.detail)&&"data"in e?e.data:null}var Wn=!1;var Vn={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function Bn(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return"input"===t?!!Vn[e.type]:"textarea"===t}function Hn(e,t,n,r){Ce(r),0<(t=Kr(t,"onChange")).length&&(n=new cn("onChange","change",null,n,r),e.push({event:n,listeners:t}))}var Kn=null,Gn=null;function $n(e){Ur(e,0)}function Yn(e){if(G(bi(e)))return e}function Qn(e,t){if("change"===e)return t}var Jn=!1;if(c){var Xn;if(c){var Zn="oninput"in document;if(!Zn){var er=document.createElement("div");er.setAttribute("oninput","return;"),Zn="function"===typeof er.oninput}Xn=Zn}else Xn=!1;Jn=Xn&&(!document.documentMode||9<document.documentMode)}function tr(){Kn&&(Kn.detachEvent("onpropertychange",nr),Gn=Kn=null)}function nr(e){if("value"===e.propertyName&&Yn(Gn)){var t=[];Hn(t,Gn,e,ke(e)),Oe($n,t)}}function rr(e,t,n){"focusin"===e?(tr(),Gn=n,(Kn=t).attachEvent("onpropertychange",nr)):"focusout"===e&&tr()}function ir(e){if("selectionchange"===e||"keyup"===e||"keydown"===e)return Yn(Gn)}function or(e,t){if("click"===e)return Yn(t)}function ar(e,t){if("input"===e||"change"===e)return Yn(t)}var sr="function"===typeof Object.is?Object.is:function(e,t){return e===t&&(0!==e||1/e===1/t)||e!==e&&t!==t};function ur(e,t){if(sr(e,t))return!0;if("object"!==typeof e||null===e||"object"!==typeof t||null===t)return!1;var n=Object.keys(e),r=Object.keys(t);if(n.length!==r.length)return!1;for(r=0;r<n.length;r++){var i=n[r];if(!d.call(t,i)||!sr(e[i],t[i]))return!1}return!0}function lr(e){for(;e&&e.firstChild;)e=e.firstChild;return e}function cr(e,t){var n,r=lr(e);for(e=0;r;){if(3===r.nodeType){if(n=e+r.textContent.length,e<=t&&n>=t)return{node:r,offset:t-e};e=n}e:{for(;r;){if(r.nextSibling){r=r.nextSibling;break e}r=r.parentNode}r=void 0}r=lr(r)}}function dr(e,t){return!(!e||!t)&&(e===t||(!e||3!==e.nodeType)&&(t&&3===t.nodeType?dr(e,t.parentNode):"contains"in e?e.contains(t):!!e.compareDocumentPosition&&!!(16&e.compareDocumentPosition(t))))}function fr(){for(var e=window,t=$();t instanceof e.HTMLIFrameElement;){try{var n="string"===typeof t.contentWindow.location.href}catch(r){n=!1}if(!n)break;t=$((e=t.contentWindow).document)}return t}function hr(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t&&("input"===t&&("text"===e.type||"search"===e.type||"tel"===e.type||"url"===e.type||"password"===e.type)||"textarea"===t||"true"===e.contentEditable)}function pr(e){var t=fr(),n=e.focusedElem,r=e.selectionRange;if(t!==n&&n&&n.ownerDocument&&dr(n.ownerDocument.documentElement,n)){if(null!==r&&hr(n))if(t=r.start,void 0===(e=r.end)&&(e=t),"selectionStart"in n)n.selectionStart=t,n.selectionEnd=Math.min(e,n.value.length);else if((e=(t=n.ownerDocument||document)&&t.defaultView||window).getSelection){e=e.getSelection();var i=n.textContent.length,o=Math.min(r.start,i);r=void 0===r.end?o:Math.min(r.end,i),!e.extend&&o>r&&(i=r,r=o,o=i),i=cr(n,o);var a=cr(n,r);i&&a&&(1!==e.rangeCount||e.anchorNode!==i.node||e.anchorOffset!==i.offset||e.focusNode!==a.node||e.focusOffset!==a.offset)&&((t=t.createRange()).setStart(i.node,i.offset),e.removeAllRanges(),o>r?(e.addRange(t),e.extend(a.node,a.offset)):(t.setEnd(a.node,a.offset),e.addRange(t)))}for(t=[],e=n;e=e.parentNode;)1===e.nodeType&&t.push({element:e,left:e.scrollLeft,top:e.scrollTop});for("function"===typeof n.focus&&n.focus(),n=0;n<t.length;n++)(e=t[n]).element.scrollLeft=e.left,e.element.scrollTop=e.top}}var vr=c&&"documentMode"in document&&11>=document.documentMode,mr=null,yr=null,gr=null,_r=!1;function br(e,t,n){var r=n.window===n?n.document:9===n.nodeType?n:n.ownerDocument;_r||null==mr||mr!==$(r)||("selectionStart"in(r=mr)&&hr(r)?r={start:r.selectionStart,end:r.selectionEnd}:r={anchorNode:(r=(r.ownerDocument&&r.ownerDocument.defaultView||window).getSelection()).anchorNode,anchorOffset:r.anchorOffset,focusNode:r.focusNode,focusOffset:r.focusOffset},gr&&ur(gr,r)||(gr=r,0<(r=Kr(yr,"onSelect")).length&&(t=new cn("onSelect","select",null,t,n),e.push({event:t,listeners:r}),t.target=mr)))}function kr(e,t){var n={};return n[e.toLowerCase()]=t.toLowerCase(),n["Webkit"+e]="webkit"+t,n["Moz"+e]="moz"+t,n}var wr={animationend:kr("Animation","AnimationEnd"),animationiteration:kr("Animation","AnimationIteration"),animationstart:kr("Animation","AnimationStart"),transitionend:kr("Transition","TransitionEnd")},Ir={},xr={};function Sr(e){if(Ir[e])return Ir[e];if(!wr[e])return e;var t,n=wr[e];for(t in n)if(n.hasOwnProperty(t)&&t in xr)return Ir[e]=n[t];return e}c&&(xr=document.createElement("div").style,"AnimationEvent"in window||(delete wr.animationend.animation,delete wr.animationiteration.animation,delete wr.animationstart.animation),"TransitionEvent"in window||delete wr.transitionend.transition);var Cr=Sr("animationend"),Er=Sr("animationiteration"),Tr=Sr("animationstart"),Nr=Sr("transitionend"),Pr=new Map,Or="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function Rr(e,t){Pr.set(e,t),u(t,[e])}for(var Ar=0;Ar<Or.length;Ar++){var Dr=Or[Ar];Rr(Dr.toLowerCase(),"on"+(Dr[0].toUpperCase()+Dr.slice(1)))}Rr(Cr,"onAnimationEnd"),Rr(Er,"onAnimationIteration"),Rr(Tr,"onAnimationStart"),Rr("dblclick","onDoubleClick"),Rr("focusin","onFocus"),Rr("focusout","onBlur"),Rr(Nr,"onTransitionEnd"),l("onMouseEnter",["mouseout","mouseover"]),l("onMouseLeave",["mouseout","mouseover"]),l("onPointerEnter",["pointerout","pointerover"]),l("onPointerLeave",["pointerout","pointerover"]),u("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),u("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),u("onBeforeInput",["compositionend","keypress","textInput","paste"]),u("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),u("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),u("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var Lr="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),Mr=new Set("cancel close invalid load scroll toggle".split(" ").concat(Lr));function Fr(e,t,n){var r=e.type||"unknown-event";e.currentTarget=n,function(e,t,n,r,i,a,s,u,l){if(qe.apply(this,arguments),Me){if(!Me)throw Error(o(198));var c=Fe;Me=!1,Fe=null,Ue||(Ue=!0,je=c)}}(r,t,void 0,e),e.currentTarget=null}function Ur(e,t){t=0!==(4&t);for(var n=0;n<e.length;n++){var r=e[n],i=r.event;r=r.listeners;e:{var o=void 0;if(t)for(var a=r.length-1;0<=a;a--){var s=r[a],u=s.instance,l=s.currentTarget;if(s=s.listener,u!==o&&i.isPropagationStopped())break e;Fr(i,s,l),o=u}else for(a=0;a<r.length;a++){if(u=(s=r[a]).instance,l=s.currentTarget,s=s.listener,u!==o&&i.isPropagationStopped())break e;Fr(i,s,l),o=u}}}if(Ue)throw e=je,Ue=!1,je=null,e}function jr(e,t){var n=t[vi];void 0===n&&(n=t[vi]=new Set);var r=e+"__bubble";n.has(r)||(Vr(t,e,2,!1),n.add(r))}function zr(e,t,n){var r=0;t&&(r|=4),Vr(n,e,r,t)}var qr="_reactListening"+Math.random().toString(36).slice(2);function Wr(e){if(!e[qr]){e[qr]=!0,a.forEach((function(t){"selectionchange"!==t&&(Mr.has(t)||zr(t,!1,e),zr(t,!0,e))}));var t=9===e.nodeType?e:e.ownerDocument;null===t||t[qr]||(t[qr]=!0,zr("selectionchange",!1,t))}}function Vr(e,t,n,r){switch(Qt(t)){case 1:var i=Ht;break;case 4:i=Kt;break;default:i=Gt}n=i.bind(null,t,n,e),i=void 0,!Ae||"touchstart"!==t&&"touchmove"!==t&&"wheel"!==t||(i=!0),r?void 0!==i?e.addEventListener(t,n,{capture:!0,passive:i}):e.addEventListener(t,n,!0):void 0!==i?e.addEventListener(t,n,{passive:i}):e.addEventListener(t,n,!1)}function Br(e,t,n,r,i){var o=r;if(0===(1&t)&&0===(2&t)&&null!==r)e:for(;;){if(null===r)return;var a=r.tag;if(3===a||4===a){var s=r.stateNode.containerInfo;if(s===i||8===s.nodeType&&s.parentNode===i)break;if(4===a)for(a=r.return;null!==a;){var u=a.tag;if((3===u||4===u)&&((u=a.stateNode.containerInfo)===i||8===u.nodeType&&u.parentNode===i))return;a=a.return}for(;null!==s;){if(null===(a=gi(s)))return;if(5===(u=a.tag)||6===u){r=o=a;continue e}s=s.parentNode}}r=r.return}Oe((function(){var r=o,i=ke(n),a=[];e:{var s=Pr.get(e);if(void 0!==s){var u=cn,l=e;switch(e){case"keypress":if(0===tn(n))break e;case"keydown":case"keyup":u=En;break;case"focusin":l="focus",u=mn;break;case"focusout":l="blur",u=mn;break;case"beforeblur":case"afterblur":u=mn;break;case"click":if(2===n.button)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":u=pn;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":u=vn;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":u=Nn;break;case Cr:case Er:case Tr:u=yn;break;case Nr:u=Pn;break;case"scroll":u=fn;break;case"wheel":u=Rn;break;case"copy":case"cut":case"paste":u=_n;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":u=Tn}var c=0!==(4&t),d=!c&&"scroll"===e,f=c?null!==s?s+"Capture":null:s;c=[];for(var h,p=r;null!==p;){var v=(h=p).stateNode;if(5===h.tag&&null!==v&&(h=v,null!==f&&(null!=(v=Re(p,f))&&c.push(Hr(p,v,h)))),d)break;p=p.return}0<c.length&&(s=new u(s,l,null,n,i),a.push({event:s,listeners:c}))}}if(0===(7&t)){if(u="mouseout"===e||"pointerout"===e,(!(s="mouseover"===e||"pointerover"===e)||n===be||!(l=n.relatedTarget||n.fromElement)||!gi(l)&&!l[pi])&&(u||s)&&(s=i.window===i?i:(s=i.ownerDocument)?s.defaultView||s.parentWindow:window,u?(u=r,null!==(l=(l=n.relatedTarget||n.toElement)?gi(l):null)&&(l!==(d=We(l))||5!==l.tag&&6!==l.tag)&&(l=null)):(u=null,l=r),u!==l)){if(c=pn,v="onMouseLeave",f="onMouseEnter",p="mouse","pointerout"!==e&&"pointerover"!==e||(c=Tn,v="onPointerLeave",f="onPointerEnter",p="pointer"),d=null==u?s:bi(u),h=null==l?s:bi(l),(s=new c(v,p+"leave",u,n,i)).target=d,s.relatedTarget=h,v=null,gi(i)===r&&((c=new c(f,p+"enter",l,n,i)).target=h,c.relatedTarget=d,v=c),d=v,u&&l)e:{for(f=l,p=0,h=c=u;h;h=Gr(h))p++;for(h=0,v=f;v;v=Gr(v))h++;for(;0<p-h;)c=Gr(c),p--;for(;0<h-p;)f=Gr(f),h--;for(;p--;){if(c===f||null!==f&&c===f.alternate)break e;c=Gr(c),f=Gr(f)}c=null}else c=null;null!==u&&$r(a,s,u,c,!1),null!==l&&null!==d&&$r(a,d,l,c,!0)}if("select"===(u=(s=r?bi(r):window).nodeName&&s.nodeName.toLowerCase())||"input"===u&&"file"===s.type)var m=Qn;else if(Bn(s))if(Jn)m=ar;else{m=ir;var y=rr}else(u=s.nodeName)&&"input"===u.toLowerCase()&&("checkbox"===s.type||"radio"===s.type)&&(m=or);switch(m&&(m=m(e,r))?Hn(a,m,n,i):(y&&y(e,s,r),"focusout"===e&&(y=s._wrapperState)&&y.controlled&&"number"===s.type&&ee(s,"number",s.value)),y=r?bi(r):window,e){case"focusin":(Bn(y)||"true"===y.contentEditable)&&(mr=y,yr=r,gr=null);break;case"focusout":gr=yr=mr=null;break;case"mousedown":_r=!0;break;case"contextmenu":case"mouseup":case"dragend":_r=!1,br(a,n,i);break;case"selectionchange":if(vr)break;case"keydown":case"keyup":br(a,n,i)}var g;if(Dn)e:{switch(e){case"compositionstart":var _="onCompositionStart";break e;case"compositionend":_="onCompositionEnd";break e;case"compositionupdate":_="onCompositionUpdate";break e}_=void 0}else Wn?zn(e,n)&&(_="onCompositionEnd"):"keydown"===e&&229===n.keyCode&&(_="onCompositionStart");_&&(Fn&&"ko"!==n.locale&&(Wn||"onCompositionStart"!==_?"onCompositionEnd"===_&&Wn&&(g=en()):(Xt="value"in(Jt=i)?Jt.value:Jt.textContent,Wn=!0)),0<(y=Kr(r,_)).length&&(_=new bn(_,e,null,n,i),a.push({event:_,listeners:y}),g?_.data=g:null!==(g=qn(n))&&(_.data=g))),(g=Mn?function(e,t){switch(e){case"compositionend":return qn(t);case"keypress":return 32!==t.which?null:(jn=!0,Un);case"textInput":return(e=t.data)===Un&&jn?null:e;default:return null}}(e,n):function(e,t){if(Wn)return"compositionend"===e||!Dn&&zn(e,t)?(e=en(),Zt=Xt=Jt=null,Wn=!1,e):null;switch(e){case"paste":default:return null;case"keypress":if(!(t.ctrlKey||t.altKey||t.metaKey)||t.ctrlKey&&t.altKey){if(t.char&&1<t.char.length)return t.char;if(t.which)return String.fromCharCode(t.which)}return null;case"compositionend":return Fn&&"ko"!==t.locale?null:t.data}}(e,n))&&(0<(r=Kr(r,"onBeforeInput")).length&&(i=new bn("onBeforeInput","beforeinput",null,n,i),a.push({event:i,listeners:r}),i.data=g))}Ur(a,t)}))}function Hr(e,t,n){return{instance:e,listener:t,currentTarget:n}}function Kr(e,t){for(var n=t+"Capture",r=[];null!==e;){var i=e,o=i.stateNode;5===i.tag&&null!==o&&(i=o,null!=(o=Re(e,n))&&r.unshift(Hr(e,o,i)),null!=(o=Re(e,t))&&r.push(Hr(e,o,i))),e=e.return}return r}function Gr(e){if(null===e)return null;do{e=e.return}while(e&&5!==e.tag);return e||null}function $r(e,t,n,r,i){for(var o=t._reactName,a=[];null!==n&&n!==r;){var s=n,u=s.alternate,l=s.stateNode;if(null!==u&&u===r)break;5===s.tag&&null!==l&&(s=l,i?null!=(u=Re(n,o))&&a.unshift(Hr(n,u,s)):i||null!=(u=Re(n,o))&&a.push(Hr(n,u,s))),n=n.return}0!==a.length&&e.push({event:t,listeners:a})}var Yr=/\r\n?/g,Qr=/\u0000|\uFFFD/g;function Jr(e){return("string"===typeof e?e:""+e).replace(Yr,"\n").replace(Qr,"")}function Xr(e,t,n){if(t=Jr(t),Jr(e)!==t&&n)throw Error(o(425))}function Zr(){}var ei=null,ti=null;function ni(e,t){return"textarea"===e||"noscript"===e||"string"===typeof t.children||"number"===typeof t.children||"object"===typeof t.dangerouslySetInnerHTML&&null!==t.dangerouslySetInnerHTML&&null!=t.dangerouslySetInnerHTML.__html}var ri="function"===typeof setTimeout?setTimeout:void 0,ii="function"===typeof clearTimeout?clearTimeout:void 0,oi="function"===typeof Promise?Promise:void 0,ai="function"===typeof queueMicrotask?queueMicrotask:"undefined"!==typeof oi?function(e){return oi.resolve(null).then(e).catch(si)}:ri;function si(e){setTimeout((function(){throw e}))}function ui(e,t){var n=t,r=0;do{var i=n.nextSibling;if(e.removeChild(n),i&&8===i.nodeType)if("/$"===(n=i.data)){if(0===r)return e.removeChild(i),void Wt(t);r--}else"$"!==n&&"$?"!==n&&"$!"!==n||r++;n=i}while(n);Wt(t)}function li(e){for(;null!=e;e=e.nextSibling){var t=e.nodeType;if(1===t||3===t)break;if(8===t){if("$"===(t=e.data)||"$!"===t||"$?"===t)break;if("/$"===t)return null}}return e}function ci(e){e=e.previousSibling;for(var t=0;e;){if(8===e.nodeType){var n=e.data;if("$"===n||"$!"===n||"$?"===n){if(0===t)return e;t--}else"/$"===n&&t++}e=e.previousSibling}return null}var di=Math.random().toString(36).slice(2),fi="__reactFiber$"+di,hi="__reactProps$"+di,pi="__reactContainer$"+di,vi="__reactEvents$"+di,mi="__reactListeners$"+di,yi="__reactHandles$"+di;function gi(e){var t=e[fi];if(t)return t;for(var n=e.parentNode;n;){if(t=n[pi]||n[fi]){if(n=t.alternate,null!==t.child||null!==n&&null!==n.child)for(e=ci(e);null!==e;){if(n=e[fi])return n;e=ci(e)}return t}n=(e=n).parentNode}return null}function _i(e){return!(e=e[fi]||e[pi])||5!==e.tag&&6!==e.tag&&13!==e.tag&&3!==e.tag?null:e}function bi(e){if(5===e.tag||6===e.tag)return e.stateNode;throw Error(o(33))}function ki(e){return e[hi]||null}var wi=[],Ii=-1;function xi(e){return{current:e}}function Si(e){0>Ii||(e.current=wi[Ii],wi[Ii]=null,Ii--)}function Ci(e,t){Ii++,wi[Ii]=e.current,e.current=t}var Ei={},Ti=xi(Ei),Ni=xi(!1),Pi=Ei;function Oi(e,t){var n=e.type.contextTypes;if(!n)return Ei;var r=e.stateNode;if(r&&r.__reactInternalMemoizedUnmaskedChildContext===t)return r.__reactInternalMemoizedMaskedChildContext;var i,o={};for(i in n)o[i]=t[i];return r&&((e=e.stateNode).__reactInternalMemoizedUnmaskedChildContext=t,e.__reactInternalMemoizedMaskedChildContext=o),o}function Ri(e){return null!==(e=e.childContextTypes)&&void 0!==e}function Ai(){Si(Ni),Si(Ti)}function Di(e,t,n){if(Ti.current!==Ei)throw Error(o(168));Ci(Ti,t),Ci(Ni,n)}function Li(e,t,n){var r=e.stateNode;if(t=t.childContextTypes,"function"!==typeof r.getChildContext)return n;for(var i in r=r.getChildContext())if(!(i in t))throw Error(o(108,V(e)||"Unknown",i));return F({},n,r)}function Mi(e){return e=(e=e.stateNode)&&e.__reactInternalMemoizedMergedChildContext||Ei,Pi=Ti.current,Ci(Ti,e),Ci(Ni,Ni.current),!0}function Fi(e,t,n){var r=e.stateNode;if(!r)throw Error(o(169));n?(e=Li(e,t,Pi),r.__reactInternalMemoizedMergedChildContext=e,Si(Ni),Si(Ti),Ci(Ti,e)):Si(Ni),Ci(Ni,n)}var Ui=null,ji=!1,zi=!1;function qi(e){null===Ui?Ui=[e]:Ui.push(e)}function Wi(){if(!zi&&null!==Ui){zi=!0;var e=0,t=_t;try{var n=Ui;for(_t=1;e<n.length;e++){var r=n[e];do{r=r(!0)}while(null!==r)}Ui=null,ji=!1}catch(i){throw null!==Ui&&(Ui=Ui.slice(e+1)),Ge(Ze,Wi),i}finally{_t=t,zi=!1}}return null}var Vi=b.ReactCurrentBatchConfig;function Bi(e,t){if(e&&e.defaultProps){for(var n in t=F({},t),e=e.defaultProps)void 0===t[n]&&(t[n]=e[n]);return t}return t}var Hi=xi(null),Ki=null,Gi=null,$i=null;function Yi(){$i=Gi=Ki=null}function Qi(e){var t=Hi.current;Si(Hi),e._currentValue=t}function Ji(e,t,n){for(;null!==e;){var r=e.alternate;if((e.childLanes&t)!==t?(e.childLanes|=t,null!==r&&(r.childLanes|=t)):null!==r&&(r.childLanes&t)!==t&&(r.childLanes|=t),e===n)break;e=e.return}}function Xi(e,t){Ki=e,$i=Gi=null,null!==(e=e.dependencies)&&null!==e.firstContext&&(0!==(e.lanes&t)&&(ks=!0),e.firstContext=null)}function Zi(e){var t=e._currentValue;if($i!==e)if(e={context:e,memoizedValue:t,next:null},null===Gi){if(null===Ki)throw Error(o(308));Gi=e,Ki.dependencies={lanes:0,firstContext:e}}else Gi=Gi.next=e;return t}var eo=null,to=!1;function no(e){e.updateQueue={baseState:e.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function ro(e,t){e=e.updateQueue,t.updateQueue===e&&(t.updateQueue={baseState:e.baseState,firstBaseUpdate:e.firstBaseUpdate,lastBaseUpdate:e.lastBaseUpdate,shared:e.shared,effects:e.effects})}function io(e,t){return{eventTime:e,lane:t,tag:0,payload:null,callback:null,next:null}}function oo(e,t){var n=e.updateQueue;null!==n&&(n=n.shared,tl(e)?(null===(e=n.interleaved)?(t.next=t,null===eo?eo=[n]:eo.push(n)):(t.next=e.next,e.next=t),n.interleaved=t):(null===(e=n.pending)?t.next=t:(t.next=e.next,e.next=t),n.pending=t))}function ao(e,t,n){if(null!==(t=t.updateQueue)&&(t=t.shared,0!==(4194240&n))){var r=t.lanes;n|=r&=e.pendingLanes,t.lanes=n,gt(e,n)}}function so(e,t){var n=e.updateQueue,r=e.alternate;if(null!==r&&n===(r=r.updateQueue)){var i=null,o=null;if(null!==(n=n.firstBaseUpdate)){do{var a={eventTime:n.eventTime,lane:n.lane,tag:n.tag,payload:n.payload,callback:n.callback,next:null};null===o?i=o=a:o=o.next=a,n=n.next}while(null!==n);null===o?i=o=t:o=o.next=t}else i=o=t;return n={baseState:r.baseState,firstBaseUpdate:i,lastBaseUpdate:o,shared:r.shared,effects:r.effects},void(e.updateQueue=n)}null===(e=n.lastBaseUpdate)?n.firstBaseUpdate=t:e.next=t,n.lastBaseUpdate=t}function uo(e,t,n,r){var i=e.updateQueue;to=!1;var o=i.firstBaseUpdate,a=i.lastBaseUpdate,s=i.shared.pending;if(null!==s){i.shared.pending=null;var u=s,l=u.next;u.next=null,null===a?o=l:a.next=l,a=u;var c=e.alternate;null!==c&&((s=(c=c.updateQueue).lastBaseUpdate)!==a&&(null===s?c.firstBaseUpdate=l:s.next=l,c.lastBaseUpdate=u))}if(null!==o){var d=i.baseState;for(a=0,c=l=u=null,s=o;;){var f=s.lane,h=s.eventTime;if((r&f)===f){null!==c&&(c=c.next={eventTime:h,lane:0,tag:s.tag,payload:s.payload,callback:s.callback,next:null});e:{var p=e,v=s;switch(f=t,h=n,v.tag){case 1:if("function"===typeof(p=v.payload)){d=p.call(h,d,f);break e}d=p;break e;case 3:p.flags=-65537&p.flags|128;case 0:if(null===(f="function"===typeof(p=v.payload)?p.call(h,d,f):p)||void 0===f)break e;d=F({},d,f);break e;case 2:to=!0}}null!==s.callback&&0!==s.lane&&(e.flags|=64,null===(f=i.effects)?i.effects=[s]:f.push(s))}else h={eventTime:h,lane:f,tag:s.tag,payload:s.payload,callback:s.callback,next:null},null===c?(l=c=h,u=d):c=c.next=h,a|=f;if(null===(s=s.next)){if(null===(s=i.shared.pending))break;s=(f=s).next,f.next=null,i.lastBaseUpdate=f,i.shared.pending=null}}if(null===c&&(u=d),i.baseState=u,i.firstBaseUpdate=l,i.lastBaseUpdate=c,null!==(t=i.shared.interleaved)){i=t;do{a|=i.lane,i=i.next}while(i!==t)}else null===o&&(i.shared.lanes=0);Au|=a,e.lanes=a,e.memoizedState=d}}function lo(e,t,n){if(e=t.effects,t.effects=null,null!==e)for(t=0;t<e.length;t++){var r=e[t],i=r.callback;if(null!==i){if(r.callback=null,r=n,"function"!==typeof i)throw Error(o(191,i));i.call(r)}}}var co=(new r.Component).refs;function fo(e,t,n,r){n=null===(n=n(r,t=e.memoizedState))||void 0===n?t:F({},t,n),e.memoizedState=n,0===e.lanes&&(e.updateQueue.baseState=n)}var ho={isMounted:function(e){return!!(e=e._reactInternals)&&We(e)===e},enqueueSetState:function(e,t,n){e=e._reactInternals;var r=Ju(),i=Xu(e),o=io(r,i);o.payload=t,void 0!==n&&null!==n&&(o.callback=n),oo(e,o),null!==(t=Zu(e,i,r))&&ao(t,e,i)},enqueueReplaceState:function(e,t,n){e=e._reactInternals;var r=Ju(),i=Xu(e),o=io(r,i);o.tag=1,o.payload=t,void 0!==n&&null!==n&&(o.callback=n),oo(e,o),null!==(t=Zu(e,i,r))&&ao(t,e,i)},enqueueForceUpdate:function(e,t){e=e._reactInternals;var n=Ju(),r=Xu(e),i=io(n,r);i.tag=2,void 0!==t&&null!==t&&(i.callback=t),oo(e,i),null!==(t=Zu(e,r,n))&&ao(t,e,r)}};function po(e,t,n,r,i,o,a){return"function"===typeof(e=e.stateNode).shouldComponentUpdate?e.shouldComponentUpdate(r,o,a):!t.prototype||!t.prototype.isPureReactComponent||(!ur(n,r)||!ur(i,o))}function vo(e,t,n){var r=!1,i=Ei,o=t.contextType;return"object"===typeof o&&null!==o?o=Zi(o):(i=Ri(t)?Pi:Ti.current,o=(r=null!==(r=t.contextTypes)&&void 0!==r)?Oi(e,i):Ei),t=new t(n,o),e.memoizedState=null!==t.state&&void 0!==t.state?t.state:null,t.updater=ho,e.stateNode=t,t._reactInternals=e,r&&((e=e.stateNode).__reactInternalMemoizedUnmaskedChildContext=i,e.__reactInternalMemoizedMaskedChildContext=o),t}function mo(e,t,n,r){e=t.state,"function"===typeof t.componentWillReceiveProps&&t.componentWillReceiveProps(n,r),"function"===typeof t.UNSAFE_componentWillReceiveProps&&t.UNSAFE_componentWillReceiveProps(n,r),t.state!==e&&ho.enqueueReplaceState(t,t.state,null)}function yo(e,t,n,r){var i=e.stateNode;i.props=n,i.state=e.memoizedState,i.refs=co,no(e);var o=t.contextType;"object"===typeof o&&null!==o?i.context=Zi(o):(o=Ri(t)?Pi:Ti.current,i.context=Oi(e,o)),i.state=e.memoizedState,"function"===typeof(o=t.getDerivedStateFromProps)&&(fo(e,t,o,n),i.state=e.memoizedState),"function"===typeof t.getDerivedStateFromProps||"function"===typeof i.getSnapshotBeforeUpdate||"function"!==typeof i.UNSAFE_componentWillMount&&"function"!==typeof i.componentWillMount||(t=i.state,"function"===typeof i.componentWillMount&&i.componentWillMount(),"function"===typeof i.UNSAFE_componentWillMount&&i.UNSAFE_componentWillMount(),t!==i.state&&ho.enqueueReplaceState(i,i.state,null),uo(e,n,i,r),i.state=e.memoizedState),"function"===typeof i.componentDidMount&&(e.flags|=4194308)}var go=[],_o=0,bo=null,ko=0,wo=[],Io=0,xo=null,So=1,Co="";function Eo(e,t){go[_o++]=ko,go[_o++]=bo,bo=e,ko=t}function To(e,t,n){wo[Io++]=So,wo[Io++]=Co,wo[Io++]=xo,xo=e;var r=So;e=Co;var i=32-at(r)-1;r&=~(1<<i),n+=1;var o=32-at(t)+i;if(30<o){var a=i-i%5;o=(r&(1<<a)-1).toString(32),r>>=a,i-=a,So=1<<32-at(t)+i|n<<i|r,Co=o+e}else So=1<<o|n<<i|r,Co=e}function No(e){null!==e.return&&(Eo(e,1),To(e,1,0))}function Po(e){for(;e===bo;)bo=go[--_o],go[_o]=null,ko=go[--_o],go[_o]=null;for(;e===xo;)xo=wo[--Io],wo[Io]=null,Co=wo[--Io],wo[Io]=null,So=wo[--Io],wo[Io]=null}var Oo=null,Ro=null,Ao=!1,Do=null;function Lo(e,t){var n=Pl(5,null,null,0);n.elementType="DELETED",n.stateNode=t,n.return=e,null===(t=e.deletions)?(e.deletions=[n],e.flags|=16):t.push(n)}function Mo(e,t){switch(e.tag){case 5:var n=e.type;return null!==(t=1!==t.nodeType||n.toLowerCase()!==t.nodeName.toLowerCase()?null:t)&&(e.stateNode=t,Oo=e,Ro=li(t.firstChild),!0);case 6:return null!==(t=""===e.pendingProps||3!==t.nodeType?null:t)&&(e.stateNode=t,Oo=e,Ro=null,!0);case 13:return null!==(t=8!==t.nodeType?null:t)&&(n=null!==xo?{id:So,overflow:Co}:null,e.memoizedState={dehydrated:t,treeContext:n,retryLane:1073741824},(n=Pl(18,null,null,0)).stateNode=t,n.return=e,e.child=n,Oo=e,Ro=null,!0);default:return!1}}function Fo(e){return 0!==(1&e.mode)&&0===(128&e.flags)}function Uo(e){if(Ao){var t=Ro;if(t){var n=t;if(!Mo(e,t)){if(Fo(e))throw Error(o(418));t=li(n.nextSibling);var r=Oo;t&&Mo(e,t)?Lo(r,n):(e.flags=-4097&e.flags|2,Ao=!1,Oo=e)}}else{if(Fo(e))throw Error(o(418));e.flags=-4097&e.flags|2,Ao=!1,Oo=e}}}function jo(e){for(e=e.return;null!==e&&5!==e.tag&&3!==e.tag&&13!==e.tag;)e=e.return;Oo=e}function zo(e){if(e!==Oo)return!1;if(!Ao)return jo(e),Ao=!0,!1;var t;if((t=3!==e.tag)&&!(t=5!==e.tag)&&(t="head"!==(t=e.type)&&"body"!==t&&!ni(e.type,e.memoizedProps)),t&&(t=Ro)){if(Fo(e)){for(e=Ro;e;)e=li(e.nextSibling);throw Error(o(418))}for(;t;)Lo(e,t),t=li(t.nextSibling)}if(jo(e),13===e.tag){if(!(e=null!==(e=e.memoizedState)?e.dehydrated:null))throw Error(o(317));e:{for(e=e.nextSibling,t=0;e;){if(8===e.nodeType){var n=e.data;if("/$"===n){if(0===t){Ro=li(e.nextSibling);break e}t--}else"$"!==n&&"$!"!==n&&"$?"!==n||t++}e=e.nextSibling}Ro=null}}else Ro=Oo?li(e.stateNode.nextSibling):null;return!0}function qo(){Ro=Oo=null,Ao=!1}function Wo(e){null===Do?Do=[e]:Do.push(e)}function Vo(e,t,n){if(null!==(e=n.ref)&&"function"!==typeof e&&"object"!==typeof e){if(n._owner){if(n=n._owner){if(1!==n.tag)throw Error(o(309));var r=n.stateNode}if(!r)throw Error(o(147,e));var i=r,a=""+e;return null!==t&&null!==t.ref&&"function"===typeof t.ref&&t.ref._stringRef===a?t.ref:(t=function(e){var t=i.refs;t===co&&(t=i.refs={}),null===e?delete t[a]:t[a]=e},t._stringRef=a,t)}if("string"!==typeof e)throw Error(o(284));if(!n._owner)throw Error(o(290,e))}return e}function Bo(e,t){throw e=Object.prototype.toString.call(t),Error(o(31,"[object Object]"===e?"object with keys {"+Object.keys(t).join(", ")+"}":e))}function Ho(e){return(0,e._init)(e._payload)}function Ko(e){function t(t,n){if(e){var r=t.deletions;null===r?(t.deletions=[n],t.flags|=16):r.push(n)}}function n(n,r){if(!e)return null;for(;null!==r;)t(n,r),r=r.sibling;return null}function r(e,t){for(e=new Map;null!==t;)null!==t.key?e.set(t.key,t):e.set(t.index,t),t=t.sibling;return e}function i(e,t){return(e=Rl(e,t)).index=0,e.sibling=null,e}function a(t,n,r){return t.index=r,e?null!==(r=t.alternate)?(r=r.index)<n?(t.flags|=2,n):r:(t.flags|=2,n):(t.flags|=1048576,n)}function s(t){return e&&null===t.alternate&&(t.flags|=2),t}function u(e,t,n,r){return null===t||6!==t.tag?((t=Ml(n,e.mode,r)).return=e,t):((t=i(t,n)).return=e,t)}function l(e,t,n,r){var o=n.type;return o===I?d(e,t,n.props.children,r,n.key):null!==t&&(t.elementType===o||"object"===typeof o&&null!==o&&o.$$typeof===R&&Ho(o)===t.type)?((r=i(t,n.props)).ref=Vo(e,t,n),r.return=e,r):((r=Al(n.type,n.key,n.props,null,e.mode,r)).ref=Vo(e,t,n),r.return=e,r)}function c(e,t,n,r){return null===t||4!==t.tag||t.stateNode.containerInfo!==n.containerInfo||t.stateNode.implementation!==n.implementation?((t=Fl(n,e.mode,r)).return=e,t):((t=i(t,n.children||[])).return=e,t)}function d(e,t,n,r,o){return null===t||7!==t.tag?((t=Dl(n,e.mode,r,o)).return=e,t):((t=i(t,n)).return=e,t)}function f(e,t,n){if("string"===typeof t&&""!==t||"number"===typeof t)return(t=Ml(""+t,e.mode,n)).return=e,t;if("object"===typeof t&&null!==t){switch(t.$$typeof){case k:return(n=Al(t.type,t.key,t.props,null,e.mode,n)).ref=Vo(e,null,t),n.return=e,n;case w:return(t=Fl(t,e.mode,n)).return=e,t;case R:return f(e,(0,t._init)(t._payload),n)}if(te(t)||L(t))return(t=Dl(t,e.mode,n,null)).return=e,t;Bo(e,t)}return null}function h(e,t,n,r){var i=null!==t?t.key:null;if("string"===typeof n&&""!==n||"number"===typeof n)return null!==i?null:u(e,t,""+n,r);if("object"===typeof n&&null!==n){switch(n.$$typeof){case k:return n.key===i?l(e,t,n,r):null;case w:return n.key===i?c(e,t,n,r):null;case R:return h(e,t,(i=n._init)(n._payload),r)}if(te(n)||L(n))return null!==i?null:d(e,t,n,r,null);Bo(e,n)}return null}function p(e,t,n,r,i){if("string"===typeof r&&""!==r||"number"===typeof r)return u(t,e=e.get(n)||null,""+r,i);if("object"===typeof r&&null!==r){switch(r.$$typeof){case k:return l(t,e=e.get(null===r.key?n:r.key)||null,r,i);case w:return c(t,e=e.get(null===r.key?n:r.key)||null,r,i);case R:return p(e,t,n,(0,r._init)(r._payload),i)}if(te(r)||L(r))return d(t,e=e.get(n)||null,r,i,null);Bo(t,r)}return null}function v(i,o,s,u){for(var l=null,c=null,d=o,v=o=0,m=null;null!==d&&v<s.length;v++){d.index>v?(m=d,d=null):m=d.sibling;var y=h(i,d,s[v],u);if(null===y){null===d&&(d=m);break}e&&d&&null===y.alternate&&t(i,d),o=a(y,o,v),null===c?l=y:c.sibling=y,c=y,d=m}if(v===s.length)return n(i,d),Ao&&Eo(i,v),l;if(null===d){for(;v<s.length;v++)null!==(d=f(i,s[v],u))&&(o=a(d,o,v),null===c?l=d:c.sibling=d,c=d);return Ao&&Eo(i,v),l}for(d=r(i,d);v<s.length;v++)null!==(m=p(d,i,v,s[v],u))&&(e&&null!==m.alternate&&d.delete(null===m.key?v:m.key),o=a(m,o,v),null===c?l=m:c.sibling=m,c=m);return e&&d.forEach((function(e){return t(i,e)})),Ao&&Eo(i,v),l}function m(i,s,u,l){var c=L(u);if("function"!==typeof c)throw Error(o(150));if(null==(u=c.call(u)))throw Error(o(151));for(var d=c=null,v=s,m=s=0,y=null,g=u.next();null!==v&&!g.done;m++,g=u.next()){v.index>m?(y=v,v=null):y=v.sibling;var _=h(i,v,g.value,l);if(null===_){null===v&&(v=y);break}e&&v&&null===_.alternate&&t(i,v),s=a(_,s,m),null===d?c=_:d.sibling=_,d=_,v=y}if(g.done)return n(i,v),Ao&&Eo(i,m),c;if(null===v){for(;!g.done;m++,g=u.next())null!==(g=f(i,g.value,l))&&(s=a(g,s,m),null===d?c=g:d.sibling=g,d=g);return Ao&&Eo(i,m),c}for(v=r(i,v);!g.done;m++,g=u.next())null!==(g=p(v,i,m,g.value,l))&&(e&&null!==g.alternate&&v.delete(null===g.key?m:g.key),s=a(g,s,m),null===d?c=g:d.sibling=g,d=g);return e&&v.forEach((function(e){return t(i,e)})),Ao&&Eo(i,m),c}return function e(r,o,a,u){if("object"===typeof a&&null!==a&&a.type===I&&null===a.key&&(a=a.props.children),"object"===typeof a&&null!==a){switch(a.$$typeof){case k:e:{for(var l=a.key,c=o;null!==c;){if(c.key===l){if((l=a.type)===I){if(7===c.tag){n(r,c.sibling),(o=i(c,a.props.children)).return=r,r=o;break e}}else if(c.elementType===l||"object"===typeof l&&null!==l&&l.$$typeof===R&&Ho(l)===c.type){n(r,c.sibling),(o=i(c,a.props)).ref=Vo(r,c,a),o.return=r,r=o;break e}n(r,c);break}t(r,c),c=c.sibling}a.type===I?((o=Dl(a.props.children,r.mode,u,a.key)).return=r,r=o):((u=Al(a.type,a.key,a.props,null,r.mode,u)).ref=Vo(r,o,a),u.return=r,r=u)}return s(r);case w:e:{for(c=a.key;null!==o;){if(o.key===c){if(4===o.tag&&o.stateNode.containerInfo===a.containerInfo&&o.stateNode.implementation===a.implementation){n(r,o.sibling),(o=i(o,a.children||[])).return=r,r=o;break e}n(r,o);break}t(r,o),o=o.sibling}(o=Fl(a,r.mode,u)).return=r,r=o}return s(r);case R:return e(r,o,(c=a._init)(a._payload),u)}if(te(a))return v(r,o,a,u);if(L(a))return m(r,o,a,u);Bo(r,a)}return"string"===typeof a&&""!==a||"number"===typeof a?(a=""+a,null!==o&&6===o.tag?(n(r,o.sibling),(o=i(o,a)).return=r,r=o):(n(r,o),(o=Ml(a,r.mode,u)).return=r,r=o),s(r)):n(r,o)}}var Go=Ko(!0),$o=Ko(!1),Yo={},Qo=xi(Yo),Jo=xi(Yo),Xo=xi(Yo);function Zo(e){if(e===Yo)throw Error(o(174));return e}function ea(e,t){switch(Ci(Xo,t),Ci(Jo,e),Ci(Qo,Yo),e=t.nodeType){case 9:case 11:t=(t=t.documentElement)?t.namespaceURI:ue(null,"");break;default:t=ue(t=(e=8===e?t.parentNode:t).namespaceURI||null,e=e.tagName)}Si(Qo),Ci(Qo,t)}function ta(){Si(Qo),Si(Jo),Si(Xo)}function na(e){Zo(Xo.current);var t=Zo(Qo.current),n=ue(t,e.type);t!==n&&(Ci(Jo,e),Ci(Qo,n))}function ra(e){Jo.current===e&&(Si(Qo),Si(Jo))}var ia=xi(0);function oa(e){for(var t=e;null!==t;){if(13===t.tag){var n=t.memoizedState;if(null!==n&&(null===(n=n.dehydrated)||"$?"===n.data||"$!"===n.data))return t}else if(19===t.tag&&void 0!==t.memoizedProps.revealOrder){if(0!==(128&t.flags))return t}else if(null!==t.child){t.child.return=t,t=t.child;continue}if(t===e)break;for(;null===t.sibling;){if(null===t.return||t.return===e)return null;t=t.return}t.sibling.return=t.return,t=t.sibling}return null}var aa=[];function sa(){for(var e=0;e<aa.length;e++)aa[e]._workInProgressVersionPrimary=null;aa.length=0}var ua=b.ReactCurrentDispatcher,la=b.ReactCurrentBatchConfig,ca=0,da=null,fa=null,ha=null,pa=!1,va=!1,ma=0,ya=0;function ga(){throw Error(o(321))}function _a(e,t){if(null===t)return!1;for(var n=0;n<t.length&&n<e.length;n++)if(!sr(e[n],t[n]))return!1;return!0}function ba(e,t,n,r,i,a){if(ca=a,da=t,t.memoizedState=null,t.updateQueue=null,t.lanes=0,ua.current=null===e||null===e.memoizedState?rs:is,e=n(r,i),va){a=0;do{if(va=!1,ma=0,25<=a)throw Error(o(301));a+=1,ha=fa=null,t.updateQueue=null,ua.current=os,e=n(r,i)}while(va)}if(ua.current=ns,t=null!==fa&&null!==fa.next,ca=0,ha=fa=da=null,pa=!1,t)throw Error(o(300));return e}function ka(){var e=0!==ma;return ma=0,e}function wa(){var e={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return null===ha?da.memoizedState=ha=e:ha=ha.next=e,ha}function Ia(){if(null===fa){var e=da.alternate;e=null!==e?e.memoizedState:null}else e=fa.next;var t=null===ha?da.memoizedState:ha.next;if(null!==t)ha=t,fa=e;else{if(null===e)throw Error(o(310));e={memoizedState:(fa=e).memoizedState,baseState:fa.baseState,baseQueue:fa.baseQueue,queue:fa.queue,next:null},null===ha?da.memoizedState=ha=e:ha=ha.next=e}return ha}function xa(e,t){return"function"===typeof t?t(e):t}function Sa(e){var t=Ia(),n=t.queue;if(null===n)throw Error(o(311));n.lastRenderedReducer=e;var r=fa,i=r.baseQueue,a=n.pending;if(null!==a){if(null!==i){var s=i.next;i.next=a.next,a.next=s}r.baseQueue=i=a,n.pending=null}if(null!==i){a=i.next,r=r.baseState;var u=s=null,l=null,c=a;do{var d=c.lane;if((ca&d)===d)null!==l&&(l=l.next={lane:0,action:c.action,hasEagerState:c.hasEagerState,eagerState:c.eagerState,next:null}),r=c.hasEagerState?c.eagerState:e(r,c.action);else{var f={lane:d,action:c.action,hasEagerState:c.hasEagerState,eagerState:c.eagerState,next:null};null===l?(u=l=f,s=r):l=l.next=f,da.lanes|=d,Au|=d}c=c.next}while(null!==c&&c!==a);null===l?s=r:l.next=u,sr(r,t.memoizedState)||(ks=!0),t.memoizedState=r,t.baseState=s,t.baseQueue=l,n.lastRenderedState=r}if(null!==(e=n.interleaved)){i=e;do{a=i.lane,da.lanes|=a,Au|=a,i=i.next}while(i!==e)}else null===i&&(n.lanes=0);return[t.memoizedState,n.dispatch]}function Ca(e){var t=Ia(),n=t.queue;if(null===n)throw Error(o(311));n.lastRenderedReducer=e;var r=n.dispatch,i=n.pending,a=t.memoizedState;if(null!==i){n.pending=null;var s=i=i.next;do{a=e(a,s.action),s=s.next}while(s!==i);sr(a,t.memoizedState)||(ks=!0),t.memoizedState=a,null===t.baseQueue&&(t.baseState=a),n.lastRenderedState=a}return[a,r]}function Ea(){}function Ta(e,t){var n=da,r=Ia(),i=t(),a=!sr(r.memoizedState,i);if(a&&(r.memoizedState=i,ks=!0),r=r.queue,ja(Oa.bind(null,n,r,e),[e]),r.getSnapshot!==t||a||null!==ha&&1&ha.memoizedState.tag){if(n.flags|=2048,Da(9,Pa.bind(null,n,r,i,t),void 0,null),null===Cu)throw Error(o(349));0!==(30&ca)||Na(n,t,i)}return i}function Na(e,t,n){e.flags|=16384,e={getSnapshot:t,value:n},null===(t=da.updateQueue)?(t={lastEffect:null,stores:null},da.updateQueue=t,t.stores=[e]):null===(n=t.stores)?t.stores=[e]:n.push(e)}function Pa(e,t,n,r){t.value=n,t.getSnapshot=r,Ra(t)&&Zu(e,1,-1)}function Oa(e,t,n){return n((function(){Ra(t)&&Zu(e,1,-1)}))}function Ra(e){var t=e.getSnapshot;e=e.value;try{var n=t();return!sr(e,n)}catch(r){return!0}}function Aa(e){var t=wa();return"function"===typeof e&&(e=e()),t.memoizedState=t.baseState=e,e={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:xa,lastRenderedState:e},t.queue=e,e=e.dispatch=Ja.bind(null,da,e),[t.memoizedState,e]}function Da(e,t,n,r){return e={tag:e,create:t,destroy:n,deps:r,next:null},null===(t=da.updateQueue)?(t={lastEffect:null,stores:null},da.updateQueue=t,t.lastEffect=e.next=e):null===(n=t.lastEffect)?t.lastEffect=e.next=e:(r=n.next,n.next=e,e.next=r,t.lastEffect=e),e}function La(){return Ia().memoizedState}function Ma(e,t,n,r){var i=wa();da.flags|=e,i.memoizedState=Da(1|t,n,void 0,void 0===r?null:r)}function Fa(e,t,n,r){var i=Ia();r=void 0===r?null:r;var o=void 0;if(null!==fa){var a=fa.memoizedState;if(o=a.destroy,null!==r&&_a(r,a.deps))return void(i.memoizedState=Da(t,n,o,r))}da.flags|=e,i.memoizedState=Da(1|t,n,o,r)}function Ua(e,t){return Ma(8390656,8,e,t)}function ja(e,t){return Fa(2048,8,e,t)}function za(e,t){return Fa(4,2,e,t)}function qa(e,t){return Fa(4,4,e,t)}function Wa(e,t){return"function"===typeof t?(e=e(),t(e),function(){t(null)}):null!==t&&void 0!==t?(e=e(),t.current=e,function(){t.current=null}):void 0}function Va(e,t,n){return n=null!==n&&void 0!==n?n.concat([e]):null,Fa(4,4,Wa.bind(null,t,e),n)}function Ba(){}function Ha(e,t){var n=Ia();t=void 0===t?null:t;var r=n.memoizedState;return null!==r&&null!==t&&_a(t,r[1])?r[0]:(n.memoizedState=[e,t],e)}function Ka(e,t){var n=Ia();t=void 0===t?null:t;var r=n.memoizedState;return null!==r&&null!==t&&_a(t,r[1])?r[0]:(e=e(),n.memoizedState=[e,t],e)}function Ga(e,t,n){return 0===(21&ca)?(e.baseState&&(e.baseState=!1,ks=!0),e.memoizedState=n):(sr(n,t)||(n=vt(),da.lanes|=n,Au|=n,e.baseState=!0),t)}function $a(e,t){var n=_t;_t=0!==n&&4>n?n:4,e(!0);var r=la.transition;la.transition={};try{e(!1),t()}finally{_t=n,la.transition=r}}function Ya(){return Ia().memoizedState}function Qa(e,t,n){var r=Xu(e);n={lane:r,action:n,hasEagerState:!1,eagerState:null,next:null},Xa(e)?Za(t,n):(es(e,t,n),null!==(e=Zu(e,r,n=Ju()))&&ts(e,t,r))}function Ja(e,t,n){var r=Xu(e),i={lane:r,action:n,hasEagerState:!1,eagerState:null,next:null};if(Xa(e))Za(t,i);else{es(e,t,i);var o=e.alternate;if(0===e.lanes&&(null===o||0===o.lanes)&&null!==(o=t.lastRenderedReducer))try{var a=t.lastRenderedState,s=o(a,n);if(i.hasEagerState=!0,i.eagerState=s,sr(s,a))return}catch(u){}null!==(e=Zu(e,r,n=Ju()))&&ts(e,t,r)}}function Xa(e){var t=e.alternate;return e===da||null!==t&&t===da}function Za(e,t){va=pa=!0;var n=e.pending;null===n?t.next=t:(t.next=n.next,n.next=t),e.pending=t}function es(e,t,n){tl(e)?(null===(e=t.interleaved)?(n.next=n,null===eo?eo=[t]:eo.push(t)):(n.next=e.next,e.next=n),t.interleaved=n):(null===(e=t.pending)?n.next=n:(n.next=e.next,e.next=n),t.pending=n)}function ts(e,t,n){if(0!==(4194240&n)){var r=t.lanes;n|=r&=e.pendingLanes,t.lanes=n,gt(e,n)}}var ns={readContext:Zi,useCallback:ga,useContext:ga,useEffect:ga,useImperativeHandle:ga,useInsertionEffect:ga,useLayoutEffect:ga,useMemo:ga,useReducer:ga,useRef:ga,useState:ga,useDebugValue:ga,useDeferredValue:ga,useTransition:ga,useMutableSource:ga,useSyncExternalStore:ga,useId:ga,unstable_isNewReconciler:!1},rs={readContext:Zi,useCallback:function(e,t){return wa().memoizedState=[e,void 0===t?null:t],e},useContext:Zi,useEffect:Ua,useImperativeHandle:function(e,t,n){return n=null!==n&&void 0!==n?n.concat([e]):null,Ma(4194308,4,Wa.bind(null,t,e),n)},useLayoutEffect:function(e,t){return Ma(4194308,4,e,t)},useInsertionEffect:function(e,t){return Ma(4,2,e,t)},useMemo:function(e,t){var n=wa();return t=void 0===t?null:t,e=e(),n.memoizedState=[e,t],e},useReducer:function(e,t,n){var r=wa();return t=void 0!==n?n(t):t,r.memoizedState=r.baseState=t,e={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:e,lastRenderedState:t},r.queue=e,e=e.dispatch=Qa.bind(null,da,e),[r.memoizedState,e]},useRef:function(e){return e={current:e},wa().memoizedState=e},useState:Aa,useDebugValue:Ba,useDeferredValue:function(e){return wa().memoizedState=e},useTransition:function(){var e=Aa(!1),t=e[0];return e=$a.bind(null,e[1]),wa().memoizedState=e,[t,e]},useMutableSource:function(){},useSyncExternalStore:function(e,t,n){var r=da,i=wa();if(Ao){if(void 0===n)throw Error(o(407));n=n()}else{if(n=t(),null===Cu)throw Error(o(349));0!==(30&ca)||Na(r,t,n)}i.memoizedState=n;var a={value:n,getSnapshot:t};return i.queue=a,Ua(Oa.bind(null,r,a,e),[e]),r.flags|=2048,Da(9,Pa.bind(null,r,a,n,t),void 0,null),n},useId:function(){var e=wa(),t=Cu.identifierPrefix;if(Ao){var n=Co;t=":"+t+"R"+(n=(So&~(1<<32-at(So)-1)).toString(32)+n),0<(n=ma++)&&(t+="H"+n.toString(32)),t+=":"}else t=":"+t+"r"+(n=ya++).toString(32)+":";return e.memoizedState=t},unstable_isNewReconciler:!1},is={readContext:Zi,useCallback:Ha,useContext:Zi,useEffect:ja,useImperativeHandle:Va,useInsertionEffect:za,useLayoutEffect:qa,useMemo:Ka,useReducer:Sa,useRef:La,useState:function(){return Sa(xa)},useDebugValue:Ba,useDeferredValue:function(e){return Ga(Ia(),fa.memoizedState,e)},useTransition:function(){return[Sa(xa)[0],Ia().memoizedState]},useMutableSource:Ea,useSyncExternalStore:Ta,useId:Ya,unstable_isNewReconciler:!1},os={readContext:Zi,useCallback:Ha,useContext:Zi,useEffect:ja,useImperativeHandle:Va,useInsertionEffect:za,useLayoutEffect:qa,useMemo:Ka,useReducer:Ca,useRef:La,useState:function(){return Ca(xa)},useDebugValue:Ba,useDeferredValue:function(e){var t=Ia();return null===fa?t.memoizedState=e:Ga(t,fa.memoizedState,e)},useTransition:function(){return[Ca(xa)[0],Ia().memoizedState]},useMutableSource:Ea,useSyncExternalStore:Ta,useId:Ya,unstable_isNewReconciler:!1};function as(e,t){try{var n="",r=t;do{n+=q(r),r=r.return}while(r);var i=n}catch(o){i="\nError generating stack: "+o.message+"\n"+o.stack}return{value:e,source:t,stack:i}}function ss(e,t){try{console.error(t.value)}catch(n){setTimeout((function(){throw n}))}}var us,ls,cs,ds="function"===typeof WeakMap?WeakMap:Map;function fs(e,t,n){(n=io(-1,n)).tag=3,n.payload={element:null};var r=t.value;return n.callback=function(){qu||(qu=!0,Wu=r),ss(0,t)},n}function hs(e,t,n){(n=io(-1,n)).tag=3;var r=e.type.getDerivedStateFromError;if("function"===typeof r){var i=t.value;n.payload=function(){return r(i)},n.callback=function(){ss(0,t)}}var o=e.stateNode;return null!==o&&"function"===typeof o.componentDidCatch&&(n.callback=function(){ss(0,t),"function"!==typeof r&&(null===Vu?Vu=new Set([this]):Vu.add(this));var e=t.stack;this.componentDidCatch(t.value,{componentStack:null!==e?e:""})}),n}function ps(e,t,n){var r=e.pingCache;if(null===r){r=e.pingCache=new ds;var i=new Set;r.set(t,i)}else void 0===(i=r.get(t))&&(i=new Set,r.set(t,i));i.has(n)||(i.add(n),e=xl.bind(null,e,t,n),t.then(e,e))}function vs(e){do{var t;if((t=13===e.tag)&&(t=null===(t=e.memoizedState)||null!==t.dehydrated),t)return e;e=e.return}while(null!==e);return null}function ms(e,t,n,r,i){return 0===(1&e.mode)?(e===t?e.flags|=65536:(e.flags|=128,n.flags|=131072,n.flags&=-52805,1===n.tag&&(null===n.alternate?n.tag=17:((t=io(-1,1)).tag=2,oo(n,t))),n.lanes|=1),e):(e.flags|=65536,e.lanes=i,e)}function ys(e,t){if(!Ao)switch(e.tailMode){case"hidden":t=e.tail;for(var n=null;null!==t;)null!==t.alternate&&(n=t),t=t.sibling;null===n?e.tail=null:n.sibling=null;break;case"collapsed":n=e.tail;for(var r=null;null!==n;)null!==n.alternate&&(r=n),n=n.sibling;null===r?t||null===e.tail?e.tail=null:e.tail.sibling=null:r.sibling=null}}function gs(e){var t=null!==e.alternate&&e.alternate.child===e.child,n=0,r=0;if(t)for(var i=e.child;null!==i;)n|=i.lanes|i.childLanes,r|=14680064&i.subtreeFlags,r|=14680064&i.flags,i.return=e,i=i.sibling;else for(i=e.child;null!==i;)n|=i.lanes|i.childLanes,r|=i.subtreeFlags,r|=i.flags,i.return=e,i=i.sibling;return e.subtreeFlags|=r,e.childLanes=n,t}function _s(e,t,n){var r=t.pendingProps;switch(Po(t),t.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return gs(t),null;case 1:case 17:return Ri(t.type)&&Ai(),gs(t),null;case 3:return r=t.stateNode,ta(),Si(Ni),Si(Ti),sa(),r.pendingContext&&(r.context=r.pendingContext,r.pendingContext=null),null!==e&&null!==e.child||(zo(t)?t.flags|=4:null===e||e.memoizedState.isDehydrated&&0===(256&t.flags)||(t.flags|=1024,null!==Do&&(ol(Do),Do=null))),gs(t),null;case 5:ra(t);var i=Zo(Xo.current);if(n=t.type,null!==e&&null!=t.stateNode)ls(e,t,n,r),e.ref!==t.ref&&(t.flags|=512,t.flags|=2097152);else{if(!r){if(null===t.stateNode)throw Error(o(166));return gs(t),null}if(e=Zo(Qo.current),zo(t)){r=t.stateNode,n=t.type;var a=t.memoizedProps;switch(r[fi]=t,r[hi]=a,e=0!==(1&t.mode),n){case"dialog":jr("cancel",r),jr("close",r);break;case"iframe":case"object":case"embed":jr("load",r);break;case"video":case"audio":for(i=0;i<Lr.length;i++)jr(Lr[i],r);break;case"source":jr("error",r);break;case"img":case"image":case"link":jr("error",r),jr("load",r);break;case"details":jr("toggle",r);break;case"input":Q(r,a),jr("invalid",r);break;case"select":r._wrapperState={wasMultiple:!!a.multiple},jr("invalid",r);break;case"textarea":ie(r,a),jr("invalid",r)}for(var u in ge(n,a),i=null,a)if(a.hasOwnProperty(u)){var l=a[u];"children"===u?"string"===typeof l?r.textContent!==l&&(!0!==a.suppressHydrationWarning&&Xr(r.textContent,l,e),i=["children",l]):"number"===typeof l&&r.textContent!==""+l&&(!0!==a.suppressHydrationWarning&&Xr(r.textContent,l,e),i=["children",""+l]):s.hasOwnProperty(u)&&null!=l&&"onScroll"===u&&jr("scroll",r)}switch(n){case"input":K(r),Z(r,a,!0);break;case"textarea":K(r),ae(r);break;case"select":case"option":break;default:"function"===typeof a.onClick&&(r.onclick=Zr)}r=i,t.updateQueue=r,null!==r&&(t.flags|=4)}else{u=9===i.nodeType?i:i.ownerDocument,"http://www.w3.org/1999/xhtml"===e&&(e=se(n)),"http://www.w3.org/1999/xhtml"===e?"script"===n?((e=u.createElement("div")).innerHTML="<script><\/script>",e=e.removeChild(e.firstChild)):"string"===typeof r.is?e=u.createElement(n,{is:r.is}):(e=u.createElement(n),"select"===n&&(u=e,r.multiple?u.multiple=!0:r.size&&(u.size=r.size))):e=u.createElementNS(e,n),e[fi]=t,e[hi]=r,us(e,t),t.stateNode=e;e:{switch(u=_e(n,r),n){case"dialog":jr("cancel",e),jr("close",e),i=r;break;case"iframe":case"object":case"embed":jr("load",e),i=r;break;case"video":case"audio":for(i=0;i<Lr.length;i++)jr(Lr[i],e);i=r;break;case"source":jr("error",e),i=r;break;case"img":case"image":case"link":jr("error",e),jr("load",e),i=r;break;case"details":jr("toggle",e),i=r;break;case"input":Q(e,r),i=Y(e,r),jr("invalid",e);break;case"option":default:i=r;break;case"select":e._wrapperState={wasMultiple:!!r.multiple},i=F({},r,{value:void 0}),jr("invalid",e);break;case"textarea":ie(e,r),i=re(e,r),jr("invalid",e)}for(a in ge(n,i),l=i)if(l.hasOwnProperty(a)){var c=l[a];"style"===a?me(e,c):"dangerouslySetInnerHTML"===a?null!=(c=c?c.__html:void 0)&&de(e,c):"children"===a?"string"===typeof c?("textarea"!==n||""!==c)&&fe(e,c):"number"===typeof c&&fe(e,""+c):"suppressContentEditableWarning"!==a&&"suppressHydrationWarning"!==a&&"autoFocus"!==a&&(s.hasOwnProperty(a)?null!=c&&"onScroll"===a&&jr("scroll",e):null!=c&&_(e,a,c,u))}switch(n){case"input":K(e),Z(e,r,!1);break;case"textarea":K(e),ae(e);break;case"option":null!=r.value&&e.setAttribute("value",""+B(r.value));break;case"select":e.multiple=!!r.multiple,null!=(a=r.value)?ne(e,!!r.multiple,a,!1):null!=r.defaultValue&&ne(e,!!r.multiple,r.defaultValue,!0);break;default:"function"===typeof i.onClick&&(e.onclick=Zr)}switch(n){case"button":case"input":case"select":case"textarea":r=!!r.autoFocus;break e;case"img":r=!0;break e;default:r=!1}}r&&(t.flags|=4)}null!==t.ref&&(t.flags|=512,t.flags|=2097152)}return gs(t),null;case 6:if(e&&null!=t.stateNode)cs(0,t,e.memoizedProps,r);else{if("string"!==typeof r&&null===t.stateNode)throw Error(o(166));if(n=Zo(Xo.current),Zo(Qo.current),zo(t)){if(r=t.stateNode,n=t.memoizedProps,r[fi]=t,(a=r.nodeValue!==n)&&null!==(e=Oo))switch(e.tag){case 3:Xr(r.nodeValue,n,0!==(1&e.mode));break;case 5:!0!==e.memoizedProps.suppressHydrationWarning&&Xr(r.nodeValue,n,0!==(1&e.mode))}a&&(t.flags|=4)}else(r=(9===n.nodeType?n:n.ownerDocument).createTextNode(r))[fi]=t,t.stateNode=r}return gs(t),null;case 13:if(Si(ia),r=t.memoizedState,Ao&&null!==Ro&&0!==(1&t.mode)&&0===(128&t.flags)){for(r=Ro;r;)r=li(r.nextSibling);return qo(),t.flags|=98560,t}if(null!==r&&null!==r.dehydrated){if(r=zo(t),null===e){if(!r)throw Error(o(318));if(!(r=null!==(r=t.memoizedState)?r.dehydrated:null))throw Error(o(317));r[fi]=t}else qo(),0===(128&t.flags)&&(t.memoizedState=null),t.flags|=4;return gs(t),null}return null!==Do&&(ol(Do),Do=null),0!==(128&t.flags)?(t.lanes=n,t):(r=null!==r,n=!1,null===e?zo(t):n=null!==e.memoizedState,r!==n&&r&&(t.child.flags|=8192,0!==(1&t.mode)&&(null===e||0!==(1&ia.current)?0===Ou&&(Ou=3):pl())),null!==t.updateQueue&&(t.flags|=4),gs(t),null);case 4:return ta(),null===e&&Wr(t.stateNode.containerInfo),gs(t),null;case 10:return Qi(t.type._context),gs(t),null;case 19:if(Si(ia),null===(a=t.memoizedState))return gs(t),null;if(r=0!==(128&t.flags),null===(u=a.rendering))if(r)ys(a,!1);else{if(0!==Ou||null!==e&&0!==(128&e.flags))for(e=t.child;null!==e;){if(null!==(u=oa(e))){for(t.flags|=128,ys(a,!1),null!==(r=u.updateQueue)&&(t.updateQueue=r,t.flags|=4),t.subtreeFlags=0,r=n,n=t.child;null!==n;)e=r,(a=n).flags&=14680066,null===(u=a.alternate)?(a.childLanes=0,a.lanes=e,a.child=null,a.subtreeFlags=0,a.memoizedProps=null,a.memoizedState=null,a.updateQueue=null,a.dependencies=null,a.stateNode=null):(a.childLanes=u.childLanes,a.lanes=u.lanes,a.child=u.child,a.subtreeFlags=0,a.deletions=null,a.memoizedProps=u.memoizedProps,a.memoizedState=u.memoizedState,a.updateQueue=u.updateQueue,a.type=u.type,e=u.dependencies,a.dependencies=null===e?null:{lanes:e.lanes,firstContext:e.firstContext}),n=n.sibling;return Ci(ia,1&ia.current|2),t.child}e=e.sibling}null!==a.tail&&Je()>ju&&(t.flags|=128,r=!0,ys(a,!1),t.lanes=4194304)}else{if(!r)if(null!==(e=oa(u))){if(t.flags|=128,r=!0,null!==(n=e.updateQueue)&&(t.updateQueue=n,t.flags|=4),ys(a,!0),null===a.tail&&"hidden"===a.tailMode&&!u.alternate&&!Ao)return gs(t),null}else 2*Je()-a.renderingStartTime>ju&&1073741824!==n&&(t.flags|=128,r=!0,ys(a,!1),t.lanes=4194304);a.isBackwards?(u.sibling=t.child,t.child=u):(null!==(n=a.last)?n.sibling=u:t.child=u,a.last=u)}return null!==a.tail?(t=a.tail,a.rendering=t,a.tail=t.sibling,a.renderingStartTime=Je(),t.sibling=null,n=ia.current,Ci(ia,r?1&n|2:1&n),t):(gs(t),null);case 22:case 23:return cl(),r=null!==t.memoizedState,null!==e&&null!==e.memoizedState!==r&&(t.flags|=8192),r&&0!==(1&t.mode)?0!==(1073741824&Nu)&&(gs(t),6&t.subtreeFlags&&(t.flags|=8192)):gs(t),null;case 24:case 25:return null}throw Error(o(156,t.tag))}us=function(e,t){for(var n=t.child;null!==n;){if(5===n.tag||6===n.tag)e.appendChild(n.stateNode);else if(4!==n.tag&&null!==n.child){n.child.return=n,n=n.child;continue}if(n===t)break;for(;null===n.sibling;){if(null===n.return||n.return===t)return;n=n.return}n.sibling.return=n.return,n=n.sibling}},ls=function(e,t,n,r){var i=e.memoizedProps;if(i!==r){e=t.stateNode,Zo(Qo.current);var o,a=null;switch(n){case"input":i=Y(e,i),r=Y(e,r),a=[];break;case"select":i=F({},i,{value:void 0}),r=F({},r,{value:void 0}),a=[];break;case"textarea":i=re(e,i),r=re(e,r),a=[];break;default:"function"!==typeof i.onClick&&"function"===typeof r.onClick&&(e.onclick=Zr)}for(c in ge(n,r),n=null,i)if(!r.hasOwnProperty(c)&&i.hasOwnProperty(c)&&null!=i[c])if("style"===c){var u=i[c];for(o in u)u.hasOwnProperty(o)&&(n||(n={}),n[o]="")}else"dangerouslySetInnerHTML"!==c&&"children"!==c&&"suppressContentEditableWarning"!==c&&"suppressHydrationWarning"!==c&&"autoFocus"!==c&&(s.hasOwnProperty(c)?a||(a=[]):(a=a||[]).push(c,null));for(c in r){var l=r[c];if(u=null!=i?i[c]:void 0,r.hasOwnProperty(c)&&l!==u&&(null!=l||null!=u))if("style"===c)if(u){for(o in u)!u.hasOwnProperty(o)||l&&l.hasOwnProperty(o)||(n||(n={}),n[o]="");for(o in l)l.hasOwnProperty(o)&&u[o]!==l[o]&&(n||(n={}),n[o]=l[o])}else n||(a||(a=[]),a.push(c,n)),n=l;else"dangerouslySetInnerHTML"===c?(l=l?l.__html:void 0,u=u?u.__html:void 0,null!=l&&u!==l&&(a=a||[]).push(c,l)):"children"===c?"string"!==typeof l&&"number"!==typeof l||(a=a||[]).push(c,""+l):"suppressContentEditableWarning"!==c&&"suppressHydrationWarning"!==c&&(s.hasOwnProperty(c)?(null!=l&&"onScroll"===c&&jr("scroll",e),a||u===l||(a=[])):(a=a||[]).push(c,l))}n&&(a=a||[]).push("style",n);var c=a;(t.updateQueue=c)&&(t.flags|=4)}},cs=function(e,t,n,r){n!==r&&(t.flags|=4)};var bs=b.ReactCurrentOwner,ks=!1;function ws(e,t,n,r){t.child=null===e?$o(t,null,n,r):Go(t,e.child,n,r)}function Is(e,t,n,r,i){n=n.render;var o=t.ref;return Xi(t,i),r=ba(e,t,n,r,o,i),n=ka(),null===e||ks?(Ao&&n&&No(t),t.flags|=1,ws(e,t,r,i),t.child):(t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~i,Bs(e,t,i))}function xs(e,t,n,r,i){if(null===e){var o=n.type;return"function"!==typeof o||Ol(o)||void 0!==o.defaultProps||null!==n.compare||void 0!==n.defaultProps?((e=Al(n.type,null,r,t,t.mode,i)).ref=t.ref,e.return=t,t.child=e):(t.tag=15,t.type=o,Ss(e,t,o,r,i))}if(o=e.child,0===(e.lanes&i)){var a=o.memoizedProps;if((n=null!==(n=n.compare)?n:ur)(a,r)&&e.ref===t.ref)return Bs(e,t,i)}return t.flags|=1,(e=Rl(o,r)).ref=t.ref,e.return=t,t.child=e}function Ss(e,t,n,r,i){if(null!==e){var o=e.memoizedProps;if(ur(o,r)&&e.ref===t.ref){if(ks=!1,t.pendingProps=r=o,0===(e.lanes&i))return t.lanes=e.lanes,Bs(e,t,i);0!==(131072&e.flags)&&(ks=!0)}}return Ts(e,t,n,r,i)}function Cs(e,t,n){var r=t.pendingProps,i=r.children,o=null!==e?e.memoizedState:null;if("hidden"===r.mode)if(0===(1&t.mode))t.memoizedState={baseLanes:0,cachePool:null,transitions:null},Ci(Pu,Nu),Nu|=n;else{if(0===(1073741824&n))return e=null!==o?o.baseLanes|n:n,t.lanes=t.childLanes=1073741824,t.memoizedState={baseLanes:e,cachePool:null,transitions:null},t.updateQueue=null,Ci(Pu,Nu),Nu|=e,null;t.memoizedState={baseLanes:0,cachePool:null,transitions:null},r=null!==o?o.baseLanes:n,Ci(Pu,Nu),Nu|=r}else null!==o?(r=o.baseLanes|n,t.memoizedState=null):r=n,Ci(Pu,Nu),Nu|=r;return ws(e,t,i,n),t.child}function Es(e,t){var n=t.ref;(null===e&&null!==n||null!==e&&e.ref!==n)&&(t.flags|=512,t.flags|=2097152)}function Ts(e,t,n,r,i){var o=Ri(n)?Pi:Ti.current;return o=Oi(t,o),Xi(t,i),n=ba(e,t,n,r,o,i),r=ka(),null===e||ks?(Ao&&r&&No(t),t.flags|=1,ws(e,t,n,i),t.child):(t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~i,Bs(e,t,i))}function Ns(e,t,n,r,i){if(Ri(n)){var o=!0;Mi(t)}else o=!1;if(Xi(t,i),null===t.stateNode)null!==e&&(e.alternate=null,t.alternate=null,t.flags|=2),vo(t,n,r),yo(t,n,r,i),r=!0;else if(null===e){var a=t.stateNode,s=t.memoizedProps;a.props=s;var u=a.context,l=n.contextType;"object"===typeof l&&null!==l?l=Zi(l):l=Oi(t,l=Ri(n)?Pi:Ti.current);var c=n.getDerivedStateFromProps,d="function"===typeof c||"function"===typeof a.getSnapshotBeforeUpdate;d||"function"!==typeof a.UNSAFE_componentWillReceiveProps&&"function"!==typeof a.componentWillReceiveProps||(s!==r||u!==l)&&mo(t,a,r,l),to=!1;var f=t.memoizedState;a.state=f,uo(t,r,a,i),u=t.memoizedState,s!==r||f!==u||Ni.current||to?("function"===typeof c&&(fo(t,n,c,r),u=t.memoizedState),(s=to||po(t,n,s,r,f,u,l))?(d||"function"!==typeof a.UNSAFE_componentWillMount&&"function"!==typeof a.componentWillMount||("function"===typeof a.componentWillMount&&a.componentWillMount(),"function"===typeof a.UNSAFE_componentWillMount&&a.UNSAFE_componentWillMount()),"function"===typeof a.componentDidMount&&(t.flags|=4194308)):("function"===typeof a.componentDidMount&&(t.flags|=4194308),t.memoizedProps=r,t.memoizedState=u),a.props=r,a.state=u,a.context=l,r=s):("function"===typeof a.componentDidMount&&(t.flags|=4194308),r=!1)}else{a=t.stateNode,ro(e,t),s=t.memoizedProps,l=t.type===t.elementType?s:Bi(t.type,s),a.props=l,d=t.pendingProps,f=a.context,"object"===typeof(u=n.contextType)&&null!==u?u=Zi(u):u=Oi(t,u=Ri(n)?Pi:Ti.current);var h=n.getDerivedStateFromProps;(c="function"===typeof h||"function"===typeof a.getSnapshotBeforeUpdate)||"function"!==typeof a.UNSAFE_componentWillReceiveProps&&"function"!==typeof a.componentWillReceiveProps||(s!==d||f!==u)&&mo(t,a,r,u),to=!1,f=t.memoizedState,a.state=f,uo(t,r,a,i);var p=t.memoizedState;s!==d||f!==p||Ni.current||to?("function"===typeof h&&(fo(t,n,h,r),p=t.memoizedState),(l=to||po(t,n,l,r,f,p,u)||!1)?(c||"function"!==typeof a.UNSAFE_componentWillUpdate&&"function"!==typeof a.componentWillUpdate||("function"===typeof a.componentWillUpdate&&a.componentWillUpdate(r,p,u),"function"===typeof a.UNSAFE_componentWillUpdate&&a.UNSAFE_componentWillUpdate(r,p,u)),"function"===typeof a.componentDidUpdate&&(t.flags|=4),"function"===typeof a.getSnapshotBeforeUpdate&&(t.flags|=1024)):("function"!==typeof a.componentDidUpdate||s===e.memoizedProps&&f===e.memoizedState||(t.flags|=4),"function"!==typeof a.getSnapshotBeforeUpdate||s===e.memoizedProps&&f===e.memoizedState||(t.flags|=1024),t.memoizedProps=r,t.memoizedState=p),a.props=r,a.state=p,a.context=u,r=l):("function"!==typeof a.componentDidUpdate||s===e.memoizedProps&&f===e.memoizedState||(t.flags|=4),"function"!==typeof a.getSnapshotBeforeUpdate||s===e.memoizedProps&&f===e.memoizedState||(t.flags|=1024),r=!1)}return Ps(e,t,n,r,o,i)}function Ps(e,t,n,r,i,o){Es(e,t);var a=0!==(128&t.flags);if(!r&&!a)return i&&Fi(t,n,!1),Bs(e,t,o);r=t.stateNode,bs.current=t;var s=a&&"function"!==typeof n.getDerivedStateFromError?null:r.render();return t.flags|=1,null!==e&&a?(t.child=Go(t,e.child,null,o),t.child=Go(t,null,s,o)):ws(e,t,s,o),t.memoizedState=r.state,i&&Fi(t,n,!0),t.child}function Os(e){var t=e.stateNode;t.pendingContext?Di(0,t.pendingContext,t.pendingContext!==t.context):t.context&&Di(0,t.context,!1),ea(e,t.containerInfo)}function Rs(e,t,n,r,i){return qo(),Wo(i),t.flags|=256,ws(e,t,n,r),t.child}var As={dehydrated:null,treeContext:null,retryLane:0};function Ds(e){return{baseLanes:e,cachePool:null,transitions:null}}function Ls(e,t){return{baseLanes:e.baseLanes|t,cachePool:null,transitions:e.transitions}}function Ms(e,t,n){var r,i=t.pendingProps,a=ia.current,s=!1,u=0!==(128&t.flags);if((r=u)||(r=(null===e||null!==e.memoizedState)&&0!==(2&a)),r?(s=!0,t.flags&=-129):null!==e&&null===e.memoizedState||(a|=1),Ci(ia,1&a),null===e)return Uo(t),null!==(e=t.memoizedState)&&null!==(e=e.dehydrated)?(0===(1&t.mode)?t.lanes=1:"$!"===e.data?t.lanes=8:t.lanes=1073741824,null):(a=i.children,e=i.fallback,s?(i=t.mode,s=t.child,a={mode:"hidden",children:a},0===(1&i)&&null!==s?(s.childLanes=0,s.pendingProps=a):s=Ll(a,i,0,null),e=Dl(e,i,n,null),s.return=t,e.return=t,s.sibling=e,t.child=s,t.child.memoizedState=Ds(n),t.memoizedState=As,e):Fs(t,a));if(null!==(a=e.memoizedState)){if(null!==(r=a.dehydrated)){if(u)return 256&t.flags?(t.flags&=-257,zs(e,t,n,Error(o(422)))):null!==t.memoizedState?(t.child=e.child,t.flags|=128,null):(s=i.fallback,a=t.mode,i=Ll({mode:"visible",children:i.children},a,0,null),(s=Dl(s,a,n,null)).flags|=2,i.return=t,s.return=t,i.sibling=s,t.child=i,0!==(1&t.mode)&&Go(t,e.child,null,n),t.child.memoizedState=Ds(n),t.memoizedState=As,s);if(0===(1&t.mode))t=zs(e,t,n,null);else if("$!"===r.data)t=zs(e,t,n,Error(o(419)));else if(i=0!==(n&e.childLanes),ks||i){if(null!==(i=Cu)){switch(n&-n){case 4:s=2;break;case 16:s=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:s=32;break;case 536870912:s=268435456;break;default:s=0}0!==(i=0!==(s&(i.suspendedLanes|n))?0:s)&&i!==a.retryLane&&(a.retryLane=i,Zu(e,i,-1))}pl(),t=zs(e,t,n,Error(o(421)))}else"$?"===r.data?(t.flags|=128,t.child=e.child,t=Cl.bind(null,e),r._reactRetry=t,t=null):(n=a.treeContext,Ro=li(r.nextSibling),Oo=t,Ao=!0,Do=null,null!==n&&(wo[Io++]=So,wo[Io++]=Co,wo[Io++]=xo,So=n.id,Co=n.overflow,xo=t),(t=Fs(t,t.pendingProps.children)).flags|=4096);return t}return s?(i=js(e,t,i.children,i.fallback,n),s=t.child,a=e.child.memoizedState,s.memoizedState=null===a?Ds(n):Ls(a,n),s.childLanes=e.childLanes&~n,t.memoizedState=As,i):(n=Us(e,t,i.children,n),t.memoizedState=null,n)}return s?(i=js(e,t,i.children,i.fallback,n),s=t.child,a=e.child.memoizedState,s.memoizedState=null===a?Ds(n):Ls(a,n),s.childLanes=e.childLanes&~n,t.memoizedState=As,i):(n=Us(e,t,i.children,n),t.memoizedState=null,n)}function Fs(e,t){return(t=Ll({mode:"visible",children:t},e.mode,0,null)).return=e,e.child=t}function Us(e,t,n,r){var i=e.child;return e=i.sibling,n=Rl(i,{mode:"visible",children:n}),0===(1&t.mode)&&(n.lanes=r),n.return=t,n.sibling=null,null!==e&&(null===(r=t.deletions)?(t.deletions=[e],t.flags|=16):r.push(e)),t.child=n}function js(e,t,n,r,i){var o=t.mode,a=(e=e.child).sibling,s={mode:"hidden",children:n};return 0===(1&o)&&t.child!==e?((n=t.child).childLanes=0,n.pendingProps=s,t.deletions=null):(n=Rl(e,s)).subtreeFlags=14680064&e.subtreeFlags,null!==a?r=Rl(a,r):(r=Dl(r,o,i,null)).flags|=2,r.return=t,n.return=t,n.sibling=r,t.child=n,r}function zs(e,t,n,r){return null!==r&&Wo(r),Go(t,e.child,null,n),(e=Fs(t,t.pendingProps.children)).flags|=2,t.memoizedState=null,e}function qs(e,t,n){e.lanes|=t;var r=e.alternate;null!==r&&(r.lanes|=t),Ji(e.return,t,n)}function Ws(e,t,n,r,i){var o=e.memoizedState;null===o?e.memoizedState={isBackwards:t,rendering:null,renderingStartTime:0,last:r,tail:n,tailMode:i}:(o.isBackwards=t,o.rendering=null,o.renderingStartTime=0,o.last=r,o.tail=n,o.tailMode=i)}function Vs(e,t,n){var r=t.pendingProps,i=r.revealOrder,o=r.tail;if(ws(e,t,r.children,n),0!==(2&(r=ia.current)))r=1&r|2,t.flags|=128;else{if(null!==e&&0!==(128&e.flags))e:for(e=t.child;null!==e;){if(13===e.tag)null!==e.memoizedState&&qs(e,n,t);else if(19===e.tag)qs(e,n,t);else if(null!==e.child){e.child.return=e,e=e.child;continue}if(e===t)break e;for(;null===e.sibling;){if(null===e.return||e.return===t)break e;e=e.return}e.sibling.return=e.return,e=e.sibling}r&=1}if(Ci(ia,r),0===(1&t.mode))t.memoizedState=null;else switch(i){case"forwards":for(n=t.child,i=null;null!==n;)null!==(e=n.alternate)&&null===oa(e)&&(i=n),n=n.sibling;null===(n=i)?(i=t.child,t.child=null):(i=n.sibling,n.sibling=null),Ws(t,!1,i,n,o);break;case"backwards":for(n=null,i=t.child,t.child=null;null!==i;){if(null!==(e=i.alternate)&&null===oa(e)){t.child=i;break}e=i.sibling,i.sibling=n,n=i,i=e}Ws(t,!0,n,null,o);break;case"together":Ws(t,!1,null,null,void 0);break;default:t.memoizedState=null}return t.child}function Bs(e,t,n){if(null!==e&&(t.dependencies=e.dependencies),Au|=t.lanes,0===(n&t.childLanes))return null;if(null!==e&&t.child!==e.child)throw Error(o(153));if(null!==t.child){for(n=Rl(e=t.child,e.pendingProps),t.child=n,n.return=t;null!==e.sibling;)e=e.sibling,(n=n.sibling=Rl(e,e.pendingProps)).return=t;n.sibling=null}return t.child}function Hs(e,t){switch(Po(t),t.tag){case 1:return Ri(t.type)&&Ai(),65536&(e=t.flags)?(t.flags=-65537&e|128,t):null;case 3:return ta(),Si(Ni),Si(Ti),sa(),0!==(65536&(e=t.flags))&&0===(128&e)?(t.flags=-65537&e|128,t):null;case 5:return ra(t),null;case 13:if(Si(ia),null!==(e=t.memoizedState)&&null!==e.dehydrated){if(null===t.alternate)throw Error(o(340));qo()}return 65536&(e=t.flags)?(t.flags=-65537&e|128,t):null;case 19:return Si(ia),null;case 4:return ta(),null;case 10:return Qi(t.type._context),null;case 22:case 23:return cl(),null;default:return null}}var Ks=!1,Gs=!1,$s="function"===typeof WeakSet?WeakSet:Set,Ys=null;function Qs(e,t){var n=e.ref;if(null!==n)if("function"===typeof n)try{n(null)}catch(r){Il(e,t,r)}else n.current=null}function Js(e,t,n){try{n()}catch(r){Il(e,t,r)}}var Xs=!1;function Zs(e,t,n){var r=t.updateQueue;if(null!==(r=null!==r?r.lastEffect:null)){var i=r=r.next;do{if((i.tag&e)===e){var o=i.destroy;i.destroy=void 0,void 0!==o&&Js(t,n,o)}i=i.next}while(i!==r)}}function eu(e,t){if(null!==(t=null!==(t=t.updateQueue)?t.lastEffect:null)){var n=t=t.next;do{if((n.tag&e)===e){var r=n.create;n.destroy=r()}n=n.next}while(n!==t)}}function tu(e){var t=e.ref;if(null!==t){var n=e.stateNode;e.tag,e=n,"function"===typeof t?t(e):t.current=e}}function nu(e){var t=e.alternate;null!==t&&(e.alternate=null,nu(t)),e.child=null,e.deletions=null,e.sibling=null,5===e.tag&&(null!==(t=e.stateNode)&&(delete t[fi],delete t[hi],delete t[vi],delete t[mi],delete t[yi])),e.stateNode=null,e.return=null,e.dependencies=null,e.memoizedProps=null,e.memoizedState=null,e.pendingProps=null,e.stateNode=null,e.updateQueue=null}function ru(e){return 5===e.tag||3===e.tag||4===e.tag}function iu(e){e:for(;;){for(;null===e.sibling;){if(null===e.return||ru(e.return))return null;e=e.return}for(e.sibling.return=e.return,e=e.sibling;5!==e.tag&&6!==e.tag&&18!==e.tag;){if(2&e.flags)continue e;if(null===e.child||4===e.tag)continue e;e.child.return=e,e=e.child}if(!(2&e.flags))return e.stateNode}}function ou(e,t,n){var r=e.tag;if(5===r||6===r)e=e.stateNode,t?8===n.nodeType?n.parentNode.insertBefore(e,t):n.insertBefore(e,t):(8===n.nodeType?(t=n.parentNode).insertBefore(e,n):(t=n).appendChild(e),null!==(n=n._reactRootContainer)&&void 0!==n||null!==t.onclick||(t.onclick=Zr));else if(4!==r&&null!==(e=e.child))for(ou(e,t,n),e=e.sibling;null!==e;)ou(e,t,n),e=e.sibling}function au(e,t,n){var r=e.tag;if(5===r||6===r)e=e.stateNode,t?n.insertBefore(e,t):n.appendChild(e);else if(4!==r&&null!==(e=e.child))for(au(e,t,n),e=e.sibling;null!==e;)au(e,t,n),e=e.sibling}var su=null,uu=!1;function lu(e,t,n){for(n=n.child;null!==n;)cu(e,t,n),n=n.sibling}function cu(e,t,n){if(ot&&"function"===typeof ot.onCommitFiberUnmount)try{ot.onCommitFiberUnmount(it,n)}catch(s){}switch(n.tag){case 5:Gs||Qs(n,t);case 6:var r=su,i=uu;su=null,lu(e,t,n),uu=i,null!==(su=r)&&(uu?(e=su,n=n.stateNode,8===e.nodeType?e.parentNode.removeChild(n):e.removeChild(n)):su.removeChild(n.stateNode));break;case 18:null!==su&&(uu?(e=su,n=n.stateNode,8===e.nodeType?ui(e.parentNode,n):1===e.nodeType&&ui(e,n),Wt(e)):ui(su,n.stateNode));break;case 4:r=su,i=uu,su=n.stateNode.containerInfo,uu=!0,lu(e,t,n),su=r,uu=i;break;case 0:case 11:case 14:case 15:if(!Gs&&(null!==(r=n.updateQueue)&&null!==(r=r.lastEffect))){i=r=r.next;do{var o=i,a=o.destroy;o=o.tag,void 0!==a&&(0!==(2&o)||0!==(4&o))&&Js(n,t,a),i=i.next}while(i!==r)}lu(e,t,n);break;case 1:if(!Gs&&(Qs(n,t),"function"===typeof(r=n.stateNode).componentWillUnmount))try{r.props=n.memoizedProps,r.state=n.memoizedState,r.componentWillUnmount()}catch(s){Il(n,t,s)}lu(e,t,n);break;case 21:lu(e,t,n);break;case 22:1&n.mode?(Gs=(r=Gs)||null!==n.memoizedState,lu(e,t,n),Gs=r):lu(e,t,n);break;default:lu(e,t,n)}}function du(e){var t=e.updateQueue;if(null!==t){e.updateQueue=null;var n=e.stateNode;null===n&&(n=e.stateNode=new $s),t.forEach((function(t){var r=El.bind(null,e,t);n.has(t)||(n.add(t),t.then(r,r))}))}}function fu(e,t){var n=t.deletions;if(null!==n)for(var r=0;r<n.length;r++){var i=n[r];try{var a=e,s=t,u=s;e:for(;null!==u;){switch(u.tag){case 5:su=u.stateNode,uu=!1;break e;case 3:case 4:su=u.stateNode.containerInfo,uu=!0;break e}u=u.return}if(null===su)throw Error(o(160));cu(a,s,i),su=null,uu=!1;var l=i.alternate;null!==l&&(l.return=null),i.return=null}catch(c){Il(i,t,c)}}if(12854&t.subtreeFlags)for(t=t.child;null!==t;)hu(t,e),t=t.sibling}function hu(e,t){var n=e.alternate,r=e.flags;switch(e.tag){case 0:case 11:case 14:case 15:if(fu(t,e),pu(e),4&r){try{Zs(3,e,e.return),eu(3,e)}catch(v){Il(e,e.return,v)}try{Zs(5,e,e.return)}catch(v){Il(e,e.return,v)}}break;case 1:fu(t,e),pu(e),512&r&&null!==n&&Qs(n,n.return);break;case 5:if(fu(t,e),pu(e),512&r&&null!==n&&Qs(n,n.return),32&e.flags){var i=e.stateNode;try{fe(i,"")}catch(v){Il(e,e.return,v)}}if(4&r&&null!=(i=e.stateNode)){var a=e.memoizedProps,s=null!==n?n.memoizedProps:a,u=e.type,l=e.updateQueue;if(e.updateQueue=null,null!==l)try{"input"===u&&"radio"===a.type&&null!=a.name&&J(i,a),_e(u,s);var c=_e(u,a);for(s=0;s<l.length;s+=2){var d=l[s],f=l[s+1];"style"===d?me(i,f):"dangerouslySetInnerHTML"===d?de(i,f):"children"===d?fe(i,f):_(i,d,f,c)}switch(u){case"input":X(i,a);break;case"textarea":oe(i,a);break;case"select":var h=i._wrapperState.wasMultiple;i._wrapperState.wasMultiple=!!a.multiple;var p=a.value;null!=p?ne(i,!!a.multiple,p,!1):h!==!!a.multiple&&(null!=a.defaultValue?ne(i,!!a.multiple,a.defaultValue,!0):ne(i,!!a.multiple,a.multiple?[]:"",!1))}i[hi]=a}catch(v){Il(e,e.return,v)}}break;case 6:if(fu(t,e),pu(e),4&r){if(null===e.stateNode)throw Error(o(162));c=e.stateNode,d=e.memoizedProps;try{c.nodeValue=d}catch(v){Il(e,e.return,v)}}break;case 3:if(fu(t,e),pu(e),4&r&&null!==n&&n.memoizedState.isDehydrated)try{Wt(t.containerInfo)}catch(v){Il(e,e.return,v)}break;case 4:default:fu(t,e),pu(e);break;case 13:fu(t,e),pu(e),8192&(c=e.child).flags&&null!==c.memoizedState&&(null===c.alternate||null===c.alternate.memoizedState)&&(Uu=Je()),4&r&&du(e);break;case 22:if(c=null!==n&&null!==n.memoizedState,1&e.mode?(Gs=(d=Gs)||c,fu(t,e),Gs=d):fu(t,e),pu(e),8192&r){d=null!==e.memoizedState;e:for(f=null,h=e;;){if(5===h.tag){if(null===f){f=h;try{i=h.stateNode,d?"function"===typeof(a=i.style).setProperty?a.setProperty("display","none","important"):a.display="none":(u=h.stateNode,s=void 0!==(l=h.memoizedProps.style)&&null!==l&&l.hasOwnProperty("display")?l.display:null,u.style.display=ve("display",s))}catch(v){Il(e,e.return,v)}}}else if(6===h.tag){if(null===f)try{h.stateNode.nodeValue=d?"":h.memoizedProps}catch(v){Il(e,e.return,v)}}else if((22!==h.tag&&23!==h.tag||null===h.memoizedState||h===e)&&null!==h.child){h.child.return=h,h=h.child;continue}if(h===e)break e;for(;null===h.sibling;){if(null===h.return||h.return===e)break e;f===h&&(f=null),h=h.return}f===h&&(f=null),h.sibling.return=h.return,h=h.sibling}if(d&&!c&&0!==(1&e.mode))for(Ys=e,e=e.child;null!==e;){for(c=Ys=e;null!==Ys;){switch(f=(d=Ys).child,d.tag){case 0:case 11:case 14:case 15:Zs(4,d,d.return);break;case 1:if(Qs(d,d.return),"function"===typeof(a=d.stateNode).componentWillUnmount){h=d,p=d.return;try{i=h,a.props=i.memoizedProps,a.state=i.memoizedState,a.componentWillUnmount()}catch(v){Il(h,p,v)}}break;case 5:Qs(d,d.return);break;case 22:if(null!==d.memoizedState){gu(c);continue}}null!==f?(f.return=d,Ys=f):gu(c)}e=e.sibling}}break;case 19:fu(t,e),pu(e),4&r&&du(e);case 21:}}function pu(e){var t=e.flags;if(2&t){try{e:{for(var n=e.return;null!==n;){if(ru(n)){var r=n;break e}n=n.return}throw Error(o(160))}switch(r.tag){case 5:var i=r.stateNode;32&r.flags&&(fe(i,""),r.flags&=-33),au(e,iu(e),i);break;case 3:case 4:var a=r.stateNode.containerInfo;ou(e,iu(e),a);break;default:throw Error(o(161))}}catch(s){Il(e,e.return,s)}e.flags&=-3}4096&t&&(e.flags&=-4097)}function vu(e,t,n){Ys=e,mu(e,t,n)}function mu(e,t,n){for(var r=0!==(1&e.mode);null!==Ys;){var i=Ys,o=i.child;if(22===i.tag&&r){var a=null!==i.memoizedState||Ks;if(!a){var s=i.alternate,u=null!==s&&null!==s.memoizedState||Gs;s=Ks;var l=Gs;if(Ks=a,(Gs=u)&&!l)for(Ys=i;null!==Ys;)u=(a=Ys).child,22===a.tag&&null!==a.memoizedState?_u(i):null!==u?(u.return=a,Ys=u):_u(i);for(;null!==o;)Ys=o,mu(o,t,n),o=o.sibling;Ys=i,Ks=s,Gs=l}yu(e)}else 0!==(8772&i.subtreeFlags)&&null!==o?(o.return=i,Ys=o):yu(e)}}function yu(e){for(;null!==Ys;){var t=Ys;if(0!==(8772&t.flags)){var n=t.alternate;try{if(0!==(8772&t.flags))switch(t.tag){case 0:case 11:case 15:Gs||eu(5,t);break;case 1:var r=t.stateNode;if(4&t.flags&&!Gs)if(null===n)r.componentDidMount();else{var i=t.elementType===t.type?n.memoizedProps:Bi(t.type,n.memoizedProps);r.componentDidUpdate(i,n.memoizedState,r.__reactInternalSnapshotBeforeUpdate)}var a=t.updateQueue;null!==a&&lo(t,a,r);break;case 3:var s=t.updateQueue;if(null!==s){if(n=null,null!==t.child)switch(t.child.tag){case 5:case 1:n=t.child.stateNode}lo(t,s,n)}break;case 5:var u=t.stateNode;if(null===n&&4&t.flags){n=u;var l=t.memoizedProps;switch(t.type){case"button":case"input":case"select":case"textarea":l.autoFocus&&n.focus();break;case"img":l.src&&(n.src=l.src)}}break;case 6:case 4:case 12:case 19:case 17:case 21:case 22:case 23:break;case 13:if(null===t.memoizedState){var c=t.alternate;if(null!==c){var d=c.memoizedState;if(null!==d){var f=d.dehydrated;null!==f&&Wt(f)}}}break;default:throw Error(o(163))}Gs||512&t.flags&&tu(t)}catch(h){Il(t,t.return,h)}}if(t===e){Ys=null;break}if(null!==(n=t.sibling)){n.return=t.return,Ys=n;break}Ys=t.return}}function gu(e){for(;null!==Ys;){var t=Ys;if(t===e){Ys=null;break}var n=t.sibling;if(null!==n){n.return=t.return,Ys=n;break}Ys=t.return}}function _u(e){for(;null!==Ys;){var t=Ys;try{switch(t.tag){case 0:case 11:case 15:var n=t.return;try{eu(4,t)}catch(u){Il(t,n,u)}break;case 1:var r=t.stateNode;if("function"===typeof r.componentDidMount){var i=t.return;try{r.componentDidMount()}catch(u){Il(t,i,u)}}var o=t.return;try{tu(t)}catch(u){Il(t,o,u)}break;case 5:var a=t.return;try{tu(t)}catch(u){Il(t,a,u)}}}catch(u){Il(t,t.return,u)}if(t===e){Ys=null;break}var s=t.sibling;if(null!==s){s.return=t.return,Ys=s;break}Ys=t.return}}var bu,ku=Math.ceil,wu=b.ReactCurrentDispatcher,Iu=b.ReactCurrentOwner,xu=b.ReactCurrentBatchConfig,Su=0,Cu=null,Eu=null,Tu=0,Nu=0,Pu=xi(0),Ou=0,Ru=null,Au=0,Du=0,Lu=0,Mu=null,Fu=null,Uu=0,ju=1/0,zu=null,qu=!1,Wu=null,Vu=null,Bu=!1,Hu=null,Ku=0,Gu=0,$u=null,Yu=-1,Qu=0;function Ju(){return 0!==(6&Su)?Je():-1!==Yu?Yu:Yu=Je()}function Xu(e){return 0===(1&e.mode)?1:0!==(2&Su)&&0!==Tu?Tu&-Tu:null!==Vi.transition?(0===Qu&&(Qu=vt()),Qu):0!==(e=_t)?e:e=void 0===(e=window.event)?16:Qt(e.type)}function Zu(e,t,n){if(50<Gu)throw Gu=0,$u=null,Error(o(185));var r=el(e,t);return null===r?null:(yt(r,t,n),0!==(2&Su)&&r===Cu||(r===Cu&&(0===(2&Su)&&(Du|=t),4===Ou&&al(r,Tu)),nl(r,n),1===t&&0===Su&&0===(1&e.mode)&&(ju=Je()+500,ji&&Wi())),r)}function el(e,t){e.lanes|=t;var n=e.alternate;for(null!==n&&(n.lanes|=t),n=e,e=e.return;null!==e;)e.childLanes|=t,null!==(n=e.alternate)&&(n.childLanes|=t),n=e,e=e.return;return 3===n.tag?n.stateNode:null}function tl(e){return(null!==Cu||null!==eo)&&0!==(1&e.mode)&&0===(2&Su)}function nl(e,t){var n=e.callbackNode;!function(e,t){for(var n=e.suspendedLanes,r=e.pingedLanes,i=e.expirationTimes,o=e.pendingLanes;0<o;){var a=31-at(o),s=1<<a,u=i[a];-1===u?0!==(s&n)&&0===(s&r)||(i[a]=ht(s,t)):u<=t&&(e.expiredLanes|=s),o&=~s}}(e,t);var r=ft(e,e===Cu?Tu:0);if(0===r)null!==n&&$e(n),e.callbackNode=null,e.callbackPriority=0;else if(t=r&-r,e.callbackPriority!==t){if(null!=n&&$e(n),1===t)0===e.tag?function(e){ji=!0,qi(e)}(sl.bind(null,e)):qi(sl.bind(null,e)),ai((function(){0===Su&&Wi()})),n=null;else{switch(bt(r)){case 1:n=Ze;break;case 4:n=et;break;case 16:default:n=tt;break;case 536870912:n=rt}n=Tl(n,rl.bind(null,e))}e.callbackPriority=t,e.callbackNode=n}}function rl(e,t){if(Yu=-1,Qu=0,0!==(6&Su))throw Error(o(327));var n=e.callbackNode;if(kl()&&e.callbackNode!==n)return null;var r=ft(e,e===Cu?Tu:0);if(0===r)return null;if(0!==(30&r)||0!==(r&e.expiredLanes)||t)t=vl(e,r);else{t=r;var i=Su;Su|=2;var a=hl();for(Cu===e&&Tu===t||(zu=null,ju=Je()+500,dl(e,t));;)try{yl();break}catch(u){fl(e,u)}Yi(),wu.current=a,Su=i,null!==Eu?t=0:(Cu=null,Tu=0,t=Ou)}if(0!==t){if(2===t&&(0!==(i=pt(e))&&(r=i,t=il(e,i))),1===t)throw n=Ru,dl(e,0),al(e,r),nl(e,Je()),n;if(6===t)al(e,r);else{if(i=e.current.alternate,0===(30&r)&&!function(e){for(var t=e;;){if(16384&t.flags){var n=t.updateQueue;if(null!==n&&null!==(n=n.stores))for(var r=0;r<n.length;r++){var i=n[r],o=i.getSnapshot;i=i.value;try{if(!sr(o(),i))return!1}catch(s){return!1}}}if(n=t.child,16384&t.subtreeFlags&&null!==n)n.return=t,t=n;else{if(t===e)break;for(;null===t.sibling;){if(null===t.return||t.return===e)return!0;t=t.return}t.sibling.return=t.return,t=t.sibling}}return!0}(i)&&(2===(t=vl(e,r))&&(0!==(a=pt(e))&&(r=a,t=il(e,a))),1===t))throw n=Ru,dl(e,0),al(e,r),nl(e,Je()),n;switch(e.finishedWork=i,e.finishedLanes=r,t){case 0:case 1:throw Error(o(345));case 2:case 5:bl(e,Fu,zu);break;case 3:if(al(e,r),(130023424&r)===r&&10<(t=Uu+500-Je())){if(0!==ft(e,0))break;if(((i=e.suspendedLanes)&r)!==r){Ju(),e.pingedLanes|=e.suspendedLanes&i;break}e.timeoutHandle=ri(bl.bind(null,e,Fu,zu),t);break}bl(e,Fu,zu);break;case 4:if(al(e,r),(4194240&r)===r)break;for(t=e.eventTimes,i=-1;0<r;){var s=31-at(r);a=1<<s,(s=t[s])>i&&(i=s),r&=~a}if(r=i,10<(r=(120>(r=Je()-r)?120:480>r?480:1080>r?1080:1920>r?1920:3e3>r?3e3:4320>r?4320:1960*ku(r/1960))-r)){e.timeoutHandle=ri(bl.bind(null,e,Fu,zu),r);break}bl(e,Fu,zu);break;default:throw Error(o(329))}}}return nl(e,Je()),e.callbackNode===n?rl.bind(null,e):null}function il(e,t){var n=Mu;return e.current.memoizedState.isDehydrated&&(dl(e,t).flags|=256),2!==(e=vl(e,t))&&(t=Fu,Fu=n,null!==t&&ol(t)),e}function ol(e){null===Fu?Fu=e:Fu.push.apply(Fu,e)}function al(e,t){for(t&=~Lu,t&=~Du,e.suspendedLanes|=t,e.pingedLanes&=~t,e=e.expirationTimes;0<t;){var n=31-at(t),r=1<<n;e[n]=-1,t&=~r}}function sl(e){if(0!==(6&Su))throw Error(o(327));kl();var t=ft(e,0);if(0===(1&t))return nl(e,Je()),null;var n=vl(e,t);if(0!==e.tag&&2===n){var r=pt(e);0!==r&&(t=r,n=il(e,r))}if(1===n)throw n=Ru,dl(e,0),al(e,t),nl(e,Je()),n;if(6===n)throw Error(o(345));return e.finishedWork=e.current.alternate,e.finishedLanes=t,bl(e,Fu,zu),nl(e,Je()),null}function ul(e,t){var n=Su;Su|=1;try{return e(t)}finally{0===(Su=n)&&(ju=Je()+500,ji&&Wi())}}function ll(e){null!==Hu&&0===Hu.tag&&0===(6&Su)&&kl();var t=Su;Su|=1;var n=xu.transition,r=_t;try{if(xu.transition=null,_t=1,e)return e()}finally{_t=r,xu.transition=n,0===(6&(Su=t))&&Wi()}}function cl(){Nu=Pu.current,Si(Pu)}function dl(e,t){e.finishedWork=null,e.finishedLanes=0;var n=e.timeoutHandle;if(-1!==n&&(e.timeoutHandle=-1,ii(n)),null!==Eu)for(n=Eu.return;null!==n;){var r=n;switch(Po(r),r.tag){case 1:null!==(r=r.type.childContextTypes)&&void 0!==r&&Ai();break;case 3:ta(),Si(Ni),Si(Ti),sa();break;case 5:ra(r);break;case 4:ta();break;case 13:case 19:Si(ia);break;case 10:Qi(r.type._context);break;case 22:case 23:cl()}n=n.return}if(Cu=e,Eu=e=Rl(e.current,null),Tu=Nu=t,Ou=0,Ru=null,Lu=Du=Au=0,Fu=Mu=null,null!==eo){for(t=0;t<eo.length;t++)if(null!==(r=(n=eo[t]).interleaved)){n.interleaved=null;var i=r.next,o=n.pending;if(null!==o){var a=o.next;o.next=i,r.next=a}n.pending=r}eo=null}return e}function fl(e,t){for(;;){var n=Eu;try{if(Yi(),ua.current=ns,pa){for(var r=da.memoizedState;null!==r;){var i=r.queue;null!==i&&(i.pending=null),r=r.next}pa=!1}if(ca=0,ha=fa=da=null,va=!1,ma=0,Iu.current=null,null===n||null===n.return){Ou=1,Ru=t,Eu=null;break}e:{var a=e,s=n.return,u=n,l=t;if(t=Tu,u.flags|=32768,null!==l&&"object"===typeof l&&"function"===typeof l.then){var c=l,d=u,f=d.tag;if(0===(1&d.mode)&&(0===f||11===f||15===f)){var h=d.alternate;h?(d.updateQueue=h.updateQueue,d.memoizedState=h.memoizedState,d.lanes=h.lanes):(d.updateQueue=null,d.memoizedState=null)}var p=vs(s);if(null!==p){p.flags&=-257,ms(p,s,u,0,t),1&p.mode&&ps(a,c,t),l=c;var v=(t=p).updateQueue;if(null===v){var m=new Set;m.add(l),t.updateQueue=m}else v.add(l);break e}if(0===(1&t)){ps(a,c,t),pl();break e}l=Error(o(426))}else if(Ao&&1&u.mode){var y=vs(s);if(null!==y){0===(65536&y.flags)&&(y.flags|=256),ms(y,s,u,0,t),Wo(l);break e}}a=l,4!==Ou&&(Ou=2),null===Mu?Mu=[a]:Mu.push(a),l=as(l,u),u=s;do{switch(u.tag){case 3:u.flags|=65536,t&=-t,u.lanes|=t,so(u,fs(0,l,t));break e;case 1:a=l;var g=u.type,_=u.stateNode;if(0===(128&u.flags)&&("function"===typeof g.getDerivedStateFromError||null!==_&&"function"===typeof _.componentDidCatch&&(null===Vu||!Vu.has(_)))){u.flags|=65536,t&=-t,u.lanes|=t,so(u,hs(u,a,t));break e}}u=u.return}while(null!==u)}_l(n)}catch(b){t=b,Eu===n&&null!==n&&(Eu=n=n.return);continue}break}}function hl(){var e=wu.current;return wu.current=ns,null===e?ns:e}function pl(){0!==Ou&&3!==Ou&&2!==Ou||(Ou=4),null===Cu||0===(268435455&Au)&&0===(268435455&Du)||al(Cu,Tu)}function vl(e,t){var n=Su;Su|=2;var r=hl();for(Cu===e&&Tu===t||(zu=null,dl(e,t));;)try{ml();break}catch(i){fl(e,i)}if(Yi(),Su=n,wu.current=r,null!==Eu)throw Error(o(261));return Cu=null,Tu=0,Ou}function ml(){for(;null!==Eu;)gl(Eu)}function yl(){for(;null!==Eu&&!Ye();)gl(Eu)}function gl(e){var t=bu(e.alternate,e,Nu);e.memoizedProps=e.pendingProps,null===t?_l(e):Eu=t,Iu.current=null}function _l(e){var t=e;do{var n=t.alternate;if(e=t.return,0===(32768&t.flags)){if(null!==(n=_s(n,t,Nu)))return void(Eu=n)}else{if(null!==(n=Hs(n,t)))return n.flags&=32767,void(Eu=n);if(null===e)return Ou=6,void(Eu=null);e.flags|=32768,e.subtreeFlags=0,e.deletions=null}if(null!==(t=t.sibling))return void(Eu=t);Eu=t=e}while(null!==t);0===Ou&&(Ou=5)}function bl(e,t,n){var r=_t,i=xu.transition;try{xu.transition=null,_t=1,function(e,t,n,r){do{kl()}while(null!==Hu);if(0!==(6&Su))throw Error(o(327));n=e.finishedWork;var i=e.finishedLanes;if(null===n)return null;if(e.finishedWork=null,e.finishedLanes=0,n===e.current)throw Error(o(177));e.callbackNode=null,e.callbackPriority=0;var a=n.lanes|n.childLanes;if(function(e,t){var n=e.pendingLanes&~t;e.pendingLanes=t,e.suspendedLanes=0,e.pingedLanes=0,e.expiredLanes&=t,e.mutableReadLanes&=t,e.entangledLanes&=t,t=e.entanglements;var r=e.eventTimes;for(e=e.expirationTimes;0<n;){var i=31-at(n),o=1<<i;t[i]=0,r[i]=-1,e[i]=-1,n&=~o}}(e,a),e===Cu&&(Eu=Cu=null,Tu=0),0===(2064&n.subtreeFlags)&&0===(2064&n.flags)||Bu||(Bu=!0,Tl(tt,(function(){return kl(),null}))),a=0!==(15990&n.flags),0!==(15990&n.subtreeFlags)||a){a=xu.transition,xu.transition=null;var s=_t;_t=1;var u=Su;Su|=4,Iu.current=null,function(e,t){if(ei=Bt,hr(e=fr())){if("selectionStart"in e)var n={start:e.selectionStart,end:e.selectionEnd};else e:{var r=(n=(n=e.ownerDocument)&&n.defaultView||window).getSelection&&n.getSelection();if(r&&0!==r.rangeCount){n=r.anchorNode;var i=r.anchorOffset,a=r.focusNode;r=r.focusOffset;try{n.nodeType,a.nodeType}catch(w){n=null;break e}var s=0,u=-1,l=-1,c=0,d=0,f=e,h=null;t:for(;;){for(var p;f!==n||0!==i&&3!==f.nodeType||(u=s+i),f!==a||0!==r&&3!==f.nodeType||(l=s+r),3===f.nodeType&&(s+=f.nodeValue.length),null!==(p=f.firstChild);)h=f,f=p;for(;;){if(f===e)break t;if(h===n&&++c===i&&(u=s),h===a&&++d===r&&(l=s),null!==(p=f.nextSibling))break;h=(f=h).parentNode}f=p}n=-1===u||-1===l?null:{start:u,end:l}}else n=null}n=n||{start:0,end:0}}else n=null;for(ti={focusedElem:e,selectionRange:n},Bt=!1,Ys=t;null!==Ys;)if(e=(t=Ys).child,0!==(1028&t.subtreeFlags)&&null!==e)e.return=t,Ys=e;else for(;null!==Ys;){t=Ys;try{var v=t.alternate;if(0!==(1024&t.flags))switch(t.tag){case 0:case 11:case 15:case 5:case 6:case 4:case 17:break;case 1:if(null!==v){var m=v.memoizedProps,y=v.memoizedState,g=t.stateNode,_=g.getSnapshotBeforeUpdate(t.elementType===t.type?m:Bi(t.type,m),y);g.__reactInternalSnapshotBeforeUpdate=_}break;case 3:var b=t.stateNode.containerInfo;if(1===b.nodeType)b.textContent="";else if(9===b.nodeType){var k=b.body;null!=k&&(k.textContent="")}break;default:throw Error(o(163))}}catch(w){Il(t,t.return,w)}if(null!==(e=t.sibling)){e.return=t.return,Ys=e;break}Ys=t.return}v=Xs,Xs=!1}(e,n),hu(n,e),pr(ti),Bt=!!ei,ti=ei=null,e.current=n,vu(n,e,i),Qe(),Su=u,_t=s,xu.transition=a}else e.current=n;if(Bu&&(Bu=!1,Hu=e,Ku=i),0===(a=e.pendingLanes)&&(Vu=null),function(e){if(ot&&"function"===typeof ot.onCommitFiberRoot)try{ot.onCommitFiberRoot(it,e,void 0,128===(128&e.current.flags))}catch(t){}}(n.stateNode),nl(e,Je()),null!==t)for(r=e.onRecoverableError,n=0;n<t.length;n++)r(t[n]);if(qu)throw qu=!1,e=Wu,Wu=null,e;0!==(1&Ku)&&0!==e.tag&&kl(),0!==(1&(a=e.pendingLanes))?e===$u?Gu++:(Gu=0,$u=e):Gu=0,Wi()}(e,t,n,r)}finally{xu.transition=i,_t=r}return null}function kl(){if(null!==Hu){var e=bt(Ku),t=xu.transition,n=_t;try{if(xu.transition=null,_t=16>e?16:e,null===Hu)var r=!1;else{if(e=Hu,Hu=null,Ku=0,0!==(6&Su))throw Error(o(331));var i=Su;for(Su|=4,Ys=e.current;null!==Ys;){var a=Ys,s=a.child;if(0!==(16&Ys.flags)){var u=a.deletions;if(null!==u){for(var l=0;l<u.length;l++){var c=u[l];for(Ys=c;null!==Ys;){var d=Ys;switch(d.tag){case 0:case 11:case 15:Zs(8,d,a)}var f=d.child;if(null!==f)f.return=d,Ys=f;else for(;null!==Ys;){var h=(d=Ys).sibling,p=d.return;if(nu(d),d===c){Ys=null;break}if(null!==h){h.return=p,Ys=h;break}Ys=p}}}var v=a.alternate;if(null!==v){var m=v.child;if(null!==m){v.child=null;do{var y=m.sibling;m.sibling=null,m=y}while(null!==m)}}Ys=a}}if(0!==(2064&a.subtreeFlags)&&null!==s)s.return=a,Ys=s;else e:for(;null!==Ys;){if(0!==(2048&(a=Ys).flags))switch(a.tag){case 0:case 11:case 15:Zs(9,a,a.return)}var g=a.sibling;if(null!==g){g.return=a.return,Ys=g;break e}Ys=a.return}}var _=e.current;for(Ys=_;null!==Ys;){var b=(s=Ys).child;if(0!==(2064&s.subtreeFlags)&&null!==b)b.return=s,Ys=b;else e:for(s=_;null!==Ys;){if(0!==(2048&(u=Ys).flags))try{switch(u.tag){case 0:case 11:case 15:eu(9,u)}}catch(w){Il(u,u.return,w)}if(u===s){Ys=null;break e}var k=u.sibling;if(null!==k){k.return=u.return,Ys=k;break e}Ys=u.return}}if(Su=i,Wi(),ot&&"function"===typeof ot.onPostCommitFiberRoot)try{ot.onPostCommitFiberRoot(it,e)}catch(w){}r=!0}return r}finally{_t=n,xu.transition=t}}return!1}function wl(e,t,n){oo(e,t=fs(0,t=as(n,t),1)),t=Ju(),null!==(e=el(e,1))&&(yt(e,1,t),nl(e,t))}function Il(e,t,n){if(3===e.tag)wl(e,e,n);else for(;null!==t;){if(3===t.tag){wl(t,e,n);break}if(1===t.tag){var r=t.stateNode;if("function"===typeof t.type.getDerivedStateFromError||"function"===typeof r.componentDidCatch&&(null===Vu||!Vu.has(r))){oo(t,e=hs(t,e=as(n,e),1)),e=Ju(),null!==(t=el(t,1))&&(yt(t,1,e),nl(t,e));break}}t=t.return}}function xl(e,t,n){var r=e.pingCache;null!==r&&r.delete(t),t=Ju(),e.pingedLanes|=e.suspendedLanes&n,Cu===e&&(Tu&n)===n&&(4===Ou||3===Ou&&(130023424&Tu)===Tu&&500>Je()-Uu?dl(e,0):Lu|=n),nl(e,t)}function Sl(e,t){0===t&&(0===(1&e.mode)?t=1:(t=ct,0===(130023424&(ct<<=1))&&(ct=4194304)));var n=Ju();null!==(e=el(e,t))&&(yt(e,t,n),nl(e,n))}function Cl(e){var t=e.memoizedState,n=0;null!==t&&(n=t.retryLane),Sl(e,n)}function El(e,t){var n=0;switch(e.tag){case 13:var r=e.stateNode,i=e.memoizedState;null!==i&&(n=i.retryLane);break;case 19:r=e.stateNode;break;default:throw Error(o(314))}null!==r&&r.delete(t),Sl(e,n)}function Tl(e,t){return Ge(e,t)}function Nl(e,t,n,r){this.tag=e,this.key=n,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=t,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=r,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function Pl(e,t,n,r){return new Nl(e,t,n,r)}function Ol(e){return!(!(e=e.prototype)||!e.isReactComponent)}function Rl(e,t){var n=e.alternate;return null===n?((n=Pl(e.tag,t,e.key,e.mode)).elementType=e.elementType,n.type=e.type,n.stateNode=e.stateNode,n.alternate=e,e.alternate=n):(n.pendingProps=t,n.type=e.type,n.flags=0,n.subtreeFlags=0,n.deletions=null),n.flags=14680064&e.flags,n.childLanes=e.childLanes,n.lanes=e.lanes,n.child=e.child,n.memoizedProps=e.memoizedProps,n.memoizedState=e.memoizedState,n.updateQueue=e.updateQueue,t=e.dependencies,n.dependencies=null===t?null:{lanes:t.lanes,firstContext:t.firstContext},n.sibling=e.sibling,n.index=e.index,n.ref=e.ref,n}function Al(e,t,n,r,i,a){var s=2;if(r=e,"function"===typeof e)Ol(e)&&(s=1);else if("string"===typeof e)s=5;else e:switch(e){case I:return Dl(n.children,i,a,t);case x:s=8,i|=8;break;case S:return(e=Pl(12,n,t,2|i)).elementType=S,e.lanes=a,e;case N:return(e=Pl(13,n,t,i)).elementType=N,e.lanes=a,e;case P:return(e=Pl(19,n,t,i)).elementType=P,e.lanes=a,e;case A:return Ll(n,i,a,t);default:if("object"===typeof e&&null!==e)switch(e.$$typeof){case C:s=10;break e;case E:s=9;break e;case T:s=11;break e;case O:s=14;break e;case R:s=16,r=null;break e}throw Error(o(130,null==e?e:typeof e,""))}return(t=Pl(s,n,t,i)).elementType=e,t.type=r,t.lanes=a,t}function Dl(e,t,n,r){return(e=Pl(7,e,r,t)).lanes=n,e}function Ll(e,t,n,r){return(e=Pl(22,e,r,t)).elementType=A,e.lanes=n,e.stateNode={},e}function Ml(e,t,n){return(e=Pl(6,e,null,t)).lanes=n,e}function Fl(e,t,n){return(t=Pl(4,null!==e.children?e.children:[],e.key,t)).lanes=n,t.stateNode={containerInfo:e.containerInfo,pendingChildren:null,implementation:e.implementation},t}function Ul(e,t,n,r,i){this.tag=t,this.containerInfo=e,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=mt(0),this.expirationTimes=mt(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=mt(0),this.identifierPrefix=r,this.onRecoverableError=i,this.mutableSourceEagerHydrationData=null}function jl(e,t,n,r,i,o,a,s,u){return e=new Ul(e,t,n,s,u),1===t?(t=1,!0===o&&(t|=8)):t=0,o=Pl(3,null,null,t),e.current=o,o.stateNode=e,o.memoizedState={element:r,isDehydrated:n,cache:null,transitions:null,pendingSuspenseBoundaries:null},no(o),e}function zl(e,t,n){var r=3<arguments.length&&void 0!==arguments[3]?arguments[3]:null;return{$$typeof:w,key:null==r?null:""+r,children:e,containerInfo:t,implementation:n}}function ql(e){if(!e)return Ei;e:{if(We(e=e._reactInternals)!==e||1!==e.tag)throw Error(o(170));var t=e;do{switch(t.tag){case 3:t=t.stateNode.context;break e;case 1:if(Ri(t.type)){t=t.stateNode.__reactInternalMemoizedMergedChildContext;break e}}t=t.return}while(null!==t);throw Error(o(171))}if(1===e.tag){var n=e.type;if(Ri(n))return Li(e,n,t)}return t}function Wl(e,t,n,r,i,o,a,s,u){return(e=jl(n,r,!0,e,0,o,0,s,u)).context=ql(null),n=e.current,(o=io(r=Ju(),i=Xu(n))).callback=void 0!==t&&null!==t?t:null,oo(n,o),e.current.lanes=i,yt(e,i,r),nl(e,r),e}function Vl(e,t,n,r){var i=t.current,o=Ju(),a=Xu(i);return n=ql(n),null===t.context?t.context=n:t.pendingContext=n,(t=io(o,a)).payload={element:e},null!==(r=void 0===r?null:r)&&(t.callback=r),oo(i,t),null!==(e=Zu(i,a,o))&&ao(e,i,a),a}function Bl(e){return(e=e.current).child?(e.child.tag,e.child.stateNode):null}function Hl(e,t){if(null!==(e=e.memoizedState)&&null!==e.dehydrated){var n=e.retryLane;e.retryLane=0!==n&&n<t?n:t}}function Kl(e,t){Hl(e,t),(e=e.alternate)&&Hl(e,t)}bu=function(e,t,n){if(null!==e)if(e.memoizedProps!==t.pendingProps||Ni.current)ks=!0;else{if(0===(e.lanes&n)&&0===(128&t.flags))return ks=!1,function(e,t,n){switch(t.tag){case 3:Os(t),qo();break;case 5:na(t);break;case 1:Ri(t.type)&&Mi(t);break;case 4:ea(t,t.stateNode.containerInfo);break;case 10:var r=t.type._context,i=t.memoizedProps.value;Ci(Hi,r._currentValue),r._currentValue=i;break;case 13:if(null!==(r=t.memoizedState))return null!==r.dehydrated?(Ci(ia,1&ia.current),t.flags|=128,null):0!==(n&t.child.childLanes)?Ms(e,t,n):(Ci(ia,1&ia.current),null!==(e=Bs(e,t,n))?e.sibling:null);Ci(ia,1&ia.current);break;case 19:if(r=0!==(n&t.childLanes),0!==(128&e.flags)){if(r)return Vs(e,t,n);t.flags|=128}if(null!==(i=t.memoizedState)&&(i.rendering=null,i.tail=null,i.lastEffect=null),Ci(ia,ia.current),r)break;return null;case 22:case 23:return t.lanes=0,Cs(e,t,n)}return Bs(e,t,n)}(e,t,n);ks=0!==(131072&e.flags)}else ks=!1,Ao&&0!==(1048576&t.flags)&&To(t,ko,t.index);switch(t.lanes=0,t.tag){case 2:var r=t.type;null!==e&&(e.alternate=null,t.alternate=null,t.flags|=2),e=t.pendingProps;var i=Oi(t,Ti.current);Xi(t,n),i=ba(null,t,r,e,i,n);var a=ka();return t.flags|=1,"object"===typeof i&&null!==i&&"function"===typeof i.render&&void 0===i.$$typeof?(t.tag=1,t.memoizedState=null,t.updateQueue=null,Ri(r)?(a=!0,Mi(t)):a=!1,t.memoizedState=null!==i.state&&void 0!==i.state?i.state:null,no(t),i.updater=ho,t.stateNode=i,i._reactInternals=t,yo(t,r,e,n),t=Ps(null,t,r,!0,a,n)):(t.tag=0,Ao&&a&&No(t),ws(null,t,i,n),t=t.child),t;case 16:r=t.elementType;e:{switch(null!==e&&(e.alternate=null,t.alternate=null,t.flags|=2),e=t.pendingProps,r=(i=r._init)(r._payload),t.type=r,i=t.tag=function(e){if("function"===typeof e)return Ol(e)?1:0;if(void 0!==e&&null!==e){if((e=e.$$typeof)===T)return 11;if(e===O)return 14}return 2}(r),e=Bi(r,e),i){case 0:t=Ts(null,t,r,e,n);break e;case 1:t=Ns(null,t,r,e,n);break e;case 11:t=Is(null,t,r,e,n);break e;case 14:t=xs(null,t,r,Bi(r.type,e),n);break e}throw Error(o(306,r,""))}return t;case 0:return r=t.type,i=t.pendingProps,Ts(e,t,r,i=t.elementType===r?i:Bi(r,i),n);case 1:return r=t.type,i=t.pendingProps,Ns(e,t,r,i=t.elementType===r?i:Bi(r,i),n);case 3:e:{if(Os(t),null===e)throw Error(o(387));r=t.pendingProps,i=(a=t.memoizedState).element,ro(e,t),uo(t,r,null,n);var s=t.memoizedState;if(r=s.element,a.isDehydrated){if(a={element:r,isDehydrated:!1,cache:s.cache,pendingSuspenseBoundaries:s.pendingSuspenseBoundaries,transitions:s.transitions},t.updateQueue.baseState=a,t.memoizedState=a,256&t.flags){t=Rs(e,t,r,n,i=Error(o(423)));break e}if(r!==i){t=Rs(e,t,r,n,i=Error(o(424)));break e}for(Ro=li(t.stateNode.containerInfo.firstChild),Oo=t,Ao=!0,Do=null,n=$o(t,null,r,n),t.child=n;n;)n.flags=-3&n.flags|4096,n=n.sibling}else{if(qo(),r===i){t=Bs(e,t,n);break e}ws(e,t,r,n)}t=t.child}return t;case 5:return na(t),null===e&&Uo(t),r=t.type,i=t.pendingProps,a=null!==e?e.memoizedProps:null,s=i.children,ni(r,i)?s=null:null!==a&&ni(r,a)&&(t.flags|=32),Es(e,t),ws(e,t,s,n),t.child;case 6:return null===e&&Uo(t),null;case 13:return Ms(e,t,n);case 4:return ea(t,t.stateNode.containerInfo),r=t.pendingProps,null===e?t.child=Go(t,null,r,n):ws(e,t,r,n),t.child;case 11:return r=t.type,i=t.pendingProps,Is(e,t,r,i=t.elementType===r?i:Bi(r,i),n);case 7:return ws(e,t,t.pendingProps,n),t.child;case 8:case 12:return ws(e,t,t.pendingProps.children,n),t.child;case 10:e:{if(r=t.type._context,i=t.pendingProps,a=t.memoizedProps,s=i.value,Ci(Hi,r._currentValue),r._currentValue=s,null!==a)if(sr(a.value,s)){if(a.children===i.children&&!Ni.current){t=Bs(e,t,n);break e}}else for(null!==(a=t.child)&&(a.return=t);null!==a;){var u=a.dependencies;if(null!==u){s=a.child;for(var l=u.firstContext;null!==l;){if(l.context===r){if(1===a.tag){(l=io(-1,n&-n)).tag=2;var c=a.updateQueue;if(null!==c){var d=(c=c.shared).pending;null===d?l.next=l:(l.next=d.next,d.next=l),c.pending=l}}a.lanes|=n,null!==(l=a.alternate)&&(l.lanes|=n),Ji(a.return,n,t),u.lanes|=n;break}l=l.next}}else if(10===a.tag)s=a.type===t.type?null:a.child;else if(18===a.tag){if(null===(s=a.return))throw Error(o(341));s.lanes|=n,null!==(u=s.alternate)&&(u.lanes|=n),Ji(s,n,t),s=a.sibling}else s=a.child;if(null!==s)s.return=a;else for(s=a;null!==s;){if(s===t){s=null;break}if(null!==(a=s.sibling)){a.return=s.return,s=a;break}s=s.return}a=s}ws(e,t,i.children,n),t=t.child}return t;case 9:return i=t.type,r=t.pendingProps.children,Xi(t,n),r=r(i=Zi(i)),t.flags|=1,ws(e,t,r,n),t.child;case 14:return i=Bi(r=t.type,t.pendingProps),xs(e,t,r,i=Bi(r.type,i),n);case 15:return Ss(e,t,t.type,t.pendingProps,n);case 17:return r=t.type,i=t.pendingProps,i=t.elementType===r?i:Bi(r,i),null!==e&&(e.alternate=null,t.alternate=null,t.flags|=2),t.tag=1,Ri(r)?(e=!0,Mi(t)):e=!1,Xi(t,n),vo(t,r,i),yo(t,r,i,n),Ps(null,t,r,!0,e,n);case 19:return Vs(e,t,n);case 22:return Cs(e,t,n)}throw Error(o(156,t.tag))};var Gl="function"===typeof reportError?reportError:function(e){console.error(e)};function $l(e){this._internalRoot=e}function Yl(e){this._internalRoot=e}function Ql(e){return!(!e||1!==e.nodeType&&9!==e.nodeType&&11!==e.nodeType)}function Jl(e){return!(!e||1!==e.nodeType&&9!==e.nodeType&&11!==e.nodeType&&(8!==e.nodeType||" react-mount-point-unstable "!==e.nodeValue))}function Xl(){}function Zl(e,t,n,r,i){var o=n._reactRootContainer;if(o){var a=o;if("function"===typeof i){var s=i;i=function(){var e=Bl(a);s.call(e)}}Vl(t,a,e,i)}else a=function(e,t,n,r,i){if(i){if("function"===typeof r){var o=r;r=function(){var e=Bl(a);o.call(e)}}var a=Wl(t,r,e,0,null,!1,0,"",Xl);return e._reactRootContainer=a,e[pi]=a.current,Wr(8===e.nodeType?e.parentNode:e),ll(),a}for(;i=e.lastChild;)e.removeChild(i);if("function"===typeof r){var s=r;r=function(){var e=Bl(u);s.call(e)}}var u=jl(e,0,!1,null,0,!1,0,"",Xl);return e._reactRootContainer=u,e[pi]=u.current,Wr(8===e.nodeType?e.parentNode:e),ll((function(){Vl(t,u,n,r)})),u}(n,t,e,i,r);return Bl(a)}Yl.prototype.render=$l.prototype.render=function(e){var t=this._internalRoot;if(null===t)throw Error(o(409));Vl(e,t,null,null)},Yl.prototype.unmount=$l.prototype.unmount=function(){var e=this._internalRoot;if(null!==e){this._internalRoot=null;var t=e.containerInfo;ll((function(){Vl(null,e,null,null)})),t[pi]=null}},Yl.prototype.unstable_scheduleHydration=function(e){if(e){var t=xt();e={blockedOn:null,target:e,priority:t};for(var n=0;n<At.length&&0!==t&&t<At[n].priority;n++);At.splice(n,0,e),0===n&&Ft(e)}},kt=function(e){switch(e.tag){case 3:var t=e.stateNode;if(t.current.memoizedState.isDehydrated){var n=dt(t.pendingLanes);0!==n&&(gt(t,1|n),nl(t,Je()),0===(6&Su)&&(ju=Je()+500,Wi()))}break;case 13:var r=Ju();ll((function(){return Zu(e,1,r)})),Kl(e,1)}},wt=function(e){13===e.tag&&(Zu(e,134217728,Ju()),Kl(e,134217728))},It=function(e){if(13===e.tag){var t=Ju(),n=Xu(e);Zu(e,n,t),Kl(e,n)}},xt=function(){return _t},St=function(e,t){var n=_t;try{return _t=e,t()}finally{_t=n}},we=function(e,t,n){switch(t){case"input":if(X(e,n),t=n.name,"radio"===n.type&&null!=t){for(n=e;n.parentNode;)n=n.parentNode;for(n=n.querySelectorAll("input[name="+JSON.stringify(""+t)+'][type="radio"]'),t=0;t<n.length;t++){var r=n[t];if(r!==e&&r.form===e.form){var i=ki(r);if(!i)throw Error(o(90));G(r),X(r,i)}}}break;case"textarea":oe(e,n);break;case"select":null!=(t=n.value)&&ne(e,!!n.multiple,t,!1)}},Te=ul,Ne=ll;var ec={usingClientEntryPoint:!1,Events:[_i,bi,ki,Ce,Ee,ul]},tc={findFiberByHostInstance:gi,bundleType:0,version:"18.1.0",rendererPackageName:"react-dom"},nc={bundleType:tc.bundleType,version:tc.version,rendererPackageName:tc.rendererPackageName,rendererConfig:tc.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:b.ReactCurrentDispatcher,findHostInstanceByFiber:function(e){return null===(e=He(e))?null:e.stateNode},findFiberByHostInstance:tc.findFiberByHostInstance||function(){return null},findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.1.0-next-22edb9f77-20220426"};if("undefined"!==typeof __REACT_DEVTOOLS_GLOBAL_HOOK__){var rc=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!rc.isDisabled&&rc.supportsFiber)try{it=rc.inject(nc),ot=rc}catch(ce){}}t.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=ec,t.createPortal=function(e,t){var n=2<arguments.length&&void 0!==arguments[2]?arguments[2]:null;if(!Ql(t))throw Error(o(200));return zl(e,t,null,n)},t.createRoot=function(e,t){if(!Ql(e))throw Error(o(299));var n=!1,r="",i=Gl;return null!==t&&void 0!==t&&(!0===t.unstable_strictMode&&(n=!0),void 0!==t.identifierPrefix&&(r=t.identifierPrefix),void 0!==t.onRecoverableError&&(i=t.onRecoverableError)),t=jl(e,1,!1,null,0,n,0,r,i),e[pi]=t.current,Wr(8===e.nodeType?e.parentNode:e),new $l(t)},t.findDOMNode=function(e){if(null==e)return null;if(1===e.nodeType)return e;var t=e._reactInternals;if(void 0===t){if("function"===typeof e.render)throw Error(o(188));throw e=Object.keys(e).join(","),Error(o(268,e))}return e=null===(e=He(t))?null:e.stateNode},t.flushSync=function(e){return ll(e)},t.hydrate=function(e,t,n){if(!Jl(t))throw Error(o(200));return Zl(null,e,t,!0,n)},t.hydrateRoot=function(e,t,n){if(!Ql(e))throw Error(o(405));var r=null!=n&&n.hydratedSources||null,i=!1,a="",s=Gl;if(null!==n&&void 0!==n&&(!0===n.unstable_strictMode&&(i=!0),void 0!==n.identifierPrefix&&(a=n.identifierPrefix),void 0!==n.onRecoverableError&&(s=n.onRecoverableError)),t=Wl(t,null,e,1,null!=n?n:null,i,0,a,s),e[pi]=t.current,Wr(e),r)for(e=0;e<r.length;e++)i=(i=(n=r[e])._getVersion)(n._source),null==t.mutableSourceEagerHydrationData?t.mutableSourceEagerHydrationData=[n,i]:t.mutableSourceEagerHydrationData.push(n,i);return new Yl(t)},t.render=function(e,t,n){if(!Jl(t))throw Error(o(200));return Zl(null,e,t,!1,n)},t.unmountComponentAtNode=function(e){if(!Jl(e))throw Error(o(40));return!!e._reactRootContainer&&(ll((function(){Zl(null,null,e,!1,(function(){e._reactRootContainer=null,e[pi]=null}))})),!0)},t.unstable_batchedUpdates=ul,t.unstable_renderSubtreeIntoContainer=function(e,t,n,r){if(!Jl(n))throw Error(o(200));if(null==e||void 0===e._reactInternals)throw Error(o(38));return Zl(e,t,n,!1,r)},t.version="18.1.0-next-22edb9f77-20220426"},250:function(e,t,n){"use strict";var r=n(164);t.createRoot=r.createRoot,t.hydrateRoot=r.hydrateRoot},164:function(e,t,n){"use strict";!function e(){if("undefined"!==typeof __REACT_DEVTOOLS_GLOBAL_HOOK__&&"function"===typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE)try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(e)}catch(t){console.error(t)}}(),e.exports=n(463)},374:function(e,t,n){"use strict";var r=n(791),i=Symbol.for("react.element"),o=Symbol.for("react.fragment"),a=Object.prototype.hasOwnProperty,s=r.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,u={key:!0,ref:!0,__self:!0,__source:!0};function l(e,t,n){var r,o={},l=null,c=null;for(r in void 0!==n&&(l=""+n),void 0!==t.key&&(l=""+t.key),void 0!==t.ref&&(c=t.ref),t)a.call(t,r)&&!u.hasOwnProperty(r)&&(o[r]=t[r]);if(e&&e.defaultProps)for(r in t=e.defaultProps)void 0===o[r]&&(o[r]=t[r]);return{$$typeof:i,type:e,key:l,ref:c,props:o,_owner:s.current}}t.Fragment=o,t.jsx=l,t.jsxs=l},117:function(e,t){"use strict";var n=Symbol.for("react.element"),r=Symbol.for("react.portal"),i=Symbol.for("react.fragment"),o=Symbol.for("react.strict_mode"),a=Symbol.for("react.profiler"),s=Symbol.for("react.provider"),u=Symbol.for("react.context"),l=Symbol.for("react.forward_ref"),c=Symbol.for("react.suspense"),d=Symbol.for("react.memo"),f=Symbol.for("react.lazy"),h=Symbol.iterator;var p={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},v=Object.assign,m={};function y(e,t,n){this.props=e,this.context=t,this.refs=m,this.updater=n||p}function g(){}function _(e,t,n){this.props=e,this.context=t,this.refs=m,this.updater=n||p}y.prototype.isReactComponent={},y.prototype.setState=function(e,t){if("object"!==typeof e&&"function"!==typeof e&&null!=e)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,e,t,"setState")},y.prototype.forceUpdate=function(e){this.updater.enqueueForceUpdate(this,e,"forceUpdate")},g.prototype=y.prototype;var b=_.prototype=new g;b.constructor=_,v(b,y.prototype),b.isPureReactComponent=!0;var k=Array.isArray,w=Object.prototype.hasOwnProperty,I={current:null},x={key:!0,ref:!0,__self:!0,__source:!0};function S(e,t,r){var i,o={},a=null,s=null;if(null!=t)for(i in void 0!==t.ref&&(s=t.ref),void 0!==t.key&&(a=""+t.key),t)w.call(t,i)&&!x.hasOwnProperty(i)&&(o[i]=t[i]);var u=arguments.length-2;if(1===u)o.children=r;else if(1<u){for(var l=Array(u),c=0;c<u;c++)l[c]=arguments[c+2];o.children=l}if(e&&e.defaultProps)for(i in u=e.defaultProps)void 0===o[i]&&(o[i]=u[i]);return{$$typeof:n,type:e,key:a,ref:s,props:o,_owner:I.current}}function C(e){return"object"===typeof e&&null!==e&&e.$$typeof===n}var E=/\/+/g;function T(e,t){return"object"===typeof e&&null!==e&&null!=e.key?function(e){var t={"=":"=0",":":"=2"};return"$"+e.replace(/[=:]/g,(function(e){return t[e]}))}(""+e.key):t.toString(36)}function N(e,t,i,o,a){var s=typeof e;"undefined"!==s&&"boolean"!==s||(e=null);var u=!1;if(null===e)u=!0;else switch(s){case"string":case"number":u=!0;break;case"object":switch(e.$$typeof){case n:case r:u=!0}}if(u)return a=a(u=e),e=""===o?"."+T(u,0):o,k(a)?(i="",null!=e&&(i=e.replace(E,"$&/")+"/"),N(a,t,i,"",(function(e){return e}))):null!=a&&(C(a)&&(a=function(e,t){return{$$typeof:n,type:e.type,key:t,ref:e.ref,props:e.props,_owner:e._owner}}(a,i+(!a.key||u&&u.key===a.key?"":(""+a.key).replace(E,"$&/")+"/")+e)),t.push(a)),1;if(u=0,o=""===o?".":o+":",k(e))for(var l=0;l<e.length;l++){var c=o+T(s=e[l],l);u+=N(s,t,i,c,a)}else if(c=function(e){return null===e||"object"!==typeof e?null:"function"===typeof(e=h&&e[h]||e["@@iterator"])?e:null}(e),"function"===typeof c)for(e=c.call(e),l=0;!(s=e.next()).done;)u+=N(s=s.value,t,i,c=o+T(s,l++),a);else if("object"===s)throw t=String(e),Error("Objects are not valid as a React child (found: "+("[object Object]"===t?"object with keys {"+Object.keys(e).join(", ")+"}":t)+"). If you meant to render a collection of children, use an array instead.");return u}function P(e,t,n){if(null==e)return e;var r=[],i=0;return N(e,r,"","",(function(e){return t.call(n,e,i++)})),r}function O(e){if(-1===e._status){var t=e._result;(t=t()).then((function(t){0!==e._status&&-1!==e._status||(e._status=1,e._result=t)}),(function(t){0!==e._status&&-1!==e._status||(e._status=2,e._result=t)})),-1===e._status&&(e._status=0,e._result=t)}if(1===e._status)return e._result.default;throw e._result}var R={current:null},A={transition:null},D={ReactCurrentDispatcher:R,ReactCurrentBatchConfig:A,ReactCurrentOwner:I};t.Children={map:P,forEach:function(e,t,n){P(e,(function(){t.apply(this,arguments)}),n)},count:function(e){var t=0;return P(e,(function(){t++})),t},toArray:function(e){return P(e,(function(e){return e}))||[]},only:function(e){if(!C(e))throw Error("React.Children.only expected to receive a single React element child.");return e}},t.Component=y,t.Fragment=i,t.Profiler=a,t.PureComponent=_,t.StrictMode=o,t.Suspense=c,t.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=D,t.cloneElement=function(e,t,r){if(null===e||void 0===e)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+e+".");var i=v({},e.props),o=e.key,a=e.ref,s=e._owner;if(null!=t){if(void 0!==t.ref&&(a=t.ref,s=I.current),void 0!==t.key&&(o=""+t.key),e.type&&e.type.defaultProps)var u=e.type.defaultProps;for(l in t)w.call(t,l)&&!x.hasOwnProperty(l)&&(i[l]=void 0===t[l]&&void 0!==u?u[l]:t[l])}var l=arguments.length-2;if(1===l)i.children=r;else if(1<l){u=Array(l);for(var c=0;c<l;c++)u[c]=arguments[c+2];i.children=u}return{$$typeof:n,type:e.type,key:o,ref:a,props:i,_owner:s}},t.createContext=function(e){return(e={$$typeof:u,_currentValue:e,_currentValue2:e,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null}).Provider={$$typeof:s,_context:e},e.Consumer=e},t.createElement=S,t.createFactory=function(e){var t=S.bind(null,e);return t.type=e,t},t.createRef=function(){return{current:null}},t.forwardRef=function(e){return{$$typeof:l,render:e}},t.isValidElement=C,t.lazy=function(e){return{$$typeof:f,_payload:{_status:-1,_result:e},_init:O}},t.memo=function(e,t){return{$$typeof:d,type:e,compare:void 0===t?null:t}},t.startTransition=function(e){var t=A.transition;A.transition={};try{e()}finally{A.transition=t}},t.unstable_act=function(){throw Error("act(...) is not supported in production builds of React.")},t.useCallback=function(e,t){return R.current.useCallback(e,t)},t.useContext=function(e){return R.current.useContext(e)},t.useDebugValue=function(){},t.useDeferredValue=function(e){return R.current.useDeferredValue(e)},t.useEffect=function(e,t){return R.current.useEffect(e,t)},t.useId=function(){return R.current.useId()},t.useImperativeHandle=function(e,t,n){return R.current.useImperativeHandle(e,t,n)},t.useInsertionEffect=function(e,t){return R.current.useInsertionEffect(e,t)},t.useLayoutEffect=function(e,t){return R.current.useLayoutEffect(e,t)},t.useMemo=function(e,t){return R.current.useMemo(e,t)},t.useReducer=function(e,t,n){return R.current.useReducer(e,t,n)},t.useRef=function(e){return R.current.useRef(e)},t.useState=function(e){return R.current.useState(e)},t.useSyncExternalStore=function(e,t,n){return R.current.useSyncExternalStore(e,t,n)},t.useTransition=function(){return R.current.useTransition()},t.version="18.1.0"},791:function(e,t,n){"use strict";e.exports=n(117)},184:function(e,t,n){"use strict";e.exports=n(374)},813:function(e,t){"use strict";function n(e,t){var n=e.length;e.push(t);e:for(;0<n;){var r=n-1>>>1,i=e[r];if(!(0<o(i,t)))break e;e[r]=t,e[n]=i,n=r}}function r(e){return 0===e.length?null:e[0]}function i(e){if(0===e.length)return null;var t=e[0],n=e.pop();if(n!==t){e[0]=n;e:for(var r=0,i=e.length,a=i>>>1;r<a;){var s=2*(r+1)-1,u=e[s],l=s+1,c=e[l];if(0>o(u,n))l<i&&0>o(c,u)?(e[r]=c,e[l]=n,r=l):(e[r]=u,e[s]=n,r=s);else{if(!(l<i&&0>o(c,n)))break e;e[r]=c,e[l]=n,r=l}}}return t}function o(e,t){var n=e.sortIndex-t.sortIndex;return 0!==n?n:e.id-t.id}if("object"===typeof performance&&"function"===typeof performance.now){var a=performance;t.unstable_now=function(){return a.now()}}else{var s=Date,u=s.now();t.unstable_now=function(){return s.now()-u}}var l=[],c=[],d=1,f=null,h=3,p=!1,v=!1,m=!1,y="function"===typeof setTimeout?setTimeout:null,g="function"===typeof clearTimeout?clearTimeout:null,_="undefined"!==typeof setImmediate?setImmediate:null;function b(e){for(var t=r(c);null!==t;){if(null===t.callback)i(c);else{if(!(t.startTime<=e))break;i(c),t.sortIndex=t.expirationTime,n(l,t)}t=r(c)}}function k(e){if(m=!1,b(e),!v)if(null!==r(l))v=!0,A(w);else{var t=r(c);null!==t&&D(k,t.startTime-e)}}function w(e,n){v=!1,m&&(m=!1,g(C),C=-1),p=!0;var o=h;try{for(b(n),f=r(l);null!==f&&(!(f.expirationTime>n)||e&&!N());){var a=f.callback;if("function"===typeof a){f.callback=null,h=f.priorityLevel;var s=a(f.expirationTime<=n);n=t.unstable_now(),"function"===typeof s?f.callback=s:f===r(l)&&i(l),b(n)}else i(l);f=r(l)}if(null!==f)var u=!0;else{var d=r(c);null!==d&&D(k,d.startTime-n),u=!1}return u}finally{f=null,h=o,p=!1}}"undefined"!==typeof navigator&&void 0!==navigator.scheduling&&void 0!==navigator.scheduling.isInputPending&&navigator.scheduling.isInputPending.bind(navigator.scheduling);var I,x=!1,S=null,C=-1,E=5,T=-1;function N(){return!(t.unstable_now()-T<E)}function P(){if(null!==S){var e=t.unstable_now();T=e;var n=!0;try{n=S(!0,e)}finally{n?I():(x=!1,S=null)}}else x=!1}if("function"===typeof _)I=function(){_(P)};else if("undefined"!==typeof MessageChannel){var O=new MessageChannel,R=O.port2;O.port1.onmessage=P,I=function(){R.postMessage(null)}}else I=function(){y(P,0)};function A(e){S=e,x||(x=!0,I())}function D(e,n){C=y((function(){e(t.unstable_now())}),n)}t.unstable_IdlePriority=5,t.unstable_ImmediatePriority=1,t.unstable_LowPriority=4,t.unstable_NormalPriority=3,t.unstable_Profiling=null,t.unstable_UserBlockingPriority=2,t.unstable_cancelCallback=function(e){e.callback=null},t.unstable_continueExecution=function(){v||p||(v=!0,A(w))},t.unstable_forceFrameRate=function(e){0>e||125<e?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):E=0<e?Math.floor(1e3/e):5},t.unstable_getCurrentPriorityLevel=function(){return h},t.unstable_getFirstCallbackNode=function(){return r(l)},t.unstable_next=function(e){switch(h){case 1:case 2:case 3:var t=3;break;default:t=h}var n=h;h=t;try{return e()}finally{h=n}},t.unstable_pauseExecution=function(){},t.unstable_requestPaint=function(){},t.unstable_runWithPriority=function(e,t){switch(e){case 1:case 2:case 3:case 4:case 5:break;default:e=3}var n=h;h=e;try{return t()}finally{h=n}},t.unstable_scheduleCallback=function(e,i,o){var a=t.unstable_now();switch("object"===typeof o&&null!==o?o="number"===typeof(o=o.delay)&&0<o?a+o:a:o=a,e){case 1:var s=-1;break;case 2:s=250;break;case 5:s=1073741823;break;case 4:s=1e4;break;default:s=5e3}return e={id:d++,callback:i,priorityLevel:e,startTime:o,expirationTime:s=o+s,sortIndex:-1},o>a?(e.sortIndex=o,n(c,e),null===r(l)&&e===r(c)&&(m?(g(C),C=-1):m=!0,D(k,o-a))):(e.sortIndex=s,n(l,e),v||p||(v=!0,A(w))),e},t.unstable_shouldYield=N,t.unstable_wrapCallback=function(e){var t=h;return function(){var n=h;h=t;try{return e.apply(this,arguments)}finally{h=n}}}},296:function(e,t,n){"use strict";e.exports=n(813)},499:function(e){"use strict";e.exports=function(e){return encodeURIComponent(e).replace(/[!'()*]/g,(function(e){return"%"+e.charCodeAt(0).toString(16).toUpperCase()}))}}},t={};function n(r){var i=t[r];if(void 0!==i)return i.exports;var o=t[r]={exports:{}};return e[r].call(o.exports,o,o.exports,n),o.exports}n.m=e,n.amdO={},n.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return n.d(t,{a:t}),t},n.d=function(e,t){for(var r in t)n.o(t,r)&&!n.o(e,r)&&Object.defineProperty(e,r,{enumerable:!0,get:t[r]})},n.f={},n.e=function(e){return Promise.all(Object.keys(n.f).reduce((function(t,r){return n.f[r](e,t),t}),[]))},n.u=function(e){return"static/js/"+e+".1838fe0d.chunk.js"},n.miniCssF=function(e){},n.g=function(){if("object"===typeof globalThis)return globalThis;try{return this||new Function("return this")()}catch(e){if("object"===typeof window)return window}}(),n.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},function(){var e={},t="want-smth:";n.l=function(r,i,o,a){if(e[r])e[r].push(i);else{var s,u;if(void 0!==o)for(var l=document.getElementsByTagName("script"),c=0;c<l.length;c++){var d=l[c];if(d.getAttribute("src")==r||d.getAttribute("data-webpack")==t+o){s=d;break}}s||(u=!0,(s=document.createElement("script")).charset="utf-8",s.timeout=120,n.nc&&s.setAttribute("nonce",n.nc),s.setAttribute("data-webpack",t+o),s.src=r),e[r]=[i];var f=function(t,n){s.onerror=s.onload=null,clearTimeout(h);var i=e[r];if(delete e[r],s.parentNode&&s.parentNode.removeChild(s),i&&i.forEach((function(e){return e(n)})),t)return t(n)},h=setTimeout(f.bind(null,void 0,{type:"timeout",target:s}),12e4);s.onerror=f.bind(null,s.onerror),s.onload=f.bind(null,s.onload),u&&document.head.appendChild(s)}}}(),n.r=function(e){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},n.p="/want-smth-test/",function(){var e={179:0};n.f.j=function(t,r){var i=n.o(e,t)?e[t]:void 0;if(0!==i)if(i)r.push(i[2]);else{var o=new Promise((function(n,r){i=e[t]=[n,r]}));r.push(i[2]=o);var a=n.p+n.u(t),s=new Error;n.l(a,(function(r){if(n.o(e,t)&&(0!==(i=e[t])&&(e[t]=void 0),i)){var o=r&&("load"===r.type?"missing":r.type),a=r&&r.target&&r.target.src;s.message="Loading chunk "+t+" failed.\n("+o+": "+a+")",s.name="ChunkLoadError",s.type=o,s.request=a,i[1](s)}}),"chunk-"+t,t)}};var t=function(t,r){var i,o,a=r[0],s=r[1],u=r[2],l=0;if(a.some((function(t){return 0!==e[t]}))){for(i in s)n.o(s,i)&&(n.m[i]=s[i]);if(u)u(n)}for(t&&t(r);l<a.length;l++)o=a[l],n.o(e,o)&&e[o]&&e[o][0](),e[o]=0},r=self.webpackChunkwant_smth=self.webpackChunkwant_smth||[];r.forEach(t.bind(null,0)),r.push=t.bind(null,r.push.bind(r))}(),function(){"use strict";var e={};n.r(e),n.d(e,{FirebaseError:function(){return Oe},SDK_VERSION:function(){return Qt},_DEFAULT_ENTRY_NAME:function(){return Ft},_addComponent:function(){return qt},_addOrOverwriteComponent:function(){return Wt},_apps:function(){return jt},_clearComponents:function(){return Kt},_components:function(){return zt},_getProvider:function(){return Bt},_registerComponent:function(){return Vt},_removeServiceInstance:function(){return Ht},deleteApp:function(){return en},getApp:function(){return Xt},getApps:function(){return Zt},initializeApp:function(){return Jt},onLog:function(){return rn},registerVersion:function(){return nn},setLogLevel:function(){return on}});var t,r=n(791),i=n(250);function o(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function a(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function s(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?a(Object(n),!0).forEach((function(t){o(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):a(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function u(e){if(Array.isArray(e))return e}function l(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function c(e,t){if(e){if("string"===typeof e)return l(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?l(e,t):void 0}}function d(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}function f(e,t){return u(e)||function(e,t){var n=null==e?null:"undefined"!==typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,i,o=[],a=!0,s=!1;try{for(n=n.call(e);!(a=(r=n.next()).done)&&(o.push(r.value),!t||o.length!==t);a=!0);}catch(u){s=!0,i=u}finally{try{a||null==n.return||n.return()}finally{if(s)throw i}}return o}}(e,t)||c(e,t)||d()}function h(e){if("undefined"!==typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}function p(e){return function(e){if(Array.isArray(e))return l(e)}(e)||h(e)||c(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function v(){return v=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},v.apply(this,arguments)}!function(e){e.Pop="POP",e.Push="PUSH",e.Replace="REPLACE"}(t||(t={}));var m=function(e){return e};var y="beforeunload",g="popstate";function _(e){void 0===e&&(e={});var n=e.window,r=void 0===n?document.defaultView:n,i=r.history;function o(){var e=x(r.location.hash.substr(1)),t=e.pathname,n=void 0===t?"/":t,o=e.search,a=void 0===o?"":o,s=e.hash,u=void 0===s?"":s,l=i.state||{};return[l.idx,m({pathname:n,search:a,hash:u,state:l.usr||null,key:l.key||"default"})]}var a=null;function s(){if(a)h.call(a),a=null;else{var e=t.Pop,n=o(),r=n[0],i=n[1];if(h.length){if(null!=r){var s=c-r;s&&(a={action:e,location:i,retry:function(){T(-1*s)}},T(s))}}else E(e)}}r.addEventListener(g,s),r.addEventListener("hashchange",(function(){I(o()[1])!==I(d)&&s()}));var u=t.Pop,l=o(),c=l[0],d=l[1],f=k(),h=k();function p(e){return function(){var e=document.querySelector("base"),t="";if(e&&e.getAttribute("href")){var n=r.location.href,i=n.indexOf("#");t=-1===i?n:n.slice(0,i)}return t}()+"#"+("string"===typeof e?e:I(e))}function _(e,t){return void 0===t&&(t=null),m(v({pathname:d.pathname,hash:"",search:""},"string"===typeof e?x(e):e,{state:t,key:w()}))}function S(e,t){return[{usr:e.state,key:e.key,idx:t},p(e)]}function C(e,t,n){return!h.length||(h.call({action:e,location:t,retry:n}),!1)}function E(e){u=e;var t=o();c=t[0],d=t[1],f.call({action:u,location:d})}function T(e){i.go(e)}null==c&&(c=0,i.replaceState(v({},i.state,{idx:c}),""));var N={get action(){return u},get location(){return d},createHref:p,push:function e(n,o){var a=t.Push,s=_(n,o);if(C(a,s,(function(){e(n,o)}))){var u=S(s,c+1),l=u[0],d=u[1];try{i.pushState(l,"",d)}catch(Hn){r.location.assign(d)}E(a)}},replace:function e(n,r){var o=t.Replace,a=_(n,r);if(C(o,a,(function(){e(n,r)}))){var s=S(a,c),u=s[0],l=s[1];i.replaceState(u,"",l),E(o)}},go:T,back:function(){T(-1)},forward:function(){T(1)},listen:function(e){return f.push(e)},block:function(e){var t=h.push(e);return 1===h.length&&r.addEventListener(y,b),function(){t(),h.length||r.removeEventListener(y,b)}}};return N}function b(e){e.preventDefault(),e.returnValue=""}function k(){var e=[];return{get length(){return e.length},push:function(t){return e.push(t),function(){e=e.filter((function(e){return e!==t}))}},call:function(t){e.forEach((function(e){return e&&e(t)}))}}}function w(){return Math.random().toString(36).substr(2,8)}function I(e){var t=e.pathname,n=void 0===t?"/":t,r=e.search,i=void 0===r?"":r,o=e.hash,a=void 0===o?"":o;return i&&"?"!==i&&(n+="?"===i.charAt(0)?i:"?"+i),a&&"#"!==a&&(n+="#"===a.charAt(0)?a:"#"+a),n}function x(e){var t={};if(e){var n=e.indexOf("#");n>=0&&(t.hash=e.substr(n),e=e.substr(0,n));var r=e.indexOf("?");r>=0&&(t.search=e.substr(r),e=e.substr(0,r)),e&&(t.pathname=e)}return t}var S=(0,r.createContext)(null);var C=(0,r.createContext)(null);var E=(0,r.createContext)({outlet:null,matches:[]});function T(e,t){if(!e)throw new Error(t)}function N(e,t,n){void 0===n&&(n="/");var r=F(("string"===typeof t?x(t):t).pathname||"/",n);if(null==r)return null;var i=P(e);!function(e){e.sort((function(e,t){return e.score!==t.score?t.score-e.score:function(e,t){var n=e.length===t.length&&e.slice(0,-1).every((function(e,n){return e===t[n]}));return n?e[e.length-1]-t[t.length-1]:0}(e.routesMeta.map((function(e){return e.childrenIndex})),t.routesMeta.map((function(e){return e.childrenIndex})))}))}(i);for(var o=null,a=0;null==o&&a<i.length;++a)o=D(i[a],r);return o}function P(e,t,n,r){return void 0===t&&(t=[]),void 0===n&&(n=[]),void 0===r&&(r=""),e.forEach((function(e,i){var o={relativePath:e.path||"",caseSensitive:!0===e.caseSensitive,childrenIndex:i,route:e};o.relativePath.startsWith("/")&&(o.relativePath.startsWith(r)||T(!1),o.relativePath=o.relativePath.slice(r.length));var a=U([r,o.relativePath]),s=n.concat(o);e.children&&e.children.length>0&&(!0===e.index&&T(!1),P(e.children,t,s,a)),(null!=e.path||e.index)&&t.push({path:a,score:A(a,e.index),routesMeta:s})})),t}var O=/^:\w+$/,R=function(e){return"*"===e};function A(e,t){var n=e.split("/"),r=n.length;return n.some(R)&&(r+=-2),t&&(r+=2),n.filter((function(e){return!R(e)})).reduce((function(e,t){return e+(O.test(t)?3:""===t?1:10)}),r)}function D(e,t){for(var n=e.routesMeta,r={},i="/",o=[],a=0;a<n.length;++a){var s=n[a],u=a===n.length-1,l="/"===i?t:t.slice(i.length)||"/",c=L({path:s.relativePath,caseSensitive:s.caseSensitive,end:u},l);if(!c)return null;Object.assign(r,c.params);var d=s.route;o.push({params:r,pathname:U([i,c.pathname]),pathnameBase:j(U([i,c.pathnameBase])),route:d}),"/"!==c.pathnameBase&&(i=U([i,c.pathnameBase]))}return o}function L(e,t){"string"===typeof e&&(e={path:e,caseSensitive:!1,end:!0});var n=function(e,t,n){void 0===t&&(t=!1);void 0===n&&(n=!0);var r=[],i="^"+e.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^$?{}|()[\]]/g,"\\$&").replace(/:(\w+)/g,(function(e,t){return r.push(t),"([^\\/]+)"}));e.endsWith("*")?(r.push("*"),i+="*"===e||"/*"===e?"(.*)$":"(?:\\/(.+)|\\/*)$"):i+=n?"\\/*$":"(?:(?=[.~-]|%[0-9A-F]{2})|\\b|\\/|$)";return[new RegExp(i,t?void 0:"i"),r]}(e.path,e.caseSensitive,e.end),r=f(n,2),i=r[0],o=r[1],a=t.match(i);if(!a)return null;var s=a[0],u=s.replace(/(.)\/+$/,"$1"),l=a.slice(1);return{params:o.reduce((function(e,t,n){if("*"===t){var r=l[n]||"";u=s.slice(0,s.length-r.length).replace(/(.)\/+$/,"$1")}return e[t]=function(e,t){try{return decodeURIComponent(e)}catch(Hn){return e}}(l[n]||""),e}),{}),pathname:s,pathnameBase:u,pattern:e}}function M(e,t,n){var r,i="string"===typeof e?x(e):e,o=""===e||""===i.pathname?"/":i.pathname;if(null==o)r=n;else{var a=t.length-1;if(o.startsWith("..")){for(var s=o.split("/");".."===s[0];)s.shift(),a-=1;i.pathname=s.join("/")}r=a>=0?t[a]:"/"}var u=function(e,t){void 0===t&&(t="/");var n="string"===typeof e?x(e):e,r=n.pathname,i=n.search,o=void 0===i?"":i,a=n.hash,s=void 0===a?"":a,u=r?r.startsWith("/")?r:function(e,t){var n=t.replace(/\/+$/,"").split("/");return e.split("/").forEach((function(e){".."===e?n.length>1&&n.pop():"."!==e&&n.push(e)})),n.length>1?n.join("/"):"/"}(r,t):t;return{pathname:u,search:z(o),hash:q(s)}}(i,r);return o&&"/"!==o&&o.endsWith("/")&&!u.pathname.endsWith("/")&&(u.pathname+="/"),u}function F(e,t){if("/"===t)return e;if(!e.toLowerCase().startsWith(t.toLowerCase()))return null;var n=e.charAt(t.length);return n&&"/"!==n?null:e.slice(t.length)||"/"}var U=function(e){return e.join("/").replace(/\/\/+/g,"/")},j=function(e){return e.replace(/\/+$/,"").replace(/^\/*/,"/")},z=function(e){return e&&"?"!==e?e.startsWith("?")?e:"?"+e:""},q=function(e){return e&&"#"!==e?e.startsWith("#")?e:"#"+e:""};function W(){return null!=(0,r.useContext)(C)}function V(){return W()||T(!1),(0,r.useContext)(C).location}function B(){W()||T(!1);var e=(0,r.useContext)(S),t=e.basename,n=e.navigator,i=(0,r.useContext)(E).matches,o=V().pathname,a=JSON.stringify(i.map((function(e){return e.pathnameBase}))),s=(0,r.useRef)(!1);(0,r.useEffect)((function(){s.current=!0}));var u=(0,r.useCallback)((function(e,r){if(void 0===r&&(r={}),s.current)if("number"!==typeof e){var i=M(e,JSON.parse(a),o);"/"!==t&&(i.pathname=U([t,i.pathname])),(r.replace?n.replace:n.push)(i,r.state)}else n.go(e)}),[t,n,a,o]);return u}function H(e,t){return void 0===t&&(t=[]),null==e?null:e.reduceRight((function(n,i,o){return(0,r.createElement)(E.Provider,{children:void 0!==i.route.element?i.route.element:n,value:{outlet:n,matches:t.concat(e.slice(0,o+1))}})}),null)}function K(e){T(!1)}function G(e){var n=e.basename,i=void 0===n?"/":n,o=e.children,a=void 0===o?null:o,s=e.location,u=e.navigationType,l=void 0===u?t.Pop:u,c=e.navigator,d=e.static,f=void 0!==d&&d;W()&&T(!1);var h=j(i),p=(0,r.useMemo)((function(){return{basename:h,navigator:c,static:f}}),[h,c,f]);"string"===typeof s&&(s=x(s));var v=s,m=v.pathname,y=void 0===m?"/":m,g=v.search,_=void 0===g?"":g,b=v.hash,k=void 0===b?"":b,w=v.state,I=void 0===w?null:w,E=v.key,N=void 0===E?"default":E,P=(0,r.useMemo)((function(){var e=F(y,h);return null==e?null:{pathname:e,search:_,hash:k,state:I,key:N}}),[h,y,_,k,I,N]);return null==P?null:(0,r.createElement)(S.Provider,{value:p},(0,r.createElement)(C.Provider,{children:a,value:{location:P,navigationType:l}}))}function $(e){var t=e.children,n=e.location;return function(e,t){W()||T(!1);var n,i=(0,r.useContext)(E).matches,o=i[i.length-1],a=o?o.params:{},s=(o&&o.pathname,o?o.pathnameBase:"/"),u=(o&&o.route,V());if(t){var l,c="string"===typeof t?x(t):t;"/"===s||(null==(l=c.pathname)?void 0:l.startsWith(s))||T(!1),n=c}else n=u;var d=n.pathname||"/",f=N(e,{pathname:"/"===s?d:d.slice(s.length)||"/"});return H(f&&f.map((function(e){return Object.assign({},e,{params:Object.assign({},a,e.params),pathname:U([s,e.pathname]),pathnameBase:"/"===e.pathnameBase?s:U([s,e.pathnameBase])})})),i)}(Y(t),n)}function Y(e){var t=[];return r.Children.forEach(e,(function(e){if((0,r.isValidElement)(e))if(e.type!==r.Fragment){e.type!==K&&T(!1);var n={caseSensitive:e.props.caseSensitive,element:e.props.element,index:e.props.index,path:e.props.path};e.props.children&&(n.children=Y(e.props.children)),t.push(n)}else t.push.apply(t,Y(e.props.children))})),t}function Q(e){var t=e.basename,n=e.children,i=e.window,o=(0,r.useRef)();null==o.current&&(o.current=_({window:i}));var a=o.current,s=f((0,r.useState)({action:a.action,location:a.location}),2),u=s[0],l=s[1];return(0,r.useLayoutEffect)((function(){return a.listen(l)}),[a]),(0,r.createElement)(G,{basename:t,children:n,location:u.location,navigationType:u.action,navigator:a})}function J(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function X(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function Z(e,t,n){return t&&X(e.prototype,t),n&&X(e,n),Object.defineProperty(e,"prototype",{writable:!1}),e}function ee(e,t){var n="undefined"!==typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(!n){if(Array.isArray(e)||(n=c(e))||t&&e&&"number"===typeof e.length){n&&(e=n);var r=0,i=function(){};return{s:i,n:function(){return r>=e.length?{done:!0}:{done:!1,value:e[r++]}},e:function(e){throw e},f:i}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var o,a=!0,s=!1;return{s:function(){n=n.call(e)},n:function(){var e=n.next();return a=e.done,e},e:function(e){s=!0,o=e},f:function(){try{a||null==n.return||n.return()}finally{if(s)throw o}}}}function te(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function ne(e,t){return ne=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e},ne(e,t)}function re(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&ne(e,t)}function ie(e){return ie=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)},ie(e)}function oe(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}function ae(e){return ae="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},ae(e)}function se(e,t){if(t&&("object"===ae(t)||"function"===typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return te(e)}function ue(e){var t=oe();return function(){var n,r=ie(e);if(t){var i=ie(this).constructor;n=Reflect.construct(r,arguments,i)}else n=r.apply(this,arguments);return se(this,n)}}function le(e,t,n){return le=oe()?Reflect.construct.bind():function(e,t,n){var r=[null];r.push.apply(r,t);var i=new(Function.bind.apply(e,r));return n&&ne(i,n.prototype),i},le.apply(null,arguments)}function ce(e){var t="function"===typeof Map?new Map:void 0;return ce=function(e){if(null===e||(n=e,-1===Function.toString.call(n).indexOf("[native code]")))return e;var n;if("function"!==typeof e)throw new TypeError("Super expression must either be null or a function");if("undefined"!==typeof t){if(t.has(e))return t.get(e);t.set(e,r)}function r(){return le(e,arguments,ie(this).constructor)}return r.prototype=Object.create(e.prototype,{constructor:{value:r,enumerable:!1,writable:!0,configurable:!0}}),ne(r,e)},ce(e)}var de=!1,fe=!1,he="${JSCORE_VERSION}",pe=function(e,t){if(!e)throw ve(t)},ve=function(e){return new Error("Firebase Database ("+he+") INTERNAL ASSERT FAILED: "+e)},me=function(e){for(var t=[],n=0,r=0;r<e.length;r++){var i=e.charCodeAt(r);i<128?t[n++]=i:i<2048?(t[n++]=i>>6|192,t[n++]=63&i|128):55296===(64512&i)&&r+1<e.length&&56320===(64512&e.charCodeAt(r+1))?(i=65536+((1023&i)<<10)+(1023&e.charCodeAt(++r)),t[n++]=i>>18|240,t[n++]=i>>12&63|128,t[n++]=i>>6&63|128,t[n++]=63&i|128):(t[n++]=i>>12|224,t[n++]=i>>6&63|128,t[n++]=63&i|128)}return t},ye={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:"function"===typeof atob,encodeByteArray:function(e,t){if(!Array.isArray(e))throw Error("encodeByteArray takes an array as a parameter");this.init_();for(var n=t?this.byteToCharMapWebSafe_:this.byteToCharMap_,r=[],i=0;i<e.length;i+=3){var o=e[i],a=i+1<e.length,s=a?e[i+1]:0,u=i+2<e.length,l=u?e[i+2]:0,c=o>>2,d=(3&o)<<4|s>>4,f=(15&s)<<2|l>>6,h=63&l;u||(h=64,a||(f=64)),r.push(n[c],n[d],n[f],n[h])}return r.join("")},encodeString:function(e,t){return this.HAS_NATIVE_SUPPORT&&!t?btoa(e):this.encodeByteArray(me(e),t)},decodeString:function(e,t){return this.HAS_NATIVE_SUPPORT&&!t?atob(e):function(e){for(var t=[],n=0,r=0;n<e.length;){var i=e[n++];if(i<128)t[r++]=String.fromCharCode(i);else if(i>191&&i<224){var o=e[n++];t[r++]=String.fromCharCode((31&i)<<6|63&o)}else if(i>239&&i<365){var a=((7&i)<<18|(63&e[n++])<<12|(63&e[n++])<<6|63&e[n++])-65536;t[r++]=String.fromCharCode(55296+(a>>10)),t[r++]=String.fromCharCode(56320+(1023&a))}else{var s=e[n++],u=e[n++];t[r++]=String.fromCharCode((15&i)<<12|(63&s)<<6|63&u)}}return t.join("")}(this.decodeStringToByteArray(e,t))},decodeStringToByteArray:function(e,t){this.init_();for(var n=t?this.charToByteMapWebSafe_:this.charToByteMap_,r=[],i=0;i<e.length;){var o=n[e.charAt(i++)],a=i<e.length?n[e.charAt(i)]:0,s=++i<e.length?n[e.charAt(i)]:64,u=++i<e.length?n[e.charAt(i)]:64;if(++i,null==o||null==a||null==s||null==u)throw Error();var l=o<<2|a>>4;if(r.push(l),64!==s){var c=a<<4&240|s>>2;if(r.push(c),64!==u){var d=s<<6&192|u;r.push(d)}}}return r},init_:function(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(var e=0;e<this.ENCODED_VALS.length;e++)this.byteToCharMap_[e]=this.ENCODED_VALS.charAt(e),this.charToByteMap_[this.byteToCharMap_[e]]=e,this.byteToCharMapWebSafe_[e]=this.ENCODED_VALS_WEBSAFE.charAt(e),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[e]]=e,e>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(e)]=e,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(e)]=e)}}},ge=function(e){var t=me(e);return ye.encodeByteArray(t,!0)},_e=function(e){return ge(e).replace(/\./g,"")},be=function(e){try{return ye.decodeString(e,!0)}catch(t){console.error("base64Decode failed: ",t)}return null};function ke(e,t){if(!(t instanceof Object))return t;switch(t.constructor){case Date:return new Date(t.getTime());case Object:void 0===e&&(e={});break;case Array:e=[];break;default:return t}for(var n in t)t.hasOwnProperty(n)&&"__proto__"!==n&&(e[n]=ke(e[n],t[n]));return e}var we=function(){function e(){var t=this;J(this,e),this.reject=function(){},this.resolve=function(){},this.promise=new Promise((function(e,n){t.resolve=e,t.reject=n}))}return Z(e,[{key:"wrapCallback",value:function(e){var t=this;return function(n,r){n?t.reject(n):t.resolve(r),"function"===typeof e&&(t.promise.catch((function(){})),1===e.length?e(n):e(n,r))}}}]),e}();function Ie(){return"undefined"!==typeof navigator&&"string"===typeof navigator.userAgent?navigator.userAgent:""}function xe(){return"undefined"!==typeof window&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(Ie())}function Se(){try{return"[object process]"===Object.prototype.toString.call(n.g.process)}catch(e){return!1}}function Ce(){var e="object"===typeof chrome?chrome.runtime:"object"===typeof browser?browser.runtime:void 0;return"object"===typeof e&&void 0!==e.id}function Ee(){return"object"===typeof navigator&&"ReactNative"===navigator.product}function Te(){var e=Ie();return e.indexOf("MSIE ")>=0||e.indexOf("Trident/")>=0}function Ne(){return!0===de||!0===fe}function Pe(){return"object"===typeof indexedDB}var Oe=function(e){re(n,e);var t=ue(n);function n(e,r,i){var o;return J(this,n),(o=t.call(this,r)).code=e,o.customData=i,o.name="FirebaseError",Object.setPrototypeOf(te(o),n.prototype),Error.captureStackTrace&&Error.captureStackTrace(te(o),Re.prototype.create),o}return Z(n)}(ce(Error)),Re=function(){function e(t,n,r){J(this,e),this.service=t,this.serviceName=n,this.errors=r}return Z(e,[{key:"create",value:function(e){var t=(arguments.length<=1?void 0:arguments[1])||{},n="".concat(this.service,"/").concat(e),r=this.errors[e],i=r?Ae(r,t):"Error",o="".concat(this.serviceName,": ").concat(i," (").concat(n,")."),a=new Oe(n,o,t);return a}}]),e}();function Ae(e,t){return e.replace(De,(function(e,n){var r=t[n];return null!=r?String(r):"<".concat(n,"?>")}))}var De=/\{\$([^}]+)}/g;function Le(e){return JSON.parse(e)}function Me(e){return JSON.stringify(e)}var Fe=function(e){var t={},n={},r={},i="";try{var o=e.split(".");t=Le(be(o[0])||""),n=Le(be(o[1])||""),i=o[2],r=n.d||{},delete n.d}catch(a){}return{header:t,claims:n,data:r,signature:i}};function Ue(e,t){return Object.prototype.hasOwnProperty.call(e,t)}function je(e,t){return Object.prototype.hasOwnProperty.call(e,t)?e[t]:void 0}function ze(e){for(var t in e)if(Object.prototype.hasOwnProperty.call(e,t))return!1;return!0}function qe(e,t,n){var r={};for(var i in e)Object.prototype.hasOwnProperty.call(e,i)&&(r[i]=t.call(n,e[i],i,e));return r}function We(e,t){if(e===t)return!0;for(var n=Object.keys(e),r=Object.keys(t),i=0,o=n;i<o.length;i++){var a=o[i];if(!r.includes(a))return!1;var s=e[a],u=t[a];if(Ve(s)&&Ve(u)){if(!We(s,u))return!1}else if(s!==u)return!1}for(var l=0,c=r;l<c.length;l++){var d=c[l];if(!n.includes(d))return!1}return!0}function Ve(e){return null!==e&&"object"===typeof e}function Be(e){for(var t=[],n=function(){var e=f(i[r],2),n=e[0],o=e[1];Array.isArray(o)?o.forEach((function(e){t.push(encodeURIComponent(n)+"="+encodeURIComponent(e))})):t.push(encodeURIComponent(n)+"="+encodeURIComponent(o))},r=0,i=Object.entries(e);r<i.length;r++)n();return t.length?"&"+t.join("&"):""}function He(e){var t={};return e.replace(/^\?/,"").split("&").forEach((function(e){if(e){var n=f(e.split("="),2),r=n[0],i=n[1];t[decodeURIComponent(r)]=decodeURIComponent(i)}})),t}function Ke(e){var t=e.indexOf("?");if(!t)return"";var n=e.indexOf("#",t);return e.substring(t,n>0?n:void 0)}var Ge=function(){function e(){J(this,e),this.chain_=[],this.buf_=[],this.W_=[],this.pad_=[],this.inbuf_=0,this.total_=0,this.blockSize=64,this.pad_[0]=128;for(var t=1;t<this.blockSize;++t)this.pad_[t]=0;this.reset()}return Z(e,[{key:"reset",value:function(){this.chain_[0]=1732584193,this.chain_[1]=4023233417,this.chain_[2]=2562383102,this.chain_[3]=271733878,this.chain_[4]=3285377520,this.inbuf_=0,this.total_=0}},{key:"compress_",value:function(e,t){t||(t=0);var n=this.W_;if("string"===typeof e)for(var r=0;r<16;r++)n[r]=e.charCodeAt(t)<<24|e.charCodeAt(t+1)<<16|e.charCodeAt(t+2)<<8|e.charCodeAt(t+3),t+=4;else for(var i=0;i<16;i++)n[i]=e[t]<<24|e[t+1]<<16|e[t+2]<<8|e[t+3],t+=4;for(var o=16;o<80;o++){var a=n[o-3]^n[o-8]^n[o-14]^n[o-16];n[o]=4294967295&(a<<1|a>>>31)}for(var s,u,l=this.chain_[0],c=this.chain_[1],d=this.chain_[2],f=this.chain_[3],h=this.chain_[4],p=0;p<80;p++){p<40?p<20?(s=f^c&(d^f),u=1518500249):(s=c^d^f,u=1859775393):p<60?(s=c&d|f&(c|d),u=2400959708):(s=c^d^f,u=3395469782);var v=(l<<5|l>>>27)+s+h+u+n[p]&4294967295;h=f,f=d,d=4294967295&(c<<30|c>>>2),c=l,l=v}this.chain_[0]=this.chain_[0]+l&4294967295,this.chain_[1]=this.chain_[1]+c&4294967295,this.chain_[2]=this.chain_[2]+d&4294967295,this.chain_[3]=this.chain_[3]+f&4294967295,this.chain_[4]=this.chain_[4]+h&4294967295}},{key:"update",value:function(e,t){if(null!=e){void 0===t&&(t=e.length);for(var n=t-this.blockSize,r=0,i=this.buf_,o=this.inbuf_;r<t;){if(0===o)for(;r<=n;)this.compress_(e,r),r+=this.blockSize;if("string"===typeof e){for(;r<t;)if(i[o]=e.charCodeAt(r),++r,++o===this.blockSize){this.compress_(i),o=0;break}}else for(;r<t;)if(i[o]=e[r],++r,++o===this.blockSize){this.compress_(i),o=0;break}}this.inbuf_=o,this.total_+=t}}},{key:"digest",value:function(){var e=[],t=8*this.total_;this.inbuf_<56?this.update(this.pad_,56-this.inbuf_):this.update(this.pad_,this.blockSize-(this.inbuf_-56));for(var n=this.blockSize-1;n>=56;n--)this.buf_[n]=255&t,t/=256;this.compress_(this.buf_);for(var r=0,i=0;i<5;i++)for(var o=24;o>=0;o-=8)e[r]=this.chain_[i]>>o&255,++r;return e}}]),e}();function $e(e,t){var n=new Ye(e,t);return n.subscribe.bind(n)}var Ye=function(){function e(t,n){var r=this;J(this,e),this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=n,this.task.then((function(){t(r)})).catch((function(e){r.error(e)}))}return Z(e,[{key:"next",value:function(e){this.forEachObserver((function(t){t.next(e)}))}},{key:"error",value:function(e){this.forEachObserver((function(t){t.error(e)})),this.close(e)}},{key:"complete",value:function(){this.forEachObserver((function(e){e.complete()})),this.close()}},{key:"subscribe",value:function(e,t,n){var r,i=this;if(void 0===e&&void 0===t&&void 0===n)throw new Error("Missing Observer.");void 0===(r=function(e,t){if("object"!==typeof e||null===e)return!1;var n,r=ee(t);try{for(r.s();!(n=r.n()).done;){var i=n.value;if(i in e&&"function"===typeof e[i])return!0}}catch(o){r.e(o)}finally{r.f()}return!1}(e,["next","error","complete"])?e:{next:e,error:t,complete:n}).next&&(r.next=Qe),void 0===r.error&&(r.error=Qe),void 0===r.complete&&(r.complete=Qe);var o=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then((function(){try{i.finalError?r.error(i.finalError):r.complete()}catch(e){}})),this.observers.push(r),o}},{key:"unsubscribeOne",value:function(e){void 0!==this.observers&&void 0!==this.observers[e]&&(delete this.observers[e],this.observerCount-=1,0===this.observerCount&&void 0!==this.onNoObservers&&this.onNoObservers(this))}},{key:"forEachObserver",value:function(e){if(!this.finalized)for(var t=0;t<this.observers.length;t++)this.sendOne(t,e)}},{key:"sendOne",value:function(e,t){var n=this;this.task.then((function(){if(void 0!==n.observers&&void 0!==n.observers[e])try{t(n.observers[e])}catch(r){"undefined"!==typeof console&&console.error&&console.error(r)}}))}},{key:"close",value:function(e){var t=this;this.finalized||(this.finalized=!0,void 0!==e&&(this.finalError=e),this.task.then((function(){t.observers=void 0,t.onNoObservers=void 0})))}}]),e}();function Qe(){}function Je(e,t){return"".concat(e," failed: ").concat(t," argument ")}var Xe=function(e){for(var t=0,n=0;n<e.length;n++){var r=e.charCodeAt(n);r<128?t++:r<2048?t+=2:r>=55296&&r<=56319?(t+=4,n++):t+=3}return t};function Ze(e){return e&&e._delegate?e._delegate:e}function et(){et=function(){return e};var e={},t=Object.prototype,n=t.hasOwnProperty,r="function"==typeof Symbol?Symbol:{},i=r.iterator||"@@iterator",o=r.asyncIterator||"@@asyncIterator",a=r.toStringTag||"@@toStringTag";function s(e,t,n){return Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}),e[t]}try{s({},"")}catch(C){s=function(e,t,n){return e[t]=n}}function u(e,t,n,r){var i=t&&t.prototype instanceof d?t:d,o=Object.create(i.prototype),a=new I(r||[]);return o._invoke=function(e,t,n){var r="suspendedStart";return function(i,o){if("executing"===r)throw new Error("Generator is already running");if("completed"===r){if("throw"===i)throw o;return S()}for(n.method=i,n.arg=o;;){var a=n.delegate;if(a){var s=b(a,n);if(s){if(s===c)continue;return s}}if("next"===n.method)n.sent=n._sent=n.arg;else if("throw"===n.method){if("suspendedStart"===r)throw r="completed",n.arg;n.dispatchException(n.arg)}else"return"===n.method&&n.abrupt("return",n.arg);r="executing";var u=l(e,t,n);if("normal"===u.type){if(r=n.done?"completed":"suspendedYield",u.arg===c)continue;return{value:u.arg,done:n.done}}"throw"===u.type&&(r="completed",n.method="throw",n.arg=u.arg)}}}(e,n,a),o}function l(e,t,n){try{return{type:"normal",arg:e.call(t,n)}}catch(C){return{type:"throw",arg:C}}}e.wrap=u;var c={};function d(){}function f(){}function h(){}var p={};s(p,i,(function(){return this}));var v=Object.getPrototypeOf,m=v&&v(v(x([])));m&&m!==t&&n.call(m,i)&&(p=m);var y=h.prototype=d.prototype=Object.create(p);function g(e){["next","throw","return"].forEach((function(t){s(e,t,(function(e){return this._invoke(t,e)}))}))}function _(e,t){function r(i,o,a,s){var u=l(e[i],e,o);if("throw"!==u.type){var c=u.arg,d=c.value;return d&&"object"==ae(d)&&n.call(d,"__await")?t.resolve(d.__await).then((function(e){r("next",e,a,s)}),(function(e){r("throw",e,a,s)})):t.resolve(d).then((function(e){c.value=e,a(c)}),(function(e){return r("throw",e,a,s)}))}s(u.arg)}var i;this._invoke=function(e,n){function o(){return new t((function(t,i){r(e,n,t,i)}))}return i=i?i.then(o,o):o()}}function b(e,t){var n=e.iterator[t.method];if(void 0===n){if(t.delegate=null,"throw"===t.method){if(e.iterator.return&&(t.method="return",t.arg=void 0,b(e,t),"throw"===t.method))return c;t.method="throw",t.arg=new TypeError("The iterator does not provide a 'throw' method")}return c}var r=l(n,e.iterator,t.arg);if("throw"===r.type)return t.method="throw",t.arg=r.arg,t.delegate=null,c;var i=r.arg;return i?i.done?(t[e.resultName]=i.value,t.next=e.nextLoc,"return"!==t.method&&(t.method="next",t.arg=void 0),t.delegate=null,c):i:(t.method="throw",t.arg=new TypeError("iterator result is not an object"),t.delegate=null,c)}function k(e){var t={tryLoc:e[0]};1 in e&&(t.catchLoc=e[1]),2 in e&&(t.finallyLoc=e[2],t.afterLoc=e[3]),this.tryEntries.push(t)}function w(e){var t=e.completion||{};t.type="normal",delete t.arg,e.completion=t}function I(e){this.tryEntries=[{tryLoc:"root"}],e.forEach(k,this),this.reset(!0)}function x(e){if(e){var t=e[i];if(t)return t.call(e);if("function"==typeof e.next)return e;if(!isNaN(e.length)){var r=-1,o=function t(){for(;++r<e.length;)if(n.call(e,r))return t.value=e[r],t.done=!1,t;return t.value=void 0,t.done=!0,t};return o.next=o}}return{next:S}}function S(){return{value:void 0,done:!0}}return f.prototype=h,s(y,"constructor",h),s(h,"constructor",f),f.displayName=s(h,a,"GeneratorFunction"),e.isGeneratorFunction=function(e){var t="function"==typeof e&&e.constructor;return!!t&&(t===f||"GeneratorFunction"===(t.displayName||t.name))},e.mark=function(e){return Object.setPrototypeOf?Object.setPrototypeOf(e,h):(e.__proto__=h,s(e,a,"GeneratorFunction")),e.prototype=Object.create(y),e},e.awrap=function(e){return{__await:e}},g(_.prototype),s(_.prototype,o,(function(){return this})),e.AsyncIterator=_,e.async=function(t,n,r,i,o){void 0===o&&(o=Promise);var a=new _(u(t,n,r,i),o);return e.isGeneratorFunction(n)?a:a.next().then((function(e){return e.done?e.value:a.next()}))},g(y),s(y,a,"Generator"),s(y,i,(function(){return this})),s(y,"toString",(function(){return"[object Generator]"})),e.keys=function(e){var t=[];for(var n in e)t.push(n);return t.reverse(),function n(){for(;t.length;){var r=t.pop();if(r in e)return n.value=r,n.done=!1,n}return n.done=!0,n}},e.values=x,I.prototype={constructor:I,reset:function(e){if(this.prev=0,this.next=0,this.sent=this._sent=void 0,this.done=!1,this.delegate=null,this.method="next",this.arg=void 0,this.tryEntries.forEach(w),!e)for(var t in this)"t"===t.charAt(0)&&n.call(this,t)&&!isNaN(+t.slice(1))&&(this[t]=void 0)},stop:function(){this.done=!0;var e=this.tryEntries[0].completion;if("throw"===e.type)throw e.arg;return this.rval},dispatchException:function(e){if(this.done)throw e;var t=this;function r(n,r){return a.type="throw",a.arg=e,t.next=n,r&&(t.method="next",t.arg=void 0),!!r}for(var i=this.tryEntries.length-1;i>=0;--i){var o=this.tryEntries[i],a=o.completion;if("root"===o.tryLoc)return r("end");if(o.tryLoc<=this.prev){var s=n.call(o,"catchLoc"),u=n.call(o,"finallyLoc");if(s&&u){if(this.prev<o.catchLoc)return r(o.catchLoc,!0);if(this.prev<o.finallyLoc)return r(o.finallyLoc)}else if(s){if(this.prev<o.catchLoc)return r(o.catchLoc,!0)}else{if(!u)throw new Error("try statement without catch or finally");if(this.prev<o.finallyLoc)return r(o.finallyLoc)}}}},abrupt:function(e,t){for(var r=this.tryEntries.length-1;r>=0;--r){var i=this.tryEntries[r];if(i.tryLoc<=this.prev&&n.call(i,"finallyLoc")&&this.prev<i.finallyLoc){var o=i;break}}o&&("break"===e||"continue"===e)&&o.tryLoc<=t&&t<=o.finallyLoc&&(o=null);var a=o?o.completion:{};return a.type=e,a.arg=t,o?(this.method="next",this.next=o.finallyLoc,c):this.complete(a)},complete:function(e,t){if("throw"===e.type)throw e.arg;return"break"===e.type||"continue"===e.type?this.next=e.arg:"return"===e.type?(this.rval=this.arg=e.arg,this.method="return",this.next="end"):"normal"===e.type&&t&&(this.next=t),c},finish:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var n=this.tryEntries[t];if(n.finallyLoc===e)return this.complete(n.completion,n.afterLoc),w(n),c}},catch:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var n=this.tryEntries[t];if(n.tryLoc===e){var r=n.completion;if("throw"===r.type){var i=r.arg;w(n)}return i}}throw new Error("illegal catch attempt")},delegateYield:function(e,t,n){return this.delegate={iterator:x(e),resultName:t,nextLoc:n},"next"===this.method&&(this.arg=void 0),c}},e}function tt(e,t,n,r,i,o,a){try{var s=e[o](a),u=s.value}catch(Hn){return void n(Hn)}s.done?t(u):Promise.resolve(u).then(r,i)}function nt(e){return function(){var t=this,n=arguments;return new Promise((function(r,i){var o=e.apply(t,n);function a(e){tt(o,r,i,a,s,"next",e)}function s(e){tt(o,r,i,a,s,"throw",e)}a(void 0)}))}}var rt=function(){function e(t,n,r){J(this,e),this.name=t,this.instanceFactory=n,this.type=r,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}return Z(e,[{key:"setInstantiationMode",value:function(e){return this.instantiationMode=e,this}},{key:"setMultipleInstances",value:function(e){return this.multipleInstances=e,this}},{key:"setServiceProps",value:function(e){return this.serviceProps=e,this}},{key:"setInstanceCreatedCallback",value:function(e){return this.onInstanceCreated=e,this}}]),e}(),it="[DEFAULT]",ot=function(){function e(t,n){J(this,e),this.name=t,this.container=n,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}return Z(e,[{key:"get",value:function(e){var t=this.normalizeInstanceIdentifier(e);if(!this.instancesDeferred.has(t)){var n=new we;if(this.instancesDeferred.set(t,n),this.isInitialized(t)||this.shouldAutoInitialize())try{var r=this.getOrInitializeService({instanceIdentifier:t});r&&n.resolve(r)}catch(i){}}return this.instancesDeferred.get(t).promise}},{key:"getImmediate",value:function(e){var t,n=this.normalizeInstanceIdentifier(null===e||void 0===e?void 0:e.identifier),r=null!==(t=null===e||void 0===e?void 0:e.optional)&&void 0!==t&&t;if(!this.isInitialized(n)&&!this.shouldAutoInitialize()){if(r)return null;throw Error("Service ".concat(this.name," is not available"))}try{return this.getOrInitializeService({instanceIdentifier:n})}catch(i){if(r)return null;throw i}}},{key:"getComponent",value:function(){return this.component}},{key:"setComponent",value:function(e){if(e.name!==this.name)throw Error("Mismatching Component ".concat(e.name," for Provider ").concat(this.name,"."));if(this.component)throw Error("Component for ".concat(this.name," has already been provided"));if(this.component=e,this.shouldAutoInitialize()){if(function(e){return"EAGER"===e.instantiationMode}(e))try{this.getOrInitializeService({instanceIdentifier:it})}catch(u){}var t,n=ee(this.instancesDeferred.entries());try{for(n.s();!(t=n.n()).done;){var r=f(t.value,2),i=r[0],o=r[1],a=this.normalizeInstanceIdentifier(i);try{var s=this.getOrInitializeService({instanceIdentifier:a});o.resolve(s)}catch(u){}}}catch(l){n.e(l)}finally{n.f()}}}},{key:"clearInstance",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:it;this.instancesDeferred.delete(e),this.instancesOptions.delete(e),this.instances.delete(e)}},{key:"delete",value:function(){var e=nt(et().mark((function e(){var t;return et().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=Array.from(this.instances.values()),e.next=3,Promise.all([].concat(p(t.filter((function(e){return"INTERNAL"in e})).map((function(e){return e.INTERNAL.delete()}))),p(t.filter((function(e){return"_delete"in e})).map((function(e){return e._delete()})))));case 3:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"isComponentSet",value:function(){return null!=this.component}},{key:"isInitialized",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:it;return this.instances.has(e)}},{key:"getOptions",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:it;return this.instancesOptions.get(e)||{}}},{key:"initialize",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=e.options,n=void 0===t?{}:t,r=this.normalizeInstanceIdentifier(e.instanceIdentifier);if(this.isInitialized(r))throw Error("".concat(this.name,"(").concat(r,") has already been initialized"));if(!this.isComponentSet())throw Error("Component ".concat(this.name," has not been registered yet"));var i,o=this.getOrInitializeService({instanceIdentifier:r,options:n}),a=ee(this.instancesDeferred.entries());try{for(a.s();!(i=a.n()).done;){var s=f(i.value,2),u=s[0],l=s[1],c=this.normalizeInstanceIdentifier(u);r===c&&l.resolve(o)}}catch(d){a.e(d)}finally{a.f()}return o}},{key:"onInit",value:function(e,t){var n,r=this.normalizeInstanceIdentifier(t),i=null!==(n=this.onInitCallbacks.get(r))&&void 0!==n?n:new Set;i.add(e),this.onInitCallbacks.set(r,i);var o=this.instances.get(r);return o&&e(o,r),function(){i.delete(e)}}},{key:"invokeOnInitCallbacks",value:function(e,t){var n=this.onInitCallbacks.get(t);if(n){var r,i=ee(n);try{for(i.s();!(r=i.n()).done;){var o=r.value;try{o(e,t)}catch(a){}}}catch(s){i.e(s)}finally{i.f()}}}},{key:"getOrInitializeService",value:function(e){var t,n=e.instanceIdentifier,r=e.options,i=void 0===r?{}:r,o=this.instances.get(n);if(!o&&this.component&&(o=this.component.instanceFactory(this.container,{instanceIdentifier:(t=n,t===it?void 0:t),options:i}),this.instances.set(n,o),this.instancesOptions.set(n,i),this.invokeOnInitCallbacks(o,n),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,n,o)}catch(a){}return o||null}},{key:"normalizeInstanceIdentifier",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:it;return this.component?this.component.multipleInstances?e:it:e}},{key:"shouldAutoInitialize",value:function(){return!!this.component&&"EXPLICIT"!==this.component.instantiationMode}}]),e}();var at,st,ut=function(){function e(t){J(this,e),this.name=t,this.providers=new Map}return Z(e,[{key:"addComponent",value:function(e){var t=this.getProvider(e.name);if(t.isComponentSet())throw new Error("Component ".concat(e.name," has already been registered with ").concat(this.name));t.setComponent(e)}},{key:"addOrOverwriteComponent",value:function(e){this.getProvider(e.name).isComponentSet()&&this.providers.delete(e.name),this.addComponent(e)}},{key:"getProvider",value:function(e){if(this.providers.has(e))return this.providers.get(e);var t=new ot(e,this);return this.providers.set(e,t),t}},{key:"getProviders",value:function(){return Array.from(this.providers.values())}}]),e}(),lt=[];!function(e){e[e.DEBUG=0]="DEBUG",e[e.VERBOSE=1]="VERBOSE",e[e.INFO=2]="INFO",e[e.WARN=3]="WARN",e[e.ERROR=4]="ERROR",e[e.SILENT=5]="SILENT"}(st||(st={}));var ct={debug:st.DEBUG,verbose:st.VERBOSE,info:st.INFO,warn:st.WARN,error:st.ERROR,silent:st.SILENT},dt=st.INFO,ft=(o(at={},st.DEBUG,"log"),o(at,st.VERBOSE,"log"),o(at,st.INFO,"info"),o(at,st.WARN,"warn"),o(at,st.ERROR,"error"),at),ht=function(e,t){if(!(t<e.logLevel)){var n=(new Date).toISOString(),r=ft[t];if(!r)throw new Error("Attempted to log a message with an invalid logType (value: ".concat(t,")"));for(var i,o=arguments.length,a=new Array(o>2?o-2:0),s=2;s<o;s++)a[s-2]=arguments[s];(i=console)[r].apply(i,["[".concat(n,"]  ").concat(e.name,":")].concat(a))}},pt=function(){function e(t){J(this,e),this.name=t,this._logLevel=dt,this._logHandler=ht,this._userLogHandler=null,lt.push(this)}return Z(e,[{key:"logLevel",get:function(){return this._logLevel},set:function(e){if(!(e in st))throw new TypeError('Invalid value "'.concat(e,'" assigned to `logLevel`'));this._logLevel=e}},{key:"setLogLevel",value:function(e){this._logLevel="string"===typeof e?ct[e]:e}},{key:"logHandler",get:function(){return this._logHandler},set:function(e){if("function"!==typeof e)throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=e}},{key:"userLogHandler",get:function(){return this._userLogHandler},set:function(e){this._userLogHandler=e}},{key:"debug",value:function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];this._userLogHandler&&this._userLogHandler.apply(this,[this,st.DEBUG].concat(t)),this._logHandler.apply(this,[this,st.DEBUG].concat(t))}},{key:"log",value:function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];this._userLogHandler&&this._userLogHandler.apply(this,[this,st.VERBOSE].concat(t)),this._logHandler.apply(this,[this,st.VERBOSE].concat(t))}},{key:"info",value:function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];this._userLogHandler&&this._userLogHandler.apply(this,[this,st.INFO].concat(t)),this._logHandler.apply(this,[this,st.INFO].concat(t))}},{key:"warn",value:function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];this._userLogHandler&&this._userLogHandler.apply(this,[this,st.WARN].concat(t)),this._logHandler.apply(this,[this,st.WARN].concat(t))}},{key:"error",value:function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];this._userLogHandler&&this._userLogHandler.apply(this,[this,st.ERROR].concat(t)),this._logHandler.apply(this,[this,st.ERROR].concat(t))}}]),e}();var vt,mt;var yt=new WeakMap,gt=new WeakMap,_t=new WeakMap,bt=new WeakMap,kt=new WeakMap;var wt={get:function(e,t,n){if(e instanceof IDBTransaction){if("done"===t)return gt.get(e);if("objectStoreNames"===t)return e.objectStoreNames||_t.get(e);if("store"===t)return n.objectStoreNames[1]?void 0:n.objectStore(n.objectStoreNames[0])}return St(e[t])},set:function(e,t,n){return e[t]=n,!0},has:function(e,t){return e instanceof IDBTransaction&&("done"===t||"store"===t)||t in e}};function It(e){return e!==IDBDatabase.prototype.transaction||"objectStoreNames"in IDBTransaction.prototype?(mt||(mt=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])).includes(e)?function(){for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];return e.apply(Ct(this),n),St(yt.get(this))}:function(){for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];return St(e.apply(Ct(this),n))}:function(t){for(var n=arguments.length,r=new Array(n>1?n-1:0),i=1;i<n;i++)r[i-1]=arguments[i];var o=e.call.apply(e,[Ct(this),t].concat(r));return _t.set(o,t.sort?t.sort():[t]),St(o)}}function xt(e){return"function"===typeof e?It(e):(e instanceof IDBTransaction&&function(e){if(!gt.has(e)){var t=new Promise((function(t,n){var r=function(){e.removeEventListener("complete",i),e.removeEventListener("error",o),e.removeEventListener("abort",o)},i=function(){t(),r()},o=function(){n(e.error||new DOMException("AbortError","AbortError")),r()};e.addEventListener("complete",i),e.addEventListener("error",o),e.addEventListener("abort",o)}));gt.set(e,t)}}(e),t=e,(vt||(vt=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])).some((function(e){return t instanceof e}))?new Proxy(e,wt):e);var t}function St(e){if(e instanceof IDBRequest)return function(e){var t=new Promise((function(t,n){var r=function(){e.removeEventListener("success",i),e.removeEventListener("error",o)},i=function(){t(St(e.result)),r()},o=function(){n(e.error),r()};e.addEventListener("success",i),e.addEventListener("error",o)}));return t.then((function(t){t instanceof IDBCursor&&yt.set(t,e)})).catch((function(){})),kt.set(t,e),t}(e);if(bt.has(e))return bt.get(e);var t=xt(e);return t!==e&&(bt.set(e,t),kt.set(t,e)),t}var Ct=function(e){return kt.get(e)};var Et,Tt,Nt=["get","getKey","getAll","getAllKeys","count"],Pt=["put","add","delete","clear"],Ot=new Map;function Rt(e,t){if(e instanceof IDBDatabase&&!(t in e)&&"string"===typeof t){if(Ot.get(t))return Ot.get(t);var n=t.replace(/FromIndex$/,""),r=t!==n,i=Pt.includes(n);if(n in(r?IDBIndex:IDBObjectStore).prototype&&(i||Nt.includes(n))){var o=function(){var e=nt(et().mark((function e(t){var o,a,s,u,l,c,d=arguments;return et().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:for(a=this.transaction(t,i?"readwrite":"readonly"),s=a.store,u=d.length,l=new Array(u>1?u-1:0),c=1;c<u;c++)l[c-1]=d[c];return r&&(s=s.index(l.shift())),e.next=6,Promise.all([(o=s)[n].apply(o,l),i&&a.done]);case 6:return e.abrupt("return",e.sent[0]);case 7:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}();return Ot.set(t,o),o}}}wt=function(e){return s(s({},e),{},{get:function(t,n,r){return Rt(t,n)||e.get(t,n,r)},has:function(t,n){return!!Rt(t,n)||e.has(t,n)}})}(wt);var At=function(){function e(t){J(this,e),this.container=t}return Z(e,[{key:"getPlatformInfoString",value:function(){return this.container.getProviders().map((function(e){if(function(e){var t=e.getComponent();return"VERSION"===(null===t||void 0===t?void 0:t.type)}(e)){var t=e.getImmediate();return"".concat(t.library,"/").concat(t.version)}return null})).filter((function(e){return e})).join(" ")}}]),e}();var Dt="@firebase/app",Lt="0.7.25",Mt=new pt("@firebase/app"),Ft="[DEFAULT]",Ut=(o(Et={},Dt,"fire-core"),o(Et,"@firebase/app-compat","fire-core-compat"),o(Et,"@firebase/analytics","fire-analytics"),o(Et,"@firebase/analytics-compat","fire-analytics-compat"),o(Et,"@firebase/app-check","fire-app-check"),o(Et,"@firebase/app-check-compat","fire-app-check-compat"),o(Et,"@firebase/auth","fire-auth"),o(Et,"@firebase/auth-compat","fire-auth-compat"),o(Et,"@firebase/database","fire-rtdb"),o(Et,"@firebase/database-compat","fire-rtdb-compat"),o(Et,"@firebase/functions","fire-fn"),o(Et,"@firebase/functions-compat","fire-fn-compat"),o(Et,"@firebase/installations","fire-iid"),o(Et,"@firebase/installations-compat","fire-iid-compat"),o(Et,"@firebase/messaging","fire-fcm"),o(Et,"@firebase/messaging-compat","fire-fcm-compat"),o(Et,"@firebase/performance","fire-perf"),o(Et,"@firebase/performance-compat","fire-perf-compat"),o(Et,"@firebase/remote-config","fire-rc"),o(Et,"@firebase/remote-config-compat","fire-rc-compat"),o(Et,"@firebase/storage","fire-gcs"),o(Et,"@firebase/storage-compat","fire-gcs-compat"),o(Et,"@firebase/firestore","fire-fst"),o(Et,"@firebase/firestore-compat","fire-fst-compat"),o(Et,"fire-js","fire-js"),o(Et,"firebase","fire-js-all"),Et),jt=new Map,zt=new Map;function qt(e,t){try{e.container.addComponent(t)}catch(n){Mt.debug("Component ".concat(t.name," failed to register with FirebaseApp ").concat(e.name),n)}}function Wt(e,t){e.container.addOrOverwriteComponent(t)}function Vt(e){var t=e.name;if(zt.has(t))return Mt.debug("There were multiple attempts to register component ".concat(t,".")),!1;zt.set(t,e);var n,r=ee(jt.values());try{for(r.s();!(n=r.n()).done;){qt(n.value,e)}}catch(i){r.e(i)}finally{r.f()}return!0}function Bt(e,t){var n=e.container.getProvider("heartbeat").getImmediate({optional:!0});return n&&n.triggerHeartbeat(),e.container.getProvider(t)}function Ht(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:Ft;Bt(e,t).clearInstance(n)}function Kt(){zt.clear()}var Gt=(o(Tt={},"no-app","No Firebase App '{$appName}' has been created - call Firebase App.initializeApp()"),o(Tt,"bad-app-name","Illegal App name: '{$appName}"),o(Tt,"duplicate-app","Firebase App named '{$appName}' already exists with different options or config"),o(Tt,"app-deleted","Firebase App named '{$appName}' already deleted"),o(Tt,"invalid-app-argument","firebase.{$appName}() takes either no argument or a Firebase App instance."),o(Tt,"invalid-log-argument","First argument to `onLog` must be null or a function."),o(Tt,"storage-open","Error thrown when opening storage. Original error: {$originalErrorMessage}."),o(Tt,"storage-get","Error thrown when reading from storage. Original error: {$originalErrorMessage}."),o(Tt,"storage-set","Error thrown when writing to storage. Original error: {$originalErrorMessage}."),o(Tt,"storage-delete","Error thrown when deleting from storage. Original error: {$originalErrorMessage}."),Tt),$t=new Re("app","Firebase",Gt),Yt=function(){function e(t,n,r){var i=this;J(this,e),this._isDeleted=!1,this._options=Object.assign({},t),this._config=Object.assign({},n),this._name=n.name,this._automaticDataCollectionEnabled=n.automaticDataCollectionEnabled,this._container=r,this.container.addComponent(new rt("app",(function(){return i}),"PUBLIC"))}return Z(e,[{key:"automaticDataCollectionEnabled",get:function(){return this.checkDestroyed(),this._automaticDataCollectionEnabled},set:function(e){this.checkDestroyed(),this._automaticDataCollectionEnabled=e}},{key:"name",get:function(){return this.checkDestroyed(),this._name}},{key:"options",get:function(){return this.checkDestroyed(),this._options}},{key:"config",get:function(){return this.checkDestroyed(),this._config}},{key:"container",get:function(){return this._container}},{key:"isDeleted",get:function(){return this._isDeleted},set:function(e){this._isDeleted=e}},{key:"checkDestroyed",value:function(){if(this.isDeleted)throw $t.create("app-deleted",{appName:this._name})}}]),e}(),Qt="9.8.2";function Jt(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};if("object"!==typeof t){var n=t;t={name:n}}var r=Object.assign({name:Ft,automaticDataCollectionEnabled:!1},t),i=r.name;if("string"!==typeof i||!i)throw $t.create("bad-app-name",{appName:String(i)});var o=jt.get(i);if(o){if(We(e,o.options)&&We(r,o.config))return o;throw $t.create("duplicate-app",{appName:i})}var a,s=new ut(i),u=ee(zt.values());try{for(u.s();!(a=u.n()).done;){var l=a.value;s.addComponent(l)}}catch(d){u.e(d)}finally{u.f()}var c=new Yt(e,r,s);return jt.set(i,c),c}function Xt(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Ft,t=jt.get(e);if(!t)throw $t.create("no-app",{appName:e});return t}function Zt(){return Array.from(jt.values())}function en(e){return tn.apply(this,arguments)}function tn(){return(tn=nt(et().mark((function e(t){var n;return et().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(n=t.name,!jt.has(n)){e.next=6;break}return jt.delete(n),e.next=5,Promise.all(t.container.getProviders().map((function(e){return e.delete()})));case 5:t.isDeleted=!0;case 6:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function nn(e,t,n){var r,i=null!==(r=Ut[e])&&void 0!==r?r:e;n&&(i+="-".concat(n));var o=i.match(/\s|\//),a=t.match(/\s|\//);if(o||a){var s=['Unable to register library "'.concat(i,'" with version "').concat(t,'":')];return o&&s.push('library name "'.concat(i,'" contains illegal characters (whitespace or "/")')),o&&a&&s.push("and"),a&&s.push('version name "'.concat(t,'" contains illegal characters (whitespace or "/")')),void Mt.warn(s.join(" "))}Vt(new rt("".concat(i,"-version"),(function(){return{library:i,version:t}}),"VERSION"))}function rn(e,t){if(null!==e&&"function"!==typeof e)throw $t.create("invalid-log-argument");!function(e,t){var n,r=ee(lt);try{var i=function(){var r=n.value,i=null;t&&t.level&&(i=ct[t.level]),r.userLogHandler=null===e?null:function(t,n){for(var r=arguments.length,o=new Array(r>2?r-2:0),a=2;a<r;a++)o[a-2]=arguments[a];var s=o.map((function(e){if(null==e)return null;if("string"===typeof e)return e;if("number"===typeof e||"boolean"===typeof e)return e.toString();if(e instanceof Error)return e.message;try{return JSON.stringify(e)}catch(t){return null}})).filter((function(e){return e})).join(" ");n>=(null!==i&&void 0!==i?i:t.logLevel)&&e({level:st[n].toLowerCase(),message:s,args:o,type:t.name})}};for(r.s();!(n=r.n()).done;)i()}catch(o){r.e(o)}finally{r.f()}}(e,t)}function on(e){var t;t=e,lt.forEach((function(e){e.setLogLevel(t)}))}var an="firebase-heartbeat-store",sn=null;function un(){return sn||(sn=function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},r=n.blocked,i=n.upgrade,o=n.blocking,a=n.terminated,s=indexedDB.open(e,t),u=St(s);return i&&s.addEventListener("upgradeneeded",(function(e){i(St(s.result),e.oldVersion,e.newVersion,St(s.transaction))})),r&&s.addEventListener("blocked",(function(){return r()})),u.then((function(e){a&&e.addEventListener("close",(function(){return a()})),o&&e.addEventListener("versionchange",(function(){return o()}))})).catch((function(){})),u}("firebase-heartbeat-database",1,{upgrade:function(e,t){if(0===t)e.createObjectStore(an)}}).catch((function(e){throw $t.create("storage-open",{originalErrorMessage:e.message})}))),sn}function ln(e){return cn.apply(this,arguments)}function cn(){return(cn=nt(et().mark((function e(t){var n;return et().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,un();case 3:return n=e.sent,e.abrupt("return",n.transaction(an).objectStore(an).get(hn(t)));case 7:throw e.prev=7,e.t0=e.catch(0),$t.create("storage-get",{originalErrorMessage:e.t0.message});case 10:case"end":return e.stop()}}),e,null,[[0,7]])})))).apply(this,arguments)}function dn(e,t){return fn.apply(this,arguments)}function fn(){return(fn=nt(et().mark((function e(t,n){var r,i,o;return et().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,un();case 3:return r=e.sent,i=r.transaction(an,"readwrite"),o=i.objectStore(an),e.next=8,o.put(n,hn(t));case 8:return e.abrupt("return",i.done);case 11:throw e.prev=11,e.t0=e.catch(0),$t.create("storage-set",{originalErrorMessage:e.t0.message});case 14:case"end":return e.stop()}}),e,null,[[0,11]])})))).apply(this,arguments)}function hn(e){return"".concat(e.name,"!").concat(e.options.appId)}var pn=function(){function e(t){var n=this;J(this,e),this.container=t,this._heartbeatsCache=null;var r=this.container.getProvider("app").getImmediate();this._storage=new _n(r),this._heartbeatsCachePromise=this._storage.read().then((function(e){return n._heartbeatsCache=e,e}))}return Z(e,[{key:"triggerHeartbeat",value:function(){var e=nt(et().mark((function e(){var t,n,r;return et().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t=this.container.getProvider("platform-logger").getImmediate(),n=t.getPlatformInfoString(),r=vn(),null!==this._heartbeatsCache){e.next=7;break}return e.next=6,this._heartbeatsCachePromise;case 6:this._heartbeatsCache=e.sent;case 7:if(this._heartbeatsCache.lastSentHeartbeatDate!==r&&!this._heartbeatsCache.heartbeats.some((function(e){return e.date===r}))){e.next=11;break}return e.abrupt("return");case 11:this._heartbeatsCache.heartbeats.push({date:r,agent:n});case 12:return this._heartbeatsCache.heartbeats=this._heartbeatsCache.heartbeats.filter((function(e){var t=new Date(e.date).valueOf();return Date.now()-t<=2592e6})),e.abrupt("return",this._storage.overwrite(this._heartbeatsCache));case 14:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"getHeartbeatsHeader",value:function(){var e=nt(et().mark((function e(){var t,n,r,i,o;return et().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(null!==this._heartbeatsCache){e.next=3;break}return e.next=3,this._heartbeatsCachePromise;case 3:if(null!==this._heartbeatsCache&&0!==this._heartbeatsCache.heartbeats.length){e.next=5;break}return e.abrupt("return","");case 5:if(t=vn(),n=mn(this._heartbeatsCache.heartbeats),r=n.heartbeatsToSend,i=n.unsentEntries,o=_e(JSON.stringify({version:2,heartbeats:r})),this._heartbeatsCache.lastSentHeartbeatDate=t,!(i.length>0)){e.next=15;break}return this._heartbeatsCache.heartbeats=i,e.next=13,this._storage.overwrite(this._heartbeatsCache);case 13:e.next=17;break;case 15:this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache);case 17:return e.abrupt("return",o);case 18:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()}]),e}();function vn(){return(new Date).toISOString().substring(0,10)}function mn(e){var t,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1024,r=[],i=e.slice(),o=ee(e);try{var a=function(){var e=t.value,o=r.find((function(t){return t.agent===e.agent}));if(o){if(o.dates.push(e.date),bn(r)>n)return o.dates.pop(),"break"}else if(r.push({agent:e.agent,dates:[e.date]}),bn(r)>n)return r.pop(),"break";i=i.slice(1)};for(o.s();!(t=o.n()).done;){var s=a();if("break"===s)break}}catch(u){o.e(u)}finally{o.f()}return{heartbeatsToSend:r,unsentEntries:i}}var yn,gn,_n=function(){function e(t){J(this,e),this.app=t,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}return Z(e,[{key:"runIndexedDBEnvironmentCheck",value:function(){var e=nt(et().mark((function e(){return et().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(Pe()){e.next=4;break}return e.abrupt("return",!1);case 4:return e.abrupt("return",new Promise((function(e,t){try{var n=!0,r="validate-browser-context-for-indexeddb-analytics-module",i=self.indexedDB.open(r);i.onsuccess=function(){i.result.close(),n||self.indexedDB.deleteDatabase(r),e(!0)},i.onupgradeneeded=function(){n=!1},i.onerror=function(){var e;t((null===(e=i.error)||void 0===e?void 0:e.message)||"")}}catch(Hn){t(Hn)}})).then((function(){return!0})).catch((function(){return!1})));case 5:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}()},{key:"read",value:function(){var e=nt(et().mark((function e(){var t;return et().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this._canUseIndexedDBPromise;case 2:if(e.sent){e.next=7;break}return e.abrupt("return",{heartbeats:[]});case 7:return e.next=9,ln(this.app);case 9:return t=e.sent,e.abrupt("return",t||{heartbeats:[]});case 11:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"overwrite",value:function(){var e=nt(et().mark((function e(t){var n,r;return et().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this._canUseIndexedDBPromise;case 2:if(e.sent){e.next=7;break}return e.abrupt("return");case 7:return e.next=9,this.read();case 9:return r=e.sent,e.abrupt("return",dn(this.app,{lastSentHeartbeatDate:null!==(n=t.lastSentHeartbeatDate)&&void 0!==n?n:r.lastSentHeartbeatDate,heartbeats:t.heartbeats}));case 11:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"add",value:function(){var e=nt(et().mark((function e(t){var n,r;return et().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this._canUseIndexedDBPromise;case 2:if(e.sent){e.next=7;break}return e.abrupt("return");case 7:return e.next=9,this.read();case 9:return r=e.sent,e.abrupt("return",dn(this.app,{lastSentHeartbeatDate:null!==(n=t.lastSentHeartbeatDate)&&void 0!==n?n:r.lastSentHeartbeatDate,heartbeats:[].concat(p(r.heartbeats),p(t.heartbeats))}));case 11:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()}]),e}();function bn(e){return _e(JSON.stringify({version:2,heartbeats:e})).length}yn="",Vt(new rt("platform-logger",(function(e){return new At(e)}),"PRIVATE")),Vt(new rt("heartbeat",(function(e){return new pn(e)}),"PRIVATE")),nn(Dt,Lt,yn),nn(Dt,Lt,"esm2017"),nn("fire-js","");var kn=function(){function e(t,n){var r=this;J(this,e),this._delegate=t,this.firebase=n,qt(t,new rt("app-compat",(function(){return r}),"PUBLIC")),this.container=t.container}return Z(e,[{key:"automaticDataCollectionEnabled",get:function(){return this._delegate.automaticDataCollectionEnabled},set:function(e){this._delegate.automaticDataCollectionEnabled=e}},{key:"name",get:function(){return this._delegate.name}},{key:"options",get:function(){return this._delegate.options}},{key:"delete",value:function(){var e=this;return new Promise((function(t){e._delegate.checkDestroyed(),t()})).then((function(){return e.firebase.INTERNAL.removeApp(e.name),en(e._delegate)}))}},{key:"_getService",value:function(e){var t,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:Ft;this._delegate.checkDestroyed();var r=this._delegate.container.getProvider(e);return r.isInitialized()||"EXPLICIT"!==(null===(t=r.getComponent())||void 0===t?void 0:t.instantiationMode)||r.initialize(),r.getImmediate({identifier:n})}},{key:"_removeServiceInstance",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:Ft;this._delegate.container.getProvider(e).clearInstance(t)}},{key:"_addComponent",value:function(e){qt(this._delegate,e)}},{key:"_addOrOverwriteComponent",value:function(e){Wt(this._delegate,e)}},{key:"toJSON",value:function(){return{name:this.name,automaticDataCollectionEnabled:this.automaticDataCollectionEnabled,options:this.options}}}]),e}(),wn=(o(gn={},"no-app","No Firebase App '{$appName}' has been created - call Firebase App.initializeApp()"),o(gn,"invalid-app-argument","firebase.{$appName}() takes either no argument or a Firebase App instance."),gn),In=new Re("app-compat","Firebase",wn);var xn=function t(){var n=function(t){var n={},r={__esModule:!0,initializeApp:function(e){var i=Jt(e,arguments.length>1&&void 0!==arguments[1]?arguments[1]:{});if(Ue(n,i.name))return n[i.name];var o=new t(i,r);return n[i.name]=o,o},app:i,registerVersion:nn,setLogLevel:on,onLog:rn,apps:null,SDK_VERSION:Qt,INTERNAL:{registerComponent:function(e){var n=e.name,o=n.replace("-compat","");if(Vt(e)&&"PUBLIC"===e.type){var a=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:i();if("function"!==typeof e[o])throw In.create("invalid-app-argument",{appName:n});return e[o]()};void 0!==e.serviceProps&&ke(a,e.serviceProps),r[o]=a,t.prototype[o]=function(){for(var t=this._getService.bind(this,n),r=arguments.length,i=new Array(r),o=0;o<r;o++)i[o]=arguments[o];return t.apply(this,e.multipleInstances?i:[])}}return"PUBLIC"===e.type?r[o]:null},removeApp:function(e){delete n[e]},useAsService:function(e,t){return"serverAuth"===t?null:t},modularAPIs:e}};function i(e){if(!Ue(n,e=e||Ft))throw In.create("no-app",{appName:e});return n[e]}return r.default=r,Object.defineProperty(r,"apps",{get:function(){return Object.keys(n).map((function(e){return n[e]}))}}),i.App=t,r}(kn);return n.INTERNAL=Object.assign(Object.assign({},n.INTERNAL),{createFirebaseNamespace:t,extendNamespace:function(e){ke(n,e)},createSubscribe:$e,ErrorFactory:Re,deepExtend:ke}),n}(),Sn=new pt("@firebase/app-compat");if("object"===typeof self&&self.self===self&&void 0!==self.firebase){Sn.warn("\n    Warning: Firebase is already defined in the global scope. Please make sure\n    Firebase library is only loaded once.\n  ");var Cn=self.firebase.SDK_VERSION;Cn&&Cn.indexOf("LITE")>=0&&Sn.warn("\n    Warning: You are trying to load Firebase while using Firebase Performance standalone script.\n    You should load Firebase Performance with this instance of Firebase to avoid loading duplicate code.\n    ")}var En=xn;!function(e){nn("@firebase/app-compat","0.1.26",e)}();En.registerVersion("firebase","9.8.2","app-compat");var Tn="@firebase/database",Nn="0.13.0",Pn="";var On=function(){function e(t){J(this,e),this.domStorage_=t,this.prefix_="firebase:"}return Z(e,[{key:"set",value:function(e,t){null==t?this.domStorage_.removeItem(this.prefixedName_(e)):this.domStorage_.setItem(this.prefixedName_(e),Me(t))}},{key:"get",value:function(e){var t=this.domStorage_.getItem(this.prefixedName_(e));return null==t?null:Le(t)}},{key:"remove",value:function(e){this.domStorage_.removeItem(this.prefixedName_(e))}},{key:"prefixedName_",value:function(e){return this.prefix_+e}},{key:"toString",value:function(){return this.domStorage_.toString()}}]),e}(),Rn=function(){function e(){J(this,e),this.cache_={},this.isInMemoryStorage=!0}return Z(e,[{key:"set",value:function(e,t){null==t?delete this.cache_[e]:this.cache_[e]=t}},{key:"get",value:function(e){return Ue(this.cache_,e)?this.cache_[e]:null}},{key:"remove",value:function(e){delete this.cache_[e]}}]),e}(),An=function(e){try{if("undefined"!==typeof window&&"undefined"!==typeof window[e]){var t=window[e];return t.setItem("firebase:sentinel","cache"),t.removeItem("firebase:sentinel"),new On(t)}}catch(n){}return new Rn},Dn=An("localStorage"),Ln=An("sessionStorage"),Mn=new pt("@firebase/database"),Fn=function(){var e=1;return function(){return e++}}(),Un=function(e){var t=function(e){for(var t=[],n=0,r=0;r<e.length;r++){var i=e.charCodeAt(r);if(i>=55296&&i<=56319){var o=i-55296;r++,pe(r<e.length,"Surrogate pair missing trail surrogate."),i=65536+(o<<10)+(e.charCodeAt(r)-56320)}i<128?t[n++]=i:i<2048?(t[n++]=i>>6|192,t[n++]=63&i|128):i<65536?(t[n++]=i>>12|224,t[n++]=i>>6&63|128,t[n++]=63&i|128):(t[n++]=i>>18|240,t[n++]=i>>12&63|128,t[n++]=i>>6&63|128,t[n++]=63&i|128)}return t}(e),n=new Ge;n.update(t);var r=n.digest();return ye.encodeByteArray(r)},jn=function e(){for(var t="",n=0;n<arguments.length;n++){var r=n<0||arguments.length<=n?void 0:arguments[n];Array.isArray(r)||r&&"object"===typeof r&&"number"===typeof r.length?t+=e.apply(null,r):t+="object"===typeof r?Me(r):r,t+=" "}return t},zn=null,qn=!0,Wn=function(e,t){pe(!t||!0===e||!1===e,"Can't turn on custom loggers persistently."),!0===e?(Mn.logLevel=st.VERBOSE,zn=Mn.log.bind(Mn),t&&Ln.set("logging_enabled",!0)):"function"===typeof e?zn=e:(zn=null,Ln.remove("logging_enabled"))},Vn=function(){if(!0===qn&&(qn=!1,null===zn&&!0===Ln.get("logging_enabled")&&Wn(!0)),zn){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];var r=jn.apply(null,t);zn(r)}},Bn=function(e){return function(){for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];Vn.apply(void 0,[e].concat(n))}},Hn=function(){var e="FIREBASE INTERNAL ERROR: "+jn.apply(void 0,arguments);Mn.error(e)},Kn=function(){var e="FIREBASE FATAL ERROR: ".concat(jn.apply(void 0,arguments));throw Mn.error(e),new Error(e)},Gn=function(){var e="FIREBASE WARNING: "+jn.apply(void 0,arguments);Mn.warn(e)},$n=function(e){return"number"===typeof e&&(e!==e||e===Number.POSITIVE_INFINITY||e===Number.NEGATIVE_INFINITY)},Yn="[MIN_NAME]",Qn="[MAX_NAME]",Jn=function(e,t){if(e===t)return 0;if(e===Yn||t===Qn)return-1;if(t===Yn||e===Qn)return 1;var n=sr(e),r=sr(t);return null!==n?null!==r?n-r===0?e.length-t.length:n-r:-1:null!==r?1:e<t?-1:1},Xn=function(e,t){return e===t?0:e<t?-1:1},Zn=function(e,t){if(t&&e in t)return t[e];throw new Error("Missing required key ("+e+") in object: "+Me(t))},er=function e(t){if("object"!==typeof t||null===t)return Me(t);var n=[];for(var r in t)n.push(r);n.sort();for(var i="{",o=0;o<n.length;o++)0!==o&&(i+=","),i+=Me(n[o]),i+=":",i+=e(t[n[o]]);return i+="}"},tr=function(e,t){var n=e.length;if(n<=t)return[e];for(var r=[],i=0;i<n;i+=t)i+t>n?r.push(e.substring(i,n)):r.push(e.substring(i,i+t));return r};function nr(e,t){for(var n in e)e.hasOwnProperty(n)&&t(n,e[n])}var rr=function(e){pe(!$n(e),"Invalid JSON number");var t,n,r,i,o,a=1023;0===e?(n=0,r=0,t=1/e===-1/0?1:0):(t=e<0,(e=Math.abs(e))>=Math.pow(2,-1022)?(n=(i=Math.min(Math.floor(Math.log(e)/Math.LN2),a))+a,r=Math.round(e*Math.pow(2,52-i)-Math.pow(2,52))):(n=0,r=Math.round(e/Math.pow(2,-1074))));var s=[];for(o=52;o;o-=1)s.push(r%2?1:0),r=Math.floor(r/2);for(o=11;o;o-=1)s.push(n%2?1:0),n=Math.floor(n/2);s.push(t?1:0),s.reverse();var u=s.join(""),l="";for(o=0;o<64;o+=8){var c=parseInt(u.substr(o,8),2).toString(16);1===c.length&&(c="0"+c),l+=c}return l.toLowerCase()};var ir=new RegExp("^-?(0*)\\d{1,10}$"),or=-2147483648,ar=2147483647,sr=function(e){if(ir.test(e)){var t=Number(e);if(t>=or&&t<=ar)return t}return null},ur=function(e){try{e()}catch(t){setTimeout((function(){var e=t.stack||"";throw Gn("Exception was thrown by user callback.",e),t}),Math.floor(0))}},lr=function(e,t){var n=setTimeout(e,t);return"object"===typeof n&&n.unref&&n.unref(),n},cr=function(){function e(t,n){var r=this;J(this,e),this.appName_=t,this.appCheckProvider=n,this.appCheck=null===n||void 0===n?void 0:n.getImmediate({optional:!0}),this.appCheck||null===n||void 0===n||n.get().then((function(e){return r.appCheck=e}))}return Z(e,[{key:"getToken",value:function(e){var t=this;return this.appCheck?this.appCheck.getToken(e):new Promise((function(n,r){setTimeout((function(){t.appCheck?t.getToken(e).then(n,r):n(null)}),0)}))}},{key:"addTokenChangeListener",value:function(e){var t;null===(t=this.appCheckProvider)||void 0===t||t.get().then((function(t){return t.addTokenListener(e)}))}},{key:"notifyForInvalidToken",value:function(){Gn('Provided AppCheck credentials for the app named "'.concat(this.appName_,'" ')+"are invalid. This usually indicates your app was not initialized correctly.")}}]),e}(),dr=function(){function e(t,n,r){var i=this;J(this,e),this.appName_=t,this.firebaseOptions_=n,this.authProvider_=r,this.auth_=null,this.auth_=r.getImmediate({optional:!0}),this.auth_||r.onInit((function(e){return i.auth_=e}))}return Z(e,[{key:"getToken",value:function(e){var t=this;return this.auth_?this.auth_.getToken(e).catch((function(e){return e&&"auth/token-not-initialized"===e.code?(Vn("Got auth/token-not-initialized error.  Treating as null token."),null):Promise.reject(e)})):new Promise((function(n,r){setTimeout((function(){t.auth_?t.getToken(e).then(n,r):n(null)}),0)}))}},{key:"addTokenChangeListener",value:function(e){this.auth_?this.auth_.addAuthTokenListener(e):this.authProvider_.get().then((function(t){return t.addAuthTokenListener(e)}))}},{key:"removeTokenChangeListener",value:function(e){this.authProvider_.get().then((function(t){return t.removeAuthTokenListener(e)}))}},{key:"notifyForInvalidToken",value:function(){var e='Provided authentication credentials for the app named "'+this.appName_+'" are invalid. This usually indicates your app was not initialized correctly. ';"credential"in this.firebaseOptions_?e+='Make sure the "credential" property provided to initializeApp() is authorized to access the specified "databaseURL" and is from the correct project.':"serviceAccount"in this.firebaseOptions_?e+='Make sure the "serviceAccount" property provided to initializeApp() is authorized to access the specified "databaseURL" and is from the correct project.':e+='Make sure the "apiKey" and "databaseURL" properties provided to initializeApp() match the values provided for your app at https://console.firebase.google.com/.',Gn(e)}}]),e}(),fr=function(){function e(t){J(this,e),this.accessToken=t}return Z(e,[{key:"getToken",value:function(e){return Promise.resolve({accessToken:this.accessToken})}},{key:"addTokenChangeListener",value:function(e){e(this.accessToken)}},{key:"removeTokenChangeListener",value:function(e){}},{key:"notifyForInvalidToken",value:function(){}}]),e}();fr.OWNER="owner";var hr="5",pr=/(console\.firebase|firebase-console-\w+\.corp|firebase\.corp)\.google\.com/,vr="websocket",mr="long_polling",yr=function(){function e(t,n,r,i){var o=arguments.length>4&&void 0!==arguments[4]&&arguments[4],a=arguments.length>5&&void 0!==arguments[5]?arguments[5]:"",s=arguments.length>6&&void 0!==arguments[6]&&arguments[6];J(this,e),this.secure=n,this.namespace=r,this.webSocketOnly=i,this.nodeAdmin=o,this.persistenceKey=a,this.includeNamespaceInQueryParams=s,this._host=t.toLowerCase(),this._domain=this._host.substr(this._host.indexOf(".")+1),this.internalHost=Dn.get("host:"+t)||this._host}return Z(e,[{key:"isCacheableHost",value:function(){return"s-"===this.internalHost.substr(0,2)}},{key:"isCustomHost",value:function(){return"firebaseio.com"!==this._domain&&"firebaseio-demo.com"!==this._domain}},{key:"host",get:function(){return this._host},set:function(e){e!==this.internalHost&&(this.internalHost=e,this.isCacheableHost()&&Dn.set("host:"+this._host,this.internalHost))}},{key:"toString",value:function(){var e=this.toURLString();return this.persistenceKey&&(e+="<"+this.persistenceKey+">"),e}},{key:"toURLString",value:function(){var e=this.secure?"https://":"http://",t=this.includeNamespaceInQueryParams?"?ns=".concat(this.namespace):"";return"".concat(e).concat(this.host,"/").concat(t)}}]),e}();function gr(e,t,n){var r;if(pe("string"===typeof t,"typeof type must == string"),pe("object"===typeof n,"typeof params must == object"),t===vr)r=(e.secure?"wss://":"ws://")+e.internalHost+"/.ws?";else{if(t!==mr)throw new Error("Unknown connection type: "+t);r=(e.secure?"https://":"http://")+e.internalHost+"/.lp?"}(function(e){return e.host!==e.internalHost||e.isCustomHost()||e.includeNamespaceInQueryParams})(e)&&(n.ns=e.namespace);var i=[];return nr(n,(function(e,t){i.push(e+"="+t)})),r+i.join("&")}var _r=function(){function e(){J(this,e),this.counters_={}}return Z(e,[{key:"incrementCounter",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1;Ue(this.counters_,e)||(this.counters_[e]=0),this.counters_[e]+=t}},{key:"get",value:function(){return ke(void 0,this.counters_)}}]),e}(),br={},kr={};function wr(e){var t=e.toString();return br[t]||(br[t]=new _r),br[t]}var Ir=function(){function e(t){J(this,e),this.onMessage_=t,this.pendingResponses=[],this.currentResponseNum=0,this.closeAfterResponse=-1,this.onClose=null}return Z(e,[{key:"closeAfter",value:function(e,t){this.closeAfterResponse=e,this.onClose=t,this.closeAfterResponse<this.currentResponseNum&&(this.onClose(),this.onClose=null)}},{key:"handleResponse",value:function(e,t){var n=this;this.pendingResponses[e]=t;for(var r=function(){var e=n.pendingResponses[n.currentResponseNum];delete n.pendingResponses[n.currentResponseNum];for(var t=function(t){e[t]&&ur((function(){n.onMessage_(e[t])}))},r=0;r<e.length;++r)t(r);if(n.currentResponseNum===n.closeAfterResponse)return n.onClose&&(n.onClose(),n.onClose=null),"break";n.currentResponseNum++};this.pendingResponses[this.currentResponseNum];){if("break"===r())break}}}]),e}(),xr="start",Sr="close",Cr=function(){function e(t,n,r,i,o,a,s){var u=this;J(this,e),this.connId=t,this.repoInfo=n,this.applicationId=r,this.appCheckToken=i,this.authToken=o,this.transportSessionId=a,this.lastSessionId=s,this.bytesSent=0,this.bytesReceived=0,this.everConnected_=!1,this.log_=Bn(t),this.stats_=wr(n),this.urlFn=function(e){return u.appCheckToken&&(e.ac=u.appCheckToken),gr(n,mr,e)}}return Z(e,[{key:"open",value:function(e,t){var n=this;this.curSegmentNum=0,this.onDisconnect_=t,this.myPacketOrderer=new Ir(e),this.isClosed_=!1,this.connectTimeoutTimer_=setTimeout((function(){n.log_("Timed out trying to connect."),n.onClosed_(),n.connectTimeoutTimer_=null}),Math.floor(3e4)),function(e){if(Ne()||"complete"===document.readyState)e();else{var t=!1,n=function n(){document.body?t||(t=!0,e()):setTimeout(n,Math.floor(10))};document.addEventListener?(document.addEventListener("DOMContentLoaded",n,!1),window.addEventListener("load",n,!1)):document.attachEvent&&(document.attachEvent("onreadystatechange",(function(){"complete"===document.readyState&&n()})),window.attachEvent("onload",n))}}((function(){if(!n.isClosed_){n.scriptTagHolder=new Er((function(){for(var e=arguments.length,t=new Array(e),r=0;r<e;r++)t[r]=arguments[r];var i=t[0],o=t[1],a=t[2];t[3],t[4];if(n.incrementIncomingBytes_(t),n.scriptTagHolder)if(n.connectTimeoutTimer_&&(clearTimeout(n.connectTimeoutTimer_),n.connectTimeoutTimer_=null),n.everConnected_=!0,i===xr)n.id=o,n.password=a;else{if(i!==Sr)throw new Error("Unrecognized command received: "+i);o?(n.scriptTagHolder.sendNewPolls=!1,n.myPacketOrderer.closeAfter(o,(function(){n.onClosed_()}))):n.onClosed_()}}),(function(){for(var e=arguments.length,t=new Array(e),r=0;r<e;r++)t[r]=arguments[r];var i=t[0],o=t[1];n.incrementIncomingBytes_(t),n.myPacketOrderer.handleResponse(i,o)}),(function(){n.onClosed_()}),n.urlFn);var e={start:"t"};e.ser=Math.floor(1e8*Math.random()),n.scriptTagHolder.uniqueCallbackIdentifier&&(e.cb=n.scriptTagHolder.uniqueCallbackIdentifier),e.v=hr,n.transportSessionId&&(e.s=n.transportSessionId),n.lastSessionId&&(e.ls=n.lastSessionId),n.applicationId&&(e.p=n.applicationId),n.appCheckToken&&(e.ac=n.appCheckToken),"undefined"!==typeof location&&location.hostname&&pr.test(location.hostname)&&(e.r="f");var t=n.urlFn(e);n.log_("Connecting via long-poll to "+t),n.scriptTagHolder.addTag(t,(function(){}))}}))}},{key:"start",value:function(){this.scriptTagHolder.startLongPoll(this.id,this.password),this.addDisconnectPingFrame(this.id,this.password)}},{key:"markConnectionHealthy",value:function(){}},{key:"shutdown_",value:function(){this.isClosed_=!0,this.scriptTagHolder&&(this.scriptTagHolder.close(),this.scriptTagHolder=null),this.myDisconnFrame&&(document.body.removeChild(this.myDisconnFrame),this.myDisconnFrame=null),this.connectTimeoutTimer_&&(clearTimeout(this.connectTimeoutTimer_),this.connectTimeoutTimer_=null)}},{key:"onClosed_",value:function(){this.isClosed_||(this.log_("Longpoll is closing itself"),this.shutdown_(),this.onDisconnect_&&(this.onDisconnect_(this.everConnected_),this.onDisconnect_=null))}},{key:"close",value:function(){this.isClosed_||(this.log_("Longpoll is being closed."),this.shutdown_())}},{key:"send",value:function(e){var t=Me(e);this.bytesSent+=t.length,this.stats_.incrementCounter("bytes_sent",t.length);for(var n=ge(t),r=tr(n,1840),i=0;i<r.length;i++)this.scriptTagHolder.enqueueSegment(this.curSegmentNum,r.length,r[i]),this.curSegmentNum++}},{key:"addDisconnectPingFrame",value:function(e,t){if(!Ne()){this.myDisconnFrame=document.createElement("iframe");var n={dframe:"t"};n.id=e,n.pw=t,this.myDisconnFrame.src=this.urlFn(n),this.myDisconnFrame.style.display="none",document.body.appendChild(this.myDisconnFrame)}}},{key:"incrementIncomingBytes_",value:function(e){var t=Me(e).length;this.bytesReceived+=t,this.stats_.incrementCounter("bytes_received",t)}}],[{key:"forceAllow",value:function(){e.forceAllow_=!0}},{key:"forceDisallow",value:function(){e.forceDisallow_=!0}},{key:"isAvailable",value:function(){return!Ne()&&(!!e.forceAllow_||!e.forceDisallow_&&"undefined"!==typeof document&&null!=document.createElement&&!("object"===typeof window&&window.chrome&&window.chrome.extension&&!/^chrome/.test(window.location.href))&&!("object"===typeof Windows&&"object"===typeof Windows.UI))}}]),e}(),Er=function(){function e(t,n,r,i){if(J(this,e),this.onDisconnect=r,this.urlFn=i,this.outstandingRequests=new Set,this.pendingSegs=[],this.currentSerial=Math.floor(1e8*Math.random()),this.sendNewPolls=!0,Ne())this.commandCB=t,this.onMessageCB=n;else{this.uniqueCallbackIdentifier=Fn(),window["pLPCommand"+this.uniqueCallbackIdentifier]=t,window["pRTLPCB"+this.uniqueCallbackIdentifier]=n,this.myIFrame=e.createIFrame_();var o="";if(this.myIFrame.src&&"javascript:"===this.myIFrame.src.substr(0,"javascript:".length))o='<script>document.domain="'+document.domain+'";<\/script>';var a="<html><body>"+o+"</body></html>";try{this.myIFrame.doc.open(),this.myIFrame.doc.write(a),this.myIFrame.doc.close()}catch(s){Vn("frame writing exception"),s.stack&&Vn(s.stack),Vn(s)}}}return Z(e,[{key:"close",value:function(){var e=this;this.alive=!1,this.myIFrame&&(this.myIFrame.doc.body.innerHTML="",setTimeout((function(){null!==e.myIFrame&&(document.body.removeChild(e.myIFrame),e.myIFrame=null)}),Math.floor(0)));var t=this.onDisconnect;t&&(this.onDisconnect=null,t())}},{key:"startLongPoll",value:function(e,t){for(this.myID=e,this.myPW=t,this.alive=!0;this.newRequest_(););}},{key:"newRequest_",value:function(){if(this.alive&&this.sendNewPolls&&this.outstandingRequests.size<(this.pendingSegs.length>0?2:1)){this.currentSerial++;var e={};e.id=this.myID,e.pw=this.myPW,e.ser=this.currentSerial;for(var t=this.urlFn(e),n="",r=0;this.pendingSegs.length>0;){if(!(this.pendingSegs[0].d.length+30+n.length<=1870))break;var i=this.pendingSegs.shift();n=n+"&seg"+r+"="+i.seg+"&ts"+r+"="+i.ts+"&d"+r+"="+i.d,r++}return t+=n,this.addLongPollTag_(t,this.currentSerial),!0}return!1}},{key:"enqueueSegment",value:function(e,t,n){this.pendingSegs.push({seg:e,ts:t,d:n}),this.alive&&this.newRequest_()}},{key:"addLongPollTag_",value:function(e,t){var n=this;this.outstandingRequests.add(t);var r=function(){n.outstandingRequests.delete(t),n.newRequest_()},i=setTimeout(r,Math.floor(25e3));this.addTag(e,(function(){clearTimeout(i),r()}))}},{key:"addTag",value:function(e,t){var n=this;Ne()?this.doNodeLongPoll(e,t):setTimeout((function(){try{if(!n.sendNewPolls)return;var r=n.myIFrame.doc.createElement("script");r.type="text/javascript",r.async=!0,r.src=e,r.onload=r.onreadystatechange=function(){var e=r.readyState;e&&"loaded"!==e&&"complete"!==e||(r.onload=r.onreadystatechange=null,r.parentNode&&r.parentNode.removeChild(r),t())},r.onerror=function(){Vn("Long-poll script failed to load: "+e),n.sendNewPolls=!1,n.close()},n.myIFrame.doc.body.appendChild(r)}catch(i){}}),Math.floor(1))}}],[{key:"createIFrame_",value:function(){var e=document.createElement("iframe");if(e.style.display="none",!document.body)throw"Document body has not initialized. Wait to initialize Firebase until after the document is ready.";document.body.appendChild(e);try{e.contentWindow.document||Vn("No IE domain setting required")}catch(n){var t=document.domain;e.src="javascript:void((function(){document.open();document.domain='"+t+"';document.close();})())"}return e.contentDocument?e.doc=e.contentDocument:e.contentWindow?e.doc=e.contentWindow.document:e.document&&(e.doc=e.document),e}}]),e}(),Tr=null;"undefined"!==typeof MozWebSocket?Tr=MozWebSocket:"undefined"!==typeof WebSocket&&(Tr=WebSocket);var Nr=function(){function e(t,n,r,i,o,a,s){J(this,e),this.connId=t,this.applicationId=r,this.appCheckToken=i,this.authToken=o,this.keepaliveTimer=null,this.frames=null,this.totalFrames=0,this.bytesSent=0,this.bytesReceived=0,this.log_=Bn(this.connId),this.stats_=wr(n),this.connURL=e.connectionURL_(n,a,s,i,r),this.nodeAdmin=n.nodeAdmin}return Z(e,[{key:"open",value:function(e,t){var n=this;this.onDisconnect=t,this.onMessage=e,this.log_("Websocket connecting to "+this.connURL),this.everConnected_=!1,Dn.set("previous_websocket_failure",!0);try{if(Ne()){var r=this.nodeAdmin?"AdminNode":"Node",i={headers:{"User-Agent":"Firebase/".concat(hr,"/").concat(Pn,"/").concat(process.platform,"/").concat(r),"X-Firebase-GMPID":this.applicationId||""}};this.authToken&&(i.headers.Authorization="Bearer ".concat(this.authToken)),this.appCheckToken&&(i.headers["X-Firebase-AppCheck"]=this.appCheckToken);var o={NODE_ENV:"production",PUBLIC_URL:"/want-smth-test",WDS_SOCKET_HOST:void 0,WDS_SOCKET_PATH:void 0,WDS_SOCKET_PORT:void 0,FAST_REFRESH:!0},a=0===this.connURL.indexOf("wss://")?o.HTTPS_PROXY||o.https_proxy:o.HTTP_PROXY||o.http_proxy;a&&(i.proxy={origin:a})}this.mySock=new Tr(this.connURL,[],undefined)}catch(u){this.log_("Error instantiating WebSocket.");var s=u.message||u.data;return s&&this.log_(s),void this.onClosed_()}this.mySock.onopen=function(){n.log_("Websocket connected."),n.everConnected_=!0},this.mySock.onclose=function(){n.log_("Websocket connection was disconnected."),n.mySock=null,n.onClosed_()},this.mySock.onmessage=function(e){n.handleIncomingFrame(e)},this.mySock.onerror=function(e){n.log_("WebSocket error.  Closing connection.");var t=e.message||e.data;t&&n.log_(t),n.onClosed_()}}},{key:"start",value:function(){}},{key:"markConnectionHealthy",value:function(){Dn.remove("previous_websocket_failure")}},{key:"appendFrame_",value:function(e){if(this.frames.push(e),this.frames.length===this.totalFrames){var t=this.frames.join("");this.frames=null;var n=Le(t);this.onMessage(n)}}},{key:"handleNewFrameCount_",value:function(e){this.totalFrames=e,this.frames=[]}},{key:"extractFrameCount_",value:function(e){if(pe(null===this.frames,"We already have a frame buffer"),e.length<=6){var t=Number(e);if(!isNaN(t))return this.handleNewFrameCount_(t),null}return this.handleNewFrameCount_(1),e}},{key:"handleIncomingFrame",value:function(e){if(null!==this.mySock){var t=e.data;if(this.bytesReceived+=t.length,this.stats_.incrementCounter("bytes_received",t.length),this.resetKeepAlive(),null!==this.frames)this.appendFrame_(t);else{var n=this.extractFrameCount_(t);null!==n&&this.appendFrame_(n)}}}},{key:"send",value:function(e){this.resetKeepAlive();var t=Me(e);this.bytesSent+=t.length,this.stats_.incrementCounter("bytes_sent",t.length);var n=tr(t,16384);n.length>1&&this.sendString_(String(n.length));for(var r=0;r<n.length;r++)this.sendString_(n[r])}},{key:"shutdown_",value:function(){this.isClosed_=!0,this.keepaliveTimer&&(clearInterval(this.keepaliveTimer),this.keepaliveTimer=null),this.mySock&&(this.mySock.close(),this.mySock=null)}},{key:"onClosed_",value:function(){this.isClosed_||(this.log_("WebSocket is closing itself"),this.shutdown_(),this.onDisconnect&&(this.onDisconnect(this.everConnected_),this.onDisconnect=null))}},{key:"close",value:function(){this.isClosed_||(this.log_("WebSocket is being closed"),this.shutdown_())}},{key:"resetKeepAlive",value:function(){var e=this;clearInterval(this.keepaliveTimer),this.keepaliveTimer=setInterval((function(){e.mySock&&e.sendString_("0"),e.resetKeepAlive()}),Math.floor(45e3))}},{key:"sendString_",value:function(e){try{this.mySock.send(e)}catch(t){this.log_("Exception thrown from WebSocket.send():",t.message||t.data,"Closing connection."),setTimeout(this.onClosed_.bind(this),0)}}}],[{key:"connectionURL_",value:function(e,t,n,r,i){var o={};return o.v=hr,!Ne()&&"undefined"!==typeof location&&location.hostname&&pr.test(location.hostname)&&(o.r="f"),t&&(o.s=t),n&&(o.ls=n),r&&(o.ac=r),i&&(o.p=i),gr(e,vr,o)}},{key:"forceDisallow",value:function(){e.forceDisallow_=!0}},{key:"isAvailable",value:function(){var t=!1;if("undefined"!==typeof navigator&&navigator.userAgent){var n=navigator.userAgent.match(/Android ([0-9]{0,}\.[0-9]{0,})/);n&&n.length>1&&parseFloat(n[1])<4.4&&(t=!0)}return!t&&null!==Tr&&!e.forceDisallow_}},{key:"previouslyFailed",value:function(){return Dn.isInMemoryStorage||!0===Dn.get("previous_websocket_failure")}}]),e}();Nr.responsesRequiredToBeHealthy=2,Nr.healthyTimeout=3e4;var Pr=function(){function e(t){J(this,e),this.initTransports_(t)}return Z(e,[{key:"initTransports_",value:function(t){var n=Nr&&Nr.isAvailable(),r=n&&!Nr.previouslyFailed();if(t.webSocketOnly&&(n||Gn("wss:// URL used, but browser isn't known to support websockets.  Trying anyway."),r=!0),r)this.transports_=[Nr];else{var i,o=this.transports_=[],a=ee(e.ALL_TRANSPORTS);try{for(a.s();!(i=a.n()).done;){var s=i.value;s&&s.isAvailable()&&o.push(s)}}catch(u){a.e(u)}finally{a.f()}e.globalTransportInitialized_=!0}}},{key:"initialTransport",value:function(){if(this.transports_.length>0)return this.transports_[0];throw new Error("No transports available")}},{key:"upgradeTransport",value:function(){return this.transports_.length>1?this.transports_[1]:null}}],[{key:"ALL_TRANSPORTS",get:function(){return[Cr,Nr]}},{key:"IS_TRANSPORT_INITIALIZED",get:function(){return this.globalTransportInitialized_}}]),e}();Pr.globalTransportInitialized_=!1;var Or=function(){function e(t,n,r,i,o,a,s,u,l,c){J(this,e),this.id=t,this.repoInfo_=n,this.applicationId_=r,this.appCheckToken_=i,this.authToken_=o,this.onMessage_=a,this.onReady_=s,this.onDisconnect_=u,this.onKill_=l,this.lastSessionId=c,this.connectionCount=0,this.pendingDataMessages=[],this.state_=0,this.log_=Bn("c:"+this.id+":"),this.transportManager_=new Pr(n),this.log_("Connection created"),this.start_()}return Z(e,[{key:"start_",value:function(){var e=this,t=this.transportManager_.initialTransport();this.conn_=new t(this.nextTransportId_(),this.repoInfo_,this.applicationId_,this.appCheckToken_,this.authToken_,null,this.lastSessionId),this.primaryResponsesRequired_=t.responsesRequiredToBeHealthy||0;var n=this.connReceiver_(this.conn_),r=this.disconnReceiver_(this.conn_);this.tx_=this.conn_,this.rx_=this.conn_,this.secondaryConn_=null,this.isHealthy_=!1,setTimeout((function(){e.conn_&&e.conn_.open(n,r)}),Math.floor(0));var i=t.healthyTimeout||0;i>0&&(this.healthyTimeout_=lr((function(){e.healthyTimeout_=null,e.isHealthy_||(e.conn_&&e.conn_.bytesReceived>102400?(e.log_("Connection exceeded healthy timeout but has received "+e.conn_.bytesReceived+" bytes.  Marking connection healthy."),e.isHealthy_=!0,e.conn_.markConnectionHealthy()):e.conn_&&e.conn_.bytesSent>10240?e.log_("Connection exceeded healthy timeout but has sent "+e.conn_.bytesSent+" bytes.  Leaving connection alive."):(e.log_("Closing unhealthy connection after timeout."),e.close()))}),Math.floor(i)))}},{key:"nextTransportId_",value:function(){return"c:"+this.id+":"+this.connectionCount++}},{key:"disconnReceiver_",value:function(e){var t=this;return function(n){e===t.conn_?t.onConnectionLost_(n):e===t.secondaryConn_?(t.log_("Secondary connection lost."),t.onSecondaryConnectionLost_()):t.log_("closing an old connection")}}},{key:"connReceiver_",value:function(e){var t=this;return function(n){2!==t.state_&&(e===t.rx_?t.onPrimaryMessageReceived_(n):e===t.secondaryConn_?t.onSecondaryMessageReceived_(n):t.log_("message on old connection"))}}},{key:"sendRequest",value:function(e){var t={t:"d",d:e};this.sendData_(t)}},{key:"tryCleanupConnection",value:function(){this.tx_===this.secondaryConn_&&this.rx_===this.secondaryConn_&&(this.log_("cleaning up and promoting a connection: "+this.secondaryConn_.connId),this.conn_=this.secondaryConn_,this.secondaryConn_=null)}},{key:"onSecondaryControl_",value:function(e){if("t"in e){var t=e.t;"a"===t?this.upgradeIfSecondaryHealthy_():"r"===t?(this.log_("Got a reset on secondary, closing it"),this.secondaryConn_.close(),this.tx_!==this.secondaryConn_&&this.rx_!==this.secondaryConn_||this.close()):"o"===t&&(this.log_("got pong on secondary."),this.secondaryResponsesRequired_--,this.upgradeIfSecondaryHealthy_())}}},{key:"onSecondaryMessageReceived_",value:function(e){var t=Zn("t",e),n=Zn("d",e);if("c"===t)this.onSecondaryControl_(n);else{if("d"!==t)throw new Error("Unknown protocol layer: "+t);this.pendingDataMessages.push(n)}}},{key:"upgradeIfSecondaryHealthy_",value:function(){this.secondaryResponsesRequired_<=0?(this.log_("Secondary connection is healthy."),this.isHealthy_=!0,this.secondaryConn_.markConnectionHealthy(),this.proceedWithUpgrade_()):(this.log_("sending ping on secondary."),this.secondaryConn_.send({t:"c",d:{t:"p",d:{}}}))}},{key:"proceedWithUpgrade_",value:function(){this.secondaryConn_.start(),this.log_("sending client ack on secondary"),this.secondaryConn_.send({t:"c",d:{t:"a",d:{}}}),this.log_("Ending transmission on primary"),this.conn_.send({t:"c",d:{t:"n",d:{}}}),this.tx_=this.secondaryConn_,this.tryCleanupConnection()}},{key:"onPrimaryMessageReceived_",value:function(e){var t=Zn("t",e),n=Zn("d",e);"c"===t?this.onControl_(n):"d"===t&&this.onDataMessage_(n)}},{key:"onDataMessage_",value:function(e){this.onPrimaryResponse_(),this.onMessage_(e)}},{key:"onPrimaryResponse_",value:function(){this.isHealthy_||(this.primaryResponsesRequired_--,this.primaryResponsesRequired_<=0&&(this.log_("Primary connection is healthy."),this.isHealthy_=!0,this.conn_.markConnectionHealthy()))}},{key:"onControl_",value:function(e){var t=Zn("t",e);if("d"in e){var n=e.d;if("h"===t)this.onHandshake_(n);else if("n"===t){this.log_("recvd end transmission on primary"),this.rx_=this.secondaryConn_;for(var r=0;r<this.pendingDataMessages.length;++r)this.onDataMessage_(this.pendingDataMessages[r]);this.pendingDataMessages=[],this.tryCleanupConnection()}else"s"===t?this.onConnectionShutdown_(n):"r"===t?this.onReset_(n):"e"===t?Hn("Server Error: "+n):"o"===t?(this.log_("got pong on primary."),this.onPrimaryResponse_(),this.sendPingOnPrimaryIfNecessary_()):Hn("Unknown control packet command: "+t)}}},{key:"onHandshake_",value:function(e){var t=e.ts,n=e.v,r=e.h;this.sessionId=e.s,this.repoInfo_.host=r,0===this.state_&&(this.conn_.start(),this.onConnectionEstablished_(this.conn_,t),hr!==n&&Gn("Protocol version mismatch detected"),this.tryStartUpgrade_())}},{key:"tryStartUpgrade_",value:function(){var e=this.transportManager_.upgradeTransport();e&&this.startUpgrade_(e)}},{key:"startUpgrade_",value:function(e){var t=this;this.secondaryConn_=new e(this.nextTransportId_(),this.repoInfo_,this.applicationId_,this.appCheckToken_,this.authToken_,this.sessionId),this.secondaryResponsesRequired_=e.responsesRequiredToBeHealthy||0;var n=this.connReceiver_(this.secondaryConn_),r=this.disconnReceiver_(this.secondaryConn_);this.secondaryConn_.open(n,r),lr((function(){t.secondaryConn_&&(t.log_("Timed out trying to upgrade."),t.secondaryConn_.close())}),Math.floor(6e4))}},{key:"onReset_",value:function(e){this.log_("Reset packet received.  New host: "+e),this.repoInfo_.host=e,1===this.state_?this.close():(this.closeConnections_(),this.start_())}},{key:"onConnectionEstablished_",value:function(e,t){var n=this;this.log_("Realtime connection established."),this.conn_=e,this.state_=1,this.onReady_&&(this.onReady_(t,this.sessionId),this.onReady_=null),0===this.primaryResponsesRequired_?(this.log_("Primary connection is healthy."),this.isHealthy_=!0):lr((function(){n.sendPingOnPrimaryIfNecessary_()}),Math.floor(5e3))}},{key:"sendPingOnPrimaryIfNecessary_",value:function(){this.isHealthy_||1!==this.state_||(this.log_("sending ping on primary."),this.sendData_({t:"c",d:{t:"p",d:{}}}))}},{key:"onSecondaryConnectionLost_",value:function(){var e=this.secondaryConn_;this.secondaryConn_=null,this.tx_!==e&&this.rx_!==e||this.close()}},{key:"onConnectionLost_",value:function(e){this.conn_=null,e||0!==this.state_?1===this.state_&&this.log_("Realtime connection lost."):(this.log_("Realtime connection failed."),this.repoInfo_.isCacheableHost()&&(Dn.remove("host:"+this.repoInfo_.host),this.repoInfo_.internalHost=this.repoInfo_.host)),this.close()}},{key:"onConnectionShutdown_",value:function(e){this.log_("Connection shutdown command received. Shutting down..."),this.onKill_&&(this.onKill_(e),this.onKill_=null),this.onDisconnect_=null,this.close()}},{key:"sendData_",value:function(e){if(1!==this.state_)throw"Connection is not connected";this.tx_.send(e)}},{key:"close",value:function(){2!==this.state_&&(this.log_("Closing realtime connection."),this.state_=2,this.closeConnections_(),this.onDisconnect_&&(this.onDisconnect_(),this.onDisconnect_=null))}},{key:"closeConnections_",value:function(){this.log_("Shutting down all connections"),this.conn_&&(this.conn_.close(),this.conn_=null),this.secondaryConn_&&(this.secondaryConn_.close(),this.secondaryConn_=null),this.healthyTimeout_&&(clearTimeout(this.healthyTimeout_),this.healthyTimeout_=null)}}]),e}(),Rr=function(){function e(){J(this,e)}return Z(e,[{key:"put",value:function(e,t,n,r){}},{key:"merge",value:function(e,t,n,r){}},{key:"refreshAuthToken",value:function(e){}},{key:"refreshAppCheckToken",value:function(e){}},{key:"onDisconnectPut",value:function(e,t,n){}},{key:"onDisconnectMerge",value:function(e,t,n){}},{key:"onDisconnectCancel",value:function(e,t){}},{key:"reportStats",value:function(e){}}]),e}(),Ar=function(){function e(t){J(this,e),this.allowedEvents_=t,this.listeners_={},pe(Array.isArray(t)&&t.length>0,"Requires a non-empty array")}return Z(e,[{key:"trigger",value:function(e){if(Array.isArray(this.listeners_[e])){for(var t=p(this.listeners_[e]),n=arguments.length,r=new Array(n>1?n-1:0),i=1;i<n;i++)r[i-1]=arguments[i];for(var o=0;o<t.length;o++)t[o].callback.apply(t[o].context,r)}}},{key:"on",value:function(e,t,n){this.validateEventType_(e),this.listeners_[e]=this.listeners_[e]||[],this.listeners_[e].push({callback:t,context:n});var r=this.getInitialEvent(e);r&&t.apply(n,r)}},{key:"off",value:function(e,t,n){this.validateEventType_(e);for(var r=this.listeners_[e]||[],i=0;i<r.length;i++)if(r[i].callback===t&&(!n||n===r[i].context))return void r.splice(i,1)}},{key:"validateEventType_",value:function(e){pe(this.allowedEvents_.find((function(t){return t===e})),"Unknown event: "+e)}}]),e}(),Dr=function(e){re(n,e);var t=ue(n);function n(){var e;return J(this,n),(e=t.call(this,["online"])).online_=!0,"undefined"===typeof window||"undefined"===typeof window.addEventListener||xe()||(window.addEventListener("online",(function(){e.online_||(e.online_=!0,e.trigger("online",!0))}),!1),window.addEventListener("offline",(function(){e.online_&&(e.online_=!1,e.trigger("online",!1))}),!1)),e}return Z(n,[{key:"getInitialEvent",value:function(e){return pe("online"===e,"Unknown event type: "+e),[this.online_]}},{key:"currentlyOnline",value:function(){return this.online_}}],[{key:"getInstance",value:function(){return new n}}]),n}(Ar),Lr=function(){function e(t,n){if(J(this,e),void 0===n){this.pieces_=t.split("/");for(var r=0,i=0;i<this.pieces_.length;i++)this.pieces_[i].length>0&&(this.pieces_[r]=this.pieces_[i],r++);this.pieces_.length=r,this.pieceNum_=0}else this.pieces_=t,this.pieceNum_=n}return Z(e,[{key:"toString",value:function(){for(var e="",t=this.pieceNum_;t<this.pieces_.length;t++)""!==this.pieces_[t]&&(e+="/"+this.pieces_[t]);return e||"/"}}]),e}();function Mr(){return new Lr("")}function Fr(e){return e.pieceNum_>=e.pieces_.length?null:e.pieces_[e.pieceNum_]}function Ur(e){return e.pieces_.length-e.pieceNum_}function jr(e){var t=e.pieceNum_;return t<e.pieces_.length&&t++,new Lr(e.pieces_,t)}function zr(e){return e.pieceNum_<e.pieces_.length?e.pieces_[e.pieces_.length-1]:null}function qr(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0;return e.pieces_.slice(e.pieceNum_+t)}function Wr(e){if(e.pieceNum_>=e.pieces_.length)return null;for(var t=[],n=e.pieceNum_;n<e.pieces_.length-1;n++)t.push(e.pieces_[n]);return new Lr(t,0)}function Vr(e,t){for(var n=[],r=e.pieceNum_;r<e.pieces_.length;r++)n.push(e.pieces_[r]);if(t instanceof Lr)for(var i=t.pieceNum_;i<t.pieces_.length;i++)n.push(t.pieces_[i]);else for(var o=t.split("/"),a=0;a<o.length;a++)o[a].length>0&&n.push(o[a]);return new Lr(n,0)}function Br(e){return e.pieceNum_>=e.pieces_.length}function Hr(e,t){var n=Fr(e),r=Fr(t);if(null===n)return t;if(n===r)return Hr(jr(e),jr(t));throw new Error("INTERNAL ERROR: innerPath ("+t+") is not within outerPath ("+e+")")}function Kr(e,t){if(Ur(e)!==Ur(t))return!1;for(var n=e.pieceNum_,r=t.pieceNum_;n<=e.pieces_.length;n++,r++)if(e.pieces_[n]!==t.pieces_[r])return!1;return!0}function Gr(e,t){var n=e.pieceNum_,r=t.pieceNum_;if(Ur(e)>Ur(t))return!1;for(;n<e.pieces_.length;){if(e.pieces_[n]!==t.pieces_[r])return!1;++n,++r}return!0}var $r=Z((function e(t,n){J(this,e),this.errorPrefix_=n,this.parts_=qr(t,0),this.byteLength_=Math.max(1,this.parts_.length);for(var r=0;r<this.parts_.length;r++)this.byteLength_+=Xe(this.parts_[r]);Yr(this)}));function Yr(e){if(e.byteLength_>768)throw new Error(e.errorPrefix_+"has a key path longer than 768 bytes ("+e.byteLength_+").");if(e.parts_.length>32)throw new Error(e.errorPrefix_+"path specified exceeds the maximum depth that can be written (32) or object contains a cycle "+Qr(e))}function Qr(e){return 0===e.parts_.length?"":"in property '"+e.parts_.join(".")+"'"}var Jr=function(e){re(n,e);var t=ue(n);function n(){var e,r,i;return J(this,n),e=t.call(this,["visible"]),"undefined"!==typeof document&&"undefined"!==typeof document.addEventListener&&("undefined"!==typeof document.hidden?(i="visibilitychange",r="hidden"):"undefined"!==typeof document.mozHidden?(i="mozvisibilitychange",r="mozHidden"):"undefined"!==typeof document.msHidden?(i="msvisibilitychange",r="msHidden"):"undefined"!==typeof document.webkitHidden&&(i="webkitvisibilitychange",r="webkitHidden")),e.visible_=!0,i&&document.addEventListener(i,(function(){var t=!document[r];t!==e.visible_&&(e.visible_=t,e.trigger("visible",t))}),!1),e}return Z(n,[{key:"getInitialEvent",value:function(e){return pe("visible"===e,"Unknown event type: "+e),[this.visible_]}}],[{key:"getInstance",value:function(){return new n}}]),n}(Ar),Xr=1e3,Zr=function(e){re(n,e);var t=ue(n);function n(e,r,i,o,a,s,u,l){var c;if(J(this,n),(c=t.call(this)).repoInfo_=e,c.applicationId_=r,c.onDataUpdate_=i,c.onConnectStatus_=o,c.onServerInfoUpdate_=a,c.authTokenProvider_=s,c.appCheckTokenProvider_=u,c.authOverride_=l,c.id=n.nextPersistentConnectionId_++,c.log_=Bn("p:"+c.id+":"),c.interruptReasons_={},c.listens=new Map,c.outstandingPuts_=[],c.outstandingGets_=[],c.outstandingPutCount_=0,c.outstandingGetCount_=0,c.onDisconnectRequestQueue_=[],c.connected_=!1,c.reconnectDelay_=Xr,c.maxReconnectDelay_=3e5,c.securityDebugCallback_=null,c.lastSessionId=null,c.establishConnectionTimer_=null,c.visible_=!1,c.requestCBHash_={},c.requestNumber_=0,c.realtime_=null,c.authToken_=null,c.appCheckToken_=null,c.forceTokenRefresh_=!1,c.invalidAuthTokenCount_=0,c.invalidAppCheckTokenCount_=0,c.firstConnection_=!0,c.lastConnectionAttemptTime_=null,c.lastConnectionEstablishedTime_=null,l&&!Ne())throw new Error("Auth override specified in options, but not supported on non Node.js platforms");return Jr.getInstance().on("visible",c.onVisible_,te(c)),-1===e.host.indexOf("fblocal")&&Dr.getInstance().on("online",c.onOnline_,te(c)),c}return Z(n,[{key:"sendRequest",value:function(e,t,n){var r=++this.requestNumber_,i={r:r,a:e,b:t};this.log_(Me(i)),pe(this.connected_,"sendRequest call when we're not connected not allowed."),this.realtime_.sendRequest(i),n&&(this.requestCBHash_[r]=n)}},{key:"get",value:function(e){var t=this;this.initConnection_();var n=new we,r={p:e._path.toString(),q:e._queryObject},i={action:"g",request:r,onComplete:function(e){var i=e.d;"ok"===e.s?(t.onDataUpdate_(r.p,i,!1,null),n.resolve(i)):n.reject(i)}};this.outstandingGets_.push(i),this.outstandingGetCount_++;var o=this.outstandingGets_.length-1;return this.connected_||setTimeout((function(){var e=t.outstandingGets_[o];void 0!==e&&i===e&&(delete t.outstandingGets_[o],t.outstandingGetCount_--,0===t.outstandingGetCount_&&(t.outstandingGets_=[]),t.log_("get "+o+" timed out on connection"),n.reject(new Error("Client is offline.")))}),3e3),this.connected_&&this.sendGet_(o),n.promise}},{key:"listen",value:function(e,t,n,r){this.initConnection_();var i=e._queryIdentifier,o=e._path.toString();this.log_("Listen called for "+o+" "+i),this.listens.has(o)||this.listens.set(o,new Map),pe(e._queryParams.isDefault()||!e._queryParams.loadsAllData(),"listen() called for non-default but complete query"),pe(!this.listens.get(o).has(i),"listen() called twice for same path/queryId.");var a={onComplete:r,hashFn:t,query:e,tag:n};this.listens.get(o).set(i,a),this.connected_&&this.sendListen_(a)}},{key:"sendGet_",value:function(e){var t=this,n=this.outstandingGets_[e];this.sendRequest("g",n.request,(function(r){delete t.outstandingGets_[e],t.outstandingGetCount_--,0===t.outstandingGetCount_&&(t.outstandingGets_=[]),n.onComplete&&n.onComplete(r)}))}},{key:"sendListen_",value:function(e){var t=this,r=e.query,i=r._path.toString(),o=r._queryIdentifier;this.log_("Listen on "+i+" for "+o);var a={p:i};e.tag&&(a.q=r._queryObject,a.t=e.tag),a.h=e.hashFn(),this.sendRequest("q",a,(function(a){var s=a.d,u=a.s;n.warnOnListenWarnings_(s,r),(t.listens.get(i)&&t.listens.get(i).get(o))===e&&(t.log_("listen response",a),"ok"!==u&&t.removeListen_(i,o),e.onComplete&&e.onComplete(u,s))}))}},{key:"refreshAuthToken",value:function(e){this.authToken_=e,this.log_("Auth token refreshed"),this.authToken_?this.tryAuth():this.connected_&&this.sendRequest("unauth",{},(function(){})),this.reduceReconnectDelayIfAdminCredential_(e)}},{key:"reduceReconnectDelayIfAdminCredential_",value:function(e){(e&&40===e.length||function(e){var t=Fe(e).claims;return"object"===typeof t&&!0===t.admin}(e))&&(this.log_("Admin auth credential detected.  Reducing max reconnect time."),this.maxReconnectDelay_=3e4)}},{key:"refreshAppCheckToken",value:function(e){this.appCheckToken_=e,this.log_("App check token refreshed"),this.appCheckToken_?this.tryAppCheck():this.connected_&&this.sendRequest("unappeck",{},(function(){}))}},{key:"tryAuth",value:function(){var e=this;if(this.connected_&&this.authToken_){var t=this.authToken_,n=function(e){var t=Fe(e).claims;return!!t&&"object"===typeof t&&t.hasOwnProperty("iat")}(t)?"auth":"gauth",r={cred:t};null===this.authOverride_?r.noauth=!0:"object"===typeof this.authOverride_&&(r.authvar=this.authOverride_),this.sendRequest(n,r,(function(n){var r=n.s,i=n.d||"error";e.authToken_===t&&("ok"===r?e.invalidAuthTokenCount_=0:e.onAuthRevoked_(r,i))}))}}},{key:"tryAppCheck",value:function(){var e=this;this.connected_&&this.appCheckToken_&&this.sendRequest("appcheck",{token:this.appCheckToken_},(function(t){var n=t.s,r=t.d||"error";"ok"===n?e.invalidAppCheckTokenCount_=0:e.onAppCheckRevoked_(n,r)}))}},{key:"unlisten",value:function(e,t){var n=e._path.toString(),r=e._queryIdentifier;this.log_("Unlisten called for "+n+" "+r),pe(e._queryParams.isDefault()||!e._queryParams.loadsAllData(),"unlisten() called for non-default but complete query"),this.removeListen_(n,r)&&this.connected_&&this.sendUnlisten_(n,r,e._queryObject,t)}},{key:"sendUnlisten_",value:function(e,t,n,r){this.log_("Unlisten on "+e+" for "+t);var i={p:e};r&&(i.q=n,i.t=r),this.sendRequest("n",i)}},{key:"onDisconnectPut",value:function(e,t,n){this.initConnection_(),this.connected_?this.sendOnDisconnect_("o",e,t,n):this.onDisconnectRequestQueue_.push({pathString:e,action:"o",data:t,onComplete:n})}},{key:"onDisconnectMerge",value:function(e,t,n){this.initConnection_(),this.connected_?this.sendOnDisconnect_("om",e,t,n):this.onDisconnectRequestQueue_.push({pathString:e,action:"om",data:t,onComplete:n})}},{key:"onDisconnectCancel",value:function(e,t){this.initConnection_(),this.connected_?this.sendOnDisconnect_("oc",e,null,t):this.onDisconnectRequestQueue_.push({pathString:e,action:"oc",data:null,onComplete:t})}},{key:"sendOnDisconnect_",value:function(e,t,n,r){var i={p:t,d:n};this.log_("onDisconnect "+e,i),this.sendRequest(e,i,(function(e){r&&setTimeout((function(){r(e.s,e.d)}),Math.floor(0))}))}},{key:"put",value:function(e,t,n,r){this.putInternal("p",e,t,n,r)}},{key:"merge",value:function(e,t,n,r){this.putInternal("m",e,t,n,r)}},{key:"putInternal",value:function(e,t,n,r,i){this.initConnection_();var o={p:t,d:n};void 0!==i&&(o.h=i),this.outstandingPuts_.push({action:e,request:o,onComplete:r}),this.outstandingPutCount_++;var a=this.outstandingPuts_.length-1;this.connected_?this.sendPut_(a):this.log_("Buffering put: "+t)}},{key:"sendPut_",value:function(e){var t=this,n=this.outstandingPuts_[e].action,r=this.outstandingPuts_[e].request,i=this.outstandingPuts_[e].onComplete;this.outstandingPuts_[e].queued=this.connected_,this.sendRequest(n,r,(function(r){t.log_(n+" response",r),delete t.outstandingPuts_[e],t.outstandingPutCount_--,0===t.outstandingPutCount_&&(t.outstandingPuts_=[]),i&&i(r.s,r.d)}))}},{key:"reportStats",value:function(e){var t=this;if(this.connected_){var n={c:e};this.log_("reportStats",n),this.sendRequest("s",n,(function(e){if("ok"!==e.s){var n=e.d;t.log_("reportStats","Error sending stats: "+n)}}))}}},{key:"onDataMessage_",value:function(e){if("r"in e){this.log_("from server: "+Me(e));var t=e.r,n=this.requestCBHash_[t];n&&(delete this.requestCBHash_[t],n(e.b))}else{if("error"in e)throw"A server-side error has occurred: "+e.error;"a"in e&&this.onDataPush_(e.a,e.b)}}},{key:"onDataPush_",value:function(e,t){this.log_("handleServerMessage",e,t),"d"===e?this.onDataUpdate_(t.p,t.d,!1,t.t):"m"===e?this.onDataUpdate_(t.p,t.d,!0,t.t):"c"===e?this.onListenRevoked_(t.p,t.q):"ac"===e?this.onAuthRevoked_(t.s,t.d):"apc"===e?this.onAppCheckRevoked_(t.s,t.d):"sd"===e?this.onSecurityDebugPacket_(t):Hn("Unrecognized action received from server: "+Me(e)+"\nAre you using the latest client?")}},{key:"onReady_",value:function(e,t){this.log_("connection ready"),this.connected_=!0,this.lastConnectionEstablishedTime_=(new Date).getTime(),this.handleTimestamp_(e),this.lastSessionId=t,this.firstConnection_&&this.sendConnectStats_(),this.restoreState_(),this.firstConnection_=!1,this.onConnectStatus_(!0)}},{key:"scheduleConnect_",value:function(e){var t=this;pe(!this.realtime_,"Scheduling a connect when we're already connected/ing?"),this.establishConnectionTimer_&&clearTimeout(this.establishConnectionTimer_),this.establishConnectionTimer_=setTimeout((function(){t.establishConnectionTimer_=null,t.establishConnection_()}),Math.floor(e))}},{key:"initConnection_",value:function(){!this.realtime_&&this.firstConnection_&&this.scheduleConnect_(0)}},{key:"onVisible_",value:function(e){e&&!this.visible_&&this.reconnectDelay_===this.maxReconnectDelay_&&(this.log_("Window became visible.  Reducing delay."),this.reconnectDelay_=Xr,this.realtime_||this.scheduleConnect_(0)),this.visible_=e}},{key:"onOnline_",value:function(e){e?(this.log_("Browser went online."),this.reconnectDelay_=Xr,this.realtime_||this.scheduleConnect_(0)):(this.log_("Browser went offline.  Killing connection."),this.realtime_&&this.realtime_.close())}},{key:"onRealtimeDisconnect_",value:function(){if(this.log_("data client disconnected"),this.connected_=!1,this.realtime_=null,this.cancelSentTransactions_(),this.requestCBHash_={},this.shouldReconnect_()){if(this.visible_){if(this.lastConnectionEstablishedTime_){(new Date).getTime()-this.lastConnectionEstablishedTime_>3e4&&(this.reconnectDelay_=Xr),this.lastConnectionEstablishedTime_=null}}else this.log_("Window isn't visible.  Delaying reconnect."),this.reconnectDelay_=this.maxReconnectDelay_,this.lastConnectionAttemptTime_=(new Date).getTime();var e=(new Date).getTime()-this.lastConnectionAttemptTime_,t=Math.max(0,this.reconnectDelay_-e);t=Math.random()*t,this.log_("Trying to reconnect in "+t+"ms"),this.scheduleConnect_(t),this.reconnectDelay_=Math.min(this.maxReconnectDelay_,1.3*this.reconnectDelay_)}this.onConnectStatus_(!1)}},{key:"establishConnection_",value:function(){var e=nt(et().mark((function e(){var t,r,i,o,a,s,u,l,c,d,h,p,v,m,y=this;return et().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!this.shouldReconnect_()){e.next=30;break}return this.log_("Making a connection attempt"),this.lastConnectionAttemptTime_=(new Date).getTime(),this.lastConnectionEstablishedTime_=null,t=this.onDataMessage_.bind(this),r=this.onReady_.bind(this),i=this.onRealtimeDisconnect_.bind(this),o=this.id+":"+n.nextConnectionId_++,a=this.lastSessionId,s=!1,u=null,l=function(){u?u.close():(s=!0,i())},c=function(e){pe(u,"sendRequest call when we're not connected not allowed."),u.sendRequest(e)},this.realtime_={close:l,sendRequest:c},d=this.forceTokenRefresh_,this.forceTokenRefresh_=!1,e.prev=16,e.next=19,Promise.all([this.authTokenProvider_.getToken(d),this.appCheckTokenProvider_.getToken(d)]);case 19:h=e.sent,p=f(h,2),v=p[0],m=p[1],s?Vn("getToken() completed but was canceled"):(Vn("getToken() completed. Creating connection."),this.authToken_=v&&v.accessToken,this.appCheckToken_=m&&m.token,u=new Or(o,this.repoInfo_,this.applicationId_,this.appCheckToken_,this.authToken_,t,r,i,(function(e){Gn(e+" ("+y.repoInfo_.toString()+")"),y.interrupt("server_kill")}),a)),e.next=30;break;case 26:e.prev=26,e.t0=e.catch(16),this.log_("Failed to get token: "+e.t0),s||(this.repoInfo_.nodeAdmin&&Gn(e.t0),l());case 30:case"end":return e.stop()}}),e,this,[[16,26]])})));return function(){return e.apply(this,arguments)}}()},{key:"interrupt",value:function(e){Vn("Interrupting connection for reason: "+e),this.interruptReasons_[e]=!0,this.realtime_?this.realtime_.close():(this.establishConnectionTimer_&&(clearTimeout(this.establishConnectionTimer_),this.establishConnectionTimer_=null),this.connected_&&this.onRealtimeDisconnect_())}},{key:"resume",value:function(e){Vn("Resuming connection for reason: "+e),delete this.interruptReasons_[e],ze(this.interruptReasons_)&&(this.reconnectDelay_=Xr,this.realtime_||this.scheduleConnect_(0))}},{key:"handleTimestamp_",value:function(e){var t=e-(new Date).getTime();this.onServerInfoUpdate_({serverTimeOffset:t})}},{key:"cancelSentTransactions_",value:function(){for(var e=0;e<this.outstandingPuts_.length;e++){var t=this.outstandingPuts_[e];t&&"h"in t.request&&t.queued&&(t.onComplete&&t.onComplete("disconnect"),delete this.outstandingPuts_[e],this.outstandingPutCount_--)}0===this.outstandingPutCount_&&(this.outstandingPuts_=[])}},{key:"onListenRevoked_",value:function(e,t){var n;n=t?t.map((function(e){return er(e)})).join("$"):"default";var r=this.removeListen_(e,n);r&&r.onComplete&&r.onComplete("permission_denied")}},{key:"removeListen_",value:function(e,t){var n,r=new Lr(e).toString();if(this.listens.has(r)){var i=this.listens.get(r);n=i.get(t),i.delete(t),0===i.size&&this.listens.delete(r)}else n=void 0;return n}},{key:"onAuthRevoked_",value:function(e,t){Vn("Auth token revoked: "+e+"/"+t),this.authToken_=null,this.forceTokenRefresh_=!0,this.realtime_.close(),"invalid_token"!==e&&"permission_denied"!==e||(this.invalidAuthTokenCount_++,this.invalidAuthTokenCount_>=3&&(this.reconnectDelay_=3e4,this.authTokenProvider_.notifyForInvalidToken()))}},{key:"onAppCheckRevoked_",value:function(e,t){Vn("App check token revoked: "+e+"/"+t),this.appCheckToken_=null,this.forceTokenRefresh_=!0,"invalid_token"!==e&&"permission_denied"!==e||(this.invalidAppCheckTokenCount_++,this.invalidAppCheckTokenCount_>=3&&this.appCheckTokenProvider_.notifyForInvalidToken())}},{key:"onSecurityDebugPacket_",value:function(e){this.securityDebugCallback_?this.securityDebugCallback_(e):"msg"in e&&console.log("FIREBASE: "+e.msg.replace("\n","\nFIREBASE: "))}},{key:"restoreState_",value:function(){this.tryAuth(),this.tryAppCheck();var e,t=ee(this.listens.values());try{for(t.s();!(e=t.n()).done;){var n,r=ee(e.value.values());try{for(r.s();!(n=r.n()).done;){var i=n.value;this.sendListen_(i)}}catch(u){r.e(u)}finally{r.f()}}}catch(u){t.e(u)}finally{t.f()}for(var o=0;o<this.outstandingPuts_.length;o++)this.outstandingPuts_[o]&&this.sendPut_(o);for(;this.onDisconnectRequestQueue_.length;){var a=this.onDisconnectRequestQueue_.shift();this.sendOnDisconnect_(a.action,a.pathString,a.data,a.onComplete)}for(var s=0;s<this.outstandingGets_.length;s++)this.outstandingGets_[s]&&this.sendGet_(s)}},{key:"sendConnectStats_",value:function(){var e={},t="js";Ne()&&(t=this.repoInfo_.nodeAdmin?"admin_node":"node"),e["sdk."+t+"."+Pn.replace(/\./g,"-")]=1,xe()?e["framework.cordova"]=1:Ee()&&(e["framework.reactnative"]=1),this.reportStats(e)}},{key:"shouldReconnect_",value:function(){var e=Dr.getInstance().currentlyOnline();return ze(this.interruptReasons_)&&e}}],[{key:"warnOnListenWarnings_",value:function(e,t){if(e&&"object"===typeof e&&Ue(e,"w")){var n=je(e,"w");if(Array.isArray(n)&&~n.indexOf("no_index")){var r='".indexOn": "'+t._queryParams.getIndex().toString()+'"',i=t._path.toString();Gn("Using an unspecified index. Your data will be downloaded and "+"filtered on the client. Consider adding ".concat(r," at ")+"".concat(i," to your security rules for better performance."))}}}}]),n}(Rr);Zr.nextPersistentConnectionId_=0,Zr.nextConnectionId_=0;var ei,ti=function(){function e(t,n){J(this,e),this.name=t,this.node=n}return Z(e,null,[{key:"Wrap",value:function(t,n){return new e(t,n)}}]),e}(),ni=function(){function e(){J(this,e)}return Z(e,[{key:"getCompare",value:function(){return this.compare.bind(this)}},{key:"indexedValueChanged",value:function(e,t){var n=new ti(Yn,e),r=new ti(Yn,t);return 0!==this.compare(n,r)}},{key:"minPost",value:function(){return ti.MIN}}]),e}(),ri=function(e){re(n,e);var t=ue(n);function n(){return J(this,n),t.apply(this,arguments)}return Z(n,[{key:"compare",value:function(e,t){return Jn(e.name,t.name)}},{key:"isDefinedOn",value:function(e){throw ve("KeyIndex.isDefinedOn not expected to be called.")}},{key:"indexedValueChanged",value:function(e,t){return!1}},{key:"minPost",value:function(){return ti.MIN}},{key:"maxPost",value:function(){return new ti(Qn,ei)}},{key:"makePost",value:function(e,t){return pe("string"===typeof e,"KeyIndex indexValue must always be a string."),new ti(e,ei)}},{key:"toString",value:function(){return".key"}}],[{key:"__EMPTY_NODE",get:function(){return ei},set:function(e){ei=e}}]),n}(ni),ii=new ri,oi=function(){function e(t,n,r,i){var o=arguments.length>4&&void 0!==arguments[4]?arguments[4]:null;J(this,e),this.isReverse_=i,this.resultGenerator_=o,this.nodeStack_=[];for(var a=1;!t.isEmpty();)if(a=n?r(t.key,n):1,i&&(a*=-1),a<0)t=this.isReverse_?t.left:t.right;else{if(0===a){this.nodeStack_.push(t);break}this.nodeStack_.push(t),t=this.isReverse_?t.right:t.left}}return Z(e,[{key:"getNext",value:function(){if(0===this.nodeStack_.length)return null;var e,t=this.nodeStack_.pop();if(e=this.resultGenerator_?this.resultGenerator_(t.key,t.value):{key:t.key,value:t.value},this.isReverse_)for(t=t.left;!t.isEmpty();)this.nodeStack_.push(t),t=t.right;else for(t=t.right;!t.isEmpty();)this.nodeStack_.push(t),t=t.left;return e}},{key:"hasNext",value:function(){return this.nodeStack_.length>0}},{key:"peek",value:function(){if(0===this.nodeStack_.length)return null;var e=this.nodeStack_[this.nodeStack_.length-1];return this.resultGenerator_?this.resultGenerator_(e.key,e.value):{key:e.key,value:e.value}}}]),e}(),ai=function(){function e(t,n,r,i,o){J(this,e),this.key=t,this.value=n,this.color=null!=r?r:e.RED,this.left=null!=i?i:li.EMPTY_NODE,this.right=null!=o?o:li.EMPTY_NODE}return Z(e,[{key:"copy",value:function(t,n,r,i,o){return new e(null!=t?t:this.key,null!=n?n:this.value,null!=r?r:this.color,null!=i?i:this.left,null!=o?o:this.right)}},{key:"count",value:function(){return this.left.count()+1+this.right.count()}},{key:"isEmpty",value:function(){return!1}},{key:"inorderTraversal",value:function(e){return this.left.inorderTraversal(e)||!!e(this.key,this.value)||this.right.inorderTraversal(e)}},{key:"reverseTraversal",value:function(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}},{key:"min_",value:function(){return this.left.isEmpty()?this:this.left.min_()}},{key:"minKey",value:function(){return this.min_().key}},{key:"maxKey",value:function(){return this.right.isEmpty()?this.key:this.right.maxKey()}},{key:"insert",value:function(e,t,n){var r=this,i=n(e,r.key);return(r=i<0?r.copy(null,null,null,r.left.insert(e,t,n),null):0===i?r.copy(null,t,null,null,null):r.copy(null,null,null,null,r.right.insert(e,t,n))).fixUp_()}},{key:"removeMin_",value:function(){if(this.left.isEmpty())return li.EMPTY_NODE;var e=this;return e.left.isRed_()||e.left.left.isRed_()||(e=e.moveRedLeft_()),(e=e.copy(null,null,null,e.left.removeMin_(),null)).fixUp_()}},{key:"remove",value:function(e,t){var n,r;if(t(e,(n=this).key)<0)n.left.isEmpty()||n.left.isRed_()||n.left.left.isRed_()||(n=n.moveRedLeft_()),n=n.copy(null,null,null,n.left.remove(e,t),null);else{if(n.left.isRed_()&&(n=n.rotateRight_()),n.right.isEmpty()||n.right.isRed_()||n.right.left.isRed_()||(n=n.moveRedRight_()),0===t(e,n.key)){if(n.right.isEmpty())return li.EMPTY_NODE;r=n.right.min_(),n=n.copy(r.key,r.value,null,null,n.right.removeMin_())}n=n.copy(null,null,null,null,n.right.remove(e,t))}return n.fixUp_()}},{key:"isRed_",value:function(){return this.color}},{key:"fixUp_",value:function(){var e=this;return e.right.isRed_()&&!e.left.isRed_()&&(e=e.rotateLeft_()),e.left.isRed_()&&e.left.left.isRed_()&&(e=e.rotateRight_()),e.left.isRed_()&&e.right.isRed_()&&(e=e.colorFlip_()),e}},{key:"moveRedLeft_",value:function(){var e=this.colorFlip_();return e.right.left.isRed_()&&(e=(e=(e=e.copy(null,null,null,null,e.right.rotateRight_())).rotateLeft_()).colorFlip_()),e}},{key:"moveRedRight_",value:function(){var e=this.colorFlip_();return e.left.left.isRed_()&&(e=(e=e.rotateRight_()).colorFlip_()),e}},{key:"rotateLeft_",value:function(){var t=this.copy(null,null,e.RED,null,this.right.left);return this.right.copy(null,null,this.color,t,null)}},{key:"rotateRight_",value:function(){var t=this.copy(null,null,e.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,t)}},{key:"colorFlip_",value:function(){var e=this.left.copy(null,null,!this.left.color,null,null),t=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,t)}},{key:"checkMaxDepth_",value:function(){var e=this.check_();return Math.pow(2,e)<=this.count()+1}},{key:"check_",value:function(){if(this.isRed_()&&this.left.isRed_())throw new Error("Red node has red child("+this.key+","+this.value+")");if(this.right.isRed_())throw new Error("Right child of ("+this.key+","+this.value+") is red");var e=this.left.check_();if(e!==this.right.check_())throw new Error("Black depths differ");return e+(this.isRed_()?0:1)}}]),e}();ai.RED=!0,ai.BLACK=!1;var si,ui=function(){function e(){J(this,e)}return Z(e,[{key:"copy",value:function(e,t,n,r,i){return this}},{key:"insert",value:function(e,t,n){return new ai(e,t,null)}},{key:"remove",value:function(e,t){return this}},{key:"count",value:function(){return 0}},{key:"isEmpty",value:function(){return!0}},{key:"inorderTraversal",value:function(e){return!1}},{key:"reverseTraversal",value:function(e){return!1}},{key:"minKey",value:function(){return null}},{key:"maxKey",value:function(){return null}},{key:"check_",value:function(){return 0}},{key:"isRed_",value:function(){return!1}}]),e}(),li=function(){function e(t){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:e.EMPTY_NODE;J(this,e),this.comparator_=t,this.root_=n}return Z(e,[{key:"insert",value:function(t,n){return new e(this.comparator_,this.root_.insert(t,n,this.comparator_).copy(null,null,ai.BLACK,null,null))}},{key:"remove",value:function(t){return new e(this.comparator_,this.root_.remove(t,this.comparator_).copy(null,null,ai.BLACK,null,null))}},{key:"get",value:function(e){for(var t,n=this.root_;!n.isEmpty();){if(0===(t=this.comparator_(e,n.key)))return n.value;t<0?n=n.left:t>0&&(n=n.right)}return null}},{key:"getPredecessorKey",value:function(e){for(var t,n=this.root_,r=null;!n.isEmpty();){if(0===(t=this.comparator_(e,n.key))){if(n.left.isEmpty())return r?r.key:null;for(n=n.left;!n.right.isEmpty();)n=n.right;return n.key}t<0?n=n.left:t>0&&(r=n,n=n.right)}throw new Error("Attempted to find predecessor key for a nonexistent key.  What gives?")}},{key:"isEmpty",value:function(){return this.root_.isEmpty()}},{key:"count",value:function(){return this.root_.count()}},{key:"minKey",value:function(){return this.root_.minKey()}},{key:"maxKey",value:function(){return this.root_.maxKey()}},{key:"inorderTraversal",value:function(e){return this.root_.inorderTraversal(e)}},{key:"reverseTraversal",value:function(e){return this.root_.reverseTraversal(e)}},{key:"getIterator",value:function(e){return new oi(this.root_,null,this.comparator_,!1,e)}},{key:"getIteratorFrom",value:function(e,t){return new oi(this.root_,e,this.comparator_,!1,t)}},{key:"getReverseIteratorFrom",value:function(e,t){return new oi(this.root_,e,this.comparator_,!0,t)}},{key:"getReverseIterator",value:function(e){return new oi(this.root_,null,this.comparator_,!0,e)}}]),e}();function ci(e,t){return Jn(e.name,t.name)}function di(e,t){return Jn(e,t)}li.EMPTY_NODE=new ui;var fi,hi,pi,vi=function(e){return"number"===typeof e?"number:"+rr(e):"string:"+e},mi=function(e){if(e.isLeafNode()){var t=e.val();pe("string"===typeof t||"number"===typeof t||"object"===typeof t&&Ue(t,".sv"),"Priority must be a string or number.")}else pe(e===si||e.isEmpty(),"priority of unexpected type.");pe(e===si||e.getPriority().isEmpty(),"Priority nodes can't have a priority of their own.")},yi=function(){function e(t){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:e.__childrenNodeConstructor.EMPTY_NODE;J(this,e),this.value_=t,this.priorityNode_=n,this.lazyHash_=null,pe(void 0!==this.value_&&null!==this.value_,"LeafNode shouldn't be created with null/undefined value."),mi(this.priorityNode_)}return Z(e,[{key:"isLeafNode",value:function(){return!0}},{key:"getPriority",value:function(){return this.priorityNode_}},{key:"updatePriority",value:function(t){return new e(this.value_,t)}},{key:"getImmediateChild",value:function(t){return".priority"===t?this.priorityNode_:e.__childrenNodeConstructor.EMPTY_NODE}},{key:"getChild",value:function(t){return Br(t)?this:".priority"===Fr(t)?this.priorityNode_:e.__childrenNodeConstructor.EMPTY_NODE}},{key:"hasChild",value:function(){return!1}},{key:"getPredecessorChildName",value:function(e,t){return null}},{key:"updateImmediateChild",value:function(t,n){return".priority"===t?this.updatePriority(n):n.isEmpty()&&".priority"!==t?this:e.__childrenNodeConstructor.EMPTY_NODE.updateImmediateChild(t,n).updatePriority(this.priorityNode_)}},{key:"updateChild",value:function(t,n){var r=Fr(t);return null===r?n:n.isEmpty()&&".priority"!==r?this:(pe(".priority"!==r||1===Ur(t),".priority must be the last token in a path"),this.updateImmediateChild(r,e.__childrenNodeConstructor.EMPTY_NODE.updateChild(jr(t),n)))}},{key:"isEmpty",value:function(){return!1}},{key:"numChildren",value:function(){return 0}},{key:"forEachChild",value:function(e,t){return!1}},{key:"val",value:function(e){return e&&!this.getPriority().isEmpty()?{".value":this.getValue(),".priority":this.getPriority().val()}:this.getValue()}},{key:"hash",value:function(){if(null===this.lazyHash_){var e="";this.priorityNode_.isEmpty()||(e+="priority:"+vi(this.priorityNode_.val())+":");var t=typeof this.value_;e+=t+":",e+="number"===t?rr(this.value_):this.value_,this.lazyHash_=Un(e)}return this.lazyHash_}},{key:"getValue",value:function(){return this.value_}},{key:"compareTo",value:function(t){return t===e.__childrenNodeConstructor.EMPTY_NODE?1:t instanceof e.__childrenNodeConstructor?-1:(pe(t.isLeafNode(),"Unknown node type"),this.compareToLeafNode_(t))}},{key:"compareToLeafNode_",value:function(t){var n=typeof t.value_,r=typeof this.value_,i=e.VALUE_TYPE_ORDER.indexOf(n),o=e.VALUE_TYPE_ORDER.indexOf(r);return pe(i>=0,"Unknown leaf type: "+n),pe(o>=0,"Unknown leaf type: "+r),i===o?"object"===r?0:this.value_<t.value_?-1:this.value_===t.value_?0:1:o-i}},{key:"withIndex",value:function(){return this}},{key:"isIndexed",value:function(){return!0}},{key:"equals",value:function(e){if(e===this)return!0;if(e.isLeafNode()){var t=e;return this.value_===t.value_&&this.priorityNode_.equals(t.priorityNode_)}return!1}}],[{key:"__childrenNodeConstructor",get:function(){return fi},set:function(e){fi=e}}]),e}();yi.VALUE_TYPE_ORDER=["object","boolean","number","string"];var gi,_i,bi=function(e){re(n,e);var t=ue(n);function n(){return J(this,n),t.apply(this,arguments)}return Z(n,[{key:"compare",value:function(e,t){var n=e.node.getPriority(),r=t.node.getPriority(),i=n.compareTo(r);return 0===i?Jn(e.name,t.name):i}},{key:"isDefinedOn",value:function(e){return!e.getPriority().isEmpty()}},{key:"indexedValueChanged",value:function(e,t){return!e.getPriority().equals(t.getPriority())}},{key:"minPost",value:function(){return ti.MIN}},{key:"maxPost",value:function(){return new ti(Qn,new yi("[PRIORITY-POST]",pi))}},{key:"makePost",value:function(e,t){var n=hi(e);return new ti(t,new yi("[PRIORITY-POST]",n))}},{key:"toString",value:function(){return".priority"}}]),n}(ni),ki=new bi,wi=Math.log(2),Ii=function(){function e(t){J(this,e);var n;this.count=(n=t+1,parseInt(Math.log(n)/wi,10)),this.current_=this.count-1;var r,i=(r=this.count,parseInt(Array(r+1).join("1"),2));this.bits_=t+1&i}return Z(e,[{key:"nextBitIsOne",value:function(){var e=!(this.bits_&1<<this.current_);return this.current_--,e}}]),e}(),xi=function(e,t,n,r){e.sort(t);var i=function t(r,i){var o,a,s=i-r;if(0===s)return null;if(1===s)return o=e[r],a=n?n(o):o,new ai(a,o.node,ai.BLACK,null,null);var u=parseInt(s/2,10)+r,l=t(r,u),c=t(u+1,i);return o=e[u],a=n?n(o):o,new ai(a,o.node,ai.BLACK,l,c)},o=function(t){for(var r=null,o=null,a=e.length,s=function(t,r){var o=a-t,s=a;a-=t;var l=i(o+1,s),c=e[o],d=n?n(c):c;u(new ai(d,c.node,r,null,l))},u=function(e){r?(r.left=e,r=e):(o=e,r=e)},l=0;l<t.count;++l){var c=t.nextBitIsOne(),d=Math.pow(2,t.count-(l+1));c?s(d,ai.BLACK):(s(d,ai.BLACK),s(d,ai.RED))}return o}(new Ii(e.length));return new li(r||t,o)},Si={},Ci=function(){function e(t,n){J(this,e),this.indexes_=t,this.indexSet_=n}return Z(e,[{key:"get",value:function(e){var t=je(this.indexes_,e);if(!t)throw new Error("No index defined for "+e);return t instanceof li?t:null}},{key:"hasIndex",value:function(e){return Ue(this.indexSet_,e.toString())}},{key:"addIndex",value:function(t,n){pe(t!==ii,"KeyIndex always exists and isn't meant to be added to the IndexMap.");for(var r,i=[],o=!1,a=n.getIterator(ti.Wrap),s=a.getNext();s;)o=o||t.isDefinedOn(s.node),i.push(s),s=a.getNext();r=o?xi(i,t.getCompare()):Si;var u=t.toString(),l=Object.assign({},this.indexSet_);l[u]=t;var c=Object.assign({},this.indexes_);return c[u]=r,new e(c,l)}},{key:"addToIndexes",value:function(t,n){var r=this;return new e(qe(this.indexes_,(function(e,i){var o=je(r.indexSet_,i);if(pe(o,"Missing index implementation for "+i),e===Si){if(o.isDefinedOn(t.node)){for(var a=[],s=n.getIterator(ti.Wrap),u=s.getNext();u;)u.name!==t.name&&a.push(u),u=s.getNext();return a.push(t),xi(a,o.getCompare())}return Si}var l=n.get(t.name),c=e;return l&&(c=c.remove(new ti(t.name,l))),c.insert(t,t.node)})),this.indexSet_)}},{key:"removeFromIndexes",value:function(t,n){return new e(qe(this.indexes_,(function(e){if(e===Si)return e;var r=n.get(t.name);return r?e.remove(new ti(t.name,r)):e})),this.indexSet_)}}],[{key:"Default",get:function(){return pe(Si&&ki,"ChildrenNode.ts has not been loaded"),gi=gi||new e({".priority":Si},{".priority":ki})}}]),e}(),Ei=function(){function e(t,n,r){J(this,e),this.children_=t,this.priorityNode_=n,this.indexMap_=r,this.lazyHash_=null,this.priorityNode_&&mi(this.priorityNode_),this.children_.isEmpty()&&pe(!this.priorityNode_||this.priorityNode_.isEmpty(),"An empty node cannot have a priority")}return Z(e,[{key:"isLeafNode",value:function(){return!1}},{key:"getPriority",value:function(){return this.priorityNode_||_i}},{key:"updatePriority",value:function(t){return this.children_.isEmpty()?this:new e(this.children_,t,this.indexMap_)}},{key:"getImmediateChild",value:function(e){if(".priority"===e)return this.getPriority();var t=this.children_.get(e);return null===t?_i:t}},{key:"getChild",value:function(e){var t=Fr(e);return null===t?this:this.getImmediateChild(t).getChild(jr(e))}},{key:"hasChild",value:function(e){return null!==this.children_.get(e)}},{key:"updateImmediateChild",value:function(t,n){if(pe(n,"We should always be passing snapshot nodes"),".priority"===t)return this.updatePriority(n);var r,i,o=new ti(t,n);n.isEmpty()?(r=this.children_.remove(t),i=this.indexMap_.removeFromIndexes(o,this.children_)):(r=this.children_.insert(t,n),i=this.indexMap_.addToIndexes(o,this.children_));var a=r.isEmpty()?_i:this.priorityNode_;return new e(r,a,i)}},{key:"updateChild",value:function(e,t){var n=Fr(e);if(null===n)return t;pe(".priority"!==Fr(e)||1===Ur(e),".priority must be the last token in a path");var r=this.getImmediateChild(n).updateChild(jr(e),t);return this.updateImmediateChild(n,r)}},{key:"isEmpty",value:function(){return this.children_.isEmpty()}},{key:"numChildren",value:function(){return this.children_.count()}},{key:"val",value:function(t){if(this.isEmpty())return null;var n={},r=0,i=0,o=!0;if(this.forEachChild(ki,(function(a,s){n[a]=s.val(t),r++,o&&e.INTEGER_REGEXP_.test(a)?i=Math.max(i,Number(a)):o=!1})),!t&&o&&i<2*r){var a=[];for(var s in n)a[s]=n[s];return a}return t&&!this.getPriority().isEmpty()&&(n[".priority"]=this.getPriority().val()),n}},{key:"hash",value:function(){if(null===this.lazyHash_){var e="";this.getPriority().isEmpty()||(e+="priority:"+vi(this.getPriority().val())+":"),this.forEachChild(ki,(function(t,n){var r=n.hash();""!==r&&(e+=":"+t+":"+r)})),this.lazyHash_=""===e?"":Un(e)}return this.lazyHash_}},{key:"getPredecessorChildName",value:function(e,t,n){var r=this.resolveIndex_(n);if(r){var i=r.getPredecessorKey(new ti(e,t));return i?i.name:null}return this.children_.getPredecessorKey(e)}},{key:"getFirstChildName",value:function(e){var t=this.resolveIndex_(e);if(t){var n=t.minKey();return n&&n.name}return this.children_.minKey()}},{key:"getFirstChild",value:function(e){var t=this.getFirstChildName(e);return t?new ti(t,this.children_.get(t)):null}},{key:"getLastChildName",value:function(e){var t=this.resolveIndex_(e);if(t){var n=t.maxKey();return n&&n.name}return this.children_.maxKey()}},{key:"getLastChild",value:function(e){var t=this.getLastChildName(e);return t?new ti(t,this.children_.get(t)):null}},{key:"forEachChild",value:function(e,t){var n=this.resolveIndex_(e);return n?n.inorderTraversal((function(e){return t(e.name,e.node)})):this.children_.inorderTraversal(t)}},{key:"getIterator",value:function(e){return this.getIteratorFrom(e.minPost(),e)}},{key:"getIteratorFrom",value:function(e,t){var n=this.resolveIndex_(t);if(n)return n.getIteratorFrom(e,(function(e){return e}));for(var r=this.children_.getIteratorFrom(e.name,ti.Wrap),i=r.peek();null!=i&&t.compare(i,e)<0;)r.getNext(),i=r.peek();return r}},{key:"getReverseIterator",value:function(e){return this.getReverseIteratorFrom(e.maxPost(),e)}},{key:"getReverseIteratorFrom",value:function(e,t){var n=this.resolveIndex_(t);if(n)return n.getReverseIteratorFrom(e,(function(e){return e}));for(var r=this.children_.getReverseIteratorFrom(e.name,ti.Wrap),i=r.peek();null!=i&&t.compare(i,e)>0;)r.getNext(),i=r.peek();return r}},{key:"compareTo",value:function(e){return this.isEmpty()?e.isEmpty()?0:-1:e.isLeafNode()||e.isEmpty()?1:e===Ti?-1:0}},{key:"withIndex",value:function(t){if(t===ii||this.indexMap_.hasIndex(t))return this;var n=this.indexMap_.addIndex(t,this.children_);return new e(this.children_,this.priorityNode_,n)}},{key:"isIndexed",value:function(e){return e===ii||this.indexMap_.hasIndex(e)}},{key:"equals",value:function(e){if(e===this)return!0;if(e.isLeafNode())return!1;var t=e;if(this.getPriority().equals(t.getPriority())){if(this.children_.count()===t.children_.count()){for(var n=this.getIterator(ki),r=t.getIterator(ki),i=n.getNext(),o=r.getNext();i&&o;){if(i.name!==o.name||!i.node.equals(o.node))return!1;i=n.getNext(),o=r.getNext()}return null===i&&null===o}return!1}return!1}},{key:"resolveIndex_",value:function(e){return e===ii?null:this.indexMap_.get(e.toString())}}],[{key:"EMPTY_NODE",get:function(){return _i||(_i=new e(new li(di),null,Ci.Default))}}]),e}();Ei.INTEGER_REGEXP_=/^(0|[1-9]\d*)$/;var Ti=new(function(e){re(n,e);var t=ue(n);function n(){return J(this,n),t.call(this,new li(di),Ei.EMPTY_NODE,Ci.Default)}return Z(n,[{key:"compareTo",value:function(e){return e===this?0:1}},{key:"equals",value:function(e){return e===this}},{key:"getPriority",value:function(){return this}},{key:"getImmediateChild",value:function(e){return Ei.EMPTY_NODE}},{key:"isEmpty",value:function(){return!1}}]),n}(Ei));Object.defineProperties(ti,{MIN:{value:new ti(Yn,Ei.EMPTY_NODE)},MAX:{value:new ti(Qn,Ti)}}),ri.__EMPTY_NODE=Ei.EMPTY_NODE,yi.__childrenNodeConstructor=Ei,si=Ti,function(e){pi=e}(Ti);function Ni(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null;if(null===e)return Ei.EMPTY_NODE;if("object"===typeof e&&".priority"in e&&(t=e[".priority"]),pe(null===t||"string"===typeof t||"number"===typeof t||"object"===typeof t&&".sv"in t,"Invalid priority type found: "+typeof t),"object"===typeof e&&".value"in e&&null!==e[".value"]&&(e=e[".value"]),"object"!==typeof e||".sv"in e){var n=e;return new yi(n,Ni(t))}if(e instanceof Array){var r=Ei.EMPTY_NODE;return nr(e,(function(t,n){if(Ue(e,t)&&"."!==t.substring(0,1)){var i=Ni(n);!i.isLeafNode()&&i.isEmpty()||(r=r.updateImmediateChild(t,i))}})),r.updatePriority(Ni(t))}var i=[],o=!1,a=e;if(nr(a,(function(e,t){if("."!==e.substring(0,1)){var n=Ni(t);n.isEmpty()||(o=o||!n.getPriority().isEmpty(),i.push(new ti(e,n)))}})),0===i.length)return Ei.EMPTY_NODE;var s=xi(i,ci,(function(e){return e.name}),di);if(o){var u=xi(i,ki.getCompare());return new Ei(s,Ni(t),new Ci({".priority":u},{".priority":ki}))}return new Ei(s,Ni(t),Ci.Default)}!function(e){hi=e}(Ni);var Pi=function(e){re(n,e);var t=ue(n);function n(e){var r;return J(this,n),(r=t.call(this)).indexPath_=e,pe(!Br(e)&&".priority"!==Fr(e),"Can't create PathIndex with empty path or .priority key"),r}return Z(n,[{key:"extractChild",value:function(e){return e.getChild(this.indexPath_)}},{key:"isDefinedOn",value:function(e){return!e.getChild(this.indexPath_).isEmpty()}},{key:"compare",value:function(e,t){var n=this.extractChild(e.node),r=this.extractChild(t.node),i=n.compareTo(r);return 0===i?Jn(e.name,t.name):i}},{key:"makePost",value:function(e,t){var n=Ni(e),r=Ei.EMPTY_NODE.updateChild(this.indexPath_,n);return new ti(t,r)}},{key:"maxPost",value:function(){var e=Ei.EMPTY_NODE.updateChild(this.indexPath_,Ti);return new ti(Qn,e)}},{key:"toString",value:function(){return qr(this.indexPath_,0).join("/")}}]),n}(ni),Oi=function(e){re(n,e);var t=ue(n);function n(){return J(this,n),t.apply(this,arguments)}return Z(n,[{key:"compare",value:function(e,t){var n=e.node.compareTo(t.node);return 0===n?Jn(e.name,t.name):n}},{key:"isDefinedOn",value:function(e){return!0}},{key:"indexedValueChanged",value:function(e,t){return!e.equals(t)}},{key:"minPost",value:function(){return ti.MIN}},{key:"maxPost",value:function(){return ti.MAX}},{key:"makePost",value:function(e,t){var n=Ni(e);return new ti(t,n)}},{key:"toString",value:function(){return".value"}}]),n}(ni),Ri=new Oi,Ai="-0123456789ABCDEFGHIJKLMNOPQRSTUVWXYZ_abcdefghijklmnopqrstuvwxyz";!function(){var e=0,t=[]}();function Di(e){return{type:"value",snapshotNode:e}}function Li(e,t){return{type:"child_added",snapshotNode:t,childName:e}}function Mi(e,t){return{type:"child_removed",snapshotNode:t,childName:e}}function Fi(e,t,n){return{type:"child_changed",snapshotNode:t,childName:e,oldSnap:n}}var Ui=function(){function e(t){J(this,e),this.index_=t}return Z(e,[{key:"updateChild",value:function(e,t,n,r,i,o){pe(e.isIndexed(this.index_),"A node must be indexed if only a child is updated");var a=e.getImmediateChild(t);return a.getChild(r).equals(n.getChild(r))&&a.isEmpty()===n.isEmpty()?e:(null!=o&&(n.isEmpty()?e.hasChild(t)?o.trackChildChange(Mi(t,a)):pe(e.isLeafNode(),"A child remove without an old child only makes sense on a leaf node"):a.isEmpty()?o.trackChildChange(Li(t,n)):o.trackChildChange(Fi(t,n,a))),e.isLeafNode()&&n.isEmpty()?e:e.updateImmediateChild(t,n).withIndex(this.index_))}},{key:"updateFullNode",value:function(e,t,n){return null!=n&&(e.isLeafNode()||e.forEachChild(ki,(function(e,r){t.hasChild(e)||n.trackChildChange(Mi(e,r))})),t.isLeafNode()||t.forEachChild(ki,(function(t,r){if(e.hasChild(t)){var i=e.getImmediateChild(t);i.equals(r)||n.trackChildChange(Fi(t,r,i))}else n.trackChildChange(Li(t,r))}))),t.withIndex(this.index_)}},{key:"updatePriority",value:function(e,t){return e.isEmpty()?Ei.EMPTY_NODE:e.updatePriority(t)}},{key:"filtersNodes",value:function(){return!1}},{key:"getIndexedFilter",value:function(){return this}},{key:"getIndex",value:function(){return this.index_}}]),e}(),ji=function(){function e(t){J(this,e),this.indexedFilter_=new Ui(t.getIndex()),this.index_=t.getIndex(),this.startPost_=e.getStartPost_(t),this.endPost_=e.getEndPost_(t)}return Z(e,[{key:"getStartPost",value:function(){return this.startPost_}},{key:"getEndPost",value:function(){return this.endPost_}},{key:"matches",value:function(e){return this.index_.compare(this.getStartPost(),e)<=0&&this.index_.compare(e,this.getEndPost())<=0}},{key:"updateChild",value:function(e,t,n,r,i,o){return this.matches(new ti(t,n))||(n=Ei.EMPTY_NODE),this.indexedFilter_.updateChild(e,t,n,r,i,o)}},{key:"updateFullNode",value:function(e,t,n){t.isLeafNode()&&(t=Ei.EMPTY_NODE);var r=t.withIndex(this.index_);r=r.updatePriority(Ei.EMPTY_NODE);var i=this;return t.forEachChild(ki,(function(e,t){i.matches(new ti(e,t))||(r=r.updateImmediateChild(e,Ei.EMPTY_NODE))})),this.indexedFilter_.updateFullNode(e,r,n)}},{key:"updatePriority",value:function(e,t){return e}},{key:"filtersNodes",value:function(){return!0}},{key:"getIndexedFilter",value:function(){return this.indexedFilter_}},{key:"getIndex",value:function(){return this.index_}}],[{key:"getStartPost_",value:function(e){if(e.hasStart()){var t=e.getIndexStartName();return e.getIndex().makePost(e.getIndexStartValue(),t)}return e.getIndex().minPost()}},{key:"getEndPost_",value:function(e){if(e.hasEnd()){var t=e.getIndexEndName();return e.getIndex().makePost(e.getIndexEndValue(),t)}return e.getIndex().maxPost()}}]),e}(),zi=function(){function e(t){J(this,e),this.rangedFilter_=new ji(t),this.index_=t.getIndex(),this.limit_=t.getLimit(),this.reverse_=!t.isViewFromLeft()}return Z(e,[{key:"updateChild",value:function(e,t,n,r,i,o){return this.rangedFilter_.matches(new ti(t,n))||(n=Ei.EMPTY_NODE),e.getImmediateChild(t).equals(n)?e:e.numChildren()<this.limit_?this.rangedFilter_.getIndexedFilter().updateChild(e,t,n,r,i,o):this.fullLimitUpdateChild_(e,t,n,i,o)}},{key:"updateFullNode",value:function(e,t,n){var r;if(t.isLeafNode()||t.isEmpty())r=Ei.EMPTY_NODE.withIndex(this.index_);else if(2*this.limit_<t.numChildren()&&t.isIndexed(this.index_)){var i;r=Ei.EMPTY_NODE.withIndex(this.index_),i=this.reverse_?t.getReverseIteratorFrom(this.rangedFilter_.getEndPost(),this.index_):t.getIteratorFrom(this.rangedFilter_.getStartPost(),this.index_);for(var o=0;i.hasNext()&&o<this.limit_;){var a=i.getNext();if(!(this.reverse_?this.index_.compare(this.rangedFilter_.getStartPost(),a)<=0:this.index_.compare(a,this.rangedFilter_.getEndPost())<=0))break;r=r.updateImmediateChild(a.name,a.node),o++}}else{var s,u,l,c;if(r=(r=t.withIndex(this.index_)).updatePriority(Ei.EMPTY_NODE),this.reverse_){c=r.getReverseIterator(this.index_),s=this.rangedFilter_.getEndPost(),u=this.rangedFilter_.getStartPost();var d=this.index_.getCompare();l=function(e,t){return d(t,e)}}else c=r.getIterator(this.index_),s=this.rangedFilter_.getStartPost(),u=this.rangedFilter_.getEndPost(),l=this.index_.getCompare();for(var f=0,h=!1;c.hasNext();){var p=c.getNext();!h&&l(s,p)<=0&&(h=!0),h&&f<this.limit_&&l(p,u)<=0?f++:r=r.updateImmediateChild(p.name,Ei.EMPTY_NODE)}}return this.rangedFilter_.getIndexedFilter().updateFullNode(e,r,n)}},{key:"updatePriority",value:function(e,t){return e}},{key:"filtersNodes",value:function(){return!0}},{key:"getIndexedFilter",value:function(){return this.rangedFilter_.getIndexedFilter()}},{key:"getIndex",value:function(){return this.index_}},{key:"fullLimitUpdateChild_",value:function(e,t,n,r,i){var o;if(this.reverse_){var a=this.index_.getCompare();o=function(e,t){return a(t,e)}}else o=this.index_.getCompare();var s=e;pe(s.numChildren()===this.limit_,"");var u=new ti(t,n),l=this.reverse_?s.getFirstChild(this.index_):s.getLastChild(this.index_),c=this.rangedFilter_.matches(u);if(s.hasChild(t)){for(var d=s.getImmediateChild(t),f=r.getChildAfterChild(this.index_,l,this.reverse_);null!=f&&(f.name===t||s.hasChild(f.name));)f=r.getChildAfterChild(this.index_,f,this.reverse_);var h=null==f?1:o(f,u);if(c&&!n.isEmpty()&&h>=0)return null!=i&&i.trackChildChange(Fi(t,n,d)),s.updateImmediateChild(t,n);null!=i&&i.trackChildChange(Mi(t,d));var p=s.updateImmediateChild(t,Ei.EMPTY_NODE);return null!=f&&this.rangedFilter_.matches(f)?(null!=i&&i.trackChildChange(Li(f.name,f.node)),p.updateImmediateChild(f.name,f.node)):p}return n.isEmpty()?e:c&&o(l,u)>=0?(null!=i&&(i.trackChildChange(Mi(l.name,l.node)),i.trackChildChange(Li(t,n))),s.updateImmediateChild(t,n).updateImmediateChild(l.name,Ei.EMPTY_NODE)):e}}]),e}(),qi=function(){function e(){J(this,e),this.limitSet_=!1,this.startSet_=!1,this.startNameSet_=!1,this.startAfterSet_=!1,this.endSet_=!1,this.endNameSet_=!1,this.endBeforeSet_=!1,this.limit_=0,this.viewFrom_="",this.indexStartValue_=null,this.indexStartName_="",this.indexEndValue_=null,this.indexEndName_="",this.index_=ki}return Z(e,[{key:"hasStart",value:function(){return this.startSet_}},{key:"hasStartAfter",value:function(){return this.startAfterSet_}},{key:"hasEndBefore",value:function(){return this.endBeforeSet_}},{key:"isViewFromLeft",value:function(){return""===this.viewFrom_?this.startSet_:"l"===this.viewFrom_}},{key:"getIndexStartValue",value:function(){return pe(this.startSet_,"Only valid if start has been set"),this.indexStartValue_}},{key:"getIndexStartName",value:function(){return pe(this.startSet_,"Only valid if start has been set"),this.startNameSet_?this.indexStartName_:Yn}},{key:"hasEnd",value:function(){return this.endSet_}},{key:"getIndexEndValue",value:function(){return pe(this.endSet_,"Only valid if end has been set"),this.indexEndValue_}},{key:"getIndexEndName",value:function(){return pe(this.endSet_,"Only valid if end has been set"),this.endNameSet_?this.indexEndName_:Qn}},{key:"hasLimit",value:function(){return this.limitSet_}},{key:"hasAnchoredLimit",value:function(){return this.limitSet_&&""!==this.viewFrom_}},{key:"getLimit",value:function(){return pe(this.limitSet_,"Only valid if limit has been set"),this.limit_}},{key:"getIndex",value:function(){return this.index_}},{key:"loadsAllData",value:function(){return!(this.startSet_||this.endSet_||this.limitSet_)}},{key:"isDefault",value:function(){return this.loadsAllData()&&this.index_===ki}},{key:"copy",value:function(){var t=new e;return t.limitSet_=this.limitSet_,t.limit_=this.limit_,t.startSet_=this.startSet_,t.indexStartValue_=this.indexStartValue_,t.startNameSet_=this.startNameSet_,t.indexStartName_=this.indexStartName_,t.endSet_=this.endSet_,t.indexEndValue_=this.indexEndValue_,t.endNameSet_=this.endNameSet_,t.indexEndName_=this.indexEndName_,t.index_=this.index_,t.viewFrom_=this.viewFrom_,t}}]),e}();function Wi(e){var t,n={};return e.isDefault()||(e.index_===ki?t="$priority":e.index_===Ri?t="$value":e.index_===ii?t="$key":(pe(e.index_ instanceof Pi,"Unrecognized index type!"),t=e.index_.toString()),n.orderBy=Me(t),e.startSet_&&(n.startAt=Me(e.indexStartValue_),e.startNameSet_&&(n.startAt+=","+Me(e.indexStartName_))),e.endSet_&&(n.endAt=Me(e.indexEndValue_),e.endNameSet_&&(n.endAt+=","+Me(e.indexEndName_))),e.limitSet_&&(e.isViewFromLeft()?n.limitToFirst=e.limit_:n.limitToLast=e.limit_)),n}function Vi(e){var t={};if(e.startSet_&&(t.sp=e.indexStartValue_,e.startNameSet_&&(t.sn=e.indexStartName_)),e.endSet_&&(t.ep=e.indexEndValue_,e.endNameSet_&&(t.en=e.indexEndName_)),e.limitSet_){t.l=e.limit_;var n=e.viewFrom_;""===n&&(n=e.isViewFromLeft()?"l":"r"),t.vf=n}return e.index_!==ki&&(t.i=e.index_.toString()),t}var Bi=function(e){re(n,e);var t=ue(n);function n(e,r,i,o){var a;return J(this,n),(a=t.call(this)).repoInfo_=e,a.onDataUpdate_=r,a.authTokenProvider_=i,a.appCheckTokenProvider_=o,a.log_=Bn("p:rest:"),a.listens_={},a}return Z(n,[{key:"reportStats",value:function(e){throw new Error("Method not implemented.")}},{key:"listen",value:function(e,t,r,i){var o=this,a=e._path.toString();this.log_("Listen called for "+a+" "+e._queryIdentifier);var s=n.getListenId_(e,r),u={};this.listens_[s]=u;var l=Wi(e._queryParams);this.restRequest_(a+".json",l,(function(e,t){var n=t;(404===e&&(n=null,e=null),null===e&&o.onDataUpdate_(a,n,!1,r),je(o.listens_,s)===u)&&i(e?401===e?"permission_denied":"rest_error:"+e:"ok",null)}))}},{key:"unlisten",value:function(e,t){var r=n.getListenId_(e,t);delete this.listens_[r]}},{key:"get",value:function(e){var t=this,n=Wi(e._queryParams),r=e._path.toString(),i=new we;return this.restRequest_(r+".json",n,(function(e,n){var o=n;404===e&&(o=null,e=null),null===e?(t.onDataUpdate_(r,o,!1,null),i.resolve(o)):i.reject(new Error(o))})),i.promise}},{key:"refreshAuthToken",value:function(e){}},{key:"restRequest_",value:function(e){var t=this,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},r=arguments.length>2?arguments[2]:void 0;return n.format="export",Promise.all([this.authTokenProvider_.getToken(!1),this.appCheckTokenProvider_.getToken(!1)]).then((function(i){var o=f(i,2),a=o[0],s=o[1];a&&a.accessToken&&(n.auth=a.accessToken),s&&s.token&&(n.ac=s.token);var u=(t.repoInfo_.secure?"https://":"http://")+t.repoInfo_.host+e+"?ns="+t.repoInfo_.namespace+Be(n);t.log_("Sending REST request for "+u);var l=new XMLHttpRequest;l.onreadystatechange=function(){if(r&&4===l.readyState){t.log_("REST Response for "+u+" received. status:",l.status,"response:",l.responseText);var e=null;if(l.status>=200&&l.status<300){try{e=Le(l.responseText)}catch(n){Gn("Failed to parse JSON response for "+u+": "+l.responseText)}r(null,e)}else 401!==l.status&&404!==l.status&&Gn("Got unsuccessful REST response for "+u+" Status: "+l.status),r(l.status);r=null}},l.open("GET",u,!0),l.send()}))}}],[{key:"getListenId_",value:function(e,t){return void 0!==t?"tag$"+t:(pe(e._queryParams.isDefault(),"should have a tag if it's not a default query."),e._path.toString())}}]),n}(Rr),Hi=function(){function e(){J(this,e),this.rootNode_=Ei.EMPTY_NODE}return Z(e,[{key:"getNode",value:function(e){return this.rootNode_.getChild(e)}},{key:"updateSnapshot",value:function(e,t){this.rootNode_=this.rootNode_.updateChild(e,t)}}]),e}();function Ki(){return{value:null,children:new Map}}function Gi(e,t,n){if(Br(t))e.value=n,e.children.clear();else if(null!==e.value)e.value=e.value.updateChild(t,n);else{var r=Fr(t);e.children.has(r)||e.children.set(r,Ki()),Gi(e.children.get(r),t=jr(t),n)}}function $i(e,t,n){null!==e.value?n(t,e.value):function(e,t){e.children.forEach((function(e,n){t(n,e)}))}(e,(function(e,r){$i(r,new Lr(t.toString()+"/"+e),n)}))}var Yi,Qi=function(){function e(t){J(this,e),this.collection_=t,this.last_=null}return Z(e,[{key:"get",value:function(){var e=this.collection_.get(),t=Object.assign({},e);return this.last_&&nr(this.last_,(function(e,n){t[e]=t[e]-n})),this.last_=e,t}}]),e}(),Ji=function(){function e(t,n){J(this,e),this.server_=n,this.statsToReport_={},this.statsListener_=new Qi(t);var r=1e4+2e4*Math.random();lr(this.reportStats_.bind(this),Math.floor(r))}return Z(e,[{key:"reportStats_",value:function(){var e=this,t=this.statsListener_.get(),n={},r=!1;nr(t,(function(t,i){i>0&&Ue(e.statsToReport_,t)&&(n[t]=i,r=!0)})),r&&this.server_.reportStats(n),lr(this.reportStats_.bind(this),Math.floor(2*Math.random()*3e5))}}]),e}();function Xi(e){return{fromUser:!1,fromServer:!0,queryId:e,tagged:!0}}!function(e){e[e.OVERWRITE=0]="OVERWRITE",e[e.MERGE=1]="MERGE",e[e.ACK_USER_WRITE=2]="ACK_USER_WRITE",e[e.LISTEN_COMPLETE=3]="LISTEN_COMPLETE"}(Yi||(Yi={}));var Zi,eo=function(){function e(t,n,r){J(this,e),this.path=t,this.affectedTree=n,this.revert=r,this.type=Yi.ACK_USER_WRITE,this.source={fromUser:!0,fromServer:!1,queryId:null,tagged:!1}}return Z(e,[{key:"operationForChild",value:function(t){if(Br(this.path)){if(null!=this.affectedTree.value)return pe(this.affectedTree.children.isEmpty(),"affectedTree should not have overlapping affected paths."),this;var n=this.affectedTree.subtree(new Lr(t));return new e(Mr(),n,this.revert)}return pe(Fr(this.path)===t,"operationForChild called for unrelated child."),new e(jr(this.path),this.affectedTree,this.revert)}}]),e}(),to=function(){function e(t,n,r){J(this,e),this.source=t,this.path=n,this.snap=r,this.type=Yi.OVERWRITE}return Z(e,[{key:"operationForChild",value:function(t){return Br(this.path)?new e(this.source,Mr(),this.snap.getImmediateChild(t)):new e(this.source,jr(this.path),this.snap)}}]),e}(),no=function(){function e(t,n,r){J(this,e),this.source=t,this.path=n,this.children=r,this.type=Yi.MERGE}return Z(e,[{key:"operationForChild",value:function(t){if(Br(this.path)){var n=this.children.subtree(new Lr(t));return n.isEmpty()?null:n.value?new to(this.source,Mr(),n.value):new e(this.source,Mr(),n)}return pe(Fr(this.path)===t,"Can't get a merge for a child not on the path of the operation"),new e(this.source,jr(this.path),this.children)}},{key:"toString",value:function(){return"Operation("+this.path+": "+this.source.toString()+" merge: "+this.children.toString()+")"}}]),e}(),ro=function(){function e(t,n,r){J(this,e),this.node_=t,this.fullyInitialized_=n,this.filtered_=r}return Z(e,[{key:"isFullyInitialized",value:function(){return this.fullyInitialized_}},{key:"isFiltered",value:function(){return this.filtered_}},{key:"isCompleteForPath",value:function(e){if(Br(e))return this.isFullyInitialized()&&!this.filtered_;var t=Fr(e);return this.isCompleteForChild(t)}},{key:"isCompleteForChild",value:function(e){return this.isFullyInitialized()&&!this.filtered_||this.node_.hasChild(e)}},{key:"getNode",value:function(){return this.node_}}]),e}(),io=Z((function e(t){J(this,e),this.query_=t,this.index_=this.query_._queryParams.getIndex()}));function oo(e,t,n,r,i,o){var a=r.filter((function(e){return e.type===n}));a.sort((function(t,n){return function(e,t,n){if(null==t.childName||null==n.childName)throw ve("Should only compare child_ events.");var r=new ti(t.childName,t.snapshotNode),i=new ti(n.childName,n.snapshotNode);return e.index_.compare(r,i)}(e,t,n)})),a.forEach((function(n){var r=function(e,t,n){return"value"===t.type||"child_removed"===t.type||(t.prevName=n.getPredecessorChildName(t.childName,t.snapshotNode,e.index_)),t}(e,n,o);i.forEach((function(i){i.respondsTo(n.type)&&t.push(i.createEvent(r,e.query_))}))}))}function ao(e,t){return{eventCache:e,serverCache:t}}function so(e,t,n,r){return ao(new ro(t,n,r),e.serverCache)}function uo(e,t,n,r){return ao(e.eventCache,new ro(t,n,r))}function lo(e){return e.eventCache.isFullyInitialized()?e.eventCache.getNode():null}function co(e){return e.serverCache.isFullyInitialized()?e.serverCache.getNode():null}var fo=function(){return Zi||(Zi=new li(Xn)),Zi},ho=function(){function e(t){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:fo();J(this,e),this.value=t,this.children=n}return Z(e,[{key:"isEmpty",value:function(){return null===this.value&&this.children.isEmpty()}},{key:"findRootMostMatchingPathAndValue",value:function(e,t){if(null!=this.value&&t(this.value))return{path:Mr(),value:this.value};if(Br(e))return null;var n=Fr(e),r=this.children.get(n);if(null!==r){var i=r.findRootMostMatchingPathAndValue(jr(e),t);return null!=i?{path:Vr(new Lr(n),i.path),value:i.value}:null}return null}},{key:"findRootMostValueAndPath",value:function(e){return this.findRootMostMatchingPathAndValue(e,(function(){return!0}))}},{key:"subtree",value:function(t){if(Br(t))return this;var n=Fr(t),r=this.children.get(n);return null!==r?r.subtree(jr(t)):new e(null)}},{key:"set",value:function(t,n){if(Br(t))return new e(n,this.children);var r=Fr(t),i=(this.children.get(r)||new e(null)).set(jr(t),n),o=this.children.insert(r,i);return new e(this.value,o)}},{key:"remove",value:function(t){if(Br(t))return this.children.isEmpty()?new e(null):new e(null,this.children);var n=Fr(t),r=this.children.get(n);if(r){var i,o=r.remove(jr(t));return i=o.isEmpty()?this.children.remove(n):this.children.insert(n,o),null===this.value&&i.isEmpty()?new e(null):new e(this.value,i)}return this}},{key:"get",value:function(e){if(Br(e))return this.value;var t=Fr(e),n=this.children.get(t);return n?n.get(jr(e)):null}},{key:"setTree",value:function(t,n){if(Br(t))return n;var r,i=Fr(t),o=(this.children.get(i)||new e(null)).setTree(jr(t),n);return r=o.isEmpty()?this.children.remove(i):this.children.insert(i,o),new e(this.value,r)}},{key:"fold",value:function(e){return this.fold_(Mr(),e)}},{key:"fold_",value:function(e,t){var n={};return this.children.inorderTraversal((function(r,i){n[r]=i.fold_(Vr(e,r),t)})),t(e,this.value,n)}},{key:"findOnPath",value:function(e,t){return this.findOnPath_(e,Mr(),t)}},{key:"findOnPath_",value:function(e,t,n){var r=!!this.value&&n(t,this.value);if(r)return r;if(Br(e))return null;var i=Fr(e),o=this.children.get(i);return o?o.findOnPath_(jr(e),Vr(t,i),n):null}},{key:"foreachOnPath",value:function(e,t){return this.foreachOnPath_(e,Mr(),t)}},{key:"foreachOnPath_",value:function(t,n,r){if(Br(t))return this;this.value&&r(n,this.value);var i=Fr(t),o=this.children.get(i);return o?o.foreachOnPath_(jr(t),Vr(n,i),r):new e(null)}},{key:"foreach",value:function(e){this.foreach_(Mr(),e)}},{key:"foreach_",value:function(e,t){this.children.inorderTraversal((function(n,r){r.foreach_(Vr(e,n),t)})),this.value&&t(e,this.value)}},{key:"foreachChild",value:function(e){this.children.inorderTraversal((function(t,n){n.value&&e(t,n.value)}))}}],[{key:"fromObject",value:function(t){var n=new e(null);return nr(t,(function(e,t){n=n.set(new Lr(e),t)})),n}}]),e}(),po=function(){function e(t){J(this,e),this.writeTree_=t}return Z(e,null,[{key:"empty",value:function(){return new e(new ho(null))}}]),e}();function vo(e,t,n){if(Br(t))return new po(new ho(n));var r=e.writeTree_.findRootMostValueAndPath(t);if(null!=r){var i=r.path,o=r.value,a=Hr(i,t);return o=o.updateChild(a,n),new po(e.writeTree_.set(i,o))}var s=new ho(n),u=e.writeTree_.setTree(t,s);return new po(u)}function mo(e,t,n){var r=e;return nr(n,(function(e,n){r=vo(r,Vr(t,e),n)})),r}function yo(e,t){if(Br(t))return po.empty();var n=e.writeTree_.setTree(t,new ho(null));return new po(n)}function go(e,t){return null!=_o(e,t)}function _o(e,t){var n=e.writeTree_.findRootMostValueAndPath(t);return null!=n?e.writeTree_.get(n.path).getChild(Hr(n.path,t)):null}function bo(e){var t=[],n=e.writeTree_.value;return null!=n?n.isLeafNode()||n.forEachChild(ki,(function(e,n){t.push(new ti(e,n))})):e.writeTree_.children.inorderTraversal((function(e,n){null!=n.value&&t.push(new ti(e,n.value))})),t}function ko(e,t){if(Br(t))return e;var n=_o(e,t);return new po(null!=n?new ho(n):e.writeTree_.subtree(t))}function wo(e){return e.writeTree_.isEmpty()}function Io(e,t){return xo(Mr(),e.writeTree_,t)}function xo(e,t,n){if(null!=t.value)return n.updateChild(e,t.value);var r=null;return t.children.inorderTraversal((function(t,i){".priority"===t?(pe(null!==i.value,"Priority writes must always be leaf nodes"),r=i.value):n=xo(Vr(e,t),i,n)})),n.getChild(e).isEmpty()||null===r||(n=n.updateChild(Vr(e,".priority"),r)),n}function So(e,t){return jo(t,e)}function Co(e,t){for(var n=0;n<e.allWrites.length;n++){var r=e.allWrites[n];if(r.writeId===t)return r}return null}function Eo(e,t){var n=e.allWrites.findIndex((function(e){return e.writeId===t}));pe(n>=0,"removeWrite called with nonexistent writeId.");var r=e.allWrites[n];e.allWrites.splice(n,1);for(var i=r.visible,o=!1,a=e.allWrites.length-1;i&&a>=0;){var s=e.allWrites[a];s.visible&&(a>=n&&To(s,r.path)?i=!1:Gr(r.path,s.path)&&(o=!0)),a--}if(i){if(o)return function(e){e.visibleWrites=Po(e.allWrites,No,Mr()),e.allWrites.length>0?e.lastWriteId=e.allWrites[e.allWrites.length-1].writeId:e.lastWriteId=-1}(e),!0;r.snap?e.visibleWrites=yo(e.visibleWrites,r.path):nr(r.children,(function(t){e.visibleWrites=yo(e.visibleWrites,Vr(r.path,t))}));return!0}return!1}function To(e,t){if(e.snap)return Gr(e.path,t);for(var n in e.children)if(e.children.hasOwnProperty(n)&&Gr(Vr(e.path,n),t))return!0;return!1}function No(e){return e.visible}function Po(e,t,n){for(var r=po.empty(),i=0;i<e.length;++i){var o=e[i];if(t(o)){var a=o.path,s=void 0;if(o.snap)Gr(n,a)?r=vo(r,s=Hr(n,a),o.snap):Gr(a,n)&&(s=Hr(a,n),r=vo(r,Mr(),o.snap.getChild(s)));else{if(!o.children)throw ve("WriteRecord should have .snap or .children");if(Gr(n,a))r=mo(r,s=Hr(n,a),o.children);else if(Gr(a,n))if(Br(s=Hr(a,n)))r=mo(r,Mr(),o.children);else{var u=je(o.children,Fr(s));if(u){var l=u.getChild(jr(s));r=vo(r,Mr(),l)}}}}}return r}function Oo(e,t,n,r,i){if(r||i){var o=ko(e.visibleWrites,t);if(!i&&wo(o))return n;if(i||null!=n||go(o,Mr())){return Io(Po(e.allWrites,(function(e){return(e.visible||i)&&(!r||!~r.indexOf(e.writeId))&&(Gr(e.path,t)||Gr(t,e.path))}),t),n||Ei.EMPTY_NODE)}return null}var a=_o(e.visibleWrites,t);if(null!=a)return a;var s=ko(e.visibleWrites,t);return wo(s)?n:null!=n||go(s,Mr())?Io(s,n||Ei.EMPTY_NODE):null}function Ro(e,t,n,r){return Oo(e.writeTree,e.treePath,t,n,r)}function Ao(e,t){return function(e,t,n){var r=Ei.EMPTY_NODE,i=_o(e.visibleWrites,t);if(i)return i.isLeafNode()||i.forEachChild(ki,(function(e,t){r=r.updateImmediateChild(e,t)})),r;if(n){var o=ko(e.visibleWrites,t);return n.forEachChild(ki,(function(e,t){var n=Io(ko(o,new Lr(e)),t);r=r.updateImmediateChild(e,n)})),bo(o).forEach((function(e){r=r.updateImmediateChild(e.name,e.node)})),r}return bo(ko(e.visibleWrites,t)).forEach((function(e){r=r.updateImmediateChild(e.name,e.node)})),r}(e.writeTree,e.treePath,t)}function Do(e,t,n,r){return function(e,t,n,r,i){pe(r||i,"Either existingEventSnap or existingServerSnap must exist");var o=Vr(t,n);if(go(e.visibleWrites,o))return null;var a=ko(e.visibleWrites,o);return wo(a)?i.getChild(n):Io(a,i.getChild(n))}(e.writeTree,e.treePath,t,n,r)}function Lo(e,t){return function(e,t){return _o(e.visibleWrites,t)}(e.writeTree,Vr(e.treePath,t))}function Mo(e,t,n,r,i,o){return function(e,t,n,r,i,o,a){var s,u=ko(e.visibleWrites,t),l=_o(u,Mr());if(null!=l)s=l;else{if(null==n)return[];s=Io(u,n)}if((s=s.withIndex(a)).isEmpty()||s.isLeafNode())return[];for(var c=[],d=a.getCompare(),f=o?s.getReverseIteratorFrom(r,a):s.getIteratorFrom(r,a),h=f.getNext();h&&c.length<i;)0!==d(h,r)&&c.push(h),h=f.getNext();return c}(e.writeTree,e.treePath,t,n,r,i,o)}function Fo(e,t,n){return function(e,t,n,r){var i=Vr(t,n),o=_o(e.visibleWrites,i);return null!=o?o:r.isCompleteForChild(n)?Io(ko(e.visibleWrites,i),r.getNode().getImmediateChild(n)):null}(e.writeTree,e.treePath,t,n)}function Uo(e,t){return jo(Vr(e.treePath,t),e.writeTree)}function jo(e,t){return{treePath:e,writeTree:t}}var zo=function(){function e(){J(this,e),this.changeMap=new Map}return Z(e,[{key:"trackChildChange",value:function(e){var t=e.type,n=e.childName;pe("child_added"===t||"child_changed"===t||"child_removed"===t,"Only child changes supported for tracking"),pe(".priority"!==n,"Only non-priority child changes can be tracked.");var r=this.changeMap.get(n);if(r){var i=r.type;if("child_added"===t&&"child_removed"===i)this.changeMap.set(n,Fi(n,e.snapshotNode,r.snapshotNode));else if("child_removed"===t&&"child_added"===i)this.changeMap.delete(n);else if("child_removed"===t&&"child_changed"===i)this.changeMap.set(n,Mi(n,r.oldSnap));else if("child_changed"===t&&"child_added"===i)this.changeMap.set(n,Li(n,e.snapshotNode));else{if("child_changed"!==t||"child_changed"!==i)throw ve("Illegal combination of changes: "+e+" occurred after "+r);this.changeMap.set(n,Fi(n,e.snapshotNode,r.oldSnap))}}else this.changeMap.set(n,e)}},{key:"getChanges",value:function(){return Array.from(this.changeMap.values())}}]),e}(),qo=new(function(){function e(){J(this,e)}return Z(e,[{key:"getCompleteChild",value:function(e){return null}},{key:"getChildAfterChild",value:function(e,t,n){return null}}]),e}()),Wo=function(){function e(t,n){var r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null;J(this,e),this.writes_=t,this.viewCache_=n,this.optCompleteServerCache_=r}return Z(e,[{key:"getCompleteChild",value:function(e){var t=this.viewCache_.eventCache;if(t.isCompleteForChild(e))return t.getNode().getImmediateChild(e);var n=null!=this.optCompleteServerCache_?new ro(this.optCompleteServerCache_,!0,!1):this.viewCache_.serverCache;return Fo(this.writes_,e,n)}},{key:"getChildAfterChild",value:function(e,t,n){var r=null!=this.optCompleteServerCache_?this.optCompleteServerCache_:co(this.viewCache_),i=Mo(this.writes_,r,t,1,n,e);return 0===i.length?null:i[0]}}]),e}();function Vo(e,t,n,r,i){var o,a,s=new zo;if(n.type===Yi.OVERWRITE){var u=n;u.source.fromUser?o=Ko(e,t,u.path,u.snap,r,i,s):(pe(u.source.fromServer,"Unknown source."),a=u.source.tagged||t.serverCache.isFiltered()&&!Br(u.path),o=Ho(e,t,u.path,u.snap,r,i,a,s))}else if(n.type===Yi.MERGE){var l=n;l.source.fromUser?o=function(e,t,n,r,i,o,a){var s=t;return r.foreach((function(r,u){var l=Vr(n,r);Go(t,Fr(l))&&(s=Ko(e,s,l,u,i,o,a))})),r.foreach((function(r,u){var l=Vr(n,r);Go(t,Fr(l))||(s=Ko(e,s,l,u,i,o,a))})),s}(e,t,l.path,l.children,r,i,s):(pe(l.source.fromServer,"Unknown source."),a=l.source.tagged||t.serverCache.isFiltered(),o=Yo(e,t,l.path,l.children,r,i,a,s))}else if(n.type===Yi.ACK_USER_WRITE){var c=n;o=c.revert?function(e,t,n,r,i,o){var a;if(null!=Lo(r,n))return t;var s,u=new Wo(r,t,i),l=t.eventCache.getNode();if(Br(n)||".priority"===Fr(n)){var c;if(t.serverCache.isFullyInitialized())c=Ro(r,co(t));else{var d=t.serverCache.getNode();pe(d instanceof Ei,"serverChildren would be complete if leaf node"),c=Ao(r,d)}s=e.filter.updateFullNode(l,c,o)}else{var f=Fr(n),h=Fo(r,f,t.serverCache);null==h&&t.serverCache.isCompleteForChild(f)&&(h=l.getImmediateChild(f)),(s=null!=h?e.filter.updateChild(l,f,h,jr(n),u,o):t.eventCache.getNode().hasChild(f)?e.filter.updateChild(l,f,Ei.EMPTY_NODE,jr(n),u,o):l).isEmpty()&&t.serverCache.isFullyInitialized()&&(a=Ro(r,co(t))).isLeafNode()&&(s=e.filter.updateFullNode(s,a,o))}return a=t.serverCache.isFullyInitialized()||null!=Lo(r,Mr()),so(t,s,a,e.filter.filtersNodes())}(e,t,c.path,r,i,s):function(e,t,n,r,i,o,a){if(null!=Lo(i,n))return t;var s=t.serverCache.isFiltered(),u=t.serverCache;if(null!=r.value){if(Br(n)&&u.isFullyInitialized()||u.isCompleteForPath(n))return Ho(e,t,n,u.getNode().getChild(n),i,o,s,a);if(Br(n)){var l=new ho(null);return u.getNode().forEachChild(ii,(function(e,t){l=l.set(new Lr(e),t)})),Yo(e,t,n,l,i,o,s,a)}return t}var c=new ho(null);return r.foreach((function(e,t){var r=Vr(n,e);u.isCompleteForPath(r)&&(c=c.set(e,u.getNode().getChild(r)))})),Yo(e,t,n,c,i,o,s,a)}(e,t,c.path,c.affectedTree,r,i,s)}else{if(n.type!==Yi.LISTEN_COMPLETE)throw ve("Unknown operation type: "+n.type);o=function(e,t,n,r,i){var o=t.serverCache,a=uo(t,o.getNode(),o.isFullyInitialized()||Br(n),o.isFiltered());return Bo(e,a,n,r,qo,i)}(e,t,n.path,r,s)}var d=s.getChanges();return function(e,t,n){var r=t.eventCache;if(r.isFullyInitialized()){var i=r.getNode().isLeafNode()||r.getNode().isEmpty(),o=lo(e);(n.length>0||!e.eventCache.isFullyInitialized()||i&&!r.getNode().equals(o)||!r.getNode().getPriority().equals(o.getPriority()))&&n.push(Di(lo(t)))}}(t,o,d),{viewCache:o,changes:d}}function Bo(e,t,n,r,i,o){var a,s,u=t.eventCache;if(null!=Lo(r,n))return t;if(Br(n))if(pe(t.serverCache.isFullyInitialized(),"If change path is empty, we must have complete server data"),t.serverCache.isFiltered()){var l=co(t),c=Ao(r,l instanceof Ei?l:Ei.EMPTY_NODE);a=e.filter.updateFullNode(t.eventCache.getNode(),c,o)}else{var d=Ro(r,co(t));a=e.filter.updateFullNode(t.eventCache.getNode(),d,o)}else{var f=Fr(n);if(".priority"===f){pe(1===Ur(n),"Can't have a priority with additional path components");var h=u.getNode(),p=Do(r,n,h,s=t.serverCache.getNode());a=null!=p?e.filter.updatePriority(h,p):u.getNode()}else{var v,m=jr(n);if(u.isCompleteForChild(f)){s=t.serverCache.getNode();var y=Do(r,n,u.getNode(),s);v=null!=y?u.getNode().getImmediateChild(f).updateChild(m,y):u.getNode().getImmediateChild(f)}else v=Fo(r,f,t.serverCache);a=null!=v?e.filter.updateChild(u.getNode(),f,v,m,i,o):u.getNode()}}return so(t,a,u.isFullyInitialized()||Br(n),e.filter.filtersNodes())}function Ho(e,t,n,r,i,o,a,s){var u,l=t.serverCache,c=a?e.filter:e.filter.getIndexedFilter();if(Br(n))u=c.updateFullNode(l.getNode(),r,null);else if(c.filtersNodes()&&!l.isFiltered()){var d=l.getNode().updateChild(n,r);u=c.updateFullNode(l.getNode(),d,null)}else{var f=Fr(n);if(!l.isCompleteForPath(n)&&Ur(n)>1)return t;var h=jr(n),p=l.getNode().getImmediateChild(f).updateChild(h,r);u=".priority"===f?c.updatePriority(l.getNode(),p):c.updateChild(l.getNode(),f,p,h,qo,null)}var v=uo(t,u,l.isFullyInitialized()||Br(n),c.filtersNodes());return Bo(e,v,n,i,new Wo(i,v,o),s)}function Ko(e,t,n,r,i,o,a){var s,u,l=t.eventCache,c=new Wo(i,t,o);if(Br(n))u=e.filter.updateFullNode(t.eventCache.getNode(),r,a),s=so(t,u,!0,e.filter.filtersNodes());else{var d=Fr(n);if(".priority"===d)u=e.filter.updatePriority(t.eventCache.getNode(),r),s=so(t,u,l.isFullyInitialized(),l.isFiltered());else{var f,h=jr(n),p=l.getNode().getImmediateChild(d);if(Br(h))f=r;else{var v=c.getCompleteChild(d);f=null!=v?".priority"===zr(h)&&v.getChild(Wr(h)).isEmpty()?v:v.updateChild(h,r):Ei.EMPTY_NODE}if(p.equals(f))s=t;else s=so(t,e.filter.updateChild(l.getNode(),d,f,h,c,a),l.isFullyInitialized(),e.filter.filtersNodes())}}return s}function Go(e,t){return e.eventCache.isCompleteForChild(t)}function $o(e,t,n){return n.foreach((function(e,n){t=t.updateChild(e,n)})),t}function Yo(e,t,n,r,i,o,a,s){if(t.serverCache.getNode().isEmpty()&&!t.serverCache.isFullyInitialized())return t;var u,l=t;u=Br(n)?r:new ho(null).setTree(n,r);var c=t.serverCache.getNode();return u.children.inorderTraversal((function(n,r){if(c.hasChild(n)){var u=$o(0,t.serverCache.getNode().getImmediateChild(n),r);l=Ho(e,l,new Lr(n),u,i,o,a,s)}})),u.children.inorderTraversal((function(n,r){var u=!t.serverCache.isCompleteForChild(n)&&void 0===r.value;if(!c.hasChild(n)&&!u){var d=$o(0,t.serverCache.getNode().getImmediateChild(n),r);l=Ho(e,l,new Lr(n),d,i,o,a,s)}})),l}var Qo,Jo=function(){function e(t,n){J(this,e),this.query_=t,this.eventRegistrations_=[];var r,i=this.query_._queryParams,o=new Ui(i.getIndex()),a=(r=i).loadsAllData()?new Ui(r.getIndex()):r.hasLimit()?new zi(r):new ji(r);this.processor_=function(e){return{filter:e}}(a);var s=n.serverCache,u=n.eventCache,l=o.updateFullNode(Ei.EMPTY_NODE,s.getNode(),null),c=a.updateFullNode(Ei.EMPTY_NODE,u.getNode(),null),d=new ro(l,s.isFullyInitialized(),o.filtersNodes()),f=new ro(c,u.isFullyInitialized(),a.filtersNodes());this.viewCache_=ao(f,d),this.eventGenerator_=new io(this.query_)}return Z(e,[{key:"query",get:function(){return this.query_}}]),e}();function Xo(e,t){var n=co(e.viewCache_);return n&&(e.query._queryParams.loadsAllData()||!Br(t)&&!n.getImmediateChild(Fr(t)).isEmpty())?n.getChild(t):null}function Zo(e,t,n,r){t.type===Yi.MERGE&&null!==t.source.queryId&&(pe(co(e.viewCache_),"We should always have a full cache before handling merges"),pe(lo(e.viewCache_),"Missing event cache, even though we have a server cache"));var i,o,a=e.viewCache_,s=Vo(e.processor_,a,t,n,r);return i=e.processor_,o=s.viewCache,pe(o.eventCache.getNode().isIndexed(i.filter.getIndex()),"Event snap not indexed"),pe(o.serverCache.getNode().isIndexed(i.filter.getIndex()),"Server snap not indexed"),pe(s.viewCache.serverCache.isFullyInitialized()||!a.serverCache.isFullyInitialized(),"Once a server snap is complete, it should never go back"),e.viewCache_=s.viewCache,ea(e,s.changes,s.viewCache.eventCache.getNode(),null)}function ea(e,t,n,r){var i=r?[r]:e.eventRegistrations_;return function(e,t,n,r){var i=[],o=[];return t.forEach((function(t){var n;"child_changed"===t.type&&e.index_.indexedValueChanged(t.oldSnap,t.snapshotNode)&&o.push((n=t.childName,{type:"child_moved",snapshotNode:t.snapshotNode,childName:n}))})),oo(e,i,"child_removed",t,r,n),oo(e,i,"child_added",t,r,n),oo(e,i,"child_moved",o,r,n),oo(e,i,"child_changed",t,r,n),oo(e,i,"value",t,r,n),i}(e.eventGenerator_,t,n,i)}var ta,na=Z((function e(){J(this,e),this.views=new Map}));function ra(e,t,n,r){var i=t.source.queryId;if(null!==i){var o=e.views.get(i);return pe(null!=o,"SyncTree gave us an op for an invalid query."),Zo(o,t,n,r)}var a,s=[],u=ee(e.views.values());try{for(u.s();!(a=u.n()).done;){var l=a.value;s=s.concat(Zo(l,t,n,r))}}catch(c){u.e(c)}finally{u.f()}return s}function ia(e,t,n,r,i){var o=t._queryIdentifier,a=e.views.get(o);if(!a){var s=Ro(n,i?r:null),u=!1;s?u=!0:r instanceof Ei?(s=Ao(n,r),u=!1):(s=Ei.EMPTY_NODE,u=!1);var l=ao(new ro(s,u,!1),new ro(r,i,!1));return new Jo(t,l)}return a}function oa(e,t){var n,r=null,i=ee(e.views.values());try{for(i.s();!(n=i.n()).done;){var o=n.value;r=r||Xo(o,t)}}catch(a){i.e(a)}finally{i.f()}return r}var aa=Z((function e(t){J(this,e),this.listenProvider_=t,this.syncPointTree_=new ho(null),this.pendingWriteTree_={visibleWrites:po.empty(),allWrites:[],lastWriteId:-1},this.tagToQueryMap=new Map,this.queryToTagMap=new Map}));function sa(e,t,n,r,i){return function(e,t,n,r,i){pe(r>e.lastWriteId,"Stacking an older write on top of newer ones"),void 0===i&&(i=!0),e.allWrites.push({path:t,snap:n,writeId:r,visible:i}),i&&(e.visibleWrites=vo(e.visibleWrites,t,n)),e.lastWriteId=r}(e.pendingWriteTree_,t,n,r,i),i?fa(e,new to({fromUser:!0,fromServer:!1,queryId:null,tagged:!1},t,n)):[]}function ua(e,t){var n=arguments.length>2&&void 0!==arguments[2]&&arguments[2],r=Co(e.pendingWriteTree_,t),i=Eo(e.pendingWriteTree_,t);if(i){var o=new ho(null);return null!=r.snap?o=o.set(Mr(),!0):nr(r.children,(function(e){o=o.set(new Lr(e),!0)})),fa(e,new eo(r.path,o,n))}return[]}function la(e,t,n){return fa(e,new to({fromUser:!1,fromServer:!0,queryId:null,tagged:!1},t,n))}function ca(e,t,n){var r=e.pendingWriteTree_,i=e.syncPointTree_.findOnPath(t,(function(e,n){var r=oa(n,Hr(e,t));if(r)return r}));return Oo(r,t,i,n,!0)}function da(e,t){var n=t._path,r=null;e.syncPointTree_.foreachOnPath(n,(function(e,t){var i=Hr(e,n);r=r||oa(t,i)}));var i=e.syncPointTree_.get(n);i?r=r||oa(i,Mr()):(i=new na,e.syncPointTree_=e.syncPointTree_.set(n,i));var o=null!=r,a=o?new ro(r,!0,!1):null;return function(e){return lo(e.viewCache_)}(ia(i,t,So(e.pendingWriteTree_,t._path),o?a.getNode():Ei.EMPTY_NODE,o))}function fa(e,t){return ha(t,e.syncPointTree_,null,So(e.pendingWriteTree_,Mr()))}function ha(e,t,n,r){if(Br(e.path))return pa(e,t,n,r);var i=t.get(Mr());null==n&&null!=i&&(n=oa(i,Mr()));var o=[],a=Fr(e.path),s=e.operationForChild(a),u=t.children.get(a);if(u&&s){var l=n?n.getImmediateChild(a):null,c=Uo(r,a);o=o.concat(ha(s,u,l,c))}return i&&(o=o.concat(ra(i,e,r,n))),o}function pa(e,t,n,r){var i=t.get(Mr());null==n&&null!=i&&(n=oa(i,Mr()));var o=[];return t.children.inorderTraversal((function(t,i){var a=n?n.getImmediateChild(t):null,s=Uo(r,t),u=e.operationForChild(t);u&&(o=o.concat(pa(u,i,a,s)))})),i&&(o=o.concat(ra(i,e,r,n))),o}function va(e,t){return e.tagToQueryMap.get(t)}function ma(e){var t=e.indexOf("$");return pe(-1!==t&&t<e.length-1,"Bad queryKey."),{queryId:e.substr(t+1),path:new Lr(e.substr(0,t))}}function ya(e,t,n){var r=e.syncPointTree_.get(t);return pe(r,"Missing sync point for query tag that we're tracking"),ra(r,n,So(e.pendingWriteTree_,t),null)}var ga=function(){function e(t){J(this,e),this.node_=t}return Z(e,[{key:"getImmediateChild",value:function(t){return new e(this.node_.getImmediateChild(t))}},{key:"node",value:function(){return this.node_}}]),e}(),_a=function(){function e(t,n){J(this,e),this.syncTree_=t,this.path_=n}return Z(e,[{key:"getImmediateChild",value:function(t){var n=Vr(this.path_,t);return new e(this.syncTree_,n)}},{key:"node",value:function(){return ca(this.syncTree_,this.path_)}}]),e}(),ba=function(e,t,n){return e&&"object"===typeof e?(pe(".sv"in e,"Unexpected leaf node or priority contents"),"string"===typeof e[".sv"]?ka(e[".sv"],t,n):"object"===typeof e[".sv"]?wa(e[".sv"],t):void pe(!1,"Unexpected server value: "+JSON.stringify(e,null,2))):e},ka=function(e,t,n){if("timestamp"===e)return n.timestamp;pe(!1,"Unexpected server value: "+e)},wa=function(e,t,n){e.hasOwnProperty("increment")||pe(!1,"Unexpected server value: "+JSON.stringify(e,null,2));var r=e.increment;"number"!==typeof r&&pe(!1,"Unexpected increment value: "+r);var i=t.node();if(pe(null!==i&&"undefined"!==typeof i,"Expected ChildrenNode.EMPTY_NODE for nulls"),!i.isLeafNode())return r;var o=i.getValue();return"number"!==typeof o?r:o+r},Ia=function(e,t,n,r){return Sa(t,new _a(n,e),r)},xa=function(e,t,n){return Sa(e,new ga(t),n)};function Sa(e,t,n){var r,i=e.getPriority().val(),o=ba(i,t.getImmediateChild(".priority"),n);if(e.isLeafNode()){var a=e,s=ba(a.getValue(),t,n);return s!==a.getValue()||o!==a.getPriority().val()?new yi(s,Ni(o)):e}var u=e;return r=u,o!==u.getPriority().val()&&(r=r.updatePriority(new yi(o))),u.forEachChild(ki,(function(e,i){var o=Sa(i,t.getImmediateChild(e),n);o!==i&&(r=r.updateImmediateChild(e,o))})),r}var Ca=Z((function e(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"",n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null,r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{children:{},childCount:0};J(this,e),this.name=t,this.parent=n,this.node=r}));function Ea(e,t){for(var n=t instanceof Lr?t:new Lr(t),r=e,i=Fr(n);null!==i;){var o=je(r.node.children,i)||{children:{},childCount:0};r=new Ca(i,r,o),i=Fr(n=jr(n))}return r}function Ta(e){return e.node.value}function Na(e,t){e.node.value=t,Da(e)}function Pa(e){return e.node.childCount>0}function Oa(e,t){nr(e.node.children,(function(n,r){t(new Ca(n,e,r))}))}function Ra(e,t,n,r){n&&!r&&t(e),Oa(e,(function(e){Ra(e,t,!0,r)})),n&&r&&t(e)}function Aa(e){return new Lr(null===e.parent?e.name:Aa(e.parent)+"/"+e.name)}function Da(e){null!==e.parent&&function(e,t,n){var r=function(e){return void 0===Ta(e)&&!Pa(e)}(n),i=Ue(e.node.children,t);r&&i?(delete e.node.children[t],e.node.childCount--,Da(e)):r||i||(e.node.children[t]=n.node,e.node.childCount++,Da(e))}(e.parent,e.name,e)}var La=/[\[\].#$\/\u0000-\u001F\u007F]/,Ma=/[\[\].#$\u0000-\u001F\u007F]/,Fa=10485760,Ua=function(e){return"string"===typeof e&&0!==e.length&&!La.test(e)},ja=function(e){return"string"===typeof e&&0!==e.length&&!Ma.test(e)},za=function e(t,n,r){var i=r instanceof Lr?new $r(r,t):r;if(void 0===n)throw new Error(t+"contains undefined "+Qr(i));if("function"===typeof n)throw new Error(t+"contains a function "+Qr(i)+" with contents = "+n.toString());if($n(n))throw new Error(t+"contains "+n.toString()+" "+Qr(i));if("string"===typeof n&&n.length>Fa/3&&Xe(n)>Fa)throw new Error(t+"contains a string greater than "+"10485760 utf8 bytes "+Qr(i)+" ('"+n.substring(0,50)+"...')");if(n&&"object"===typeof n){var o=!1,a=!1;if(nr(n,(function(n,r){if(".value"===n)o=!0;else if(".priority"!==n&&".sv"!==n&&(a=!0,!Ua(n)))throw new Error(t+" contains an invalid key ("+n+") "+Qr(i)+'.  Keys must be non-empty strings and can\'t contain ".", "#", "$", "/", "[", or "]"');var s,u;u=n,(s=i).parts_.length>0&&(s.byteLength_+=1),s.parts_.push(u),s.byteLength_+=Xe(u),Yr(s),e(t,r,i),function(e){var t=e.parts_.pop();e.byteLength_-=Xe(t),e.parts_.length>0&&(e.byteLength_-=1)}(i)})),o&&a)throw new Error(t+' contains ".value" child '+Qr(i)+" in addition to actual children.")}},qa=function(e,t,n,r){if((!r||void 0!==n)&&!ja(n))throw new Error(Je(e,t)+'was an invalid path = "'+n+'". Paths must be non-empty strings and can\'t contain ".", "#", "$", "[", or "]"')},Wa=function(e,t){var n=t.path.toString();if("string"!==typeof t.repoInfo.host||0===t.repoInfo.host.length||!Ua(t.repoInfo.namespace)&&"localhost"!==t.repoInfo.host.split(":")[0]||0!==n.length&&!function(e){return e&&(e=e.replace(/^\/*\.info(\/|$)/,"/")),ja(e)}(n))throw new Error(Je(e,"url")+'must be a valid firebase URL and the path can\'t contain ".", "#", "$", "[", or "]".')},Va=Z((function e(){J(this,e),this.eventLists_=[],this.recursionDepth_=0}));function Ba(e,t){for(var n=null,r=0;r<t.length;r++){var i=t[r],o=i.getPath();null===n||Kr(o,n.path)||(e.eventLists_.push(n),n=null),null===n&&(n={events:[],path:o}),n.events.push(i)}n&&e.eventLists_.push(n)}function Ha(e,t,n){Ba(e,n),Ga(e,(function(e){return Kr(e,t)}))}function Ka(e,t,n){Ba(e,n),Ga(e,(function(e){return Gr(e,t)||Gr(t,e)}))}function Ga(e,t){e.recursionDepth_++;for(var n=!0,r=0;r<e.eventLists_.length;r++){var i=e.eventLists_[r];if(i)t(i.path)?($a(e.eventLists_[r]),e.eventLists_[r]=null):n=!1}n&&(e.eventLists_=[]),e.recursionDepth_--}function $a(e){for(var t=0;t<e.events.length;t++){var n=e.events[t];if(null!==n){e.events[t]=null;var r=n.getEventRunner();zn&&Vn("event: "+n.toString()),ur(r)}}}var Ya="repo_interrupt",Qa=function(){function e(t,n,r,i){J(this,e),this.repoInfo_=t,this.forceRestClient_=n,this.authTokenProvider_=r,this.appCheckProvider_=i,this.dataUpdateCount=0,this.statsListener_=null,this.eventQueue_=new Va,this.nextWriteId_=1,this.interceptServerDataCallback_=null,this.onDisconnect_=Ki(),this.transactionQueueTree_=new Ca,this.persistentConnection_=null,this.key=this.repoInfo_.toURLString()}return Z(e,[{key:"toString",value:function(){return(this.repoInfo_.secure?"https://":"http://")+this.repoInfo_.host}}]),e}();function Ja(e,t,n){if(e.stats_=wr(e.repoInfo_),e.forceRestClient_||("object"===typeof window&&window.navigator&&window.navigator.userAgent||"").search(/googlebot|google webmaster tools|bingbot|yahoo! slurp|baiduspider|yandexbot|duckduckbot/i)>=0)e.server_=new Bi(e.repoInfo_,(function(t,n,r,i){es(e,t,n,r,i)}),e.authTokenProvider_,e.appCheckProvider_),setTimeout((function(){return ts(e,!0)}),0);else{if("undefined"!==typeof n&&null!==n){if("object"!==typeof n)throw new Error("Only objects are supported for option databaseAuthVariableOverride");try{Me(n)}catch(r){throw new Error("Invalid authOverride provided: "+r)}}e.persistentConnection_=new Zr(e.repoInfo_,t,(function(t,n,r,i){es(e,t,n,r,i)}),(function(t){ts(e,t)}),(function(t){!function(e,t){nr(t,(function(t,n){ns(e,t,n)}))}(e,t)}),e.authTokenProvider_,e.appCheckProvider_,n),e.server_=e.persistentConnection_}e.authTokenProvider_.addTokenChangeListener((function(t){e.server_.refreshAuthToken(t)})),e.appCheckProvider_.addTokenChangeListener((function(t){e.server_.refreshAppCheckToken(t.token)})),e.statsReporter_=function(e,t){var n=e.toString();return kr[n]||(kr[n]=t()),kr[n]}(e.repoInfo_,(function(){return new Ji(e.stats_,e.server_)})),e.infoData_=new Hi,e.infoSyncTree_=new aa({startListening:function(t,n,r,i){var o=[],a=e.infoData_.getNode(t._path);return a.isEmpty()||(o=la(e.infoSyncTree_,t._path,a),setTimeout((function(){i("ok")}),0)),o},stopListening:function(){}}),ns(e,"connected",!1),e.serverSyncTree_=new aa({startListening:function(t,n,r,i){return e.server_.listen(t,r,n,(function(n,r){var o=i(n,r);Ka(e.eventQueue_,t._path,o)})),[]},stopListening:function(t,n){e.server_.unlisten(t,n)}})}function Xa(e){var t=e.infoData_.getNode(new Lr(".info/serverTimeOffset")).val()||0;return(new Date).getTime()+t}function Za(e){return function(e){return(e=e||{}).timestamp=e.timestamp||(new Date).getTime(),e}({timestamp:Xa(e)})}function es(e,t,n,r,i){e.dataUpdateCount++;var o=new Lr(t);n=e.interceptServerDataCallback_?e.interceptServerDataCallback_(t,n):n;var a=[];if(i)if(r){var s=qe(n,(function(e){return Ni(e)}));a=function(e,t,n,r){var i=va(e,r);if(i){var o=ma(i),a=o.path,s=o.queryId,u=Hr(a,t),l=ho.fromObject(n);return ya(e,a,new no(Xi(s),u,l))}return[]}(e.serverSyncTree_,o,s,i)}else{var u=Ni(n);a=function(e,t,n,r){var i=va(e,r);if(null!=i){var o=ma(i),a=o.path,s=o.queryId,u=Hr(a,t);return ya(e,a,new to(Xi(s),u,n))}return[]}(e.serverSyncTree_,o,u,i)}else if(r){var l=qe(n,(function(e){return Ni(e)}));a=function(e,t,n){var r=ho.fromObject(n);return fa(e,new no({fromUser:!1,fromServer:!0,queryId:null,tagged:!1},t,r))}(e.serverSyncTree_,o,l)}else{var c=Ni(n);a=la(e.serverSyncTree_,o,c)}var d=o;a.length>0&&(d=ls(e,o)),Ka(e.eventQueue_,d,a)}function ts(e,t){ns(e,"connected",t),!1===t&&function(e){os(e,"onDisconnectEvents");var t=Za(e),n=Ki();$i(e.onDisconnect_,Mr(),(function(r,i){var o=Ia(r,i,e.serverSyncTree_,t);Gi(n,r,o)}));var r=[];$i(n,Mr(),(function(t,n){r=r.concat(la(e.serverSyncTree_,t,n));var i=ps(e,t);ls(e,i)})),e.onDisconnect_=Ki(),Ka(e.eventQueue_,Mr(),r)}(e)}function ns(e,t,n){var r=new Lr("/.info/"+t),i=Ni(n);e.infoData_.updateSnapshot(r,i);var o=la(e.infoSyncTree_,r,i);Ka(e.eventQueue_,r,o)}function rs(e){return e.nextWriteId_++}function is(e){e.persistentConnection_&&e.persistentConnection_.interrupt(Ya)}function os(e){var t="";e.persistentConnection_&&(t=e.persistentConnection_.id+":");for(var n=arguments.length,r=new Array(n>1?n-1:0),i=1;i<n;i++)r[i-1]=arguments[i];Vn.apply(void 0,[t].concat(r))}function as(e,t,n){return ca(e.serverSyncTree_,t,n)||Ei.EMPTY_NODE}function ss(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:e.transactionQueueTree_;if(t||hs(e,t),Ta(t)){var n=ds(e,t);pe(n.length>0,"Sending zero length transaction queue");var r=n.every((function(e){return 0===e.status}));r&&us(e,Aa(t),n)}else Pa(t)&&Oa(t,(function(t){ss(e,t)}))}function us(e,t,n){for(var r=n.map((function(e){return e.currentWriteId})),i=as(e,t,r),o=i,a=i.hash(),s=0;s<n.length;s++){var u=n[s];pe(0===u.status,"tryToSendTransactionQueue_: items in queue should all be run."),u.status=1,u.retryCount++;var l=Hr(t,u.path);o=o.updateChild(l,u.currentOutputSnapshotRaw)}var c=o.val(!0),d=t;e.server_.put(d.toString(),c,(function(r){os(e,"transaction put response",{path:d.toString(),status:r});var i=[];if("ok"===r){for(var o=[],a=function(t){n[t].status=2,i=i.concat(ua(e.serverSyncTree_,n[t].currentWriteId)),n[t].onComplete&&o.push((function(){return n[t].onComplete(null,!0,n[t].currentOutputSnapshotResolved)})),n[t].unwatcher()},s=0;s<n.length;s++)a(s);hs(e,Ea(e.transactionQueueTree_,t)),ss(e,e.transactionQueueTree_),Ka(e.eventQueue_,t,i);for(var u=0;u<o.length;u++)ur(o[u])}else{if("datastale"===r)for(var l=0;l<n.length;l++)3===n[l].status?n[l].status=4:n[l].status=0;else{Gn("transaction at "+d.toString()+" failed: "+r);for(var c=0;c<n.length;c++)n[c].status=4,n[c].abortReason=r}ls(e,t)}}),a)}function ls(e,t){var n=cs(e,t),r=Aa(n);return function(e,t,n){if(0===t.length)return;for(var r=[],i=[],o=t.filter((function(e){return 0===e.status})).map((function(e){return e.currentWriteId})),a=function(a){var s,u=t[a],l=Hr(n,u.path),c=!1,d=void 0;if(pe(null!==l,"rerunTransactionsUnderNode_: relativePath should not be null."),4===u.status)c=!0,d=u.abortReason,i=i.concat(ua(e.serverSyncTree_,u.currentWriteId,!0));else if(0===u.status)if(u.retryCount>=25)c=!0,d="maxretry",i=i.concat(ua(e.serverSyncTree_,u.currentWriteId,!0));else{var f=as(e,u.path,o);u.currentInputSnapshot=f;var h=t[a].update(f.val());if(void 0!==h){za("transaction failed: Data returned ",h,u.path);var p=Ni(h);"object"===typeof h&&null!=h&&Ue(h,".priority")||(p=p.updatePriority(f.getPriority()));var v=u.currentWriteId,m=Za(e),y=xa(p,f,m);u.currentOutputSnapshotRaw=p,u.currentOutputSnapshotResolved=y,u.currentWriteId=rs(e),o.splice(o.indexOf(v),1),i=(i=i.concat(sa(e.serverSyncTree_,u.path,y,u.currentWriteId,u.applyLocally))).concat(ua(e.serverSyncTree_,v,!0))}else c=!0,d="nodata",i=i.concat(ua(e.serverSyncTree_,u.currentWriteId,!0))}Ka(e.eventQueue_,n,i),i=[],c&&(t[a].status=2,s=t[a].unwatcher,setTimeout(s,Math.floor(0)),t[a].onComplete&&("nodata"===d?r.push((function(){return t[a].onComplete(null,!1,t[a].currentInputSnapshot)})):r.push((function(){return t[a].onComplete(new Error(d),!1,null)}))))},s=0;s<t.length;s++)a(s);hs(e,e.transactionQueueTree_);for(var u=0;u<r.length;u++)ur(r[u]);ss(e,e.transactionQueueTree_)}(e,ds(e,n),r),r}function cs(e,t){var n,r=e.transactionQueueTree_;for(n=Fr(t);null!==n&&void 0===Ta(r);)r=Ea(r,n),n=Fr(t=jr(t));return r}function ds(e,t){var n=[];return fs(e,t,n),n.sort((function(e,t){return e.order-t.order})),n}function fs(e,t,n){var r=Ta(t);if(r)for(var i=0;i<r.length;i++)n.push(r[i]);Oa(t,(function(t){fs(e,t,n)}))}function hs(e,t){var n=Ta(t);if(n){for(var r=0,i=0;i<n.length;i++)2!==n[i].status&&(n[r]=n[i],r++);n.length=r,Na(t,n.length>0?n:void 0)}Oa(t,(function(t){hs(e,t)}))}function ps(e,t){var n=Aa(cs(e,t)),r=Ea(e.transactionQueueTree_,t);return function(e,t,n){for(var r=n?e:e.parent;null!==r;){if(t(r))return!0;r=r.parent}}(r,(function(t){vs(e,t)})),vs(e,r),Ra(r,(function(t){vs(e,t)})),n}function vs(e,t){var n=Ta(t);if(n){for(var r=[],i=[],o=-1,a=0;a<n.length;a++)3===n[a].status||(1===n[a].status?(pe(o===a-1,"All SENT items should be at beginning of queue."),o=a,n[a].status=3,n[a].abortReason="set"):(pe(0===n[a].status,"Unexpected transaction status in abort"),n[a].unwatcher(),i=i.concat(ua(e.serverSyncTree_,n[a].currentWriteId,!0)),n[a].onComplete&&r.push(n[a].onComplete.bind(null,new Error("set"),!1,null))));-1===o?Na(t,void 0):n.length=o+1,Ka(e.eventQueue_,Aa(t),i);for(var s=0;s<r.length;s++)ur(r[s])}}var ms=function(e,t){var n=ys(e),r=n.namespace;"firebase.com"===n.domain&&Kn(n.host+" is no longer supported. Please use <YOUR FIREBASE>.firebaseio.com instead"),r&&"undefined"!==r||"localhost"===n.domain||Kn("Cannot parse Firebase url. Please use https://<YOUR FIREBASE>.firebaseio.com"),n.secure||"undefined"!==typeof window&&window.location&&window.location.protocol&&-1!==window.location.protocol.indexOf("https:")&&Gn("Insecure Firebase access from a secure page. Please use https in calls to new Firebase().");var i="ws"===n.scheme||"wss"===n.scheme;return{repoInfo:new yr(n.host,n.secure,r,i,t,"",r!==n.subdomain),path:new Lr(n.pathString)}},ys=function(e){var t="",n="",r="",i="",o="",a=!0,s="https",u=443;if("string"===typeof e){var l=e.indexOf("//");l>=0&&(s=e.substring(0,l-1),e=e.substring(l+2));var c=e.indexOf("/");-1===c&&(c=e.length);var d=e.indexOf("?");-1===d&&(d=e.length),t=e.substring(0,Math.min(c,d)),c<d&&(i=function(e){for(var t="",n=e.split("/"),r=0;r<n.length;r++)if(n[r].length>0){var i=n[r];try{i=decodeURIComponent(i.replace(/\+/g," "))}catch(o){}t+="/"+i}return t}(e.substring(c,d)));var f=function(e){var t={};"?"===e.charAt(0)&&(e=e.substring(1));var n,r=ee(e.split("&"));try{for(r.s();!(n=r.n()).done;){var i=n.value;if(0!==i.length){var o=i.split("=");2===o.length?t[decodeURIComponent(o[0])]=decodeURIComponent(o[1]):Gn("Invalid query segment '".concat(i,"' in query '").concat(e,"'"))}}}catch(a){r.e(a)}finally{r.f()}return t}(e.substring(Math.min(e.length,d)));(l=t.indexOf(":"))>=0?(a="https"===s||"wss"===s,u=parseInt(t.substring(l+1),10)):l=t.length;var h=t.slice(0,l);if("localhost"===h.toLowerCase())n="localhost";else if(h.split(".").length<=2)n=h;else{var p=t.indexOf(".");r=t.substring(0,p).toLowerCase(),n=t.substring(p+1),o=r}"ns"in f&&(o=f.ns)}return{host:t,port:u,domain:n,subdomain:r,secure:a,scheme:s,pathString:i,namespace:o}},gs=function(){function e(t,n,r,i){J(this,e),this._repo=t,this._path=n,this._queryParams=r,this._orderByCalled=i}return Z(e,[{key:"key",get:function(){return Br(this._path)?null:zr(this._path)}},{key:"ref",get:function(){return new _s(this._repo,this._path)}},{key:"_queryIdentifier",get:function(){var e=Vi(this._queryParams),t=er(e);return"{}"===t?"default":t}},{key:"_queryObject",get:function(){return Vi(this._queryParams)}},{key:"isEqual",value:function(t){if(!((t=Ze(t))instanceof e))return!1;var n=this._repo===t._repo,r=Kr(this._path,t._path),i=this._queryIdentifier===t._queryIdentifier;return n&&r&&i}},{key:"toJSON",value:function(){return this.toString()}},{key:"toString",value:function(){return this._repo.toString()+function(e){for(var t="",n=e.pieceNum_;n<e.pieces_.length;n++)""!==e.pieces_[n]&&(t+="/"+encodeURIComponent(String(e.pieces_[n])));return t||"/"}(this._path)}}]),e}();var _s=function(e){re(n,e);var t=ue(n);function n(e,r){return J(this,n),t.call(this,e,r,new qi,!1)}return Z(n,[{key:"parent",get:function(){var e=Wr(this._path);return null===e?null:new n(this._repo,e)}},{key:"root",get:function(){for(var e=this;null!==e.parent;)e=e.parent;return e}}]),n}(gs),bs=function(){function e(t,n,r){J(this,e),this._node=t,this.ref=n,this._index=r}return Z(e,[{key:"priority",get:function(){return this._node.getPriority().val()}},{key:"key",get:function(){return this.ref.key}},{key:"size",get:function(){return this._node.numChildren()}},{key:"child",value:function(t){var n=new Lr(t),r=ws(this.ref,t);return new e(this._node.getChild(n),r,ki)}},{key:"exists",value:function(){return!this._node.isEmpty()}},{key:"exportVal",value:function(){return this._node.val(!0)}},{key:"forEach",value:function(t){var n=this;return!this._node.isLeafNode()&&!!this._node.forEachChild(this._index,(function(r,i){return t(new e(i,ws(n.ref,r),ki))}))}},{key:"hasChild",value:function(e){var t=new Lr(e);return!this._node.getChild(t).isEmpty()}},{key:"hasChildren",value:function(){return!this._node.isLeafNode()&&!this._node.isEmpty()}},{key:"toJSON",value:function(){return this.exportVal()}},{key:"val",value:function(){return this._node.val()}}]),e}();function ks(e,t){return(e=Ze(e))._checkNotDeleted("ref"),void 0!==t?ws(e._root,t):e._root}function ws(e,t){var n,r,i,o;return null===Fr((e=Ze(e))._path)?(n="child",r="path",o=!1,(i=t)&&(i=i.replace(/^\/*\.info(\/|$)/,"/")),qa(n,r,i,o)):qa("child","path",t,!1),new _s(e._repo,Vr(e._path,t))}function Is(e){return function(e,t){var n=da(e.serverSyncTree_,t);return null!=n?Promise.resolve(n):e.server_.get(t).then((function(n){var r=Ni(n).withIndex(t._queryParams.getIndex()),i=la(e.serverSyncTree_,t._path,r);return Ha(e.eventQueue_,t._path,i),Promise.resolve(r)}),(function(n){return os(e,"get for query "+Me(t)+" failed: "+n),Promise.reject(new Error(n))}))}((e=Ze(e))._repo,e).then((function(t){return new bs(t,new _s(e._repo,e._path),e._queryParams.getIndex())}))}!function(e){pe(!Qo,"__referenceConstructor has already been defined"),Qo=e}(_s),function(e){pe(!ta,"__referenceConstructor has already been defined"),ta=e}(_s);var xs={},Ss=!1;function Cs(e,t,n,r,i){var o=r||e.options.databaseURL;void 0===o&&(e.options.projectId||Kn("Can't determine Firebase Database URL. Be sure to include  a Project ID when calling firebase.initializeApp()."),Vn("Using default host for project ",e.options.projectId),o="".concat(e.options.projectId,"-default-rtdb.firebaseio.com"));var a,s=ms(o,i),u=s.repoInfo,l=void 0;"undefined"!==typeof process&&(l={NODE_ENV:"production",PUBLIC_URL:"/want-smth-test",WDS_SOCKET_HOST:void 0,WDS_SOCKET_PATH:void 0,WDS_SOCKET_PORT:void 0,FAST_REFRESH:!0}.FIREBASE_DATABASE_EMULATOR_HOST),l?(a=!0,o="http://".concat(l,"?ns=").concat(u.namespace),u=(s=ms(o,i)).repoInfo):a=!s.repoInfo.secure;var c=i&&a?new fr(fr.OWNER):new dr(e.name,e.options,t);Wa("Invalid Firebase Database URL",s),Br(s.path)||Kn("Database URL must point to the root of a Firebase Database (not including a child path).");var d=function(e,t,n,r){var i=xs[t.name];i||(i={},xs[t.name]=i);var o=i[e.toURLString()];o&&Kn("Database initialized multiple times. Please make sure the format of the database URL matches with each database() call.");return o=new Qa(e,Ss,n,r),i[e.toURLString()]=o,o}(u,e,c,new cr(e.name,n));return new Es(d,e)}var Es=function(){function e(t,n){J(this,e),this._repoInternal=t,this.app=n,this.type="database",this._instanceStarted=!1}return Z(e,[{key:"_repo",get:function(){return this._instanceStarted||(Ja(this._repoInternal,this.app.options.appId,this.app.options.databaseAuthVariableOverride),this._instanceStarted=!0),this._repoInternal}},{key:"_root",get:function(){return this._rootInternal||(this._rootInternal=new _s(this._repo,Mr())),this._rootInternal}},{key:"_delete",value:function(){return null!==this._rootInternal&&(!function(e,t){var n=xs[t];n&&n[e.key]===e||Kn("Database ".concat(t,"(").concat(e.repoInfo_,") has already been deleted.")),is(e),delete n[e.key]}(this._repo,this.app.name),this._repoInternal=null,this._rootInternal=null),Promise.resolve()}},{key:"_checkNotDeleted",value:function(e){null===this._rootInternal&&Kn("Cannot call "+e+" on a deleted database.")}}]),e}();Zr.prototype.simpleListen=function(e,t){this.sendRequest("q",{p:e},t)},Zr.prototype.echo=function(e,t){this.sendRequest("echo",{d:e},t)};function Ts(e,t){for(;!Object.prototype.hasOwnProperty.call(e,t)&&null!==(e=ie(e)););return e}function Ns(){return Ns="undefined"!==typeof Reflect&&Reflect.get?Reflect.get.bind():function(e,t,n){var r=Ts(e,t);if(r){var i=Object.getOwnPropertyDescriptor(r,t);return i.get?i.get.call(arguments.length<3?e:n):i.value}},Ns.apply(this,arguments)}!function(e){!function(e){Pn=e}(Qt),Vt(new rt("database",(function(e,t){var n=t.instanceIdentifier;return Cs(e.getProvider("app").getImmediate(),e.getProvider("auth-internal"),e.getProvider("app-check-internal"),n)}),"PUBLIC").setMultipleInstances(!0)),nn(Tn,Nn,e),nn(Tn,Nn,"esm2017")}();function Ps(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(null!=e&&"function"===typeof Object.getOwnPropertySymbols){var i=0;for(r=Object.getOwnPropertySymbols(e);i<r.length;i++)t.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(e,r[i])&&(n[r[i]]=e[r[i]])}return n}Object.create;var Os;Object.create;var Rs="facebook.com",As="github.com",Ds="google.com",Ls="password",Ms="twitter.com",Fs="EMAIL_SIGNIN",Us="PASSWORD_RESET",js="RECOVER_EMAIL",zs="REVERT_SECOND_FACTOR_ADDITION",qs="VERIFY_AND_CHANGE_EMAIL",Ws="VERIFY_EMAIL";function Vs(){return o({},"dependent-sdk-initialized-before-auth","Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK.")}var Bs=function(){var e;return o(e={},"admin-restricted-operation","This operation is restricted to administrators only."),o(e,"argument-error",""),o(e,"app-not-authorized","This app, identified by the domain where it's hosted, is not authorized to use Firebase Authentication with the provided API key. Review your key configuration in the Google API console."),o(e,"app-not-installed","The requested mobile application corresponding to the identifier (Android package name or iOS bundle ID) provided is not installed on this device."),o(e,"captcha-check-failed","The reCAPTCHA response token provided is either invalid, expired, already used or the domain associated with it does not match the list of whitelisted domains."),o(e,"code-expired","The SMS code has expired. Please re-send the verification code to try again."),o(e,"cordova-not-ready","Cordova framework is not ready."),o(e,"cors-unsupported","This browser is not supported."),o(e,"credential-already-in-use","This credential is already associated with a different user account."),o(e,"custom-token-mismatch","The custom token corresponds to a different audience."),o(e,"requires-recent-login","This operation is sensitive and requires recent authentication. Log in again before retrying this request."),o(e,"dependent-sdk-initialized-before-auth","Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."),o(e,"dynamic-link-not-activated","Please activate Dynamic Links in the Firebase Console and agree to the terms and conditions."),o(e,"email-change-needs-verification","Multi-factor users must always have a verified email."),o(e,"email-already-in-use","The email address is already in use by another account."),o(e,"emulator-config-failed",'Auth instance has already been used to make a network call. Auth can no longer be configured to use the emulator. Try calling "connectAuthEmulator()" sooner.'),o(e,"expired-action-code","The action code has expired."),o(e,"cancelled-popup-request","This operation has been cancelled due to another conflicting popup being opened."),o(e,"internal-error","An internal AuthError has occurred."),o(e,"invalid-app-credential","The phone verification request contains an invalid application verifier. The reCAPTCHA token response is either invalid or expired."),o(e,"invalid-app-id","The mobile app identifier is not registed for the current project."),o(e,"invalid-user-token","This user's credential isn't valid for this project. This can happen if the user's token has been tampered with, or if the user isn't for the project associated with this API key."),o(e,"invalid-auth-event","An internal AuthError has occurred."),o(e,"invalid-verification-code","The SMS verification code used to create the phone auth credential is invalid. Please resend the verification code sms and be sure to use the verification code provided by the user."),o(e,"invalid-continue-uri","The continue URL provided in the request is invalid."),o(e,"invalid-cordova-configuration","The following Cordova plugins must be installed to enable OAuth sign-in: cordova-plugin-buildinfo, cordova-universal-links-plugin, cordova-plugin-browsertab, cordova-plugin-inappbrowser and cordova-plugin-customurlscheme."),o(e,"invalid-custom-token","The custom token format is incorrect. Please check the documentation."),o(e,"invalid-dynamic-link-domain","The provided dynamic link domain is not configured or authorized for the current project."),o(e,"invalid-email","The email address is badly formatted."),o(e,"invalid-emulator-scheme","Emulator URL must start with a valid scheme (http:// or https://)."),o(e,"invalid-api-key","Your API key is invalid, please check you have copied it correctly."),o(e,"invalid-cert-hash","The SHA-1 certificate hash provided is invalid."),o(e,"invalid-credential","The supplied auth credential is malformed or has expired."),o(e,"invalid-message-payload","The email template corresponding to this action contains invalid characters in its message. Please fix by going to the Auth email templates section in the Firebase Console."),o(e,"invalid-multi-factor-session","The request does not contain a valid proof of first factor successful sign-in."),o(e,"invalid-oauth-provider","EmailAuthProvider is not supported for this operation. This operation only supports OAuth providers."),o(e,"invalid-oauth-client-id","The OAuth client ID provided is either invalid or does not match the specified API key."),o(e,"unauthorized-domain","This domain is not authorized for OAuth operations for your Firebase project. Edit the list of authorized domains from the Firebase console."),o(e,"invalid-action-code","The action code is invalid. This can happen if the code is malformed, expired, or has already been used."),o(e,"wrong-password","The password is invalid or the user does not have a password."),o(e,"invalid-persistence-type","The specified persistence type is invalid. It can only be local, session or none."),o(e,"invalid-phone-number","The format of the phone number provided is incorrect. Please enter the phone number in a format that can be parsed into E.164 format. E.164 phone numbers are written in the format [+][country code][subscriber number including area code]."),o(e,"invalid-provider-id","The specified provider ID is invalid."),o(e,"invalid-recipient-email","The email corresponding to this action failed to send as the provided recipient email address is invalid."),o(e,"invalid-sender","The email template corresponding to this action contains an invalid sender email or name. Please fix by going to the Auth email templates section in the Firebase Console."),o(e,"invalid-verification-id","The verification ID used to create the phone auth credential is invalid."),o(e,"invalid-tenant-id","The Auth instance's tenant ID is invalid."),o(e,"login-blocked","Login blocked by user-provided method: {$originalMessage}"),o(e,"missing-android-pkg-name","An Android Package Name must be provided if the Android App is required to be installed."),o(e,"auth-domain-config-required","Be sure to include authDomain when calling firebase.initializeApp(), by following the instructions in the Firebase console."),o(e,"missing-app-credential","The phone verification request is missing an application verifier assertion. A reCAPTCHA response token needs to be provided."),o(e,"missing-verification-code","The phone auth credential was created with an empty SMS verification code."),o(e,"missing-continue-uri","A continue URL must be provided in the request."),o(e,"missing-iframe-start","An internal AuthError has occurred."),o(e,"missing-ios-bundle-id","An iOS Bundle ID must be provided if an App Store ID is provided."),o(e,"missing-or-invalid-nonce","The request does not contain a valid nonce. This can occur if the SHA-256 hash of the provided raw nonce does not match the hashed nonce in the ID token payload."),o(e,"missing-multi-factor-info","No second factor identifier is provided."),o(e,"missing-multi-factor-session","The request is missing proof of first factor successful sign-in."),o(e,"missing-phone-number","To send verification codes, provide a phone number for the recipient."),o(e,"missing-verification-id","The phone auth credential was created with an empty verification ID."),o(e,"app-deleted","This instance of FirebaseApp has been deleted."),o(e,"multi-factor-info-not-found","The user does not have a second factor matching the identifier provided."),o(e,"multi-factor-auth-required","Proof of ownership of a second factor is required to complete sign-in."),o(e,"account-exists-with-different-credential","An account already exists with the same email address but different sign-in credentials. Sign in using a provider associated with this email address."),o(e,"network-request-failed","A network AuthError (such as timeout, interrupted connection or unreachable host) has occurred."),o(e,"no-auth-event","An internal AuthError has occurred."),o(e,"no-such-provider","User was not linked to an account with the given provider."),o(e,"null-user","A null user object was provided as the argument for an operation which requires a non-null user object."),o(e,"operation-not-allowed","The given sign-in provider is disabled for this Firebase project. Enable it in the Firebase console, under the sign-in method tab of the Auth section."),o(e,"operation-not-supported-in-this-environment",'This operation is not supported in the environment this application is running on. "location.protocol" must be http, https or chrome-extension and web storage must be enabled.'),o(e,"popup-blocked","Unable to establish a connection with the popup. It may have been blocked by the browser."),o(e,"popup-closed-by-user","The popup has been closed by the user before finalizing the operation."),o(e,"provider-already-linked","User can only be linked to one identity for the given provider."),o(e,"quota-exceeded","The project's quota for this operation has been exceeded."),o(e,"redirect-cancelled-by-user","The redirect operation has been cancelled by the user before finalizing."),o(e,"redirect-operation-pending","A redirect sign-in operation is already pending."),o(e,"rejected-credential","The request contains malformed or mismatching credentials."),o(e,"second-factor-already-in-use","The second factor is already enrolled on this account."),o(e,"maximum-second-factor-count-exceeded","The maximum allowed number of second factors on a user has been exceeded."),o(e,"tenant-id-mismatch","The provided tenant ID does not match the Auth instance's tenant ID"),o(e,"timeout","The operation has timed out."),o(e,"user-token-expired","The user's credential is no longer valid. The user must sign in again."),o(e,"too-many-requests","We have blocked all requests from this device due to unusual activity. Try again later."),o(e,"unauthorized-continue-uri","The domain of the continue URL is not whitelisted.  Please whitelist the domain in the Firebase console."),o(e,"unsupported-first-factor","Enrolling a second factor or signing in with a multi-factor account requires sign-in with a supported first factor."),o(e,"unsupported-persistence-type","The current environment does not support the specified persistence type."),o(e,"unsupported-tenant-operation","This operation is not supported in a multi-tenant context."),o(e,"unverified-email","The operation requires a verified email."),o(e,"user-cancelled","The user did not grant your application the permissions it requested."),o(e,"user-not-found","There is no user record corresponding to this identifier. The user may have been deleted."),o(e,"user-disabled","The user account has been disabled by an administrator."),o(e,"user-mismatch","The supplied credentials do not correspond to the previously signed in user."),o(e,"user-signed-out",""),o(e,"weak-password","The password must be 6 characters long or more."),o(e,"web-storage-unsupported","This browser is not supported or 3rd party cookies and data may be disabled."),o(e,"already-initialized","initializeAuth() has already been called with different options. To avoid this error, call initializeAuth() with the same options as when it was originally called, or call getAuth() to return the already initialized instance."),e},Hs=Vs,Ks=new Re("auth","Firebase",Vs()),Gs=new pt("@firebase/auth");function $s(e){if(Gs.logLevel<=st.ERROR){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];Gs.error.apply(Gs,["Auth (".concat(Qt,"): ").concat(e)].concat(n))}}function Ys(e){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];throw Zs.apply(void 0,[e].concat(n))}function Qs(e){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];return Zs.apply(void 0,[e].concat(n))}function Js(e,t,n){var r=Object.assign(Object.assign({},Hs()),o({},t,n));return new Re("auth","Firebase",r).create(t,{appName:e.name})}function Xs(e,t,n){if(!(t instanceof n))throw n.name!==t.constructor.name&&Ys(e,"argument-error"),Js(e,"argument-error","Type of ".concat(t.constructor.name," does not match expected instance.")+"Did you pass a reference from a different Auth SDK?")}function Zs(e){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];if("string"!==typeof e){var i,o=n[0],a=p(n.slice(1));return a[0]&&(a[0].appName=e.name),(i=e._errorFactory).create.apply(i,[o].concat(p(a)))}return Ks.create.apply(Ks,[e].concat(n))}function eu(e,t){if(!e){for(var n=arguments.length,r=new Array(n>2?n-2:0),i=2;i<n;i++)r[i-2]=arguments[i];throw Zs.apply(void 0,[t].concat(r))}}function tu(e){var t="INTERNAL ASSERTION FAILED: "+e;throw $s(t),new Error(t)}function nu(e,t){e||tu(t)}var ru=new Map;function iu(e){nu(e instanceof Function,"Expected a class definition");var t=ru.get(e);return t?(nu(t instanceof e,"Instance stored in cache mismatched with class"),t):(t=new e,ru.set(e,t),t)}function ou(){var e;return"undefined"!==typeof self&&(null===(e=self.location)||void 0===e?void 0:e.href)||""}function au(){return"http:"===su()||"https:"===su()}function su(){var e;return"undefined"!==typeof self&&(null===(e=self.location)||void 0===e?void 0:e.protocol)||null}var uu=function(){function e(t,n){J(this,e),this.shortDelay=t,this.longDelay=n,nu(n>t,"Short delay should be less than long delay!"),this.isMobile=xe()||Ee()}return Z(e,[{key:"get",value:function(){return"undefined"!==typeof navigator&&navigator&&"onLine"in navigator&&"boolean"===typeof navigator.onLine&&(au()||Ce()||"connection"in navigator)&&!navigator.onLine?Math.min(5e3,this.shortDelay):this.isMobile?this.longDelay:this.shortDelay}}]),e}();function lu(e,t){nu(e.emulator,"Emulator should always be set here");var n=e.emulator.url;return t?"".concat(n).concat(t.startsWith("/")?t.slice(1):t):n}var cu=function(){function e(){J(this,e)}return Z(e,null,[{key:"initialize",value:function(e,t,n){this.fetchImpl=e,t&&(this.headersImpl=t),n&&(this.responseImpl=n)}},{key:"fetch",value:function(){return this.fetchImpl?this.fetchImpl:"undefined"!==typeof self&&"fetch"in self?self.fetch:void tu("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}},{key:"headers",value:function(){return this.headersImpl?this.headersImpl:"undefined"!==typeof self&&"Headers"in self?self.Headers:void tu("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}},{key:"response",value:function(){return this.responseImpl?this.responseImpl:"undefined"!==typeof self&&"Response"in self?self.Response:void tu("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}}]),e}(),du=(o(Os={},"CREDENTIAL_MISMATCH","custom-token-mismatch"),o(Os,"MISSING_CUSTOM_TOKEN","internal-error"),o(Os,"INVALID_IDENTIFIER","invalid-email"),o(Os,"MISSING_CONTINUE_URI","internal-error"),o(Os,"INVALID_PASSWORD","wrong-password"),o(Os,"MISSING_PASSWORD","internal-error"),o(Os,"EMAIL_EXISTS","email-already-in-use"),o(Os,"PASSWORD_LOGIN_DISABLED","operation-not-allowed"),o(Os,"INVALID_IDP_RESPONSE","invalid-credential"),o(Os,"INVALID_PENDING_TOKEN","invalid-credential"),o(Os,"FEDERATED_USER_ID_ALREADY_LINKED","credential-already-in-use"),o(Os,"MISSING_REQ_TYPE","internal-error"),o(Os,"EMAIL_NOT_FOUND","user-not-found"),o(Os,"RESET_PASSWORD_EXCEED_LIMIT","too-many-requests"),o(Os,"EXPIRED_OOB_CODE","expired-action-code"),o(Os,"INVALID_OOB_CODE","invalid-action-code"),o(Os,"MISSING_OOB_CODE","internal-error"),o(Os,"CREDENTIAL_TOO_OLD_LOGIN_AGAIN","requires-recent-login"),o(Os,"INVALID_ID_TOKEN","invalid-user-token"),o(Os,"TOKEN_EXPIRED","user-token-expired"),o(Os,"USER_NOT_FOUND","user-token-expired"),o(Os,"TOO_MANY_ATTEMPTS_TRY_LATER","too-many-requests"),o(Os,"INVALID_CODE","invalid-verification-code"),o(Os,"INVALID_SESSION_INFO","invalid-verification-id"),o(Os,"INVALID_TEMPORARY_PROOF","invalid-credential"),o(Os,"MISSING_SESSION_INFO","missing-verification-id"),o(Os,"SESSION_EXPIRED","code-expired"),o(Os,"MISSING_ANDROID_PACKAGE_NAME","missing-android-pkg-name"),o(Os,"UNAUTHORIZED_DOMAIN","unauthorized-continue-uri"),o(Os,"INVALID_OAUTH_CLIENT_ID","invalid-oauth-client-id"),o(Os,"ADMIN_ONLY_OPERATION","admin-restricted-operation"),o(Os,"INVALID_MFA_PENDING_CREDENTIAL","invalid-multi-factor-session"),o(Os,"MFA_ENROLLMENT_NOT_FOUND","multi-factor-info-not-found"),o(Os,"MISSING_MFA_ENROLLMENT_ID","missing-multi-factor-info"),o(Os,"MISSING_MFA_PENDING_CREDENTIAL","missing-multi-factor-session"),o(Os,"SECOND_FACTOR_EXISTS","second-factor-already-in-use"),o(Os,"SECOND_FACTOR_LIMIT_EXCEEDED","maximum-second-factor-count-exceeded"),o(Os,"BLOCKING_FUNCTION_ERROR_RESPONSE","internal-error"),Os),fu=new uu(3e4,6e4);function hu(e,t){return e.tenantId&&!t.tenantId?Object.assign(Object.assign({},t),{tenantId:e.tenantId}):t}function pu(e,t,n,r){return vu.apply(this,arguments)}function vu(){return vu=nt(et().mark((function e(t,n,r,i){var o,a=arguments;return et().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return o=a.length>4&&void 0!==a[4]?a[4]:{},e.abrupt("return",mu(t,o,nt(et().mark((function e(){var o,a,s,u;return et().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return o={},a={},i&&("GET"===n?a=i:o={body:JSON.stringify(i)}),s=Be(Object.assign({key:t.config.apiKey},a)).slice(1),e.next=6,t._getAdditionalHeaders();case 6:return(u=e.sent)["Content-Type"]="application/json",t.languageCode&&(u["X-Firebase-Locale"]=t.languageCode),e.abrupt("return",cu.fetch()(bu(t,t.config.apiHost,r,s),Object.assign({method:n,headers:u,referrerPolicy:"no-referrer"},o)));case 10:case"end":return e.stop()}}),e)})))));case 2:case"end":return e.stop()}}),e)}))),vu.apply(this,arguments)}function mu(e,t,n){return yu.apply(this,arguments)}function yu(){return(yu=nt(et().mark((function e(t,n,r){var i,o,a,s,u,l,c,d,h,p;return et().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t._canInitEmulator=!1,i=Object.assign(Object.assign({},du),n),e.prev=2,o=new ku(t),e.next=6,Promise.race([r(),o.promise]);case 6:return a=e.sent,o.clearNetworkTimeout(),e.next=10,a.json();case 10:if(!("needConfirmation"in(s=e.sent))){e.next=13;break}throw wu(t,"account-exists-with-different-credential",s);case 13:if(!a.ok||"errorMessage"in s){e.next=17;break}return e.abrupt("return",s);case 17:if(u=a.ok?s.errorMessage:s.error.message,l=u.split(" : "),c=f(l,2),d=c[0],h=c[1],"FEDERATED_USER_ID_ALREADY_LINKED"!==d){e.next=23;break}throw wu(t,"credential-already-in-use",s);case 23:if("EMAIL_EXISTS"!==d){e.next=27;break}throw wu(t,"email-already-in-use",s);case 27:if("USER_DISABLED"!==d){e.next=29;break}throw wu(t,"user-disabled",s);case 29:if(p=i[d]||d.toLowerCase().replace(/[_\s]+/g,"-"),!h){e.next=34;break}throw Js(t,p,h);case 34:Ys(t,p);case 35:e.next=42;break;case 37:if(e.prev=37,e.t0=e.catch(2),!(e.t0 instanceof Oe)){e.next=41;break}throw e.t0;case 41:Ys(t,"network-request-failed");case 42:case"end":return e.stop()}}),e,null,[[2,37]])})))).apply(this,arguments)}function gu(e,t,n,r){return _u.apply(this,arguments)}function _u(){return _u=nt(et().mark((function e(t,n,r,i){var o,a,s=arguments;return et().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return o=s.length>4&&void 0!==s[4]?s[4]:{},e.next=3,pu(t,n,r,i,o);case 3:return"mfaPendingCredential"in(a=e.sent)&&Ys(t,"multi-factor-auth-required",{_serverResponse:a}),e.abrupt("return",a);case 6:case"end":return e.stop()}}),e)}))),_u.apply(this,arguments)}function bu(e,t,n,r){var i="".concat(t).concat(n,"?").concat(r);return e.config.emulator?lu(e.config,i):"".concat(e.config.apiScheme,"://").concat(i)}var ku=function(){function e(t){var n=this;J(this,e),this.auth=t,this.timer=null,this.promise=new Promise((function(e,t){n.timer=setTimeout((function(){return t(Qs(n.auth,"network-request-failed"))}),fu.get())}))}return Z(e,[{key:"clearNetworkTimeout",value:function(){clearTimeout(this.timer)}}]),e}();function wu(e,t,n){var r={appName:e.name};n.email&&(r.email=n.email),n.phoneNumber&&(r.phoneNumber=n.phoneNumber);var i=Qs(e,t,r);return i.customData._tokenResponse=n,i}function Iu(e,t){return xu.apply(this,arguments)}function xu(){return(xu=nt(et().mark((function e(t,n){return et().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",pu(t,"POST","/v1/accounts:delete",n));case 1:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function Su(e,t){return Cu.apply(this,arguments)}function Cu(){return(Cu=nt(et().mark((function e(t,n){return et().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",pu(t,"POST","/v1/accounts:update",n));case 1:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function Eu(e,t){return Tu.apply(this,arguments)}function Tu(){return(Tu=nt(et().mark((function e(t,n){return et().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",pu(t,"POST","/v1/accounts:lookup",n));case 1:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function Nu(e){if(e)try{var t=new Date(Number(e));if(!isNaN(t.getTime()))return t.toUTCString()}catch(n){}}function Pu(){return Pu=nt(et().mark((function e(t){var n,r,i,o,a,s,u=arguments;return et().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=u.length>1&&void 0!==u[1]&&u[1],r=Ze(t),e.next=4,r.getIdToken(n);case 4:return i=e.sent,eu((o=Ru(i))&&o.exp&&o.auth_time&&o.iat,r.auth,"internal-error"),a="object"===typeof o.firebase?o.firebase:void 0,s=null===a||void 0===a?void 0:a.sign_in_provider,e.abrupt("return",{claims:o,token:i,authTime:Nu(Ou(o.auth_time)),issuedAtTime:Nu(Ou(o.iat)),expirationTime:Nu(Ou(o.exp)),signInProvider:s||null,signInSecondFactor:(null===a||void 0===a?void 0:a.sign_in_second_factor)||null});case 10:case"end":return e.stop()}}),e)}))),Pu.apply(this,arguments)}function Ou(e){return 1e3*Number(e)}function Ru(e){var t=f(e.split("."),3),n=t[0],r=t[1],i=t[2];if(void 0===n||void 0===r||void 0===i)return $s("JWT malformed, contained fewer than 3 sections"),null;try{var o=be(r);return o?JSON.parse(o):($s("Failed to decode base64 JWT payload"),null)}catch(a){return $s("Caught error parsing JWT payload as JSON",a),null}}function Au(e,t){return Du.apply(this,arguments)}function Du(){return Du=nt(et().mark((function e(t,n){var r=arguments;return et().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!(r.length>2&&void 0!==r[2]&&r[2])){e.next=3;break}return e.abrupt("return",n);case 3:return e.prev=3,e.next=6,n;case 6:return e.abrupt("return",e.sent);case 9:if(e.prev=9,e.t0=e.catch(3),!(e.t0 instanceof Oe&&Lu(e.t0))){e.next=15;break}if(t.auth.currentUser!==t){e.next=15;break}return e.next=15,t.auth.signOut();case 15:throw e.t0;case 16:case"end":return e.stop()}}),e,null,[[3,9]])}))),Du.apply(this,arguments)}function Lu(e){var t=e.code;return t==="auth/".concat("user-disabled")||t==="auth/".concat("user-token-expired")}var Mu=function(){function e(t){J(this,e),this.user=t,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}return Z(e,[{key:"_start",value:function(){this.isRunning||(this.isRunning=!0,this.schedule())}},{key:"_stop",value:function(){this.isRunning&&(this.isRunning=!1,null!==this.timerId&&clearTimeout(this.timerId))}},{key:"getInterval",value:function(e){var t;if(e){var n=this.errorBackoff;return this.errorBackoff=Math.min(2*this.errorBackoff,96e4),n}this.errorBackoff=3e4;var r=(null!==(t=this.user.stsTokenManager.expirationTime)&&void 0!==t?t:0)-Date.now()-3e5;return Math.max(0,r)}},{key:"schedule",value:function(){var e=this,t=arguments.length>0&&void 0!==arguments[0]&&arguments[0];if(this.isRunning){var n=this.getInterval(t);this.timerId=setTimeout(nt(et().mark((function t(){return et().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,e.iteration();case 2:case"end":return t.stop()}}),t)}))),n)}}},{key:"iteration",value:function(){var e=nt(et().mark((function e(){return et().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,this.user.getIdToken(!0);case 3:e.next=9;break;case 5:return e.prev=5,e.t0=e.catch(0),e.t0.code==="auth/".concat("network-request-failed")&&this.schedule(!0),e.abrupt("return");case 9:this.schedule();case 10:case"end":return e.stop()}}),e,this,[[0,5]])})));return function(){return e.apply(this,arguments)}}()}]),e}(),Fu=function(){function e(t,n){J(this,e),this.createdAt=t,this.lastLoginAt=n,this._initializeTime()}return Z(e,[{key:"_initializeTime",value:function(){this.lastSignInTime=Nu(this.lastLoginAt),this.creationTime=Nu(this.createdAt)}},{key:"_copy",value:function(e){this.createdAt=e.createdAt,this.lastLoginAt=e.lastLoginAt,this._initializeTime()}},{key:"toJSON",value:function(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}}]),e}();function Uu(e){return ju.apply(this,arguments)}function ju(){return(ju=nt(et().mark((function e(t){var n,r,i,o,a,s,u,l,c,d,f;return et().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=t.auth,e.next=3,t.getIdToken();case 3:return i=e.sent,e.next=6,Au(t,Eu(r,{idToken:i}));case 6:eu(null===(o=e.sent)||void 0===o?void 0:o.users.length,r,"internal-error"),a=o.users[0],t._notifyReloadListener(a),s=(null===(n=a.providerUserInfo)||void 0===n?void 0:n.length)?Wu(a.providerUserInfo):[],u=qu(t.providerData,s),l=t.isAnonymous,c=!(t.email&&a.passwordHash)&&!(null===u||void 0===u?void 0:u.length),d=!!l&&c,f={uid:a.localId,displayName:a.displayName||null,photoURL:a.photoUrl||null,email:a.email||null,emailVerified:a.emailVerified||!1,phoneNumber:a.phoneNumber||null,tenantId:a.tenantId||null,providerData:u,metadata:new Fu(a.createdAt,a.lastLoginAt),isAnonymous:d},Object.assign(t,f);case 17:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function zu(){return(zu=nt(et().mark((function e(t){var n;return et().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=Ze(t),e.next=3,Uu(n);case 3:return e.next=5,n.auth._persistUserIfCurrent(n);case 5:n.auth._notifyListenersIfCurrent(n);case 6:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function qu(e,t){var n=e.filter((function(e){return!t.some((function(t){return t.providerId===e.providerId}))}));return[].concat(p(n),p(t))}function Wu(e){return e.map((function(e){var t=e.providerId,n=Ps(e,["providerId"]);return{providerId:t,uid:n.rawId||"",displayName:n.displayName||null,email:n.email||null,phoneNumber:n.phoneNumber||null,photoURL:n.photoUrl||null}}))}function Vu(e,t){return Bu.apply(this,arguments)}function Bu(){return(Bu=nt(et().mark((function e(t,n){var r;return et().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,mu(t,{},nt(et().mark((function e(){var r,i,o,a,s,u;return et().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=Be({grant_type:"refresh_token",refresh_token:n}).slice(1),i=t.config,o=i.tokenApiHost,a=i.apiKey,s=bu(t,o,"/v1/token","key=".concat(a)),e.next=5,t._getAdditionalHeaders();case 5:return(u=e.sent)["Content-Type"]="application/x-www-form-urlencoded",e.abrupt("return",cu.fetch()(s,{method:"POST",headers:u,body:r}));case 8:case"end":return e.stop()}}),e)}))));case 2:return r=e.sent,e.abrupt("return",{accessToken:r.access_token,expiresIn:r.expires_in,refreshToken:r.refresh_token});case 4:case"end":return e.stop()}}),e)})))).apply(this,arguments)}var Hu=function(){function e(){J(this,e),this.refreshToken=null,this.accessToken=null,this.expirationTime=null}return Z(e,[{key:"isExpired",get:function(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}},{key:"updateFromServerResponse",value:function(e){eu(e.idToken,"internal-error"),eu("undefined"!==typeof e.idToken,"internal-error"),eu("undefined"!==typeof e.refreshToken,"internal-error");var t="expiresIn"in e&&"undefined"!==typeof e.expiresIn?Number(e.expiresIn):function(e){var t=Ru(e);return eu(t,"internal-error"),eu("undefined"!==typeof t.exp,"internal-error"),eu("undefined"!==typeof t.iat,"internal-error"),Number(t.exp)-Number(t.iat)}(e.idToken);this.updateTokensAndExpiration(e.idToken,e.refreshToken,t)}},{key:"getToken",value:function(){var e=nt(et().mark((function e(t){var n,r=arguments;return et().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(n=r.length>1&&void 0!==r[1]&&r[1],eu(!this.accessToken||this.refreshToken,t,"user-token-expired"),n||!this.accessToken||this.isExpired){e.next=4;break}return e.abrupt("return",this.accessToken);case 4:if(!this.refreshToken){e.next=8;break}return e.next=7,this.refresh(t,this.refreshToken);case 7:return e.abrupt("return",this.accessToken);case 8:return e.abrupt("return",null);case 9:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"clearRefreshToken",value:function(){this.refreshToken=null}},{key:"refresh",value:function(){var e=nt(et().mark((function e(t,n){var r,i,o,a;return et().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Vu(t,n);case 2:r=e.sent,i=r.accessToken,o=r.refreshToken,a=r.expiresIn,this.updateTokensAndExpiration(i,o,Number(a));case 7:case"end":return e.stop()}}),e,this)})));return function(t,n){return e.apply(this,arguments)}}()},{key:"updateTokensAndExpiration",value:function(e,t,n){this.refreshToken=t||null,this.accessToken=e||null,this.expirationTime=Date.now()+1e3*n}},{key:"toJSON",value:function(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}},{key:"_assign",value:function(e){this.accessToken=e.accessToken,this.refreshToken=e.refreshToken,this.expirationTime=e.expirationTime}},{key:"_clone",value:function(){return Object.assign(new e,this.toJSON())}},{key:"_performRefresh",value:function(){return tu("not implemented")}}],[{key:"fromJSON",value:function(t,n){var r=n.refreshToken,i=n.accessToken,o=n.expirationTime,a=new e;return r&&(eu("string"===typeof r,"internal-error",{appName:t}),a.refreshToken=r),i&&(eu("string"===typeof i,"internal-error",{appName:t}),a.accessToken=i),o&&(eu("number"===typeof o,"internal-error",{appName:t}),a.expirationTime=o),a}}]),e}();function Ku(e,t){eu("string"===typeof e||"undefined"===typeof e,"internal-error",{appName:t})}var Gu=function(){function e(t){J(this,e);var n=t.uid,r=t.auth,i=t.stsTokenManager,o=Ps(t,["uid","auth","stsTokenManager"]);this.providerId="firebase",this.proactiveRefresh=new Mu(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=n,this.auth=r,this.stsTokenManager=i,this.accessToken=i.accessToken,this.displayName=o.displayName||null,this.email=o.email||null,this.emailVerified=o.emailVerified||!1,this.phoneNumber=o.phoneNumber||null,this.photoURL=o.photoURL||null,this.isAnonymous=o.isAnonymous||!1,this.tenantId=o.tenantId||null,this.providerData=o.providerData?p(o.providerData):[],this.metadata=new Fu(o.createdAt||void 0,o.lastLoginAt||void 0)}return Z(e,[{key:"getIdToken",value:function(){var e=nt(et().mark((function e(t){var n;return et().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Au(this,this.stsTokenManager.getToken(this.auth,t));case 2:if(eu(n=e.sent,this.auth,"internal-error"),this.accessToken===n){e.next=9;break}return this.accessToken=n,e.next=8,this.auth._persistUserIfCurrent(this);case 8:this.auth._notifyListenersIfCurrent(this);case 9:return e.abrupt("return",n);case 10:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"getIdTokenResult",value:function(e){return function(e){return Pu.apply(this,arguments)}(this,e)}},{key:"reload",value:function(){return function(e){return zu.apply(this,arguments)}(this)}},{key:"_assign",value:function(e){this!==e&&(eu(this.uid===e.uid,this.auth,"internal-error"),this.displayName=e.displayName,this.photoURL=e.photoURL,this.email=e.email,this.emailVerified=e.emailVerified,this.phoneNumber=e.phoneNumber,this.isAnonymous=e.isAnonymous,this.tenantId=e.tenantId,this.providerData=e.providerData.map((function(e){return Object.assign({},e)})),this.metadata._copy(e.metadata),this.stsTokenManager._assign(e.stsTokenManager))}},{key:"_clone",value:function(t){return new e(Object.assign(Object.assign({},this),{auth:t,stsTokenManager:this.stsTokenManager._clone()}))}},{key:"_onReload",value:function(e){eu(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=e,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}},{key:"_notifyReloadListener",value:function(e){this.reloadListener?this.reloadListener(e):this.reloadUserInfo=e}},{key:"_startProactiveRefresh",value:function(){this.proactiveRefresh._start()}},{key:"_stopProactiveRefresh",value:function(){this.proactiveRefresh._stop()}},{key:"_updateTokensIfNecessary",value:function(){var e=nt(et().mark((function e(t){var n,r,i=arguments;return et().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(n=i.length>1&&void 0!==i[1]&&i[1],r=!1,t.idToken&&t.idToken!==this.stsTokenManager.accessToken&&(this.stsTokenManager.updateFromServerResponse(t),r=!0),!n){e.next=6;break}return e.next=6,Uu(this);case 6:return e.next=8,this.auth._persistUserIfCurrent(this);case 8:r&&this.auth._notifyListenersIfCurrent(this);case 9:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"delete",value:function(){var e=nt(et().mark((function e(){var t;return et().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.getIdToken();case 2:return t=e.sent,e.next=5,Au(this,Iu(this.auth,{idToken:t}));case 5:return this.stsTokenManager.clearRefreshToken(),e.abrupt("return",this.auth.signOut());case 7:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"toJSON",value:function(){return Object.assign(Object.assign({uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map((function(e){return Object.assign({},e)})),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId},this.metadata.toJSON()),{apiKey:this.auth.config.apiKey,appName:this.auth.name})}},{key:"refreshToken",get:function(){return this.stsTokenManager.refreshToken||""}}],[{key:"_fromJSON",value:function(t,n){var r,i,o,a,s,u,l,c,d=null!==(r=n.displayName)&&void 0!==r?r:void 0,f=null!==(i=n.email)&&void 0!==i?i:void 0,h=null!==(o=n.phoneNumber)&&void 0!==o?o:void 0,p=null!==(a=n.photoURL)&&void 0!==a?a:void 0,v=null!==(s=n.tenantId)&&void 0!==s?s:void 0,m=null!==(u=n._redirectEventId)&&void 0!==u?u:void 0,y=null!==(l=n.createdAt)&&void 0!==l?l:void 0,g=null!==(c=n.lastLoginAt)&&void 0!==c?c:void 0,_=n.uid,b=n.emailVerified,k=n.isAnonymous,w=n.providerData,I=n.stsTokenManager;eu(_&&I,t,"internal-error");var x=Hu.fromJSON(this.name,I);eu("string"===typeof _,t,"internal-error"),Ku(d,t.name),Ku(f,t.name),eu("boolean"===typeof b,t,"internal-error"),eu("boolean"===typeof k,t,"internal-error"),Ku(h,t.name),Ku(p,t.name),Ku(v,t.name),Ku(m,t.name),Ku(y,t.name),Ku(g,t.name);var S=new e({uid:_,auth:t,email:f,emailVerified:b,displayName:d,isAnonymous:k,photoURL:p,phoneNumber:h,tenantId:v,stsTokenManager:x,createdAt:y,lastLoginAt:g});return w&&Array.isArray(w)&&(S.providerData=w.map((function(e){return Object.assign({},e)}))),m&&(S._redirectEventId=m),S}},{key:"_fromIdTokenResponse",value:function(){var t=nt(et().mark((function t(n,r){var i,o,a,s=arguments;return et().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return i=s.length>2&&void 0!==s[2]&&s[2],(o=new Hu).updateFromServerResponse(r),a=new e({uid:r.localId,auth:n,stsTokenManager:o,isAnonymous:i}),t.next=6,Uu(a);case 6:return t.abrupt("return",a);case 7:case"end":return t.stop()}}),t)})));return function(e,n){return t.apply(this,arguments)}}()}]),e}(),$u=function(){function e(){J(this,e),this.type="NONE",this.storage={}}return Z(e,[{key:"_isAvailable",value:function(){var e=nt(et().mark((function e(){return et().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",!0);case 1:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}()},{key:"_set",value:function(){var e=nt(et().mark((function e(t,n){return et().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:this.storage[t]=n;case 1:case"end":return e.stop()}}),e,this)})));return function(t,n){return e.apply(this,arguments)}}()},{key:"_get",value:function(){var e=nt(et().mark((function e(t){var n;return et().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=this.storage[t],e.abrupt("return",void 0===n?null:n);case 2:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"_remove",value:function(){var e=nt(et().mark((function e(t){return et().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:delete this.storage[t];case 1:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"_addListener",value:function(e,t){}},{key:"_removeListener",value:function(e,t){}}]),e}();$u.type="NONE";var Yu=$u;function Qu(e,t,n){return"firebase".concat(":",e,":").concat(t,":").concat(n)}var Ju=function(){function e(t,n,r){J(this,e),this.persistence=t,this.auth=n,this.userKey=r;var i=this.auth,o=i.config,a=i.name;this.fullUserKey=Qu(this.userKey,o.apiKey,a),this.fullPersistenceKey=Qu("persistence",o.apiKey,a),this.boundEventHandler=n._onStorageEvent.bind(n),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}return Z(e,[{key:"setCurrentUser",value:function(e){return this.persistence._set(this.fullUserKey,e.toJSON())}},{key:"getCurrentUser",value:function(){var e=nt(et().mark((function e(){var t;return et().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.persistence._get(this.fullUserKey);case 2:return t=e.sent,e.abrupt("return",t?Gu._fromJSON(this.auth,t):null);case 4:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"removeCurrentUser",value:function(){return this.persistence._remove(this.fullUserKey)}},{key:"savePersistenceForRedirect",value:function(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}},{key:"setPersistence",value:function(){var e=nt(et().mark((function e(t){var n;return et().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(this.persistence!==t){e.next=2;break}return e.abrupt("return");case 2:return e.next=4,this.getCurrentUser();case 4:return n=e.sent,e.next=7,this.removeCurrentUser();case 7:if(this.persistence=t,!n){e.next=10;break}return e.abrupt("return",this.setCurrentUser(n));case 10:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"delete",value:function(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}}],[{key:"create",value:function(){var t=nt(et().mark((function t(n,r){var i,o,a,s,u,l,c,d,f,h,p,v=arguments;return et().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(i=v.length>2&&void 0!==v[2]?v[2]:"authUser",r.length){t.next=3;break}return t.abrupt("return",new e(iu(Yu),n,i));case 3:return t.next=5,Promise.all(r.map(function(){var e=nt(et().mark((function e(t){return et().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,t._isAvailable();case 2:if(!e.sent){e.next=4;break}return e.abrupt("return",t);case 4:return e.abrupt("return",void 0);case 5:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()));case 5:o=t.sent.filter((function(e){return e})),a=o[0]||iu(Yu),s=Qu(i,n.config.apiKey,n.name),u=null,l=ee(r),t.prev=10,l.s();case 12:if((c=l.n()).done){t.next=29;break}return d=c.value,t.prev=14,t.next=17,d._get(s);case 17:if(!(f=t.sent)){t.next=23;break}return h=Gu._fromJSON(n,f),d!==a&&(u=h),a=d,t.abrupt("break",29);case 23:t.next=27;break;case 25:t.prev=25,t.t0=t.catch(14);case 27:t.next=12;break;case 29:t.next=34;break;case 31:t.prev=31,t.t1=t.catch(10),l.e(t.t1);case 34:return t.prev=34,l.f(),t.finish(34);case 37:if(p=o.filter((function(e){return e._shouldAllowMigration})),a._shouldAllowMigration&&p.length){t.next=40;break}return t.abrupt("return",new e(a,n,i));case 40:if(a=p[0],!u){t.next=44;break}return t.next=44,a._set(s,u.toJSON());case 44:return t.next=46,Promise.all(r.map(function(){var e=nt(et().mark((function e(t){return et().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t===a){e.next=8;break}return e.prev=1,e.next=4,t._remove(s);case 4:e.next=8;break;case 6:e.prev=6,e.t0=e.catch(1);case 8:case"end":return e.stop()}}),e,null,[[1,6]])})));return function(t){return e.apply(this,arguments)}}()));case 46:return t.abrupt("return",new e(a,n,i));case 47:case"end":return t.stop()}}),t,null,[[10,31,34,37],[14,25]])})));return function(e,n){return t.apply(this,arguments)}}()}]),e}();function Xu(e){var t=e.toLowerCase();if(t.includes("opera/")||t.includes("opr/")||t.includes("opios/"))return"Opera";if(nl(t))return"IEMobile";if(t.includes("msie")||t.includes("trident/"))return"IE";if(t.includes("edge/"))return"Edge";if(Zu(t))return"Firefox";if(t.includes("silk/"))return"Silk";if(il(t))return"Blackberry";if(ol(t))return"Webos";if(el(t))return"Safari";if((t.includes("chrome/")||tl(t))&&!t.includes("edge/"))return"Chrome";if(rl(t))return"Android";var n=e.match(/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/);return 2===(null===n||void 0===n?void 0:n.length)?n[1]:"Other"}function Zu(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Ie();return/firefox\//i.test(e)}function el(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Ie(),t=e.toLowerCase();return t.includes("safari/")&&!t.includes("chrome/")&&!t.includes("crios/")&&!t.includes("android")}function tl(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Ie();return/crios\//i.test(e)}function nl(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Ie();return/iemobile/i.test(e)}function rl(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Ie();return/android/i.test(e)}function il(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Ie();return/blackberry/i.test(e)}function ol(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Ie();return/webos/i.test(e)}function al(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Ie();return/iphone|ipad|ipod/i.test(e)}function sl(){var e,t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Ie();return al(t)&&!!(null===(e=window.navigator)||void 0===e?void 0:e.standalone)}function ul(){return Te()&&10===document.documentMode}function ll(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Ie();return al(e)||rl(e)||ol(e)||il(e)||/windows phone/i.test(e)||nl(e)}function cl(e){var t,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[];switch(e){case"Browser":t=Xu(Ie());break;case"Worker":t="".concat(Xu(Ie()),"-").concat(e);break;default:t=e}var r=n.length?n.join(","):"FirebaseCore-web";return"".concat(t,"/","JsCore","/").concat(Qt,"/").concat(r)}var dl=function(){function e(t){J(this,e),this.auth=t,this.queue=[]}return Z(e,[{key:"pushCallback",value:function(e,t){var n=this,r=function(t){return new Promise((function(n,r){try{n(e(t))}catch(i){r(i)}}))};r.onAbort=t,this.queue.push(r);var i=this.queue.length-1;return function(){n.queue[i]=function(){return Promise.resolve()}}}},{key:"runMiddleware",value:function(){var e=nt(et().mark((function e(t){var n,r,i,o,a,s,u;return et().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(this.auth.currentUser!==t){e.next=2;break}return e.abrupt("return");case 2:n=[],e.prev=3,r=ee(this.queue),e.prev=5,r.s();case 7:if((i=r.n()).done){e.next=14;break}return o=i.value,e.next=11,o(t);case 11:o.onAbort&&n.push(o.onAbort);case 12:e.next=7;break;case 14:e.next=19;break;case 16:e.prev=16,e.t0=e.catch(5),r.e(e.t0);case 19:return e.prev=19,r.f(),e.finish(19);case 22:e.next=30;break;case 24:e.prev=24,e.t1=e.catch(3),n.reverse(),a=ee(n);try{for(a.s();!(s=a.n()).done;){u=s.value;try{u()}catch(l){}}}catch(c){a.e(c)}finally{a.f()}throw this.auth._errorFactory.create("login-blocked",{originalMessage:e.t1.message});case 30:case"end":return e.stop()}}),e,this,[[3,24],[5,16,19,22]])})));return function(t){return e.apply(this,arguments)}}()}]),e}(),fl=function(){function e(t,n,r){J(this,e),this.app=t,this.heartbeatServiceProvider=n,this.config=r,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new pl(this),this.idTokenSubscription=new pl(this),this.beforeStateQueue=new dl(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=Ks,this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=t.name,this.clientVersion=r.sdkClientVersion}return Z(e,[{key:"_initializeWithPersistence",value:function(e,t){var n=this;return t&&(this._popupRedirectResolver=iu(t)),this._initializationPromise=this.queue(nt(et().mark((function r(){var i,o;return et().wrap((function(r){for(;;)switch(r.prev=r.next){case 0:if(!n._deleted){r.next=2;break}return r.abrupt("return");case 2:return r.next=4,Ju.create(n,e);case 4:if(n.persistenceManager=r.sent,!n._deleted){r.next=7;break}return r.abrupt("return");case 7:if(!(null===(i=n._popupRedirectResolver)||void 0===i?void 0:i._shouldInitProactively)){r.next=15;break}return r.prev=8,r.next=11,n._popupRedirectResolver._initialize(n);case 11:r.next=15;break;case 13:r.prev=13,r.t0=r.catch(8);case 15:return r.next=17,n.initializeCurrentUser(t);case 17:if(n.lastNotifiedUid=(null===(o=n.currentUser)||void 0===o?void 0:o.uid)||null,!n._deleted){r.next=20;break}return r.abrupt("return");case 20:n._isInitialized=!0;case 21:case"end":return r.stop()}}),r,null,[[8,13]])})))),this._initializationPromise}},{key:"_onStorageEvent",value:function(){var e=nt(et().mark((function e(){var t;return et().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!this._deleted){e.next=2;break}return e.abrupt("return");case 2:return e.next=4,this.assertedPersistence.getCurrentUser();case 4:if(t=e.sent,this.currentUser||t){e.next=7;break}return e.abrupt("return");case 7:if(!this.currentUser||!t||this.currentUser.uid!==t.uid){e.next=12;break}return this._currentUser._assign(t),e.next=11,this.currentUser.getIdToken();case 11:return e.abrupt("return");case 12:return e.next=14,this._updateCurrentUser(t,!0);case 14:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"initializeCurrentUser",value:function(){var e=nt(et().mark((function e(t){var n,r,i,o,a,s,u;return et().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.assertedPersistence.getCurrentUser();case 2:if(r=e.sent,i=r,o=!1,!t||!this.config.authDomain){e.next=14;break}return e.next=8,this.getOrInitRedirectPersistenceManager();case 8:return a=null===(n=this.redirectUser)||void 0===n?void 0:n._redirectEventId,s=null===i||void 0===i?void 0:i._redirectEventId,e.next=12,this.tryRedirectSignIn(t);case 12:u=e.sent,a&&a!==s||!(null===u||void 0===u?void 0:u.user)||(i=u.user,o=!0);case 14:if(i){e.next=16;break}return e.abrupt("return",this.directlySetCurrentUser(null));case 16:if(i._redirectEventId){e.next=32;break}if(!o){e.next=27;break}return e.prev=18,e.next=21,this.beforeStateQueue.runMiddleware(i);case 21:e.next=27;break;case 23:e.prev=23,e.t0=e.catch(18),i=r,this._popupRedirectResolver._overrideRedirectResult(this,(function(){return Promise.reject(e.t0)}));case 27:if(!i){e.next=31;break}return e.abrupt("return",this.reloadAndSetCurrentUserOrClear(i));case 31:return e.abrupt("return",this.directlySetCurrentUser(null));case 32:return eu(this._popupRedirectResolver,this,"argument-error"),e.next=35,this.getOrInitRedirectPersistenceManager();case 35:if(!this.redirectUser||this.redirectUser._redirectEventId!==i._redirectEventId){e.next=37;break}return e.abrupt("return",this.directlySetCurrentUser(i));case 37:return e.abrupt("return",this.reloadAndSetCurrentUserOrClear(i));case 38:case"end":return e.stop()}}),e,this,[[18,23]])})));return function(t){return e.apply(this,arguments)}}()},{key:"tryRedirectSignIn",value:function(){var e=nt(et().mark((function e(t){var n;return et().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=null,e.prev=1,e.next=4,this._popupRedirectResolver._completeRedirectFn(this,t,!0);case 4:n=e.sent,e.next=11;break;case 7:return e.prev=7,e.t0=e.catch(1),e.next=11,this._setRedirectUser(null);case 11:return e.abrupt("return",n);case 12:case"end":return e.stop()}}),e,this,[[1,7]])})));return function(t){return e.apply(this,arguments)}}()},{key:"reloadAndSetCurrentUserOrClear",value:function(){var e=nt(et().mark((function e(t){return et().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,Uu(t);case 3:e.next=9;break;case 5:if(e.prev=5,e.t0=e.catch(0),e.t0.code==="auth/".concat("network-request-failed")){e.next=9;break}return e.abrupt("return",this.directlySetCurrentUser(null));case 9:return e.abrupt("return",this.directlySetCurrentUser(t));case 10:case"end":return e.stop()}}),e,this,[[0,5]])})));return function(t){return e.apply(this,arguments)}}()},{key:"useDeviceLanguage",value:function(){this.languageCode=function(){if("undefined"===typeof navigator)return null;var e=navigator;return e.languages&&e.languages[0]||e.language||null}()}},{key:"_delete",value:function(){var e=nt(et().mark((function e(){return et().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:this._deleted=!0;case 1:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"updateCurrentUser",value:function(){var e=nt(et().mark((function e(t){var n;return et().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return(n=t?Ze(t):null)&&eu(n.auth.config.apiKey===this.config.apiKey,this,"invalid-user-token"),e.abrupt("return",this._updateCurrentUser(n&&n._clone(this)));case 3:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"_updateCurrentUser",value:function(){var e=nt(et().mark((function e(t){var n,r=this,i=arguments;return et().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(n=i.length>1&&void 0!==i[1]&&i[1],!this._deleted){e.next=3;break}return e.abrupt("return");case 3:if(t&&eu(this.tenantId===t.tenantId,this,"tenant-id-mismatch"),n){e.next=7;break}return e.next=7,this.beforeStateQueue.runMiddleware(t);case 7:return e.abrupt("return",this.queue(nt(et().mark((function e(){return et().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,r.directlySetCurrentUser(t);case 2:r.notifyAuthListeners();case 3:case"end":return e.stop()}}),e)})))));case 8:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"signOut",value:function(){var e=nt(et().mark((function e(){return et().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.beforeStateQueue.runMiddleware(null);case 2:if(!this.redirectPersistenceManager&&!this._popupRedirectResolver){e.next=5;break}return e.next=5,this._setRedirectUser(null);case 5:return e.abrupt("return",this._updateCurrentUser(null,!0));case 6:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"setPersistence",value:function(e){var t=this;return this.queue(nt(et().mark((function n(){return et().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,t.assertedPersistence.setPersistence(iu(e));case 2:case"end":return n.stop()}}),n)}))))}},{key:"_getPersistence",value:function(){return this.assertedPersistence.persistence.type}},{key:"_updateErrorMap",value:function(e){this._errorFactory=new Re("auth","Firebase",e())}},{key:"onAuthStateChanged",value:function(e,t,n){return this.registerStateListener(this.authStateSubscription,e,t,n)}},{key:"beforeAuthStateChanged",value:function(e,t){return this.beforeStateQueue.pushCallback(e,t)}},{key:"onIdTokenChanged",value:function(e,t,n){return this.registerStateListener(this.idTokenSubscription,e,t,n)}},{key:"toJSON",value:function(){var e;return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:null===(e=this._currentUser)||void 0===e?void 0:e.toJSON()}}},{key:"_setRedirectUser",value:function(){var e=nt(et().mark((function e(t,n){var r;return et().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.getOrInitRedirectPersistenceManager(n);case 2:return r=e.sent,e.abrupt("return",null===t?r.removeCurrentUser():r.setCurrentUser(t));case 4:case"end":return e.stop()}}),e,this)})));return function(t,n){return e.apply(this,arguments)}}()},{key:"getOrInitRedirectPersistenceManager",value:function(){var e=nt(et().mark((function e(t){var n;return et().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(this.redirectPersistenceManager){e.next=9;break}return eu(n=t&&iu(t)||this._popupRedirectResolver,this,"argument-error"),e.next=5,Ju.create(this,[iu(n._redirectPersistence)],"redirectUser");case 5:return this.redirectPersistenceManager=e.sent,e.next=8,this.redirectPersistenceManager.getCurrentUser();case 8:this.redirectUser=e.sent;case 9:return e.abrupt("return",this.redirectPersistenceManager);case 10:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"_redirectUserForId",value:function(){var e=nt(et().mark((function e(t){var n,r;return et().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!this._isInitialized){e.next=3;break}return e.next=3,this.queue(nt(et().mark((function e(){return et().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:case"end":return e.stop()}}),e)}))));case 3:if((null===(n=this._currentUser)||void 0===n?void 0:n._redirectEventId)!==t){e.next=5;break}return e.abrupt("return",this._currentUser);case 5:if((null===(r=this.redirectUser)||void 0===r?void 0:r._redirectEventId)!==t){e.next=7;break}return e.abrupt("return",this.redirectUser);case 7:return e.abrupt("return",null);case 8:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"_persistUserIfCurrent",value:function(){var e=nt(et().mark((function e(t){var n=this;return et().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t!==this.currentUser){e.next=2;break}return e.abrupt("return",this.queue(nt(et().mark((function e(){return et().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",n.directlySetCurrentUser(t));case 1:case"end":return e.stop()}}),e)})))));case 2:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"_notifyListenersIfCurrent",value:function(e){e===this.currentUser&&this.notifyAuthListeners()}},{key:"_key",value:function(){return"".concat(this.config.authDomain,":").concat(this.config.apiKey,":").concat(this.name)}},{key:"_startProactiveRefresh",value:function(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}},{key:"_stopProactiveRefresh",value:function(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}},{key:"_currentUser",get:function(){return this.currentUser}},{key:"notifyAuthListeners",value:function(){var e,t;if(this._isInitialized){this.idTokenSubscription.next(this.currentUser);var n=null!==(t=null===(e=this.currentUser)||void 0===e?void 0:e.uid)&&void 0!==t?t:null;this.lastNotifiedUid!==n&&(this.lastNotifiedUid=n,this.authStateSubscription.next(this.currentUser))}}},{key:"registerStateListener",value:function(e,t,n,r){var i=this;if(this._deleted)return function(){};var o="function"===typeof t?t:t.next.bind(t),a=this._isInitialized?Promise.resolve():this._initializationPromise;return eu(a,this,"internal-error"),a.then((function(){return o(i.currentUser)})),"function"===typeof t?e.addObserver(t,n,r):e.addObserver(t)}},{key:"directlySetCurrentUser",value:function(){var e=nt(et().mark((function e(t){return et().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(this.currentUser&&this.currentUser!==t&&(this._currentUser._stopProactiveRefresh(),t&&this.isProactiveRefreshEnabled&&t._startProactiveRefresh()),this.currentUser=t,!t){e.next=7;break}return e.next=5,this.assertedPersistence.setCurrentUser(t);case 5:e.next=9;break;case 7:return e.next=9,this.assertedPersistence.removeCurrentUser();case 9:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"queue",value:function(e){return this.operations=this.operations.then(e,e),this.operations}},{key:"assertedPersistence",get:function(){return eu(this.persistenceManager,this,"internal-error"),this.persistenceManager}},{key:"_logFramework",value:function(e){e&&!this.frameworks.includes(e)&&(this.frameworks.push(e),this.frameworks.sort(),this.clientVersion=cl(this.config.clientPlatform,this._getFrameworks()))}},{key:"_getFrameworks",value:function(){return this.frameworks}},{key:"_getAdditionalHeaders",value:function(){var e=nt(et().mark((function e(){var t,n,r;return et().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=o({},"X-Client-Version",this.clientVersion),this.app.options.appId&&(n["X-Firebase-gmpid"]=this.app.options.appId),e.next=4,null===(t=this.heartbeatServiceProvider.getImmediate({optional:!0}))||void 0===t?void 0:t.getHeartbeatsHeader();case 4:return(r=e.sent)&&(n["X-Firebase-Client"]=r),e.abrupt("return",n);case 7:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()}]),e}();function hl(e){return Ze(e)}var pl=function(){function e(t){var n=this;J(this,e),this.auth=t,this.observer=null,this.addObserver=$e((function(e){return n.observer=e}))}return Z(e,[{key:"next",get:function(){return eu(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}}]),e}();function vl(e,t,n){var r=hl(e);eu(r._canInitEmulator,r,"emulator-config-failed"),eu(/^https?:\/\//.test(t),r,"invalid-emulator-scheme");var i=!!(null===n||void 0===n?void 0:n.disableWarnings),o=ml(t),a=function(e){var t=ml(e),n=/(\/\/)?([^?#/]+)/.exec(e.substr(t.length));if(!n)return{host:"",port:null};var r=n[2].split("@").pop()||"",i=/^(\[[^\]]+\])(:|$)/.exec(r);if(i){var o=i[1];return{host:o,port:yl(r.substr(o.length+1))}}var a=f(r.split(":"),2);return{host:a[0],port:yl(a[1])}}(t),s=a.host,u=a.port,l=null===u?"":":".concat(u);r.config.emulator={url:"".concat(o,"//").concat(s).concat(l,"/")},r.settings.appVerificationDisabledForTesting=!0,r.emulatorConfig=Object.freeze({host:s,port:u,protocol:o.replace(":",""),options:Object.freeze({disableWarnings:i})}),i||function(){function e(){var e=document.createElement("p"),t=e.style;e.innerText="Running in emulator mode. Do not use with production credentials.",t.position="fixed",t.width="100%",t.backgroundColor="#ffffff",t.border=".1em solid #000000",t.color="#b50000",t.bottom="0px",t.left="0px",t.margin="0px",t.zIndex="10000",t.textAlign="center",e.classList.add("firebase-emulator-warning"),document.body.appendChild(e)}"undefined"!==typeof console&&"function"===typeof console.info&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials.");"undefined"!==typeof window&&"undefined"!==typeof document&&("loading"===document.readyState?window.addEventListener("DOMContentLoaded",e):e())}()}function ml(e){var t=e.indexOf(":");return t<0?"":e.substr(0,t+1)}function yl(e){if(!e)return null;var t=Number(e);return isNaN(t)?null:t}var gl=function(){function e(t,n){J(this,e),this.providerId=t,this.signInMethod=n}return Z(e,[{key:"toJSON",value:function(){return tu("not implemented")}},{key:"_getIdTokenResponse",value:function(e){return tu("not implemented")}},{key:"_linkToIdToken",value:function(e,t){return tu("not implemented")}},{key:"_getReauthenticationResolver",value:function(e){return tu("not implemented")}}]),e}();function _l(e,t){return bl.apply(this,arguments)}function bl(){return(bl=nt(et().mark((function e(t,n){return et().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",pu(t,"POST","/v1/accounts:resetPassword",hu(t,n)));case 1:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function kl(e,t){return wl.apply(this,arguments)}function wl(){return(wl=nt(et().mark((function e(t,n){return et().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",pu(t,"POST","/v1/accounts:update",n));case 1:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function Il(e,t){return xl.apply(this,arguments)}function xl(){return(xl=nt(et().mark((function e(t,n){return et().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",pu(t,"POST","/v1/accounts:update",hu(t,n)));case 1:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function Sl(e,t){return Cl.apply(this,arguments)}function Cl(){return(Cl=nt(et().mark((function e(t,n){return et().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",gu(t,"POST","/v1/accounts:signInWithPassword",hu(t,n)));case 1:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function El(e,t){return Tl.apply(this,arguments)}function Tl(){return(Tl=nt(et().mark((function e(t,n){return et().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",pu(t,"POST","/v1/accounts:sendOobCode",hu(t,n)));case 1:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function Nl(e,t){return Pl.apply(this,arguments)}function Pl(){return(Pl=nt(et().mark((function e(t,n){return et().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",El(t,n));case 1:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function Ol(e,t){return Rl.apply(this,arguments)}function Rl(){return(Rl=nt(et().mark((function e(t,n){return et().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",El(t,n));case 1:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function Al(e,t){return Dl.apply(this,arguments)}function Dl(){return(Dl=nt(et().mark((function e(t,n){return et().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",El(t,n));case 1:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function Ll(e,t){return Ml.apply(this,arguments)}function Ml(){return(Ml=nt(et().mark((function e(t,n){return et().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",El(t,n));case 1:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function Fl(e,t){return Ul.apply(this,arguments)}function Ul(){return(Ul=nt(et().mark((function e(t,n){return et().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",gu(t,"POST","/v1/accounts:signInWithEmailLink",hu(t,n)));case 1:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function jl(e,t){return zl.apply(this,arguments)}function zl(){return(zl=nt(et().mark((function e(t,n){return et().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",gu(t,"POST","/v1/accounts:signInWithEmailLink",hu(t,n)));case 1:case"end":return e.stop()}}),e)})))).apply(this,arguments)}var ql=function(e){re(n,e);var t=ue(n);function n(e,r,i){var o,a=arguments.length>3&&void 0!==arguments[3]?arguments[3]:null;return J(this,n),(o=t.call(this,"password",i))._email=e,o._password=r,o._tenantId=a,o}return Z(n,[{key:"toJSON",value:function(){return{email:this._email,password:this._password,signInMethod:this.signInMethod,tenantId:this._tenantId}}},{key:"_getIdTokenResponse",value:function(){var e=nt(et().mark((function e(t){return et().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:e.t0=this.signInMethod,e.next="password"===e.t0?3:"emailLink"===e.t0?4:5;break;case 3:return e.abrupt("return",Sl(t,{returnSecureToken:!0,email:this._email,password:this._password}));case 4:return e.abrupt("return",Fl(t,{email:this._email,oobCode:this._password}));case 5:Ys(t,"internal-error");case 6:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"_linkToIdToken",value:function(){var e=nt(et().mark((function e(t,n){return et().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:e.t0=this.signInMethod,e.next="password"===e.t0?3:"emailLink"===e.t0?4:5;break;case 3:return e.abrupt("return",kl(t,{idToken:n,returnSecureToken:!0,email:this._email,password:this._password}));case 4:return e.abrupt("return",jl(t,{idToken:n,email:this._email,oobCode:this._password}));case 5:Ys(t,"internal-error");case 6:case"end":return e.stop()}}),e,this)})));return function(t,n){return e.apply(this,arguments)}}()},{key:"_getReauthenticationResolver",value:function(e){return this._getIdTokenResponse(e)}}],[{key:"_fromEmailAndPassword",value:function(e,t){return new n(e,t,"password")}},{key:"_fromEmailAndCode",value:function(e,t){var r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null;return new n(e,t,"emailLink",r)}},{key:"fromJSON",value:function(e){var t="string"===typeof e?JSON.parse(e):e;if((null===t||void 0===t?void 0:t.email)&&(null===t||void 0===t?void 0:t.password)){if("password"===t.signInMethod)return this._fromEmailAndPassword(t.email,t.password);if("emailLink"===t.signInMethod)return this._fromEmailAndCode(t.email,t.password,t.tenantId)}return null}}]),n}(gl);function Wl(e,t){return Vl.apply(this,arguments)}function Vl(){return(Vl=nt(et().mark((function e(t,n){return et().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",gu(t,"POST","/v1/accounts:signInWithIdp",hu(t,n)));case 1:case"end":return e.stop()}}),e)})))).apply(this,arguments)}var Bl=function(e){re(n,e);var t=ue(n);function n(){var e;return J(this,n),(e=t.apply(this,arguments)).pendingToken=null,e}return Z(n,[{key:"toJSON",value:function(){return{idToken:this.idToken,accessToken:this.accessToken,secret:this.secret,nonce:this.nonce,pendingToken:this.pendingToken,providerId:this.providerId,signInMethod:this.signInMethod}}},{key:"_getIdTokenResponse",value:function(e){return Wl(e,this.buildRequest())}},{key:"_linkToIdToken",value:function(e,t){var n=this.buildRequest();return n.idToken=t,Wl(e,n)}},{key:"_getReauthenticationResolver",value:function(e){var t=this.buildRequest();return t.autoCreate=!1,Wl(e,t)}},{key:"buildRequest",value:function(){var e={requestUri:"http://localhost",returnSecureToken:!0};if(this.pendingToken)e.pendingToken=this.pendingToken;else{var t={};this.idToken&&(t.id_token=this.idToken),this.accessToken&&(t.access_token=this.accessToken),this.secret&&(t.oauth_token_secret=this.secret),t.providerId=this.providerId,this.nonce&&!this.pendingToken&&(t.nonce=this.nonce),e.postBody=Be(t)}return e}}],[{key:"_fromParams",value:function(e){var t=new n(e.providerId,e.signInMethod);return e.idToken||e.accessToken?(e.idToken&&(t.idToken=e.idToken),e.accessToken&&(t.accessToken=e.accessToken),e.nonce&&!e.pendingToken&&(t.nonce=e.nonce),e.pendingToken&&(t.pendingToken=e.pendingToken)):e.oauthToken&&e.oauthTokenSecret?(t.accessToken=e.oauthToken,t.secret=e.oauthTokenSecret):Ys("argument-error"),t}},{key:"fromJSON",value:function(e){var t="string"===typeof e?JSON.parse(e):e,r=t.providerId,i=t.signInMethod,o=Ps(t,["providerId","signInMethod"]);if(!r||!i)return null;var a=new n(r,i);return a.idToken=o.idToken||void 0,a.accessToken=o.accessToken||void 0,a.secret=o.secret,a.nonce=o.nonce,a.pendingToken=o.pendingToken||null,a}}]),n}(gl);function Hl(e,t){return Kl.apply(this,arguments)}function Kl(){return(Kl=nt(et().mark((function e(t,n){return et().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",pu(t,"POST","/v1/accounts:sendVerificationCode",hu(t,n)));case 1:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function Gl(){return(Gl=nt(et().mark((function e(t,n){return et().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",gu(t,"POST","/v1/accounts:signInWithPhoneNumber",hu(t,n)));case 1:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function $l(){return($l=nt(et().mark((function e(t,n){var r;return et().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,gu(t,"POST","/v1/accounts:signInWithPhoneNumber",hu(t,n));case 2:if(!(r=e.sent).temporaryProof){e.next=5;break}throw wu(t,"account-exists-with-different-credential",r);case 5:return e.abrupt("return",r);case 6:case"end":return e.stop()}}),e)})))).apply(this,arguments)}var Yl=o({},"USER_NOT_FOUND","user-not-found");function Ql(){return(Ql=nt(et().mark((function e(t,n){var r;return et().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=Object.assign(Object.assign({},n),{operation:"REAUTH"}),e.abrupt("return",gu(t,"POST","/v1/accounts:signInWithPhoneNumber",hu(t,r),Yl));case 2:case"end":return e.stop()}}),e)})))).apply(this,arguments)}var Jl=function(e){re(n,e);var t=ue(n);function n(e){var r;return J(this,n),(r=t.call(this,"phone","phone")).params=e,r}return Z(n,[{key:"_getIdTokenResponse",value:function(e){return function(e,t){return Gl.apply(this,arguments)}(e,this._makeVerificationRequest())}},{key:"_linkToIdToken",value:function(e,t){return function(e,t){return $l.apply(this,arguments)}(e,Object.assign({idToken:t},this._makeVerificationRequest()))}},{key:"_getReauthenticationResolver",value:function(e){return function(e,t){return Ql.apply(this,arguments)}(e,this._makeVerificationRequest())}},{key:"_makeVerificationRequest",value:function(){var e=this.params,t=e.temporaryProof,n=e.phoneNumber,r=e.verificationId,i=e.verificationCode;return t&&n?{temporaryProof:t,phoneNumber:n}:{sessionInfo:r,code:i}}},{key:"toJSON",value:function(){var e={providerId:this.providerId};return this.params.phoneNumber&&(e.phoneNumber=this.params.phoneNumber),this.params.temporaryProof&&(e.temporaryProof=this.params.temporaryProof),this.params.verificationCode&&(e.verificationCode=this.params.verificationCode),this.params.verificationId&&(e.verificationId=this.params.verificationId),e}}],[{key:"_fromVerification",value:function(e,t){return new n({verificationId:e,verificationCode:t})}},{key:"_fromTokenResponse",value:function(e,t){return new n({phoneNumber:e,temporaryProof:t})}},{key:"fromJSON",value:function(e){"string"===typeof e&&(e=JSON.parse(e));var t=e,r=t.verificationId,i=t.verificationCode,o=t.phoneNumber,a=t.temporaryProof;return i||r||o||a?new n({verificationId:r,verificationCode:i,phoneNumber:o,temporaryProof:a}):null}}]),n}(gl);var Xl=function(){function e(t){var n,r,i,o,a,s;J(this,e);var u=He(Ke(t)),l=null!==(n=u.apiKey)&&void 0!==n?n:null,c=null!==(r=u.oobCode)&&void 0!==r?r:null,d=function(e){switch(e){case"recoverEmail":return"RECOVER_EMAIL";case"resetPassword":return"PASSWORD_RESET";case"signIn":return"EMAIL_SIGNIN";case"verifyEmail":return"VERIFY_EMAIL";case"verifyAndChangeEmail":return"VERIFY_AND_CHANGE_EMAIL";case"revertSecondFactorAddition":return"REVERT_SECOND_FACTOR_ADDITION";default:return null}}(null!==(i=u.mode)&&void 0!==i?i:null);eu(l&&c&&d,"argument-error"),this.apiKey=l,this.operation=d,this.code=c,this.continueUrl=null!==(o=u.continueUrl)&&void 0!==o?o:null,this.languageCode=null!==(a=u.languageCode)&&void 0!==a?a:null,this.tenantId=null!==(s=u.tenantId)&&void 0!==s?s:null}return Z(e,null,[{key:"parseLink",value:function(t){var n=function(e){var t=He(Ke(e)).link,n=t?He(Ke(t)).deep_link_id:null,r=He(Ke(e)).deep_link_id;return(r?He(Ke(r)).link:null)||r||n||t||e}(t);try{return new e(n)}catch(r){return null}}}]),e}();var Zl=function(){function e(){J(this,e),this.providerId=e.PROVIDER_ID}return Z(e,null,[{key:"credential",value:function(e,t){return ql._fromEmailAndPassword(e,t)}},{key:"credentialWithLink",value:function(e,t){var n=Xl.parseLink(t);return eu(n,"argument-error"),ql._fromEmailAndCode(e,n.code,n.tenantId)}}]),e}();Zl.PROVIDER_ID="password",Zl.EMAIL_PASSWORD_SIGN_IN_METHOD="password",Zl.EMAIL_LINK_SIGN_IN_METHOD="emailLink";var ec=function(){function e(t){J(this,e),this.providerId=t,this.defaultLanguageCode=null,this.customParameters={}}return Z(e,[{key:"setDefaultLanguage",value:function(e){this.defaultLanguageCode=e}},{key:"setCustomParameters",value:function(e){return this.customParameters=e,this}},{key:"getCustomParameters",value:function(){return this.customParameters}}]),e}(),tc=function(e){re(n,e);var t=ue(n);function n(){var e;return J(this,n),(e=t.apply(this,arguments)).scopes=[],e}return Z(n,[{key:"addScope",value:function(e){return this.scopes.includes(e)||this.scopes.push(e),this}},{key:"getScopes",value:function(){return p(this.scopes)}}]),n}(ec),nc=function(e){re(n,e);var t=ue(n);function n(){return J(this,n),t.apply(this,arguments)}return Z(n,[{key:"credential",value:function(e){return this._credential(Object.assign(Object.assign({},e),{nonce:e.rawNonce}))}},{key:"_credential",value:function(e){return eu(e.idToken||e.accessToken,"argument-error"),Bl._fromParams(Object.assign(Object.assign({},e),{providerId:this.providerId,signInMethod:this.providerId}))}}],[{key:"credentialFromJSON",value:function(e){var t="string"===typeof e?JSON.parse(e):e;return eu("providerId"in t&&"signInMethod"in t,"argument-error"),Bl._fromParams(t)}},{key:"credentialFromResult",value:function(e){return n.oauthCredentialFromTaggedObject(e)}},{key:"credentialFromError",value:function(e){return n.oauthCredentialFromTaggedObject(e.customData||{})}},{key:"oauthCredentialFromTaggedObject",value:function(e){var t=e._tokenResponse;if(!t)return null;var r=t.oauthIdToken,i=t.oauthAccessToken,o=t.oauthTokenSecret,a=t.pendingToken,s=t.nonce,u=t.providerId;if(!i&&!o&&!r&&!a)return null;if(!u)return null;try{return new n(u)._credential({idToken:r,accessToken:i,nonce:s,pendingToken:a})}catch(l){return null}}}]),n}(tc),rc=function(e){re(n,e);var t=ue(n);function n(){return J(this,n),t.call(this,"facebook.com")}return Z(n,null,[{key:"credential",value:function(e){return Bl._fromParams({providerId:n.PROVIDER_ID,signInMethod:n.FACEBOOK_SIGN_IN_METHOD,accessToken:e})}},{key:"credentialFromResult",value:function(e){return n.credentialFromTaggedObject(e)}},{key:"credentialFromError",value:function(e){return n.credentialFromTaggedObject(e.customData||{})}},{key:"credentialFromTaggedObject",value:function(e){var t=e._tokenResponse;if(!t||!("oauthAccessToken"in t))return null;if(!t.oauthAccessToken)return null;try{return n.credential(t.oauthAccessToken)}catch(r){return null}}}]),n}(tc);rc.FACEBOOK_SIGN_IN_METHOD="facebook.com",rc.PROVIDER_ID="facebook.com";var ic=function(e){re(n,e);var t=ue(n);function n(){var e;return J(this,n),(e=t.call(this,"google.com")).addScope("profile"),e}return Z(n,null,[{key:"credential",value:function(e,t){return Bl._fromParams({providerId:n.PROVIDER_ID,signInMethod:n.GOOGLE_SIGN_IN_METHOD,idToken:e,accessToken:t})}},{key:"credentialFromResult",value:function(e){return n.credentialFromTaggedObject(e)}},{key:"credentialFromError",value:function(e){return n.credentialFromTaggedObject(e.customData||{})}},{key:"credentialFromTaggedObject",value:function(e){var t=e._tokenResponse;if(!t)return null;var r=t.oauthIdToken,i=t.oauthAccessToken;if(!r&&!i)return null;try{return n.credential(r,i)}catch(o){return null}}}]),n}(tc);ic.GOOGLE_SIGN_IN_METHOD="google.com",ic.PROVIDER_ID="google.com";var oc=function(e){re(n,e);var t=ue(n);function n(){return J(this,n),t.call(this,"github.com")}return Z(n,null,[{key:"credential",value:function(e){return Bl._fromParams({providerId:n.PROVIDER_ID,signInMethod:n.GITHUB_SIGN_IN_METHOD,accessToken:e})}},{key:"credentialFromResult",value:function(e){return n.credentialFromTaggedObject(e)}},{key:"credentialFromError",value:function(e){return n.credentialFromTaggedObject(e.customData||{})}},{key:"credentialFromTaggedObject",value:function(e){var t=e._tokenResponse;if(!t||!("oauthAccessToken"in t))return null;if(!t.oauthAccessToken)return null;try{return n.credential(t.oauthAccessToken)}catch(r){return null}}}]),n}(tc);oc.GITHUB_SIGN_IN_METHOD="github.com",oc.PROVIDER_ID="github.com";var ac=function(e){re(n,e);var t=ue(n);function n(e,r){var i;return J(this,n),(i=t.call(this,e,e)).pendingToken=r,i}return Z(n,[{key:"_getIdTokenResponse",value:function(e){return Wl(e,this.buildRequest())}},{key:"_linkToIdToken",value:function(e,t){var n=this.buildRequest();return n.idToken=t,Wl(e,n)}},{key:"_getReauthenticationResolver",value:function(e){var t=this.buildRequest();return t.autoCreate=!1,Wl(e,t)}},{key:"toJSON",value:function(){return{signInMethod:this.signInMethod,providerId:this.providerId,pendingToken:this.pendingToken}}},{key:"buildRequest",value:function(){return{requestUri:"http://localhost",returnSecureToken:!0,pendingToken:this.pendingToken}}}],[{key:"fromJSON",value:function(e){var t="string"===typeof e?JSON.parse(e):e,r=t.providerId,i=t.signInMethod,o=t.pendingToken;return r&&i&&o&&r===i?new n(r,o):null}},{key:"_create",value:function(e,t){return new n(e,t)}}]),n}(gl),sc=function(e){re(n,e);var t=ue(n);function n(e){return J(this,n),eu(e.startsWith("saml."),"argument-error"),t.call(this,e)}return Z(n,null,[{key:"credentialFromResult",value:function(e){return n.samlCredentialFromTaggedObject(e)}},{key:"credentialFromError",value:function(e){return n.samlCredentialFromTaggedObject(e.customData||{})}},{key:"credentialFromJSON",value:function(e){var t=ac.fromJSON(e);return eu(t,"argument-error"),t}},{key:"samlCredentialFromTaggedObject",value:function(e){var t=e._tokenResponse;if(!t)return null;var n=t.pendingToken,r=t.providerId;if(!n||!r)return null;try{return ac._create(r,n)}catch(i){return null}}}]),n}(ec),uc=function(e){re(n,e);var t=ue(n);function n(){return J(this,n),t.call(this,"twitter.com")}return Z(n,null,[{key:"credential",value:function(e,t){return Bl._fromParams({providerId:n.PROVIDER_ID,signInMethod:n.TWITTER_SIGN_IN_METHOD,oauthToken:e,oauthTokenSecret:t})}},{key:"credentialFromResult",value:function(e){return n.credentialFromTaggedObject(e)}},{key:"credentialFromError",value:function(e){return n.credentialFromTaggedObject(e.customData||{})}},{key:"credentialFromTaggedObject",value:function(e){var t=e._tokenResponse;if(!t)return null;var r=t.oauthAccessToken,i=t.oauthTokenSecret;if(!r||!i)return null;try{return n.credential(r,i)}catch(o){return null}}}]),n}(tc);function lc(e,t){return cc.apply(this,arguments)}function cc(){return(cc=nt(et().mark((function e(t,n){return et().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",gu(t,"POST","/v1/accounts:signUp",hu(t,n)));case 1:case"end":return e.stop()}}),e)})))).apply(this,arguments)}uc.TWITTER_SIGN_IN_METHOD="twitter.com",uc.PROVIDER_ID="twitter.com";var dc=function(){function e(t){J(this,e),this.user=t.user,this.providerId=t.providerId,this._tokenResponse=t._tokenResponse,this.operationType=t.operationType}return Z(e,null,[{key:"_fromIdTokenResponse",value:function(){var t=nt(et().mark((function t(n,r,i){var o,a,s,u,l=arguments;return et().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return o=l.length>3&&void 0!==l[3]&&l[3],t.next=3,Gu._fromIdTokenResponse(n,i,o);case 3:return a=t.sent,s=fc(i),u=new e({user:a,providerId:s,_tokenResponse:i,operationType:r}),t.abrupt("return",u);case 7:case"end":return t.stop()}}),t)})));return function(e,n,r){return t.apply(this,arguments)}}()},{key:"_forOperation",value:function(){var t=nt(et().mark((function t(n,r,i){var o;return et().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,n._updateTokensIfNecessary(i,!0);case 2:return o=fc(i),t.abrupt("return",new e({user:n,providerId:o,_tokenResponse:i,operationType:r}));case 4:case"end":return t.stop()}}),t)})));return function(e,n,r){return t.apply(this,arguments)}}()}]),e}();function fc(e){return e.providerId?e.providerId:"phoneNumber"in e?"phone":null}function hc(){return(hc=nt(et().mark((function e(t){var n,r,i,o;return et().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=hl(t),e.next=3,r._initializationPromise;case 3:if(!(null===(n=r.currentUser)||void 0===n?void 0:n.isAnonymous)){e.next=5;break}return e.abrupt("return",new dc({user:r.currentUser,providerId:null,operationType:"signIn"}));case 5:return e.next=7,lc(r,{returnSecureToken:!0});case 7:return i=e.sent,e.next=10,dc._fromIdTokenResponse(r,"signIn",i,!0);case 10:return o=e.sent,e.next=13,r._updateCurrentUser(o.user);case 13:return e.abrupt("return",o);case 14:case"end":return e.stop()}}),e)})))).apply(this,arguments)}var pc=function(e){re(n,e);var t=ue(n);function n(e,r,i,o){var a,s;return J(this,n),(a=t.call(this,r.code,r.message)).operationType=i,a.user=o,Object.setPrototypeOf(te(a),n.prototype),a.customData={appName:e.name,tenantId:null!==(s=e.tenantId)&&void 0!==s?s:void 0,_serverResponse:r.customData._serverResponse,operationType:i},a}return Z(n,null,[{key:"_fromErrorAndOperation",value:function(e,t,r,i){return new n(e,t,r,i)}}]),n}(Oe);function vc(e,t,n,r){return("reauthenticate"===t?n._getReauthenticationResolver(e):n._getIdTokenResponse(e)).catch((function(n){if(n.code==="auth/".concat("multi-factor-auth-required"))throw pc._fromErrorAndOperation(e,n,t,r);throw n}))}function mc(e){return new Set(e.map((function(e){return e.providerId})).filter((function(e){return!!e})))}function yc(e,t){return gc.apply(this,arguments)}function gc(){return(gc=nt(et().mark((function e(t,n){var r,i,o,a;return et().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=Ze(t),e.next=3,kc(!0,r,n);case 3:return e.t0=Su,e.t1=r.auth,e.next=7,r.getIdToken();case 7:return e.t2=e.sent,e.t3=[n],e.t4={idToken:e.t2,deleteProvider:e.t3},e.next=12,(0,e.t0)(e.t1,e.t4);case 12:return i=e.sent,o=i.providerUserInfo,a=mc(o||[]),r.providerData=r.providerData.filter((function(e){return a.has(e.providerId)})),a.has("phone")||(r.phoneNumber=null),e.next=19,r.auth._persistUserIfCurrent(r);case 19:return e.abrupt("return",r);case 20:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function _c(e,t){return bc.apply(this,arguments)}function bc(){return bc=nt(et().mark((function e(t,n){var r,i,o=arguments;return et().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=o.length>2&&void 0!==o[2]&&o[2],e.t0=Au,e.t1=t,e.t2=n,e.t3=t.auth,e.next=7,t.getIdToken();case 7:return e.t4=e.sent,e.t5=e.t2._linkToIdToken.call(e.t2,e.t3,e.t4),e.t6=r,e.next=12,(0,e.t0)(e.t1,e.t5,e.t6);case 12:return i=e.sent,e.abrupt("return",dc._forOperation(t,"link",i));case 14:case"end":return e.stop()}}),e)}))),bc.apply(this,arguments)}function kc(e,t,n){return wc.apply(this,arguments)}function wc(){return(wc=nt(et().mark((function e(t,n,r){var i,o;return et().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Uu(n);case 2:i=mc(n.providerData),o=!1===t?"provider-already-linked":"no-such-provider",eu(i.has(r)===t,n.auth,o);case 5:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function Ic(e,t){return xc.apply(this,arguments)}function xc(){return xc=nt(et().mark((function e(t,n){var r,i,o,a,s,u,l=arguments;return et().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=l.length>2&&void 0!==l[2]&&l[2],i=t.auth,o="reauthenticate",e.prev=3,e.next=6,Au(t,vc(i,o,n,t),r);case 6:return eu((a=e.sent).idToken,i,"internal-error"),eu(s=Ru(a.idToken),i,"internal-error"),u=s.sub,eu(t.uid===u,i,"user-mismatch"),e.abrupt("return",dc._forOperation(t,o,a));case 15:throw e.prev=15,e.t0=e.catch(3),(null===e.t0||void 0===e.t0?void 0:e.t0.code)==="auth/".concat("user-not-found")&&Ys(i,"user-mismatch"),e.t0;case 19:case"end":return e.stop()}}),e,null,[[3,15]])}))),xc.apply(this,arguments)}function Sc(e,t){return Cc.apply(this,arguments)}function Cc(){return Cc=nt(et().mark((function e(t,n){var r,i,o,a,s=arguments;return et().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=s.length>2&&void 0!==s[2]&&s[2],i="signIn",e.next=4,vc(t,i,n);case 4:return o=e.sent,e.next=7,dc._fromIdTokenResponse(t,i,o);case 7:if(a=e.sent,r){e.next=11;break}return e.next=11,t._updateCurrentUser(a.user);case 11:return e.abrupt("return",a);case 12:case"end":return e.stop()}}),e)}))),Cc.apply(this,arguments)}function Ec(e,t){return Tc.apply(this,arguments)}function Tc(){return(Tc=nt(et().mark((function e(t,n){return et().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",Sc(hl(t),n));case 1:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function Nc(e,t){return Pc.apply(this,arguments)}function Pc(){return(Pc=nt(et().mark((function e(t,n){var r;return et().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=Ze(t),e.next=3,kc(!1,r,n.providerId);case 3:return e.abrupt("return",_c(r,n));case 4:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function Oc(e,t){return Rc.apply(this,arguments)}function Rc(){return(Rc=nt(et().mark((function e(t,n){return et().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",Ic(Ze(t),n));case 1:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function Ac(e,t){return Dc.apply(this,arguments)}function Dc(){return(Dc=nt(et().mark((function e(t,n){return et().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",gu(t,"POST","/v1/accounts:signInWithCustomToken",hu(t,n)));case 1:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function Lc(){return(Lc=nt(et().mark((function e(t,n){var r,i,o;return et().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=hl(t),e.next=3,Ac(r,{token:n,returnSecureToken:!0});case 3:return i=e.sent,e.next=6,dc._fromIdTokenResponse(r,"signIn",i);case 6:return o=e.sent,e.next=9,r._updateCurrentUser(o.user);case 9:return e.abrupt("return",o);case 10:case"end":return e.stop()}}),e)})))).apply(this,arguments)}var Mc=function(){function e(t,n){J(this,e),this.factorId=t,this.uid=n.mfaEnrollmentId,this.enrollmentTime=new Date(n.enrolledAt).toUTCString(),this.displayName=n.displayName}return Z(e,null,[{key:"_fromServerResponse",value:function(e,t){return"phoneInfo"in t?Fc._fromServerResponse(e,t):Ys(e,"internal-error")}}]),e}(),Fc=function(e){re(n,e);var t=ue(n);function n(e){var r;return J(this,n),(r=t.call(this,"phone",e)).phoneNumber=e.phoneInfo,r}return Z(n,null,[{key:"_fromServerResponse",value:function(e,t){return new n(t)}}]),n}(Mc);function Uc(e,t,n){var r;eu((null===(r=n.url)||void 0===r?void 0:r.length)>0,e,"invalid-continue-uri"),eu("undefined"===typeof n.dynamicLinkDomain||n.dynamicLinkDomain.length>0,e,"invalid-dynamic-link-domain"),t.continueUrl=n.url,t.dynamicLinkDomain=n.dynamicLinkDomain,t.canHandleCodeInApp=n.handleCodeInApp,n.iOS&&(eu(n.iOS.bundleId.length>0,e,"missing-ios-bundle-id"),t.iOSBundleId=n.iOS.bundleId),n.android&&(eu(n.android.packageName.length>0,e,"missing-android-pkg-name"),t.androidInstallApp=n.android.installApp,t.androidMinimumVersionCode=n.android.minimumVersion,t.androidPackageName=n.android.packageName)}function jc(){return(jc=nt(et().mark((function e(t,n,r){var i,o;return et().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return i=Ze(t),o={requestType:"PASSWORD_RESET",email:n},r&&Uc(i,o,r),e.next=5,Ol(i,o);case 5:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function zc(){return(zc=nt(et().mark((function e(t,n,r){return et().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,_l(Ze(t),{oobCode:n,newPassword:r});case 2:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function qc(){return(qc=nt(et().mark((function e(t,n){return et().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Il(Ze(t),{oobCode:n});case 2:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function Wc(e,t){return Vc.apply(this,arguments)}function Vc(){return(Vc=nt(et().mark((function e(t,n){var r,i,o,a;return et().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=Ze(t),e.next=3,_l(r,{oobCode:n});case 3:i=e.sent,eu(o=i.requestType,r,"internal-error"),e.t0=o,e.next="EMAIL_SIGNIN"===e.t0?9:"VERIFY_AND_CHANGE_EMAIL"===e.t0?10:"REVERT_SECOND_FACTOR_ADDITION"===e.t0?12:13;break;case 9:return e.abrupt("break",14);case 10:return eu(i.newEmail,r,"internal-error"),e.abrupt("break",14);case 12:eu(i.mfaInfo,r,"internal-error");case 13:eu(i.email,r,"internal-error");case 14:return a=null,i.mfaInfo&&(a=Mc._fromServerResponse(hl(r),i.mfaInfo)),e.abrupt("return",{data:{email:("VERIFY_AND_CHANGE_EMAIL"===i.requestType?i.newEmail:i.email)||null,previousEmail:("VERIFY_AND_CHANGE_EMAIL"===i.requestType?i.email:i.newEmail)||null,multiFactorInfo:a},operation:o});case 17:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function Bc(){return(Bc=nt(et().mark((function e(t,n){var r,i;return et().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Wc(Ze(t),n);case 2:return r=e.sent,i=r.data,e.abrupt("return",i.email);case 5:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function Hc(e,t,n){return Kc.apply(this,arguments)}function Kc(){return(Kc=nt(et().mark((function e(t,n,r){var i,o,a;return et().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return i=hl(t),e.next=3,lc(i,{returnSecureToken:!0,email:n,password:r});case 3:return o=e.sent,e.next=6,dc._fromIdTokenResponse(i,"signIn",o);case 6:return a=e.sent,e.next=9,i._updateCurrentUser(a.user);case 9:return e.abrupt("return",a);case 10:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function Gc(){return(Gc=nt(et().mark((function e(t,n,r){var i,o;return et().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return i=Ze(t),o={requestType:"EMAIL_SIGNIN",email:n},eu(r.handleCodeInApp,i,"argument-error"),r&&Uc(i,o,r),e.next=6,Al(i,o);case 6:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function $c(){return($c=nt(et().mark((function e(t,n,r){var i,o;return et().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return i=Ze(t),eu((o=Zl.credentialWithLink(n,r||ou()))._tenantId===(i.tenantId||null),i,"tenant-id-mismatch"),e.abrupt("return",Ec(i,o));case 4:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function Yc(e,t){return Qc.apply(this,arguments)}function Qc(){return(Qc=nt(et().mark((function e(t,n){return et().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",pu(t,"POST","/v1/accounts:createAuthUri",hu(t,n)));case 1:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function Jc(){return(Jc=nt(et().mark((function e(t,n){var r,i,o,a;return et().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=au()?ou():"http://localhost",i={identifier:n,continueUri:r},e.next=4,Yc(Ze(t),i);case 4:return o=e.sent,a=o.signinMethods,e.abrupt("return",a||[]);case 7:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function Xc(){return(Xc=nt(et().mark((function e(t,n){var r,i,o,a;return et().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=Ze(t),e.next=3,t.getIdToken();case 3:return i=e.sent,o={requestType:"VERIFY_EMAIL",idToken:i},n&&Uc(r.auth,o,n),e.next=8,Nl(r.auth,o);case 8:if(a=e.sent,a.email===t.email){e.next=13;break}return e.next=13,t.reload();case 13:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function Zc(){return(Zc=nt(et().mark((function e(t,n,r){var i,o,a,s;return et().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return i=Ze(t),e.next=3,t.getIdToken();case 3:return o=e.sent,a={requestType:"VERIFY_AND_CHANGE_EMAIL",idToken:o,newEmail:n},r&&Uc(i.auth,a,r),e.next=8,Ll(i.auth,a);case 8:if(s=e.sent,s.email===t.email){e.next=13;break}return e.next=13,t.reload();case 13:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function ed(e,t){return td.apply(this,arguments)}function td(){return(td=nt(et().mark((function e(t,n){return et().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",pu(t,"POST","/v1/accounts:update",n));case 1:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function nd(){return(nd=nt(et().mark((function e(t,n){var r,i,o,a,s,u,l;return et().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(r=n.displayName,i=n.photoURL,void 0!==r||void 0!==i){e.next=3;break}return e.abrupt("return");case 3:return o=Ze(t),e.next=6,o.getIdToken();case 6:return a=e.sent,s={idToken:a,displayName:r,photoUrl:i,returnSecureToken:!0},e.next=10,Au(o,ed(o.auth,s));case 10:return u=e.sent,o.displayName=u.displayName||null,o.photoURL=u.photoUrl||null,(l=o.providerData.find((function(e){return"password"===e.providerId})))&&(l.displayName=o.displayName,l.photoURL=o.photoURL),e.next=17,o._updateTokensIfNecessary(u);case 17:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function rd(e,t,n){return id.apply(this,arguments)}function id(){return(id=nt(et().mark((function e(t,n,r){var i,o,a,s;return et().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return i=t.auth,e.next=3,t.getIdToken();case 3:return o=e.sent,a={idToken:o,returnSecureToken:!0},n&&(a.email=n),r&&(a.password=r),e.next=9,Au(t,kl(i,a));case 9:return s=e.sent,e.next=12,t._updateTokensIfNecessary(s,!0);case 12:case"end":return e.stop()}}),e)})))).apply(this,arguments)}var od=Z((function e(t,n){var r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};J(this,e),this.isNewUser=t,this.providerId=n,this.profile=r})),ad=function(e){re(n,e);var t=ue(n);function n(e,r,i,o){var a;return J(this,n),(a=t.call(this,e,r,i)).username=o,a}return Z(n)}(od),sd=function(e){re(n,e);var t=ue(n);function n(e,r){return J(this,n),t.call(this,e,"facebook.com",r)}return Z(n)}(od),ud=function(e){re(n,e);var t=ue(n);function n(e,r){return J(this,n),t.call(this,e,"github.com",r,"string"===typeof(null===r||void 0===r?void 0:r.login)?null===r||void 0===r?void 0:r.login:null)}return Z(n)}(ad),ld=function(e){re(n,e);var t=ue(n);function n(e,r){return J(this,n),t.call(this,e,"google.com",r)}return Z(n)}(od),cd=function(e){re(n,e);var t=ue(n);function n(e,r,i){return J(this,n),t.call(this,e,"twitter.com",r,i)}return Z(n)}(ad);function dd(e){var t=e.user,n=e._tokenResponse;return t.isAnonymous&&!n?{providerId:null,isNewUser:!1,profile:null}:function(e){var t,n;if(!e)return null;var r=e.providerId,i=e.rawUserInfo?JSON.parse(e.rawUserInfo):{},o=e.isNewUser||"identitytoolkit#SignupNewUserResponse"===e.kind;if(!r&&(null===e||void 0===e?void 0:e.idToken)){var a=null===(n=null===(t=Ru(e.idToken))||void 0===t?void 0:t.firebase)||void 0===n?void 0:n.sign_in_provider;if(a)return new od(o,"anonymous"!==a&&"custom"!==a?a:null)}if(!r)return null;switch(r){case"facebook.com":return new sd(o,i);case"github.com":return new ud(o,i);case"google.com":return new ld(o,i);case"twitter.com":return new cd(o,i,e.screenName||null);case"custom":case"anonymous":return new od(o,null);default:return new od(o,r,i)}}(n)}var fd=function(){function e(t,n){J(this,e),this.type=t,this.credential=n}return Z(e,[{key:"toJSON",value:function(){return{multiFactorSession:o({},"enroll"===this.type?"idToken":"pendingCredential",this.credential)}}}],[{key:"_fromIdtoken",value:function(t){return new e("enroll",t)}},{key:"_fromMfaPendingCredential",value:function(t){return new e("signin",t)}},{key:"fromJSON",value:function(t){var n,r;if(null===t||void 0===t?void 0:t.multiFactorSession){if(null===(n=t.multiFactorSession)||void 0===n?void 0:n.pendingCredential)return e._fromMfaPendingCredential(t.multiFactorSession.pendingCredential);if(null===(r=t.multiFactorSession)||void 0===r?void 0:r.idToken)return e._fromIdtoken(t.multiFactorSession.idToken)}return null}}]),e}(),hd=function(){function e(t,n,r){J(this,e),this.session=t,this.hints=n,this.signInResolver=r}return Z(e,[{key:"resolveSignIn",value:function(){var e=nt(et().mark((function e(t){var n;return et().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=t,e.abrupt("return",this.signInResolver(n));case 2:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()}],[{key:"_fromError",value:function(t,n){var r=hl(t),i=n.customData._serverResponse,o=(i.mfaInfo||[]).map((function(e){return Mc._fromServerResponse(r,e)}));eu(i.mfaPendingCredential,r,"internal-error");var a=fd._fromMfaPendingCredential(i.mfaPendingCredential);return new e(a,o,function(){var e=nt(et().mark((function e(t){var o,s,u;return et().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,t._process(r,a);case 2:o=e.sent,delete i.mfaInfo,delete i.mfaPendingCredential,s=Object.assign(Object.assign({},i),{idToken:o.idToken,refreshToken:o.refreshToken}),e.t0=n.operationType,e.next="signIn"===e.t0?9:"reauthenticate"===e.t0?15:17;break;case 9:return e.next=11,dc._fromIdTokenResponse(r,n.operationType,s);case 11:return u=e.sent,e.next=14,r._updateCurrentUser(u.user);case 14:return e.abrupt("return",u);case 15:return eu(n.user,r,"internal-error"),e.abrupt("return",dc._forOperation(n.user,n.operationType,s));case 17:Ys(r,"internal-error");case 18:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}())}}]),e}();function pd(e,t){return pu(e,"POST","/v2/accounts/mfaEnrollment:start",hu(e,t))}var vd=function(){function e(t){var n=this;J(this,e),this.user=t,this.enrolledFactors=[],t._onReload((function(e){e.mfaInfo&&(n.enrolledFactors=e.mfaInfo.map((function(e){return Mc._fromServerResponse(t.auth,e)})))}))}return Z(e,[{key:"getSession",value:function(){var e=nt(et().mark((function e(){return et().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.t0=fd,e.next=3,this.user.getIdToken();case 3:return e.t1=e.sent,e.abrupt("return",e.t0._fromIdtoken.call(e.t0,e.t1));case 5:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"enroll",value:function(){var e=nt(et().mark((function e(t,n){var r,i,o;return et().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=t,e.next=3,this.getSession();case 3:return i=e.sent,e.next=6,Au(this.user,r._process(this.user.auth,i,n));case 6:return o=e.sent,e.next=9,this.user._updateTokensIfNecessary(o);case 9:return e.abrupt("return",this.user.reload());case 10:case"end":return e.stop()}}),e,this)})));return function(t,n){return e.apply(this,arguments)}}()},{key:"unenroll",value:function(){var e=nt(et().mark((function e(t){var n,r,i;return et().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n="string"===typeof t?t:t.uid,e.next=3,this.user.getIdToken();case 3:return r=e.sent,e.next=6,Au(this.user,pu(o=this.user.auth,"POST","/v2/accounts/mfaEnrollment:withdraw",hu(o,{idToken:r,mfaEnrollmentId:n})));case 6:return i=e.sent,this.enrolledFactors=this.enrolledFactors.filter((function(e){return e.uid!==n})),e.next=10,this.user._updateTokensIfNecessary(i);case 10:return e.prev=10,e.next=13,this.user.reload();case 13:e.next=19;break;case 15:if(e.prev=15,e.t0=e.catch(10),e.t0.code==="auth/".concat("user-token-expired")){e.next=19;break}throw e.t0;case 19:case"end":return e.stop()}var o}),e,this,[[10,15]])})));return function(t){return e.apply(this,arguments)}}()}],[{key:"_fromUser",value:function(t){return new e(t)}}]),e}(),md=new WeakMap;var yd="__sak",gd=function(){function e(t,n){J(this,e),this.storageRetriever=t,this.type=n}return Z(e,[{key:"_isAvailable",value:function(){try{return this.storage?(this.storage.setItem(yd,"1"),this.storage.removeItem(yd),Promise.resolve(!0)):Promise.resolve(!1)}catch(e){return Promise.resolve(!1)}}},{key:"_set",value:function(e,t){return this.storage.setItem(e,JSON.stringify(t)),Promise.resolve()}},{key:"_get",value:function(e){var t=this.storage.getItem(e);return Promise.resolve(t?JSON.parse(t):null)}},{key:"_remove",value:function(e){return this.storage.removeItem(e),Promise.resolve()}},{key:"storage",get:function(){return this.storageRetriever()}}]),e}();var _d=function(e){re(n,e);var t=ue(n);function n(){var e;return J(this,n),(e=t.call(this,(function(){return window.localStorage}),"LOCAL")).boundEventHandler=function(t,n){return e.onStorageEvent(t,n)},e.listeners={},e.localCache={},e.pollTimer=null,e.safariLocalStorageNotSynced=function(){var e=Ie();return el(e)||al(e)}()&&function(){try{return!(!window||window===window.top)}catch(e){return!1}}(),e.fallbackToPolling=ll(),e._shouldAllowMigration=!0,e}return Z(n,[{key:"forAllChangedKeys",value:function(e){for(var t=0,n=Object.keys(this.listeners);t<n.length;t++){var r=n[t],i=this.storage.getItem(r),o=this.localCache[r];i!==o&&e(r,o,i)}}},{key:"onStorageEvent",value:function(e){var t=this,n=arguments.length>1&&void 0!==arguments[1]&&arguments[1];if(e.key){var r=e.key;if(n?this.detachListener():this.stopPolling(),this.safariLocalStorageNotSynced){var i=this.storage.getItem(r);if(e.newValue!==i)null!==e.newValue?this.storage.setItem(r,e.newValue):this.storage.removeItem(r);else if(this.localCache[r]===e.newValue&&!n)return}var o=function(){var e=t.storage.getItem(r);(n||t.localCache[r]!==e)&&t.notifyListeners(r,e)},a=this.storage.getItem(r);ul()&&a!==e.newValue&&e.newValue!==e.oldValue?setTimeout(o,10):o()}else this.forAllChangedKeys((function(e,n,r){t.notifyListeners(e,r)}))}},{key:"notifyListeners",value:function(e,t){this.localCache[e]=t;var n=this.listeners[e];if(n)for(var r=0,i=Array.from(n);r<i.length;r++){(0,i[r])(t?JSON.parse(t):t)}}},{key:"startPolling",value:function(){var e=this;this.stopPolling(),this.pollTimer=setInterval((function(){e.forAllChangedKeys((function(t,n,r){e.onStorageEvent(new StorageEvent("storage",{key:t,oldValue:n,newValue:r}),!0)}))}),1e3)}},{key:"stopPolling",value:function(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}},{key:"attachListener",value:function(){window.addEventListener("storage",this.boundEventHandler)}},{key:"detachListener",value:function(){window.removeEventListener("storage",this.boundEventHandler)}},{key:"_addListener",value:function(e,t){0===Object.keys(this.listeners).length&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[e]||(this.listeners[e]=new Set,this.localCache[e]=this.storage.getItem(e)),this.listeners[e].add(t)}},{key:"_removeListener",value:function(e,t){this.listeners[e]&&(this.listeners[e].delete(t),0===this.listeners[e].size&&delete this.listeners[e]),0===Object.keys(this.listeners).length&&(this.detachListener(),this.stopPolling())}},{key:"_set",value:function(){var e=nt(et().mark((function e(t,r){return et().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Ns(ie(n.prototype),"_set",this).call(this,t,r);case 2:this.localCache[t]=JSON.stringify(r);case 3:case"end":return e.stop()}}),e,this)})));return function(t,n){return e.apply(this,arguments)}}()},{key:"_get",value:function(){var e=nt(et().mark((function e(t){var r;return et().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Ns(ie(n.prototype),"_get",this).call(this,t);case 2:return r=e.sent,this.localCache[t]=JSON.stringify(r),e.abrupt("return",r);case 5:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"_remove",value:function(){var e=nt(et().mark((function e(t){return et().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Ns(ie(n.prototype),"_remove",this).call(this,t);case 2:delete this.localCache[t];case 3:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()}]),n}(gd);_d.type="LOCAL";var bd=_d,kd=function(e){re(n,e);var t=ue(n);function n(){return J(this,n),t.call(this,(function(){return window.sessionStorage}),"SESSION")}return Z(n,[{key:"_addListener",value:function(e,t){}},{key:"_removeListener",value:function(e,t){}}]),n}(gd);kd.type="SESSION";var wd=kd;function Id(e){return Promise.all(e.map(function(){var e=nt(et().mark((function e(t){var n;return et().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,t;case 3:return n=e.sent,e.abrupt("return",{fulfilled:!0,value:n});case 7:return e.prev=7,e.t0=e.catch(0),e.abrupt("return",{fulfilled:!1,reason:e.t0});case 10:case"end":return e.stop()}}),e,null,[[0,7]])})));return function(t){return e.apply(this,arguments)}}()))}var xd=function(){function e(t){J(this,e),this.eventTarget=t,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}return Z(e,[{key:"isListeningto",value:function(e){return this.eventTarget===e}},{key:"handleEvent",value:function(){var e=nt(et().mark((function e(t){var n,r,i,o,a,s,u,l;return et().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(r=(n=t).data,i=r.eventId,o=r.eventType,a=r.data,null===(s=this.handlersMap[o])||void 0===s?void 0:s.size){e.next=5;break}return e.abrupt("return");case 5:return n.ports[0].postMessage({status:"ack",eventId:i,eventType:o}),u=Array.from(s).map(function(){var e=nt(et().mark((function e(t){return et().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",t(n.origin,a));case 1:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()),e.next=9,Id(u);case 9:l=e.sent,n.ports[0].postMessage({status:"done",eventId:i,eventType:o,response:l});case 11:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"_subscribe",value:function(e,t){0===Object.keys(this.handlersMap).length&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[e]||(this.handlersMap[e]=new Set),this.handlersMap[e].add(t)}},{key:"_unsubscribe",value:function(e,t){this.handlersMap[e]&&t&&this.handlersMap[e].delete(t),t&&0!==this.handlersMap[e].size||delete this.handlersMap[e],0===Object.keys(this.handlersMap).length&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}],[{key:"_getInstance",value:function(t){var n=this.receivers.find((function(e){return e.isListeningto(t)}));if(n)return n;var r=new e(t);return this.receivers.push(r),r}}]),e}();function Sd(){for(var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"",t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:10,n="",r=0;r<t;r++)n+=Math.floor(10*Math.random());return e+n}xd.receivers=[];var Cd=function(){function e(t){J(this,e),this.target=t,this.handlers=new Set}return Z(e,[{key:"removeMessageHandler",value:function(e){e.messageChannel&&(e.messageChannel.port1.removeEventListener("message",e.onMessage),e.messageChannel.port1.close()),this.handlers.delete(e)}},{key:"_send",value:function(){var e=nt(et().mark((function e(t,n){var r,i,o,a,s=this,u=arguments;return et().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(r=u.length>2&&void 0!==u[2]?u[2]:50,i="undefined"!==typeof MessageChannel?new MessageChannel:null){e.next=4;break}throw new Error("connection_unavailable");case 4:return e.abrupt("return",new Promise((function(e,u){var l=Sd("",20);i.port1.start();var c=setTimeout((function(){u(new Error("unsupported_event"))}),r);a={messageChannel:i,onMessage:function(t){var n=t;if(n.data.eventId===l)switch(n.data.status){case"ack":clearTimeout(c),o=setTimeout((function(){u(new Error("timeout"))}),3e3);break;case"done":clearTimeout(o),e(n.data.response);break;default:clearTimeout(c),clearTimeout(o),u(new Error("invalid_response"))}}},s.handlers.add(a),i.port1.addEventListener("message",a.onMessage),s.target.postMessage({eventType:t,eventId:l,data:n},[i.port2])})).finally((function(){a&&s.removeMessageHandler(a)})));case 5:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}()}]),e}();function Ed(){return window}function Td(){return"undefined"!==typeof Ed().WorkerGlobalScope&&"function"===typeof Ed().importScripts}function Nd(){return Pd.apply(this,arguments)}function Pd(){return(Pd=nt(et().mark((function e(){var t;return et().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(null===navigator||void 0===navigator?void 0:navigator.serviceWorker){e.next=2;break}return e.abrupt("return",null);case 2:return e.prev=2,e.next=5,navigator.serviceWorker.ready;case 5:return t=e.sent,e.abrupt("return",t.active);case 9:return e.prev=9,e.t0=e.catch(2),e.abrupt("return",null);case 12:case"end":return e.stop()}}),e,null,[[2,9]])})))).apply(this,arguments)}function Od(){var e;return(null===(e=null===navigator||void 0===navigator?void 0:navigator.serviceWorker)||void 0===e?void 0:e.controller)||null}var Rd="firebaseLocalStorageDb",Ad="firebaseLocalStorage",Dd="fbase_key",Ld=function(){function e(t){J(this,e),this.request=t}return Z(e,[{key:"toPromise",value:function(){var e=this;return new Promise((function(t,n){e.request.addEventListener("success",(function(){t(e.request.result)})),e.request.addEventListener("error",(function(){n(e.request.error)}))}))}}]),e}();function Md(e,t){return e.transaction([Ad],t?"readwrite":"readonly").objectStore(Ad)}function Fd(){var e=indexedDB.deleteDatabase(Rd);return new Ld(e).toPromise()}function Ud(){var e=indexedDB.open(Rd,1);return new Promise((function(t,n){e.addEventListener("error",(function(){n(e.error)})),e.addEventListener("upgradeneeded",(function(){var t=e.result;try{t.createObjectStore(Ad,{keyPath:Dd})}catch(r){n(r)}})),e.addEventListener("success",nt(et().mark((function n(){var r;return et().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:if((r=e.result).objectStoreNames.contains(Ad)){n.next=12;break}return r.close(),n.next=5,Fd();case 5:return n.t0=t,n.next=8,Ud();case 8:n.t1=n.sent,(0,n.t0)(n.t1),n.next=13;break;case 12:t(r);case 13:case"end":return n.stop()}}),n)}))))}))}function jd(e,t,n){return zd.apply(this,arguments)}function zd(){return(zd=nt(et().mark((function e(t,n,r){var i,a;return et().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a=Md(t,!0).put((o(i={},Dd,n),o(i,"value",r),i)),e.abrupt("return",new Ld(a).toPromise());case 2:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function qd(e,t){return Wd.apply(this,arguments)}function Wd(){return(Wd=nt(et().mark((function e(t,n){var r,i;return et().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=Md(t,!1).get(n),e.next=3,new Ld(r).toPromise();case 3:return i=e.sent,e.abrupt("return",void 0===i?null:i.value);case 5:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function Vd(e,t){var n=Md(e,!0).delete(t);return new Ld(n).toPromise()}var Bd=function(){function e(){J(this,e),this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then((function(){}),(function(){}))}return Z(e,[{key:"_openDb",value:function(){var e=nt(et().mark((function e(){return et().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!this.db){e.next=2;break}return e.abrupt("return",this.db);case 2:return e.next=4,Ud();case 4:return this.db=e.sent,e.abrupt("return",this.db);case 6:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"_withRetries",value:function(){var e=nt(et().mark((function e(t){var n,r;return et().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:n=0;case 1:return e.prev=2,e.next=5,this._openDb();case 5:return r=e.sent,e.next=8,t(r);case 8:return e.abrupt("return",e.sent);case 11:if(e.prev=11,e.t0=e.catch(2),!(n++>3)){e.next=15;break}throw e.t0;case 15:this.db&&(this.db.close(),this.db=void 0);case 16:e.next=1;break;case 18:case"end":return e.stop()}}),e,this,[[2,11]])})));return function(t){return e.apply(this,arguments)}}()},{key:"initializeServiceWorkerMessaging",value:function(){var e=nt(et().mark((function e(){return et().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",Td()?this.initializeReceiver():this.initializeSender());case 1:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"initializeReceiver",value:function(){var e=nt(et().mark((function e(){var t=this;return et().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:this.receiver=xd._getInstance(Td()?self:null),this.receiver._subscribe("keyChanged",function(){var e=nt(et().mark((function e(n,r){var i;return et().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,t._poll();case 2:return i=e.sent,e.abrupt("return",{keyProcessed:i.includes(r.key)});case 4:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}()),this.receiver._subscribe("ping",function(){var e=nt(et().mark((function e(t,n){return et().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",["keyChanged"]);case 1:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}());case 3:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"initializeSender",value:function(){var e=nt(et().mark((function e(){var t,n,r;return et().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Nd();case 2:if(this.activeServiceWorker=e.sent,this.activeServiceWorker){e.next=5;break}return e.abrupt("return");case 5:return this.sender=new Cd(this.activeServiceWorker),e.next=8,this.sender._send("ping",{},800);case 8:if(r=e.sent){e.next=11;break}return e.abrupt("return");case 11:(null===(t=r[0])||void 0===t?void 0:t.fulfilled)&&(null===(n=r[0])||void 0===n?void 0:n.value.includes("keyChanged"))&&(this.serviceWorkerReceiverAvailable=!0);case 12:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"notifyServiceWorker",value:function(){var e=nt(et().mark((function e(t){return et().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(this.sender&&this.activeServiceWorker&&Od()===this.activeServiceWorker){e.next=2;break}return e.abrupt("return");case 2:return e.prev=2,e.next=5,this.sender._send("keyChanged",{key:t},this.serviceWorkerReceiverAvailable?800:50);case 5:e.next=9;break;case 7:e.prev=7,e.t0=e.catch(2);case 9:case"end":return e.stop()}}),e,this,[[2,7]])})));return function(t){return e.apply(this,arguments)}}()},{key:"_isAvailable",value:function(){var e=nt(et().mark((function e(){var t;return et().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(e.prev=0,indexedDB){e.next=3;break}return e.abrupt("return",!1);case 3:return e.next=5,Ud();case 5:return t=e.sent,e.next=8,jd(t,yd,"1");case 8:return e.next=10,Vd(t,yd);case 10:return e.abrupt("return",!0);case 13:e.prev=13,e.t0=e.catch(0);case 15:return e.abrupt("return",!1);case 16:case"end":return e.stop()}}),e,null,[[0,13]])})));return function(){return e.apply(this,arguments)}}()},{key:"_withPendingWrite",value:function(){var e=nt(et().mark((function e(t){return et().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return this.pendingWrites++,e.prev=1,e.next=4,t();case 4:return e.prev=4,this.pendingWrites--,e.finish(4);case 7:case"end":return e.stop()}}),e,this,[[1,,4,7]])})));return function(t){return e.apply(this,arguments)}}()},{key:"_set",value:function(){var e=nt(et().mark((function e(t,n){var r=this;return et().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",this._withPendingWrite(nt(et().mark((function e(){return et().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,r._withRetries((function(e){return jd(e,t,n)}));case 2:return r.localCache[t]=n,e.abrupt("return",r.notifyServiceWorker(t));case 4:case"end":return e.stop()}}),e)})))));case 1:case"end":return e.stop()}}),e,this)})));return function(t,n){return e.apply(this,arguments)}}()},{key:"_get",value:function(){var e=nt(et().mark((function e(t){var n;return et().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this._withRetries((function(e){return qd(e,t)}));case 2:return n=e.sent,this.localCache[t]=n,e.abrupt("return",n);case 5:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"_remove",value:function(){var e=nt(et().mark((function e(t){var n=this;return et().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",this._withPendingWrite(nt(et().mark((function e(){return et().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,n._withRetries((function(e){return Vd(e,t)}));case 2:return delete n.localCache[t],e.abrupt("return",n.notifyServiceWorker(t));case 4:case"end":return e.stop()}}),e)})))));case 1:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"_poll",value:function(){var e=nt(et().mark((function e(){var t,n,r,i,o,a,s,u,l,c,d;return et().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this._withRetries((function(e){var t=Md(e,!1).getAll();return new Ld(t).toPromise()}));case 2:if(t=e.sent){e.next=5;break}return e.abrupt("return",[]);case 5:if(0===this.pendingWrites){e.next=7;break}return e.abrupt("return",[]);case 7:n=[],r=new Set,i=ee(t);try{for(i.s();!(o=i.n()).done;)a=o.value,s=a.fbase_key,u=a.value,r.add(s),JSON.stringify(this.localCache[s])!==JSON.stringify(u)&&(this.notifyListeners(s,u),n.push(s))}catch(f){i.e(f)}finally{i.f()}for(l=0,c=Object.keys(this.localCache);l<c.length;l++)d=c[l],this.localCache[d]&&!r.has(d)&&(this.notifyListeners(d,null),n.push(d));return e.abrupt("return",n);case 13:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"notifyListeners",value:function(e,t){this.localCache[e]=t;var n=this.listeners[e];if(n)for(var r=0,i=Array.from(n);r<i.length;r++){(0,i[r])(t)}}},{key:"startPolling",value:function(){var e=this;this.stopPolling(),this.pollTimer=setInterval(nt(et().mark((function t(){return et().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.abrupt("return",e._poll());case 1:case"end":return t.stop()}}),t)}))),800)}},{key:"stopPolling",value:function(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}},{key:"_addListener",value:function(e,t){0===Object.keys(this.listeners).length&&this.startPolling(),this.listeners[e]||(this.listeners[e]=new Set,this._get(e)),this.listeners[e].add(t)}},{key:"_removeListener",value:function(e,t){this.listeners[e]&&(this.listeners[e].delete(t),0===this.listeners[e].size&&delete this.listeners[e]),0===Object.keys(this.listeners).length&&this.stopPolling()}}]),e}();Bd.type="LOCAL";var Hd=Bd;function Kd(e,t){return pu(e,"POST","/v2/accounts/mfaSignIn:start",hu(e,t))}function Gd(e){return $d.apply(this,arguments)}function $d(){return($d=nt(et().mark((function e(t){return et().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,pu(t,"GET","/v1/recaptchaParams");case 2:if(e.t0=e.sent.recaptchaSiteKey,e.t0){e.next=5;break}e.t0="";case 5:return e.abrupt("return",e.t0);case 6:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function Yd(e){return new Promise((function(t,n){var r=document.createElement("script");r.setAttribute("src",e),r.onload=t,r.onerror=function(e){var t=Qs("internal-error");t.customData=e,n(t)},r.type="text/javascript",r.charset="UTF-8",function(){var e,t;return null!==(t=null===(e=document.getElementsByTagName("head"))||void 0===e?void 0:e[0])&&void 0!==t?t:document}().appendChild(r)}))}function Qd(e){return"__".concat(e).concat(Math.floor(1e6*Math.random()))}var Jd=1e12,Xd=function(){function e(t){J(this,e),this.auth=t,this.counter=Jd,this._widgets=new Map}return Z(e,[{key:"render",value:function(e,t){var n=this.counter;return this._widgets.set(n,new Zd(e,this.auth.name,t||{})),this.counter++,n}},{key:"reset",value:function(e){var t,n=e||Jd;null===(t=this._widgets.get(n))||void 0===t||t.delete(),this._widgets.delete(n)}},{key:"getResponse",value:function(e){var t,n=e||Jd;return(null===(t=this._widgets.get(n))||void 0===t?void 0:t.getResponse())||""}},{key:"execute",value:function(){var e=nt(et().mark((function e(t){var n,r;return et().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=t||Jd,null===(n=this._widgets.get(r))||void 0===n||n.execute(),e.abrupt("return","");case 3:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()}]),e}(),Zd=function(){function e(t,n,r){var i=this;J(this,e),this.params=r,this.timerId=null,this.deleted=!1,this.responseToken=null,this.clickHandler=function(){i.execute()};var o="string"===typeof t?document.getElementById(t):t;eu(o,"argument-error",{appName:n}),this.container=o,this.isVisible="invisible"!==this.params.size,this.isVisible?this.execute():this.container.addEventListener("click",this.clickHandler)}return Z(e,[{key:"getResponse",value:function(){return this.checkIfDeleted(),this.responseToken}},{key:"delete",value:function(){this.checkIfDeleted(),this.deleted=!0,this.timerId&&(clearTimeout(this.timerId),this.timerId=null),this.container.removeEventListener("click",this.clickHandler)}},{key:"execute",value:function(){var e=this;this.checkIfDeleted(),this.timerId||(this.timerId=window.setTimeout((function(){e.responseToken=function(e){for(var t=[],n="1234567890abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ",r=0;r<e;r++)t.push(n.charAt(Math.floor(Math.random()*n.length)));return t.join("")}(50);var t=e.params,n=t.callback,r=t["expired-callback"];if(n)try{n(e.responseToken)}catch(i){}e.timerId=window.setTimeout((function(){if(e.timerId=null,e.responseToken=null,r)try{r()}catch(i){}e.isVisible&&e.execute()}),6e4)}),500))}},{key:"checkIfDeleted",value:function(){if(this.deleted)throw new Error("reCAPTCHA mock was already deleted!")}}]),e}();var ef=Qd("rcb"),tf=new uu(3e4,6e4),nf="https://www.google.com/recaptcha/api.js?",rf=function(){function e(){J(this,e),this.hostLanguage="",this.counter=0,this.librarySeparatelyLoaded=!!Ed().grecaptcha}return Z(e,[{key:"load",value:function(e){var t=this,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"";return eu(of(n),e,"argument-error"),this.shouldResolveImmediately(n)?Promise.resolve(Ed().grecaptcha):new Promise((function(r,i){var o=Ed().setTimeout((function(){i(Qs(e,"network-request-failed"))}),tf.get());Ed()[ef]=function(){Ed().clearTimeout(o),delete Ed()[ef];var a=Ed().grecaptcha;if(a){var s=a.render;a.render=function(e,n){var r=s(e,n);return t.counter++,r},t.hostLanguage=n,r(a)}else i(Qs(e,"internal-error"))},Yd("".concat(nf,"?").concat(Be({onload:ef,render:"explicit",hl:n}))).catch((function(){clearTimeout(o),i(Qs(e,"internal-error"))}))}))}},{key:"clearedOneInstance",value:function(){this.counter--}},{key:"shouldResolveImmediately",value:function(e){return!!Ed().grecaptcha&&(e===this.hostLanguage||this.counter>0||this.librarySeparatelyLoaded)}}]),e}();function of(e){return e.length<=6&&/^\s*[a-zA-Z0-9\-]*\s*$/.test(e)}var af=function(){function e(){J(this,e)}return Z(e,[{key:"load",value:function(){var e=nt(et().mark((function e(t){return et().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",new Xd(t));case 1:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()},{key:"clearedOneInstance",value:function(){}}]),e}(),sf="recaptcha",uf={theme:"light",type:"image"},lf=function(){function e(t){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:Object.assign({},uf),r=arguments.length>2?arguments[2]:void 0;J(this,e),this.parameters=n,this.type=sf,this.destroyed=!1,this.widgetId=null,this.tokenChangeListeners=new Set,this.renderPromise=null,this.recaptcha=null,this.auth=hl(r),this.isInvisible="invisible"===this.parameters.size,eu("undefined"!==typeof document,this.auth,"operation-not-supported-in-this-environment");var i="string"===typeof t?document.getElementById(t):t;eu(i,this.auth,"argument-error"),this.container=i,this.parameters.callback=this.makeTokenCallback(this.parameters.callback),this._recaptchaLoader=this.auth.settings.appVerificationDisabledForTesting?new af:new rf,this.validateStartingState()}return Z(e,[{key:"verify",value:function(){var e=nt(et().mark((function e(){var t,n,r,i=this;return et().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return this.assertNotDestroyed(),e.next=3,this.render();case 3:if(t=e.sent,n=this.getAssertedRecaptcha(),!(r=n.getResponse(t))){e.next=8;break}return e.abrupt("return",r);case 8:return e.abrupt("return",new Promise((function(e){i.tokenChangeListeners.add((function t(n){n&&(i.tokenChangeListeners.delete(t),e(n))})),i.isInvisible&&n.execute(t)})));case 9:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"render",value:function(){var e=this;try{this.assertNotDestroyed()}catch(t){return Promise.reject(t)}return this.renderPromise||(this.renderPromise=this.makeRenderPromise().catch((function(t){throw e.renderPromise=null,t}))),this.renderPromise}},{key:"_reset",value:function(){this.assertNotDestroyed(),null!==this.widgetId&&this.getAssertedRecaptcha().reset(this.widgetId)}},{key:"clear",value:function(){var e=this;this.assertNotDestroyed(),this.destroyed=!0,this._recaptchaLoader.clearedOneInstance(),this.isInvisible||this.container.childNodes.forEach((function(t){e.container.removeChild(t)}))}},{key:"validateStartingState",value:function(){eu(!this.parameters.sitekey,this.auth,"argument-error"),eu(this.isInvisible||!this.container.hasChildNodes(),this.auth,"argument-error"),eu("undefined"!==typeof document,this.auth,"operation-not-supported-in-this-environment")}},{key:"makeTokenCallback",value:function(e){var t=this;return function(n){if(t.tokenChangeListeners.forEach((function(e){return e(n)})),"function"===typeof e)e(n);else if("string"===typeof e){var r=Ed()[e];"function"===typeof r&&r(n)}}}},{key:"assertNotDestroyed",value:function(){eu(!this.destroyed,this.auth,"internal-error")}},{key:"makeRenderPromise",value:function(){var e=nt(et().mark((function e(){var t,n;return et().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.init();case 2:return this.widgetId||(t=this.container,this.isInvisible||(n=document.createElement("div"),t.appendChild(n),t=n),this.widgetId=this.getAssertedRecaptcha().render(t,this.parameters)),e.abrupt("return",this.widgetId);case 4:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"init",value:function(){var e=nt(et().mark((function e(){var t;return et().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return eu(au()&&!Td(),this.auth,"internal-error"),e.next=3,cf();case 3:return e.next=5,this._recaptchaLoader.load(this.auth,this.auth.languageCode||void 0);case 5:return this.recaptcha=e.sent,e.next=8,Gd(this.auth);case 8:eu(t=e.sent,this.auth,"internal-error"),this.parameters.sitekey=t;case 11:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"getAssertedRecaptcha",value:function(){return eu(this.recaptcha,this.auth,"internal-error"),this.recaptcha}}]),e}();function cf(){var e=null;return new Promise((function(t){"complete"!==document.readyState?(e=function(){return t()},window.addEventListener("load",e)):t()})).catch((function(t){throw e&&window.removeEventListener("load",e),t}))}var df=function(){function e(t,n){J(this,e),this.verificationId=t,this.onConfirmation=n}return Z(e,[{key:"confirm",value:function(e){var t=Jl._fromVerification(this.verificationId,e);return this.onConfirmation(t)}}]),e}();function ff(){return(ff=nt(et().mark((function e(t,n,r){var i,o;return et().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return i=hl(t),e.next=3,mf(i,n,Ze(r));case 3:return o=e.sent,e.abrupt("return",new df(o,(function(e){return Ec(i,e)})));case 5:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function hf(e,t,n){return pf.apply(this,arguments)}function pf(){return(pf=nt(et().mark((function e(t,n,r){var i,o;return et().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return i=Ze(t),e.next=3,kc(!1,i,"phone");case 3:return e.next=5,mf(i.auth,n,Ze(r));case 5:return o=e.sent,e.abrupt("return",new df(o,(function(e){return Nc(i,e)})));case 7:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function vf(){return(vf=nt(et().mark((function e(t,n,r){var i,o;return et().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return i=Ze(t),e.next=3,mf(i.auth,n,Ze(r));case 3:return o=e.sent,e.abrupt("return",new df(o,(function(e){return Oc(i,e)})));case 5:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function mf(e,t,n){return yf.apply(this,arguments)}function yf(){return yf=nt(et().mark((function e(t,n,r){var i,o,a,s,u,l,c,d,f;return et().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,r.verify();case 2:if(o=e.sent,e.prev=3,eu("string"===typeof o,t,"argument-error"),eu(r.type===sf,t,"argument-error"),!("session"in(a="string"===typeof n?{phoneNumber:n}:n))){e.next=26;break}if(s=a.session,!("phoneNumber"in a)){e.next=17;break}return eu("enroll"===s.type,t,"internal-error"),e.next=13,pd(t,{idToken:s.credential,phoneEnrollmentInfo:{phoneNumber:a.phoneNumber,recaptchaToken:o}});case 13:return u=e.sent,e.abrupt("return",u.phoneSessionInfo.sessionInfo);case 17:return eu("signin"===s.type,t,"internal-error"),eu(l=(null===(i=a.multiFactorHint)||void 0===i?void 0:i.uid)||a.multiFactorUid,t,"missing-multi-factor-info"),e.next=22,Kd(t,{mfaPendingCredential:s.credential,mfaEnrollmentId:l,phoneSignInInfo:{recaptchaToken:o}});case 22:return c=e.sent,e.abrupt("return",c.phoneResponseInfo.sessionInfo);case 24:e.next=31;break;case 26:return e.next=28,Hl(t,{phoneNumber:a.phoneNumber,recaptchaToken:o});case 28:return d=e.sent,f=d.sessionInfo,e.abrupt("return",f);case 31:return e.prev=31,r._reset(),e.finish(31);case 34:case"end":return e.stop()}}),e,null,[[3,,31,34]])}))),yf.apply(this,arguments)}function gf(){return(gf=nt(et().mark((function e(t,n){return et().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,_c(Ze(t),n);case 2:case"end":return e.stop()}}),e)})))).apply(this,arguments)}var _f=function(){function e(t){J(this,e),this.providerId=e.PROVIDER_ID,this.auth=hl(t)}return Z(e,[{key:"verifyPhoneNumber",value:function(e,t){return mf(this.auth,e,Ze(t))}}],[{key:"credential",value:function(e,t){return Jl._fromVerification(e,t)}},{key:"credentialFromResult",value:function(t){var n=t;return e.credentialFromTaggedObject(n)}},{key:"credentialFromError",value:function(t){return e.credentialFromTaggedObject(t.customData||{})}},{key:"credentialFromTaggedObject",value:function(e){var t=e._tokenResponse;if(!t)return null;var n=t.phoneNumber,r=t.temporaryProof;return n&&r?Jl._fromTokenResponse(n,r):null}}]),e}();function bf(e,t){return t?iu(t):(eu(e._popupRedirectResolver,e,"argument-error"),e._popupRedirectResolver)}_f.PROVIDER_ID="phone",_f.PHONE_SIGN_IN_METHOD="phone";var kf=function(e){re(n,e);var t=ue(n);function n(e){var r;return J(this,n),(r=t.call(this,"custom","custom")).params=e,r}return Z(n,[{key:"_getIdTokenResponse",value:function(e){return Wl(e,this._buildIdpRequest())}},{key:"_linkToIdToken",value:function(e,t){return Wl(e,this._buildIdpRequest(t))}},{key:"_getReauthenticationResolver",value:function(e){return Wl(e,this._buildIdpRequest())}},{key:"_buildIdpRequest",value:function(e){var t={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return e&&(t.idToken=e),t}}]),n}(gl);function wf(e){return Sc(e.auth,new kf(e),e.bypassAuthState)}function If(e){var t=e.auth,n=e.user;return eu(n,t,"internal-error"),Ic(n,new kf(e),e.bypassAuthState)}function xf(e){return Sf.apply(this,arguments)}function Sf(){return(Sf=nt(et().mark((function e(t){var n,r;return et().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=t.auth,eu(r=t.user,n,"internal-error"),e.abrupt("return",_c(r,new kf(t),t.bypassAuthState));case 3:case"end":return e.stop()}}),e)})))).apply(this,arguments)}var Cf=function(){function e(t,n,r,i){var o=arguments.length>4&&void 0!==arguments[4]&&arguments[4];J(this,e),this.auth=t,this.resolver=r,this.user=i,this.bypassAuthState=o,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(n)?n:[n]}return Z(e,[{key:"execute",value:function(){var e=this;return new Promise(function(){var t=nt(et().mark((function t(n,r){return et().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return e.pendingPromise={resolve:n,reject:r},t.prev=1,t.next=4,e.resolver._initialize(e.auth);case 4:return e.eventManager=t.sent,t.next=7,e.onExecution();case 7:e.eventManager.registerConsumer(e),t.next=13;break;case 10:t.prev=10,t.t0=t.catch(1),e.reject(t.t0);case 13:case"end":return t.stop()}}),t,null,[[1,10]])})));return function(e,n){return t.apply(this,arguments)}}())}},{key:"onAuthEvent",value:function(){var e=nt(et().mark((function e(t){var n,r,i,o,a,s,u;return et().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(n=t.urlResponse,r=t.sessionId,i=t.postBody,o=t.tenantId,a=t.error,s=t.type,!a){e.next=4;break}return this.reject(a),e.abrupt("return");case 4:return u={auth:this.auth,requestUri:n,sessionId:r,tenantId:o||void 0,postBody:i||void 0,user:this.user,bypassAuthState:this.bypassAuthState},e.prev=5,e.t0=this,e.next=9,this.getIdpTask(s)(u);case 9:e.t1=e.sent,e.t0.resolve.call(e.t0,e.t1),e.next=16;break;case 13:e.prev=13,e.t2=e.catch(5),this.reject(e.t2);case 16:case"end":return e.stop()}}),e,this,[[5,13]])})));return function(t){return e.apply(this,arguments)}}()},{key:"onError",value:function(e){this.reject(e)}},{key:"getIdpTask",value:function(e){switch(e){case"signInViaPopup":case"signInViaRedirect":return wf;case"linkViaPopup":case"linkViaRedirect":return xf;case"reauthViaPopup":case"reauthViaRedirect":return If;default:Ys(this.auth,"internal-error")}}},{key:"resolve",value:function(e){nu(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(e),this.unregisterAndCleanUp()}},{key:"reject",value:function(e){nu(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(e),this.unregisterAndCleanUp()}},{key:"unregisterAndCleanUp",value:function(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}}]),e}(),Ef=new uu(2e3,1e4);function Tf(e,t,n){return Nf.apply(this,arguments)}function Nf(){return(Nf=nt(et().mark((function e(t,n,r){var i,o,a;return et().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return i=hl(t),Xs(t,n,ec),o=bf(i,r),a=new Af(i,"signInViaPopup",n,o),e.abrupt("return",a.executeNotNull());case 5:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function Pf(){return(Pf=nt(et().mark((function e(t,n,r){var i,o,a;return et().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return Xs((i=Ze(t)).auth,n,ec),o=bf(i.auth,r),a=new Af(i.auth,"reauthViaPopup",n,o,i),e.abrupt("return",a.executeNotNull());case 5:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function Of(e,t,n){return Rf.apply(this,arguments)}function Rf(){return(Rf=nt(et().mark((function e(t,n,r){var i,o,a;return et().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return Xs((i=Ze(t)).auth,n,ec),o=bf(i.auth,r),a=new Af(i.auth,"linkViaPopup",n,o,i),e.abrupt("return",a.executeNotNull());case 5:case"end":return e.stop()}}),e)})))).apply(this,arguments)}var Af=function(e){re(n,e);var t=ue(n);function n(e,r,i,o,a){var s;return J(this,n),(s=t.call(this,e,r,o,a)).provider=i,s.authWindow=null,s.pollId=null,n.currentPopupAction&&n.currentPopupAction.cancel(),n.currentPopupAction=te(s),s}return Z(n,[{key:"executeNotNull",value:function(){var e=nt(et().mark((function e(){var t;return et().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.execute();case 2:return eu(t=e.sent,this.auth,"internal-error"),e.abrupt("return",t);case 5:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"onExecution",value:function(){var e=nt(et().mark((function e(){var t,n=this;return et().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return nu(1===this.filter.length,"Popup operations only handle one event"),t=Sd(),e.next=4,this.resolver._openPopup(this.auth,this.provider,this.filter[0],t);case 4:this.authWindow=e.sent,this.authWindow.associatedEvent=t,this.resolver._originValidation(this.auth).catch((function(e){n.reject(e)})),this.resolver._isIframeWebStorageSupported(this.auth,(function(e){e||n.reject(Qs(n.auth,"web-storage-unsupported"))})),this.pollUserCancellation();case 9:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"eventId",get:function(){var e;return(null===(e=this.authWindow)||void 0===e?void 0:e.associatedEvent)||null}},{key:"cancel",value:function(){this.reject(Qs(this.auth,"cancelled-popup-request"))}},{key:"cleanUp",value:function(){this.authWindow&&this.authWindow.close(),this.pollId&&window.clearTimeout(this.pollId),this.authWindow=null,this.pollId=null,n.currentPopupAction=null}},{key:"pollUserCancellation",value:function(){var e=this;!function t(){var n,r;(null===(r=null===(n=e.authWindow)||void 0===n?void 0:n.window)||void 0===r?void 0:r.closed)?e.pollId=window.setTimeout((function(){e.pollId=null,e.reject(Qs(e.auth,"popup-closed-by-user"))}),2e3):e.pollId=window.setTimeout(t,Ef.get())}()}}]),n}(Cf);Af.currentPopupAction=null;var Df=new Map,Lf=function(e){re(n,e);var t=ue(n);function n(e,r){var i,o=arguments.length>2&&void 0!==arguments[2]&&arguments[2];return J(this,n),(i=t.call(this,e,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],r,void 0,o)).eventId=null,i}return Z(n,[{key:"execute",value:function(){var e=nt(et().mark((function e(){var t,r;return et().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t=Df.get(this.auth._key())){e.next=21;break}return e.prev=2,e.next=5,Mf(this.resolver,this.auth);case 5:if(!e.sent){e.next=12;break}return e.next=9,Ns(ie(n.prototype),"execute",this).call(this);case 9:e.t0=e.sent,e.next=13;break;case 12:e.t0=null;case 13:r=e.t0,t=function(){return Promise.resolve(r)},e.next=20;break;case 17:e.prev=17,e.t1=e.catch(2),t=function(){return Promise.reject(e.t1)};case 20:Df.set(this.auth._key(),t);case 21:return this.bypassAuthState||Df.set(this.auth._key(),(function(){return Promise.resolve(null)})),e.abrupt("return",t());case 23:case"end":return e.stop()}}),e,this,[[2,17]])})));return function(){return e.apply(this,arguments)}}()},{key:"onAuthEvent",value:function(){var e=nt(et().mark((function e(t){var r;return et().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if("signInViaRedirect"!==t.type){e.next=4;break}return e.abrupt("return",Ns(ie(n.prototype),"onAuthEvent",this).call(this,t));case 4:if("unknown"!==t.type){e.next=7;break}return this.resolve(null),e.abrupt("return");case 7:if(!t.eventId){e.next=17;break}return e.next=10,this.auth._redirectUserForId(t.eventId);case 10:if(!(r=e.sent)){e.next=16;break}return this.user=r,e.abrupt("return",Ns(ie(n.prototype),"onAuthEvent",this).call(this,t));case 16:this.resolve(null);case 17:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"onExecution",value:function(){var e=nt(et().mark((function e(){return et().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}()},{key:"cleanUp",value:function(){}}]),n}(Cf);function Mf(e,t){return Ff.apply(this,arguments)}function Ff(){return(Ff=nt(et().mark((function e(t,n){var r,i,o;return et().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=Wf(n),i=qf(t),e.next=4,i._isAvailable();case 4:if(e.sent){e.next=6;break}return e.abrupt("return",!1);case 6:return e.next=8,i._get(r);case 8:return e.t0=e.sent,o="true"===e.t0,e.next=12,i._remove(r);case 12:return e.abrupt("return",o);case 13:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function Uf(e,t){return jf.apply(this,arguments)}function jf(){return(jf=nt(et().mark((function e(t,n){return et().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",qf(t)._set(Wf(n),"true"));case 1:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function zf(e,t){Df.set(e._key(),t)}function qf(e){return iu(e._redirectPersistence)}function Wf(e){return Qu("pendingRedirect",e.config.apiKey,e.name)}function Vf(e,t,n){return function(e,t,n){return Bf.apply(this,arguments)}(e,t,n)}function Bf(){return(Bf=nt(et().mark((function e(t,n,r){var i,o;return et().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return i=hl(t),Xs(t,n,ec),o=bf(i,r),e.next=5,Uf(o,i);case 5:return e.abrupt("return",o._openRedirect(i,n,"signInViaRedirect"));case 6:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function Hf(e,t,n){return function(e,t,n){return Kf.apply(this,arguments)}(e,t,n)}function Kf(){return(Kf=nt(et().mark((function e(t,n,r){var i,o,a;return et().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return Xs((i=Ze(t)).auth,n,ec),o=bf(i.auth,r),e.next=5,Uf(o,i.auth);case 5:return e.next=7,Zf(i);case 7:return a=e.sent,e.abrupt("return",o._openRedirect(i.auth,n,"reauthViaRedirect",a));case 9:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function Gf(e,t,n){return function(e,t,n){return $f.apply(this,arguments)}(e,t,n)}function $f(){return($f=nt(et().mark((function e(t,n,r){var i,o,a;return et().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return Xs((i=Ze(t)).auth,n,ec),o=bf(i.auth,r),e.next=5,kc(!1,i,n.providerId);case 5:return e.next=7,Uf(o,i.auth);case 7:return e.next=9,Zf(i);case 9:return a=e.sent,e.abrupt("return",o._openRedirect(i.auth,n,"linkViaRedirect",a));case 11:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function Yf(e,t){return Qf.apply(this,arguments)}function Qf(){return(Qf=nt(et().mark((function e(t,n){return et().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,hl(t)._initializationPromise;case 2:return e.abrupt("return",Jf(t,n,!1));case 3:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function Jf(e,t){return Xf.apply(this,arguments)}function Xf(){return Xf=nt(et().mark((function e(t,n){var r,i,o,a,s,u=arguments;return et().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=u.length>2&&void 0!==u[2]&&u[2],i=hl(t),o=bf(i,n),a=new Lf(i,o,r),e.next=6,a.execute();case 6:if(!(s=e.sent)||r){e.next=13;break}return delete s.user._redirectEventId,e.next=11,i._persistUserIfCurrent(s.user);case 11:return e.next=13,i._setRedirectUser(null,n);case 13:return e.abrupt("return",s);case 14:case"end":return e.stop()}}),e)}))),Xf.apply(this,arguments)}function Zf(e){return eh.apply(this,arguments)}function eh(){return(eh=nt(et().mark((function e(t){var n;return et().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=Sd("".concat(t.uid,":::")),t._redirectEventId=n,e.next=4,t.auth._setRedirectUser(t);case 4:return e.next=6,t.auth._persistUserIfCurrent(t);case 6:return e.abrupt("return",n);case 7:case"end":return e.stop()}}),e)})))).apply(this,arguments)}var th=function(){function e(t){J(this,e),this.auth=t,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}return Z(e,[{key:"registerConsumer",value:function(e){this.consumers.add(e),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,e)&&(this.sendToConsumer(this.queuedRedirectEvent,e),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}},{key:"unregisterConsumer",value:function(e){this.consumers.delete(e)}},{key:"onEvent",value:function(e){var t=this;if(this.hasEventBeenHandled(e))return!1;var n=!1;return this.consumers.forEach((function(r){t.isEventForConsumer(e,r)&&(n=!0,t.sendToConsumer(e,r),t.saveEventToCache(e))})),this.hasHandledPotentialRedirect||!function(e){switch(e.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return rh(e);default:return!1}}(e)||(this.hasHandledPotentialRedirect=!0,n||(this.queuedRedirectEvent=e,n=!0)),n}},{key:"sendToConsumer",value:function(e,t){var n;if(e.error&&!rh(e)){var r=(null===(n=e.error.code)||void 0===n?void 0:n.split("auth/")[1])||"internal-error";t.onError(Qs(this.auth,r))}else t.onAuthEvent(e)}},{key:"isEventForConsumer",value:function(e,t){var n=null===t.eventId||!!e.eventId&&e.eventId===t.eventId;return t.filter.includes(e.type)&&n}},{key:"hasEventBeenHandled",value:function(e){return Date.now()-this.lastProcessedEventTime>=6e5&&this.cachedEventUids.clear(),this.cachedEventUids.has(nh(e))}},{key:"saveEventToCache",value:function(e){this.cachedEventUids.add(nh(e)),this.lastProcessedEventTime=Date.now()}}]),e}();function nh(e){return[e.type,e.eventId,e.sessionId,e.tenantId].filter((function(e){return e})).join("-")}function rh(e){var t=e.type,n=e.error;return"unknown"===t&&(null===n||void 0===n?void 0:n.code)==="auth/".concat("no-auth-event")}function ih(e){return oh.apply(this,arguments)}function oh(){return oh=nt(et().mark((function e(t){var n,r=arguments;return et().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=r.length>1&&void 0!==r[1]?r[1]:{},e.abrupt("return",pu(t,"GET","/v1/projects",n));case 2:case"end":return e.stop()}}),e)}))),oh.apply(this,arguments)}var ah=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,sh=/^https?/;function uh(){return(uh=nt(et().mark((function e(t){var n,r,i,o,a;return et().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!t.config.emulator){e.next=2;break}return e.abrupt("return");case 2:return e.next=4,ih(t);case 4:n=e.sent,r=n.authorizedDomains,i=ee(r),e.prev=7,i.s();case 9:if((o=i.n()).done){e.next=20;break}if(a=o.value,e.prev=11,!lh(a)){e.next=14;break}return e.abrupt("return");case 14:e.next=18;break;case 16:e.prev=16,e.t0=e.catch(11);case 18:e.next=9;break;case 20:e.next=25;break;case 22:e.prev=22,e.t1=e.catch(7),i.e(e.t1);case 25:return e.prev=25,i.f(),e.finish(25);case 28:Ys(t,"unauthorized-domain");case 29:case"end":return e.stop()}}),e,null,[[7,22,25,28],[11,16]])})))).apply(this,arguments)}function lh(e){var t=ou(),n=new URL(t),r=n.protocol,i=n.hostname;if(e.startsWith("chrome-extension://")){var o=new URL(e);return""===o.hostname&&""===i?"chrome-extension:"===r&&e.replace("chrome-extension://","")===t.replace("chrome-extension://",""):"chrome-extension:"===r&&o.hostname===i}if(!sh.test(r))return!1;if(ah.test(e))return i===e;var a=e.replace(/\./g,"\\.");return new RegExp("^(.+\\."+a+"|"+a+")$","i").test(i)}var ch=new uu(3e4,6e4);function dh(){var e=Ed().___jsl;if(null===e||void 0===e?void 0:e.H)for(var t=0,n=Object.keys(e.H);t<n.length;t++){var r=n[t];if(e.H[r].r=e.H[r].r||[],e.H[r].L=e.H[r].L||[],e.H[r].r=p(e.H[r].L),e.CP)for(var i=0;i<e.CP.length;i++)e.CP[i]=null}}var fh=null;function hh(e){return fh=fh||function(e){return new Promise((function(t,n){var r,i,o;function a(){dh(),gapi.load("gapi.iframes",{callback:function(){t(gapi.iframes.getContext())},ontimeout:function(){dh(),n(Qs(e,"network-request-failed"))},timeout:ch.get()})}if(null===(i=null===(r=Ed().gapi)||void 0===r?void 0:r.iframes)||void 0===i?void 0:i.Iframe)t(gapi.iframes.getContext());else{if(!(null===(o=Ed().gapi)||void 0===o?void 0:o.load)){var s=Qd("iframefcb");return Ed()[s]=function(){gapi.load?a():n(Qs(e,"network-request-failed"))},Yd("https://apis.google.com/js/api.js?onload=".concat(s)).catch((function(e){return n(e)}))}a()}})).catch((function(e){throw fh=null,e}))}(e),fh}var ph=new uu(5e3,15e3),vh={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},mh=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function yh(e){var t=e.config;eu(t.authDomain,e,"auth-domain-config-required");var n=t.emulator?lu(t,"emulator/auth/iframe"):"https://".concat(e.config.authDomain,"/").concat("__/auth/iframe"),r={apiKey:t.apiKey,appName:e.name,v:Qt},i=mh.get(e.config.apiHost);i&&(r.eid=i);var o=e._getFrameworks();return o.length&&(r.fw=o.join(",")),"".concat(n,"?").concat(Be(r).slice(1))}function gh(e){return _h.apply(this,arguments)}function _h(){return _h=nt(et().mark((function e(t){var n,r;return et().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,hh(t);case 2:return n=e.sent,eu(r=Ed().gapi,t,"internal-error"),e.abrupt("return",n.open({where:document.body,url:yh(t),messageHandlersFilter:r.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:vh,dontclear:!0},(function(e){return new Promise(function(){var n=nt(et().mark((function n(r,i){var o,a,s;return et().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return s=function(){Ed().clearTimeout(a),r(e)},n.next=3,e.restyle({setHideOnLeave:!1});case 3:o=Qs(t,"network-request-failed"),a=Ed().setTimeout((function(){i(o)}),ph.get()),e.ping(s).then(s,(function(){i(o)}));case 6:case"end":return n.stop()}}),n)})));return function(e,t){return n.apply(this,arguments)}}())})));case 6:case"end":return e.stop()}}),e)}))),_h.apply(this,arguments)}var bh={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"},kh="_blank",wh="http://localhost",Ih=function(){function e(t){J(this,e),this.window=t,this.associatedEvent=null}return Z(e,[{key:"close",value:function(){if(this.window)try{this.window.close()}catch(e){}}}]),e}();function xh(e,t,n){var r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:500,i=arguments.length>4&&void 0!==arguments[4]?arguments[4]:600,o=Math.max((window.screen.availHeight-i)/2,0).toString(),a=Math.max((window.screen.availWidth-r)/2,0).toString(),s="",u=Object.assign(Object.assign({},bh),{width:r.toString(),height:i.toString(),top:o,left:a}),l=Ie().toLowerCase();n&&(s=tl(l)?kh:n),Zu(l)&&(t=t||wh,u.scrollbars="yes");var c=Object.entries(u).reduce((function(e,t){var n=f(t,2),r=n[0],i=n[1];return"".concat(e).concat(r,"=").concat(i,",")}),"");if(sl(l)&&"_self"!==s)return Sh(t||"",s),new Ih(null);var d=window.open(t||"",s,c);eu(d,e,"popup-blocked");try{d.focus()}catch(h){}return new Ih(d)}function Sh(e,t){var n=document.createElement("a");n.href=e,n.target=t;var r=document.createEvent("MouseEvent");r.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),n.dispatchEvent(r)}var Ch="__/auth/handler",Eh="emulator/auth/handler";function Th(e,t,n,r,i,o){eu(e.config.authDomain,e,"auth-domain-config-required"),eu(e.config.apiKey,e,"invalid-api-key");var a={apiKey:e.config.apiKey,appName:e.name,authType:n,redirectUrl:r,v:Qt,eventId:i};if(t instanceof ec){t.setDefaultLanguage(e.languageCode),a.providerId=t.providerId||"",ze(t.getCustomParameters())||(a.customParameters=JSON.stringify(t.getCustomParameters()));for(var s=0,u=Object.entries(o||{});s<u.length;s++){var l=f(u[s],2),c=l[0],d=l[1];a[c]=d}}if(t instanceof tc){var h=t.getScopes().filter((function(e){return""!==e}));h.length>0&&(a.scopes=h.join(","))}e.tenantId&&(a.tid=e.tenantId);for(var p=a,v=0,m=Object.keys(p);v<m.length;v++){var y=m[v];void 0===p[y]&&delete p[y]}return"".concat(function(e){var t=e.config;if(!t.emulator)return"https://".concat(t.authDomain,"/").concat(Ch);return lu(t,Eh)}(e),"?").concat(Be(p).slice(1))}var Nh="webStorageSupport",Ph=function(){function e(){J(this,e),this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=wd,this._completeRedirectFn=Jf,this._overrideRedirectResult=zf}return Z(e,[{key:"_openPopup",value:function(){var e=nt(et().mark((function e(t,n,r,i){var o,a;return et().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return nu(null===(o=this.eventManagers[t._key()])||void 0===o?void 0:o.manager,"_initialize() not called before _openPopup()"),a=Th(t,n,r,ou(),i),e.abrupt("return",xh(t,a,Sd()));case 3:case"end":return e.stop()}}),e,this)})));return function(t,n,r,i){return e.apply(this,arguments)}}()},{key:"_openRedirect",value:function(){var e=nt(et().mark((function e(t,n,r,i){return et().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this._originValidation(t);case 2:return o=Th(t,n,r,ou(),i),Ed().location.href=o,e.abrupt("return",new Promise((function(){})));case 4:case"end":return e.stop()}var o}),e,this)})));return function(t,n,r,i){return e.apply(this,arguments)}}()},{key:"_initialize",value:function(e){var t=this,n=e._key();if(this.eventManagers[n]){var r=this.eventManagers[n],i=r.manager,o=r.promise;return i?Promise.resolve(i):(nu(o,"If manager is not set, promise should be"),o)}var a=this.initAndGetManager(e);return this.eventManagers[n]={promise:a},a.catch((function(){delete t.eventManagers[n]})),a}},{key:"initAndGetManager",value:function(){var e=nt(et().mark((function e(t){var n,r;return et().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,gh(t);case 2:return n=e.sent,r=new th(t),n.register("authEvent",(function(e){return eu(null===e||void 0===e?void 0:e.authEvent,t,"invalid-auth-event"),{status:r.onEvent(e.authEvent)?"ACK":"ERROR"}}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),this.eventManagers[t._key()]={manager:r},this.iframes[t._key()]=n,e.abrupt("return",r);case 8:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"_isIframeWebStorageSupported",value:function(e,t){this.iframes[e._key()].send(Nh,{type:Nh},(function(n){var r,i=null===(r=null===n||void 0===n?void 0:n[0])||void 0===r?void 0:r.webStorageSupport;void 0!==i&&t(!!i),Ys(e,"internal-error")}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}},{key:"_originValidation",value:function(e){var t=e._key();return this.originValidationPromises[t]||(this.originValidationPromises[t]=function(e){return uh.apply(this,arguments)}(e)),this.originValidationPromises[t]}},{key:"_shouldInitProactively",get:function(){return ll()||el()||al()}}]),e}(),Oh=Ph,Rh=function(e){re(n,e);var t=ue(n);function n(e){var r;return J(this,n),(r=t.call(this,"phone")).credential=e,r}return Z(n,[{key:"_finalizeEnroll",value:function(e,t,n){return function(e,t){return pu(e,"POST","/v2/accounts/mfaEnrollment:finalize",hu(e,t))}(e,{idToken:t,displayName:n,phoneVerificationInfo:this.credential._makeVerificationRequest()})}},{key:"_finalizeSignIn",value:function(e,t){return function(e,t){return pu(e,"POST","/v2/accounts/mfaSignIn:finalize",hu(e,t))}(e,{mfaPendingCredential:t,phoneVerificationInfo:this.credential._makeVerificationRequest()})}}],[{key:"_fromCredential",value:function(e){return new n(e)}}]),n}(function(){function e(t){J(this,e),this.factorId=t}return Z(e,[{key:"_process",value:function(e,t,n){switch(t.type){case"enroll":return this._finalizeEnroll(e,t.credential,n);case"signin":return this._finalizeSignIn(e,t.credential);default:return tu("unexpected MultiFactorSessionType")}}}]),e}()),Ah=function(){function e(){J(this,e)}return Z(e,null,[{key:"assertion",value:function(e){return Rh._fromCredential(e)}}]),e}();Ah.FACTOR_ID="phone";var Dh,Lh="@firebase/auth",Mh="0.20.2",Fh=function(){function e(t){J(this,e),this.auth=t,this.internalListeners=new Map}return Z(e,[{key:"getUid",value:function(){var e;return this.assertAuthConfigured(),(null===(e=this.auth.currentUser)||void 0===e?void 0:e.uid)||null}},{key:"getToken",value:function(){var e=nt(et().mark((function e(t){var n;return et().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return this.assertAuthConfigured(),e.next=3,this.auth._initializationPromise;case 3:if(this.auth.currentUser){e.next=5;break}return e.abrupt("return",null);case 5:return e.next=7,this.auth.currentUser.getIdToken(t);case 7:return n=e.sent,e.abrupt("return",{accessToken:n});case 9:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"addAuthTokenListener",value:function(e){if(this.assertAuthConfigured(),!this.internalListeners.has(e)){var t=this.auth.onIdTokenChanged((function(t){var n;e((null===(n=t)||void 0===n?void 0:n.stsTokenManager.accessToken)||null)}));this.internalListeners.set(e,t),this.updateProactiveRefresh()}}},{key:"removeAuthTokenListener",value:function(e){this.assertAuthConfigured();var t=this.internalListeners.get(e);t&&(this.internalListeners.delete(e),t(),this.updateProactiveRefresh())}},{key:"assertAuthConfigured",value:function(){eu(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}},{key:"updateProactiveRefresh",value:function(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}}]),e}();function Uh(){return window}Dh="Browser",Vt(new rt("auth",(function(e,t){var n=t.options,r=e.getProvider("app").getImmediate(),i=e.getProvider("heartbeat"),o=r.options,a=o.apiKey,s=o.authDomain;return function(e,t){eu(a&&!a.includes(":"),"invalid-api-key",{appName:e.name}),eu(!(null===s||void 0===s?void 0:s.includes(":")),"argument-error",{appName:e.name});var r={apiKey:a,authDomain:s,clientPlatform:Dh,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:cl(Dh)},i=new fl(e,t,r);return function(e,t){var n=(null===t||void 0===t?void 0:t.persistence)||[],r=(Array.isArray(n)?n:[n]).map(iu);(null===t||void 0===t?void 0:t.errorMap)&&e._updateErrorMap(t.errorMap),e._initializeWithPersistence(r,null===t||void 0===t?void 0:t.popupRedirectResolver)}(i,n),i}(r,i)}),"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((function(e,t,n){e.getProvider("auth-internal").initialize()}))),Vt(new rt("auth-internal",(function(e){return function(e){return new Fh(e)}(hl(e.getProvider("auth").getImmediate()))}),"PRIVATE").setInstantiationMode("EXPLICIT")),nn(Lh,Mh,function(e){switch(e){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";default:return}}(Dh)),nn(Lh,Mh,"esm2017");function jh(e,t,n){return zh.apply(this,arguments)}function zh(){return(zh=nt(et().mark((function e(t,n,r){var i,o,a,s,u;return et().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return o=Uh(),a=o.BuildInfo,nu(n.sessionId,"AuthEvent did not contain a session ID"),e.next=4,Kh(n.sessionId);case 4:return s=e.sent,u={},al()?u.ibi=a.packageName:rl()?u.apn=a.packageName:Ys(t,"operation-not-supported-in-this-environment"),a.displayName&&(u.appDisplayName=a.displayName),u.sessionId=s,e.abrupt("return",Th(t,r,n.type,void 0,null!==(i=n.eventId)&&void 0!==i?i:void 0,u));case 10:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function qh(){return(qh=nt(et().mark((function e(t){var n,r,i;return et().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=Uh(),r=n.BuildInfo,i={},al()?i.iosBundleId=r.packageName:rl()?i.androidPackageName=r.packageName:Ys(t,"operation-not-supported-in-this-environment"),e.next=5,ih(t,i);case 5:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function Wh(e){var t=Uh().cordova;return new Promise((function(n){t.plugins.browsertab.isAvailable((function(r){var i=null;r?t.plugins.browsertab.openUrl(e):i=t.InAppBrowser.open(e,function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Ie();return/(iPad|iPhone|iPod).*OS 7_\d/i.test(e)||/(iPad|iPhone|iPod).*OS 8_\d/i.test(e)}()?"_blank":"_system","location=yes"),n(i)}))}))}function Vh(e,t,n){return Bh.apply(this,arguments)}function Bh(){return(Bh=nt(et().mark((function e(t,n,r){var i,o,a;return et().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return i=Uh(),o=i.cordova,a=function(){},e.prev=2,e.next=5,new Promise((function(e,i){var s=null;function u(){var t;e();var n=null===(t=o.plugins.browsertab)||void 0===t?void 0:t.close;"function"===typeof n&&n(),"function"===typeof(null===r||void 0===r?void 0:r.close)&&r.close()}function l(){s||(s=window.setTimeout((function(){i(Qs(t,"redirect-cancelled-by-user"))}),2e3))}function c(){"visible"===(null===document||void 0===document?void 0:document.visibilityState)&&l()}n.addPassiveListener(u),document.addEventListener("resume",l,!1),rl()&&document.addEventListener("visibilitychange",c,!1),a=function(){n.removePassiveListener(u),document.removeEventListener("resume",l,!1),document.removeEventListener("visibilitychange",c,!1),s&&window.clearTimeout(s)}}));case 5:return e.prev=5,a(),e.finish(5);case 8:case"end":return e.stop()}}),e,null,[[2,,5,8]])})))).apply(this,arguments)}function Hh(e){var t,n,r,i,o,a,s,u,l,c,d=Uh();eu("function"===typeof(null===(t=null===d||void 0===d?void 0:d.universalLinks)||void 0===t?void 0:t.subscribe),e,"invalid-cordova-configuration",{missingPlugin:"cordova-universal-links-plugin-fix"}),eu("undefined"!==typeof(null===(n=null===d||void 0===d?void 0:d.BuildInfo)||void 0===n?void 0:n.packageName),e,"invalid-cordova-configuration",{missingPlugin:"cordova-plugin-buildInfo"}),eu("function"===typeof(null===(o=null===(i=null===(r=null===d||void 0===d?void 0:d.cordova)||void 0===r?void 0:r.plugins)||void 0===i?void 0:i.browsertab)||void 0===o?void 0:o.openUrl),e,"invalid-cordova-configuration",{missingPlugin:"cordova-plugin-browsertab"}),eu("function"===typeof(null===(u=null===(s=null===(a=null===d||void 0===d?void 0:d.cordova)||void 0===a?void 0:a.plugins)||void 0===s?void 0:s.browsertab)||void 0===u?void 0:u.isAvailable),e,"invalid-cordova-configuration",{missingPlugin:"cordova-plugin-browsertab"}),eu("function"===typeof(null===(c=null===(l=null===d||void 0===d?void 0:d.cordova)||void 0===l?void 0:l.InAppBrowser)||void 0===c?void 0:c.open),e,"invalid-cordova-configuration",{missingPlugin:"cordova-plugin-inappbrowser"})}function Kh(e){return Gh.apply(this,arguments)}function Gh(){return(Gh=nt(et().mark((function e(t){var n,r,i;return et().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=$h(t),e.next=3,crypto.subtle.digest("SHA-256",n);case 3:return r=e.sent,i=Array.from(new Uint8Array(r)),e.abrupt("return",i.map((function(e){return e.toString(16).padStart(2,"0")})).join(""));case 6:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function $h(e){if(nu(/[0-9a-zA-Z]+/.test(e),"Can only convert alpha-numeric strings"),"undefined"!==typeof TextEncoder)return(new TextEncoder).encode(e);for(var t=new ArrayBuffer(e.length),n=new Uint8Array(t),r=0;r<e.length;r++)n[r]=e.charCodeAt(r);return n}var Yh=function(e){re(n,e);var t=ue(n);function n(){var e;return J(this,n),(e=t.apply(this,arguments)).passiveListeners=new Set,e.initPromise=new Promise((function(t){e.resolveInialized=t})),e}return Z(n,[{key:"addPassiveListener",value:function(e){this.passiveListeners.add(e)}},{key:"removePassiveListener",value:function(e){this.passiveListeners.delete(e)}},{key:"resetRedirect",value:function(){this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1}},{key:"onEvent",value:function(e){return this.resolveInialized(),this.passiveListeners.forEach((function(t){return t(e)})),Ns(ie(n.prototype),"onEvent",this).call(this,e)}},{key:"initialized",value:function(){var e=nt(et().mark((function e(){return et().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.initPromise;case 2:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()}]),n}(th);function Qh(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null;return{type:t,eventId:n,urlResponse:null,sessionId:tp(),postBody:null,tenantId:e.tenantId,error:Qs(e,"no-auth-event")}}function Jh(e,t){return np()._set(rp(e),t)}function Xh(e){return Zh.apply(this,arguments)}function Zh(){return(Zh=nt(et().mark((function e(t){var n;return et().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,np()._get(rp(t));case 2:if(!(n=e.sent)){e.next=6;break}return e.next=6,np()._remove(rp(t));case 6:return e.abrupt("return",n);case 7:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function ep(e,t){var n,r,i=function(e){var t=ip(e),n=t.link?decodeURIComponent(t.link):void 0,r=ip(n).link,i=t.deep_link_id?decodeURIComponent(t.deep_link_id):void 0;return ip(i).link||i||r||n||e}(t);if(i.includes("/__/auth/callback")){var o=ip(i),a=o.firebaseError?function(e){try{return JSON.parse(e)}catch(t){return null}}(decodeURIComponent(o.firebaseError)):null,s=null===(r=null===(n=null===a||void 0===a?void 0:a.code)||void 0===n?void 0:n.split("auth/"))||void 0===r?void 0:r[1],u=s?Qs(s):null;return u?{type:e.type,eventId:e.eventId,tenantId:e.tenantId,error:u,urlResponse:null,sessionId:null,postBody:null}:{type:e.type,eventId:e.eventId,tenantId:e.tenantId,sessionId:e.sessionId,urlResponse:i,postBody:null}}return null}function tp(){for(var e=[],t="1234567890abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ",n=0;n<20;n++){var r=Math.floor(Math.random()*t.length);e.push(t.charAt(r))}return e.join("")}function np(){return iu(bd)}function rp(e){return Qu("authEvent",e.config.apiKey,e.name)}function ip(e){if(!(null===e||void 0===e?void 0:e.includes("?")))return{};var t,n=e.split("?"),r=u(t=n)||h(t)||c(t)||d();r[0];return He(r.slice(1).join("?"))}var op=function(){function e(){J(this,e),this._redirectPersistence=wd,this._shouldInitProactively=!0,this.eventManagers=new Map,this.originValidationPromises={},this._completeRedirectFn=Jf,this._overrideRedirectResult=zf}return Z(e,[{key:"_initialize",value:function(){var e=nt(et().mark((function e(t){var n,r;return et().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=t._key(),(r=this.eventManagers.get(n))||(r=new Yh(t),this.eventManagers.set(n,r),this.attachCallbackListeners(t,r)),e.abrupt("return",r);case 4:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"_openPopup",value:function(e){Ys(e,"operation-not-supported-in-this-environment")}},{key:"_openRedirect",value:function(){var e=nt(et().mark((function e(t,n,r,i){var o,a,s,u;return et().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return Hh(t),e.next=3,this._initialize(t);case 3:return o=e.sent,e.next=6,o.initialized();case 6:return o.resetRedirect(),Df.clear(),e.next=10,this._originValidation(t);case 10:return a=Qh(t,r,i),e.next=13,Jh(t,a);case 13:return e.next=15,jh(t,a,n);case 15:return s=e.sent,e.next=18,Wh(s);case 18:return u=e.sent,e.abrupt("return",Vh(t,o,u));case 20:case"end":return e.stop()}}),e,this)})));return function(t,n,r,i){return e.apply(this,arguments)}}()},{key:"_isIframeWebStorageSupported",value:function(e,t){throw new Error("Method not implemented.")}},{key:"_originValidation",value:function(e){var t=e._key();return this.originValidationPromises[t]||(this.originValidationPromises[t]=function(e){return qh.apply(this,arguments)}(e)),this.originValidationPromises[t]}},{key:"attachCallbackListeners",value:function(e,t){var n=Uh(),r=n.universalLinks,i=n.handleOpenURL,o=n.BuildInfo,a=setTimeout(nt(et().mark((function n(){return et().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,Xh(e);case 2:t.onEvent(sp());case 3:case"end":return n.stop()}}),n)}))),500),s=function(){var n=nt(et().mark((function n(r){var i,o;return et().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return clearTimeout(a),n.next=3,Xh(e);case 3:i=n.sent,o=null,i&&(null===r||void 0===r?void 0:r.url)&&(o=ep(i,r.url)),t.onEvent(o||sp());case 7:case"end":return n.stop()}}),n)})));return function(e){return n.apply(this,arguments)}}();"undefined"!==typeof r&&"function"===typeof r.subscribe&&r.subscribe(null,s);var u=i,l="".concat(o.packageName.toLowerCase(),"://");Uh().handleOpenURL=function(){var e=nt(et().mark((function e(t){return et().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t.toLowerCase().startsWith(l)&&s({url:t}),"function"===typeof u)try{u(t)}catch(n){console.error(n)}case 2:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()}}]),e}(),ap=op;function sp(){return{type:"unknown",eventId:null,sessionId:null,urlResponse:null,postBody:null,tenantId:null,error:Qs("no-auth-event")}}function up(){var e;return(null===(e=null===self||void 0===self?void 0:self.location)||void 0===e?void 0:e.protocol)||null}function lp(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Ie();return!("file:"!==up()&&"ionic:"!==up()&&"capacitor:"!==up()||!e.toLowerCase().match(/iphone|ipad|ipod|android/))}function cp(){return Te()&&11===(null===document||void 0===document?void 0:document.documentMode)}function dp(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Ie();return/Edge\/\d+/.test(e)}function fp(){try{var e=self.localStorage,t=Sd();if(e)return e.setItem(t,"1"),e.removeItem(t),!function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Ie();return cp()||dp(e)}()||Pe()}catch(n){return hp()&&Pe()}return!1}function hp(){return"undefined"!==typeof n.g&&"WorkerGlobalScope"in n.g&&"importScripts"in n.g}function pp(){return("http:"===up()||"https:"===up()||Ce()||lp())&&!(Ee()||Se())&&fp()&&!hp()}function vp(){return lp()&&"undefined"!==typeof document}function mp(){return yp.apply(this,arguments)}function yp(){return(yp=nt(et().mark((function e(){return et().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(vp()){e.next=2;break}return e.abrupt("return",!1);case 2:return e.abrupt("return",new Promise((function(e){var t=setTimeout((function(){e(!1)}),1e3);document.addEventListener("deviceready",(function(){clearTimeout(t),e(!0)}))})));case 3:case"end":return e.stop()}}),e)})))).apply(this,arguments)}var gp={LOCAL:"local",NONE:"none",SESSION:"session"},_p=eu,bp="persistence";function kp(e,t){_p(Object.values(gp).includes(t),e,"invalid-persistence-type"),Ee()?_p(t!==gp.SESSION,e,"unsupported-persistence-type"):Se()?_p(t===gp.NONE,e,"unsupported-persistence-type"):hp()?_p(t===gp.NONE||t===gp.LOCAL&&Pe(),e,"unsupported-persistence-type"):_p(t===gp.NONE||fp(),e,"unsupported-persistence-type")}function wp(e){return Ip.apply(this,arguments)}function Ip(){return(Ip=nt(et().mark((function e(t){var n,r;return et().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,t._initializationPromise;case 2:n=xp(),r=Qu(bp,t.config.apiKey,t.name),n&&n.setItem(r,t._getPersistence());case 5:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function xp(){var e;try{return(null===(e="undefined"!==typeof window?window:null)||void 0===e?void 0:e.sessionStorage)||null}catch(t){return null}}var Sp=eu,Cp=function(){function e(){J(this,e),this.browserResolver=iu(Oh),this.cordovaResolver=iu(ap),this.underlyingResolver=null,this._redirectPersistence=wd,this._completeRedirectFn=Jf,this._overrideRedirectResult=zf}return Z(e,[{key:"_initialize",value:function(){var e=nt(et().mark((function e(t){return et().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.selectUnderlyingResolver();case 2:return e.abrupt("return",this.assertedUnderlyingResolver._initialize(t));case 3:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"_openPopup",value:function(){var e=nt(et().mark((function e(t,n,r,i){return et().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.selectUnderlyingResolver();case 2:return e.abrupt("return",this.assertedUnderlyingResolver._openPopup(t,n,r,i));case 3:case"end":return e.stop()}}),e,this)})));return function(t,n,r,i){return e.apply(this,arguments)}}()},{key:"_openRedirect",value:function(){var e=nt(et().mark((function e(t,n,r,i){return et().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.selectUnderlyingResolver();case 2:return e.abrupt("return",this.assertedUnderlyingResolver._openRedirect(t,n,r,i));case 3:case"end":return e.stop()}}),e,this)})));return function(t,n,r,i){return e.apply(this,arguments)}}()},{key:"_isIframeWebStorageSupported",value:function(e,t){this.assertedUnderlyingResolver._isIframeWebStorageSupported(e,t)}},{key:"_originValidation",value:function(e){return this.assertedUnderlyingResolver._originValidation(e)}},{key:"_shouldInitProactively",get:function(){return vp()||this.browserResolver._shouldInitProactively}},{key:"assertedUnderlyingResolver",get:function(){return Sp(this.underlyingResolver,"internal-error"),this.underlyingResolver}},{key:"selectUnderlyingResolver",value:function(){var e=nt(et().mark((function e(){var t;return et().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!this.underlyingResolver){e.next=2;break}return e.abrupt("return");case 2:return e.next=4,mp();case 4:t=e.sent,this.underlyingResolver=t?this.cordovaResolver:this.browserResolver;case 6:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()}]),e}();function Ep(e){return e.unwrap()}function Tp(e,t){var n,r=null===(n=t.customData)||void 0===n?void 0:n._tokenResponse;if("auth/multi-factor-auth-required"===t.code)t.resolver=new Ap(e,function(e,t){var n,r=Ze(e),i=t;return eu(t.customData.operationType,r,"argument-error"),eu(null===(n=i.customData._serverResponse)||void 0===n?void 0:n.mfaPendingCredential,r,"argument-error"),hd._fromError(r,i)}(e,t));else if(r){var i=Np(t),o=t;i&&(o.credential=i,o.tenantId=r.tenantId||void 0,o.email=r.email||void 0,o.phoneNumber=r.phoneNumber||void 0)}}function Np(e){var t=(e instanceof Oe?e.customData:e)._tokenResponse;if(!t)return null;if(!(e instanceof Oe)&&"temporaryProof"in t&&"phoneNumber"in t)return _f.credentialFromResult(e);var n,r=t.providerId;if(!r||r===Ls)return null;switch(r){case Ds:n=ic;break;case Rs:n=rc;break;case As:n=oc;break;case Ms:n=uc;break;default:var i=t.oauthIdToken,o=t.oauthAccessToken,a=t.oauthTokenSecret,s=t.pendingToken,u=t.nonce;return o||a||i||s?s?r.startsWith("saml.")?ac._create(r,s):Bl._fromParams({providerId:r,signInMethod:r,pendingToken:s,idToken:i,accessToken:o}):new nc(r).credential({idToken:i,accessToken:o,rawNonce:u}):null}return e instanceof Oe?n.credentialFromError(e):n.credentialFromResult(e)}function Pp(e,t){return t.catch((function(t){throw t instanceof Oe&&Tp(e,t),t})).then((function(e){var t,n=e.operationType,r=e.user;return{operationType:n,credential:(t=e,Np(t)),additionalUserInfo:dd(e),user:Dp.getOrCreate(r)}}))}function Op(e,t){return Rp.apply(this,arguments)}function Rp(){return(Rp=nt(et().mark((function e(t,n){var r;return et().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,n;case 2:return r=e.sent,e.abrupt("return",{verificationId:r.verificationId,confirm:function(e){return Pp(t,r.confirm(e))}});case 4:case"end":return e.stop()}}),e)})))).apply(this,arguments)}var Ap=function(){function e(t,n){J(this,e),this.resolver=n,this.auth=t.wrapped()}return Z(e,[{key:"session",get:function(){return this.resolver.session}},{key:"hints",get:function(){return this.resolver.hints}},{key:"resolveSignIn",value:function(e){return Pp(Ep(this.auth),this.resolver.resolveSignIn(e))}}]),e}(),Dp=function(){function e(t){J(this,e),this._delegate=t,this.multiFactor=function(e){var t=Ze(e);return md.has(t)||md.set(t,vd._fromUser(t)),md.get(t)}(t)}return Z(e,[{key:"delete",value:function(){return this._delegate.delete()}},{key:"reload",value:function(){return this._delegate.reload()}},{key:"toJSON",value:function(){return this._delegate.toJSON()}},{key:"getIdTokenResult",value:function(e){return this._delegate.getIdTokenResult(e)}},{key:"getIdToken",value:function(e){return this._delegate.getIdToken(e)}},{key:"linkAndRetrieveDataWithCredential",value:function(e){return this.linkWithCredential(e)}},{key:"linkWithCredential",value:function(){var e=nt(et().mark((function e(t){return et().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",Pp(this.auth,Nc(this._delegate,t)));case 1:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"linkWithPhoneNumber",value:function(){var e=nt(et().mark((function e(t,n){return et().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",Op(this.auth,hf(this._delegate,t,n)));case 1:case"end":return e.stop()}}),e,this)})));return function(t,n){return e.apply(this,arguments)}}()},{key:"linkWithPopup",value:function(){var e=nt(et().mark((function e(t){return et().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",Pp(this.auth,Of(this._delegate,t,Cp)));case 1:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"linkWithRedirect",value:function(){var e=nt(et().mark((function e(t){return et().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,wp(hl(this.auth));case 2:return e.abrupt("return",Gf(this._delegate,t,Cp));case 3:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"reauthenticateAndRetrieveDataWithCredential",value:function(e){return this.reauthenticateWithCredential(e)}},{key:"reauthenticateWithCredential",value:function(){var e=nt(et().mark((function e(t){return et().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",Pp(this.auth,Oc(this._delegate,t)));case 1:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"reauthenticateWithPhoneNumber",value:function(e,t){return Op(this.auth,function(e,t,n){return vf.apply(this,arguments)}(this._delegate,e,t))}},{key:"reauthenticateWithPopup",value:function(e){return Pp(this.auth,function(e,t,n){return Pf.apply(this,arguments)}(this._delegate,e,Cp))}},{key:"reauthenticateWithRedirect",value:function(){var e=nt(et().mark((function e(t){return et().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,wp(hl(this.auth));case 2:return e.abrupt("return",Hf(this._delegate,t,Cp));case 3:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"sendEmailVerification",value:function(e){return function(e,t){return Xc.apply(this,arguments)}(this._delegate,e)}},{key:"unlink",value:function(){var e=nt(et().mark((function e(t){return et().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,yc(this._delegate,t);case 2:return e.abrupt("return",this);case 3:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"updateEmail",value:function(e){return function(e,t){return rd(Ze(e),t,null)}(this._delegate,e)}},{key:"updatePassword",value:function(e){return function(e,t){return rd(Ze(e),null,t)}(this._delegate,e)}},{key:"updatePhoneNumber",value:function(e){return function(e,t){return gf.apply(this,arguments)}(this._delegate,e)}},{key:"updateProfile",value:function(e){return function(e,t){return nd.apply(this,arguments)}(this._delegate,e)}},{key:"verifyBeforeUpdateEmail",value:function(e,t){return function(e,t,n){return Zc.apply(this,arguments)}(this._delegate,e,t)}},{key:"emailVerified",get:function(){return this._delegate.emailVerified}},{key:"isAnonymous",get:function(){return this._delegate.isAnonymous}},{key:"metadata",get:function(){return this._delegate.metadata}},{key:"phoneNumber",get:function(){return this._delegate.phoneNumber}},{key:"providerData",get:function(){return this._delegate.providerData}},{key:"refreshToken",get:function(){return this._delegate.refreshToken}},{key:"tenantId",get:function(){return this._delegate.tenantId}},{key:"displayName",get:function(){return this._delegate.displayName}},{key:"email",get:function(){return this._delegate.email}},{key:"photoURL",get:function(){return this._delegate.photoURL}},{key:"providerId",get:function(){return this._delegate.providerId}},{key:"uid",get:function(){return this._delegate.uid}},{key:"auth",get:function(){return this._delegate.auth}}],[{key:"getOrCreate",value:function(t){return e.USER_MAP.has(t)||e.USER_MAP.set(t,new e(t)),e.USER_MAP.get(t)}}]),e}();Dp.USER_MAP=new WeakMap;var Lp=eu,Mp=function(){function e(t,n){if(J(this,e),this.app=t,n.isInitialized())return this._delegate=n.getImmediate(),void this.linkUnderlyingAuth();var r=t.options.apiKey;Lp(r,"invalid-api-key",{appName:t.name}),Lp(r,"invalid-api-key",{appName:t.name});var i="undefined"!==typeof window?Cp:void 0;this._delegate=n.initialize({options:{persistence:Up(r,t.name),popupRedirectResolver:i}}),this._delegate._updateErrorMap(Bs),this.linkUnderlyingAuth()}return Z(e,[{key:"emulatorConfig",get:function(){return this._delegate.emulatorConfig}},{key:"currentUser",get:function(){return this._delegate.currentUser?Dp.getOrCreate(this._delegate.currentUser):null}},{key:"languageCode",get:function(){return this._delegate.languageCode},set:function(e){this._delegate.languageCode=e}},{key:"settings",get:function(){return this._delegate.settings}},{key:"tenantId",get:function(){return this._delegate.tenantId},set:function(e){this._delegate.tenantId=e}},{key:"useDeviceLanguage",value:function(){this._delegate.useDeviceLanguage()}},{key:"signOut",value:function(){return this._delegate.signOut()}},{key:"useEmulator",value:function(e,t){vl(this._delegate,e,t)}},{key:"applyActionCode",value:function(e){return function(e,t){return qc.apply(this,arguments)}(this._delegate,e)}},{key:"checkActionCode",value:function(e){return Wc(this._delegate,e)}},{key:"confirmPasswordReset",value:function(e,t){return function(e,t,n){return zc.apply(this,arguments)}(this._delegate,e,t)}},{key:"createUserWithEmailAndPassword",value:function(){var e=nt(et().mark((function e(t,n){return et().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",Pp(this._delegate,Hc(this._delegate,t,n)));case 1:case"end":return e.stop()}}),e,this)})));return function(t,n){return e.apply(this,arguments)}}()},{key:"fetchProvidersForEmail",value:function(e){return this.fetchSignInMethodsForEmail(e)}},{key:"fetchSignInMethodsForEmail",value:function(e){return function(e,t){return Jc.apply(this,arguments)}(this._delegate,e)}},{key:"isSignInWithEmailLink",value:function(e){return function(e,t){var n=Xl.parseLink(t);return"EMAIL_SIGNIN"===(null===n||void 0===n?void 0:n.operation)}(this._delegate,e)}},{key:"getRedirectResult",value:function(){var e=nt(et().mark((function e(){var t;return et().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return Lp(pp(),this._delegate,"operation-not-supported-in-this-environment"),e.next=3,Yf(this._delegate,Cp);case 3:if(t=e.sent){e.next=6;break}return e.abrupt("return",{credential:null,user:null});case 6:return e.abrupt("return",Pp(this._delegate,Promise.resolve(t)));case 7:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"addFrameworkForLogging",value:function(e){!function(e,t){hl(e)._logFramework(t)}(this._delegate,e)}},{key:"onAuthStateChanged",value:function(e,t,n){var r=Fp(e,t,n),i=r.next,o=r.error,a=r.complete;return this._delegate.onAuthStateChanged(i,o,a)}},{key:"onIdTokenChanged",value:function(e,t,n){var r=Fp(e,t,n),i=r.next,o=r.error,a=r.complete;return this._delegate.onIdTokenChanged(i,o,a)}},{key:"sendSignInLinkToEmail",value:function(e,t){return function(e,t,n){return Gc.apply(this,arguments)}(this._delegate,e,t)}},{key:"sendPasswordResetEmail",value:function(e,t){return function(e,t,n){return jc.apply(this,arguments)}(this._delegate,e,t||void 0)}},{key:"setPersistence",value:function(){var e=nt(et().mark((function e(t){var n,r;return et().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:kp(this._delegate,t),e.t0=t,e.next=e.t0===gp.SESSION?4:e.t0===gp.LOCAL?6:e.t0===gp.NONE?11:13;break;case 4:return n=wd,e.abrupt("break",14);case 6:return e.next=8,iu(Hd)._isAvailable();case 8:return r=e.sent,n=r?Hd:bd,e.abrupt("break",14);case 11:return n=Yu,e.abrupt("break",14);case 13:return e.abrupt("return",Ys("argument-error",{appName:this._delegate.name}));case 14:return e.abrupt("return",this._delegate.setPersistence(n));case 15:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"signInAndRetrieveDataWithCredential",value:function(e){return this.signInWithCredential(e)}},{key:"signInAnonymously",value:function(){return Pp(this._delegate,function(e){return hc.apply(this,arguments)}(this._delegate))}},{key:"signInWithCredential",value:function(e){return Pp(this._delegate,Ec(this._delegate,e))}},{key:"signInWithCustomToken",value:function(e){return Pp(this._delegate,function(e,t){return Lc.apply(this,arguments)}(this._delegate,e))}},{key:"signInWithEmailAndPassword",value:function(e,t){return Pp(this._delegate,function(e,t,n){return Ec(Ze(e),Zl.credential(t,n))}(this._delegate,e,t))}},{key:"signInWithEmailLink",value:function(e,t){return Pp(this._delegate,function(e,t,n){return $c.apply(this,arguments)}(this._delegate,e,t))}},{key:"signInWithPhoneNumber",value:function(e,t){return Op(this._delegate,function(e,t,n){return ff.apply(this,arguments)}(this._delegate,e,t))}},{key:"signInWithPopup",value:function(){var e=nt(et().mark((function e(t){return et().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return Lp(pp(),this._delegate,"operation-not-supported-in-this-environment"),e.abrupt("return",Pp(this._delegate,Tf(this._delegate,t,Cp)));case 2:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"signInWithRedirect",value:function(){var e=nt(et().mark((function e(t){return et().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return Lp(pp(),this._delegate,"operation-not-supported-in-this-environment"),e.next=3,wp(this._delegate);case 3:return e.abrupt("return",Vf(this._delegate,t,Cp));case 4:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"updateCurrentUser",value:function(e){return this._delegate.updateCurrentUser(e)}},{key:"verifyPasswordResetCode",value:function(e){return function(e,t){return Bc.apply(this,arguments)}(this._delegate,e)}},{key:"unwrap",value:function(){return this._delegate}},{key:"_delete",value:function(){return this._delegate._delete()}},{key:"linkUnderlyingAuth",value:function(){var e=this;this._delegate.wrapped=function(){return e}}}]),e}();function Fp(e,t,n){var r=e;"function"!==typeof e&&(r=e.next,t=e.error,n=e.complete);var i=r;return{next:function(e){return i(e&&Dp.getOrCreate(e))},error:t,complete:n}}function Up(e,t){var n=function(e,t){var n=xp();if(!n)return[];var r=Qu(bp,e,t);switch(n.getItem(r)){case gp.NONE:return[Yu];case gp.LOCAL:return[Hd,wd];case gp.SESSION:return[wd];default:return[]}}(e,t);if("undefined"===typeof self||n.includes(Hd)||n.push(Hd),"undefined"!==typeof window)for(var r=0,i=[bd,wd];r<i.length;r++){var o=i[r];n.includes(o)||n.push(o)}return n.includes(Yu)||n.push(Yu),n}Mp.Persistence=gp;var jp=function(){function e(){J(this,e),this.providerId="phone",this._delegate=new _f(Ep(En.auth()))}return Z(e,[{key:"verifyPhoneNumber",value:function(e,t){return this._delegate.verifyPhoneNumber(e,t)}},{key:"unwrap",value:function(){return this._delegate}}],[{key:"credential",value:function(e,t){return _f.credential(e,t)}}]),e}();jp.PHONE_SIGN_IN_METHOD=_f.PHONE_SIGN_IN_METHOD,jp.PROVIDER_ID=_f.PROVIDER_ID;var zp=eu,qp=function(){function e(t,n){var r,i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:En.app();J(this,e),zp(null===(r=i.options)||void 0===r?void 0:r.apiKey,"invalid-api-key",{appName:i.name}),this._delegate=new lf(t,n,i.auth()),this.type=this._delegate.type}return Z(e,[{key:"clear",value:function(){this._delegate.clear()}},{key:"render",value:function(){return this._delegate.render()}},{key:"verify",value:function(){return this._delegate.verify()}}]),e}();!function(e){e.INTERNAL.registerComponent(new rt("auth-compat",(function(e){var t=e.getProvider("app-compat").getImmediate(),n=e.getProvider("auth");return new Mp(t,n)}),"PUBLIC").setServiceProps({ActionCodeInfo:{Operation:{EMAIL_SIGNIN:Fs,PASSWORD_RESET:Us,RECOVER_EMAIL:js,REVERT_SECOND_FACTOR_ADDITION:zs,VERIFY_AND_CHANGE_EMAIL:qs,VERIFY_EMAIL:Ws}},EmailAuthProvider:Zl,FacebookAuthProvider:rc,GithubAuthProvider:oc,GoogleAuthProvider:ic,OAuthProvider:nc,SAMLAuthProvider:sc,PhoneAuthProvider:jp,PhoneMultiFactorGenerator:Ah,RecaptchaVerifier:qp,TwitterAuthProvider:uc,Auth:Mp,AuthCredential:gl,Error:Oe}).setInstantiationMode("LAZY").setMultipleInstances(!1)),e.registerVersion("@firebase/auth-compat","0.2.15")}(En);function Wp(e){return null!=e&&"object"===typeof e&&!0===e["@@functional/placeholder"]}function Vp(e){return function t(n){return 0===arguments.length||Wp(n)?t:e.apply(this,arguments)}}function Bp(e){return function t(n,r){switch(arguments.length){case 0:return t;case 1:return Wp(n)?t:Vp((function(t){return e(n,t)}));default:return Wp(n)&&Wp(r)?t:Wp(n)?Vp((function(t){return e(t,r)})):Wp(r)?Vp((function(t){return e(n,t)})):e(n,r)}}}var Hp=Array.isArray||function(e){return null!=e&&e.length>=0&&"[object Array]"===Object.prototype.toString.call(e)};function Kp(e){return null!=e&&"function"===typeof e["@@transducer/step"]}function Gp(e,t,n){return function(){if(0===arguments.length)return n();var r=arguments[arguments.length-1];if(!Hp(r)){for(var i=0;i<e.length;){if("function"===typeof r[e[i]])return r[e[i]].apply(r,Array.prototype.slice.call(arguments,0,-1));i+=1}if(Kp(r)){var o=t.apply(null,Array.prototype.slice.call(arguments,0,-1));return o(r)}}return n.apply(this,arguments)}}function $p(e){return e&&e["@@transducer/reduced"]?e:{"@@transducer/value":e,"@@transducer/reduced":!0}}var Yp={init:function(){return this.xf["@@transducer/init"]()},result:function(e){return this.xf["@@transducer/result"](e)}},Qp=function(){function e(e,t){this.xf=t,this.f=e,this.all=!0}return e.prototype["@@transducer/init"]=Yp.init,e.prototype["@@transducer/result"]=function(e){return this.all&&(e=this.xf["@@transducer/step"](e,!0)),this.xf["@@transducer/result"](e)},e.prototype["@@transducer/step"]=function(e,t){return this.f(t)||(this.all=!1,e=$p(this.xf["@@transducer/step"](e,!1))),e},e}(),Jp=Bp(Gp(["all"],Bp((function(e,t){return new Qp(e,t)})),(function(e,t){for(var n=0;n<t.length;){if(!e(t[n]))return!1;n+=1}return!0})));function Xp(e,t){for(var n=0,r=t.length,i=Array(r);n<r;)i[n]=e(t[n]),n+=1;return i}function Zp(e){return"[object String]"===Object.prototype.toString.call(e)}var ev=Vp((function(e){return!!Hp(e)||!!e&&("object"===typeof e&&(!Zp(e)&&(0===e.length||e.length>0&&(e.hasOwnProperty(0)&&e.hasOwnProperty(e.length-1)))))})),tv=function(){function e(e){this.f=e}return e.prototype["@@transducer/init"]=function(){throw new Error("init not implemented on XWrap")},e.prototype["@@transducer/result"]=function(e){return e},e.prototype["@@transducer/step"]=function(e,t){return this.f(e,t)},e}();function nv(e,t){switch(e){case 0:return function(){return t.apply(this,arguments)};case 1:return function(e){return t.apply(this,arguments)};case 2:return function(e,n){return t.apply(this,arguments)};case 3:return function(e,n,r){return t.apply(this,arguments)};case 4:return function(e,n,r,i){return t.apply(this,arguments)};case 5:return function(e,n,r,i,o){return t.apply(this,arguments)};case 6:return function(e,n,r,i,o,a){return t.apply(this,arguments)};case 7:return function(e,n,r,i,o,a,s){return t.apply(this,arguments)};case 8:return function(e,n,r,i,o,a,s,u){return t.apply(this,arguments)};case 9:return function(e,n,r,i,o,a,s,u,l){return t.apply(this,arguments)};case 10:return function(e,n,r,i,o,a,s,u,l,c){return t.apply(this,arguments)};default:throw new Error("First argument to _arity must be a non-negative integer no greater than ten")}}var rv=Bp((function(e,t){return nv(e.length,(function(){return e.apply(t,arguments)}))})),iv=rv;function ov(e,t,n){for(var r=n.next();!r.done;){if((t=e["@@transducer/step"](t,r.value))&&t["@@transducer/reduced"]){t=t["@@transducer/value"];break}r=n.next()}return e["@@transducer/result"](t)}function av(e,t,n,r){return e["@@transducer/result"](n[r](iv(e["@@transducer/step"],e),t))}var sv="undefined"!==typeof Symbol?Symbol.iterator:"@@iterator";function uv(e,t,n){if("function"===typeof e&&(e=function(e){return new tv(e)}(e)),ev(n))return function(e,t,n){for(var r=0,i=n.length;r<i;){if((t=e["@@transducer/step"](t,n[r]))&&t["@@transducer/reduced"]){t=t["@@transducer/value"];break}r+=1}return e["@@transducer/result"](t)}(e,t,n);if("function"===typeof n["fantasy-land/reduce"])return av(e,t,n,"fantasy-land/reduce");if(null!=n[sv])return ov(e,t,n[sv]());if("function"===typeof n.next)return ov(e,t,n);if("function"===typeof n.reduce)return av(e,t,n,"reduce");throw new TypeError("reduce: list must be array or iterable")}var lv=function(){function e(e,t){this.xf=t,this.f=e}return e.prototype["@@transducer/init"]=Yp.init,e.prototype["@@transducer/result"]=Yp.result,e.prototype["@@transducer/step"]=function(e,t){return this.xf["@@transducer/step"](e,this.f(t))},e}(),cv=Bp((function(e,t){return new lv(e,t)}));function dv(e,t,n){return function(){for(var r=[],i=0,o=e,a=0;a<t.length||i<arguments.length;){var s;a<t.length&&(!Wp(t[a])||i>=arguments.length)?s=t[a]:(s=arguments[i],i+=1),r[a]=s,Wp(s)||(o-=1),a+=1}return o<=0?n.apply(this,r):nv(o,dv(e,r,n))}}var fv=Bp((function(e,t){return 1===e?Vp(t):nv(e,dv(e,[],t))}));function hv(e,t){return Object.prototype.hasOwnProperty.call(t,e)}var pv=Object.prototype.toString,vv=function(){return"[object Arguments]"===pv.call(arguments)?function(e){return"[object Arguments]"===pv.call(e)}:function(e){return hv("callee",e)}}(),mv=vv,yv=!{toString:null}.propertyIsEnumerable("toString"),gv=["constructor","valueOf","isPrototypeOf","toString","propertyIsEnumerable","hasOwnProperty","toLocaleString"],_v=function(){return arguments.propertyIsEnumerable("length")}(),bv=function(e,t){for(var n=0;n<e.length;){if(e[n]===t)return!0;n+=1}return!1},kv="function"!==typeof Object.keys||_v?Vp((function(e){if(Object(e)!==e)return[];var t,n,r=[],i=_v&&mv(e);for(t in e)!hv(t,e)||i&&"length"===t||(r[r.length]=t);if(yv)for(n=gv.length-1;n>=0;)hv(t=gv[n],e)&&!bv(r,t)&&(r[r.length]=t),n-=1;return r})):Vp((function(e){return Object(e)!==e?[]:Object.keys(e)})),wv=Bp(Gp(["fantasy-land/map","map"],cv,(function(e,t){switch(Object.prototype.toString.call(t)){case"[object Function]":return fv(t.length,(function(){return e.call(this,t.apply(this,arguments))}));case"[object Object]":return uv((function(n,r){return n[r]=e(t[r]),n}),{},kv(t));default:return Xp(e,t)}}))),Iv=wv,xv=Number.isInteger||function(e){return e<<0===e},Sv=Bp((function(e,t){var n=e<0?t.length+e:e;return Zp(t)?t.charAt(n):t[n]})),Cv=Bp((function(e,t){if(null!=t)return xv(e)?Sv(e,t):t[e]}));function Ev(e){return function t(n,r,i){switch(arguments.length){case 0:return t;case 1:return Wp(n)?t:Bp((function(t,r){return e(n,t,r)}));case 2:return Wp(n)&&Wp(r)?t:Wp(n)?Bp((function(t,n){return e(t,r,n)})):Wp(r)?Bp((function(t,r){return e(n,t,r)})):Vp((function(t){return e(n,r,t)}));default:return Wp(n)&&Wp(r)&&Wp(i)?t:Wp(n)&&Wp(r)?Bp((function(t,n){return e(t,n,i)})):Wp(n)&&Wp(i)?Bp((function(t,n){return e(t,r,n)})):Wp(r)&&Wp(i)?Bp((function(t,r){return e(n,t,r)})):Wp(n)?Vp((function(t){return e(t,r,i)})):Wp(r)?Vp((function(t){return e(n,t,i)})):Wp(i)?Vp((function(t){return e(n,r,t)})):e(n,r,i)}}}function Tv(e,t){var n;t=t||[];var r=(e=e||[]).length,i=t.length,o=[];for(n=0;n<r;)o[o.length]=e[n],n+=1;for(n=0;n<i;)o[o.length]=t[n],n+=1;return o}var Nv=Bp((function(e,t){return"function"===typeof t["fantasy-land/ap"]?t["fantasy-land/ap"](e):"function"===typeof e.ap?e.ap(t):"function"===typeof e?function(n){return e(n)(t(n))}:uv((function(e,n){return Tv(e,Iv(n,t))}),[],e)}));var Pv=Bp((function(e,t){var n=fv(e,t);return fv(e,(function(){return uv(Nv,Iv(n,arguments[0]),Array.prototype.slice.call(arguments,1))}))})),Ov=Pv,Rv=Vp((function(e){return Ov(e.length,e)}));var Av=Rv(Vp((function(e){return!e})));function Dv(e){for(var t,n=[];!(t=e.next()).done;)n.push(t.value);return n}function Lv(e,t,n){for(var r=0,i=n.length;r<i;){if(e(t,n[r]))return!0;r+=1}return!1}var Mv="function"===typeof Object.is?Object.is:function(e,t){return e===t?0!==e||1/e===1/t:e!==e&&t!==t},Fv=Vp((function(e){return null===e?"Null":void 0===e?"Undefined":Object.prototype.toString.call(e).slice(8,-1)})),Uv=Fv;function jv(e,t,n,r){var i=Dv(e);function o(e,t){return zv(e,t,n.slice(),r.slice())}return!Lv((function(e,t){return!Lv(o,t,e)}),Dv(t),i)}function zv(e,t,n,r){if(Mv(e,t))return!0;var i=Uv(e);if(i!==Uv(t))return!1;if("function"===typeof e["fantasy-land/equals"]||"function"===typeof t["fantasy-land/equals"])return"function"===typeof e["fantasy-land/equals"]&&e["fantasy-land/equals"](t)&&"function"===typeof t["fantasy-land/equals"]&&t["fantasy-land/equals"](e);if("function"===typeof e.equals||"function"===typeof t.equals)return"function"===typeof e.equals&&e.equals(t)&&"function"===typeof t.equals&&t.equals(e);switch(i){case"Arguments":case"Array":case"Object":if("function"===typeof e.constructor&&"Promise"===function(e){var t=String(e).match(/^function (\w*)/);return null==t?"":t[1]}(e.constructor))return e===t;break;case"Boolean":case"Number":case"String":if(typeof e!==typeof t||!Mv(e.valueOf(),t.valueOf()))return!1;break;case"Date":if(!Mv(e.valueOf(),t.valueOf()))return!1;break;case"Error":return e.name===t.name&&e.message===t.message;case"RegExp":if(e.source!==t.source||e.global!==t.global||e.ignoreCase!==t.ignoreCase||e.multiline!==t.multiline||e.sticky!==t.sticky||e.unicode!==t.unicode)return!1}for(var o=n.length-1;o>=0;){if(n[o]===e)return r[o]===t;o-=1}switch(i){case"Map":return e.size===t.size&&jv(e.entries(),t.entries(),n.concat([e]),r.concat([t]));case"Set":return e.size===t.size&&jv(e.values(),t.values(),n.concat([e]),r.concat([t]));case"Arguments":case"Array":case"Object":case"Boolean":case"Number":case"String":case"Date":case"Error":case"RegExp":case"Int8Array":case"Uint8Array":case"Uint8ClampedArray":case"Int16Array":case"Uint16Array":case"Int32Array":case"Uint32Array":case"Float32Array":case"Float64Array":case"ArrayBuffer":break;default:return!1}var a=kv(e);if(a.length!==kv(t).length)return!1;var s=n.concat([e]),u=r.concat([t]);for(o=a.length-1;o>=0;){var l=a[o];if(!hv(l,t)||!zv(t[l],e[l],s,u))return!1;o-=1}return!0}var qv=Bp((function(e,t){return zv(e,t,[],[])}));function Wv(e,t){return function(e,t,n){var r,i;if("function"===typeof e.indexOf)switch(typeof t){case"number":if(0===t){for(r=1/t;n<e.length;){if(0===(i=e[n])&&1/i===r)return n;n+=1}return-1}if(t!==t){for(;n<e.length;){if("number"===typeof(i=e[n])&&i!==i)return n;n+=1}return-1}return e.indexOf(t,n);case"string":case"boolean":case"function":case"undefined":return e.indexOf(t,n);case"object":if(null===t)return e.indexOf(t,n)}for(;n<e.length;){if(qv(e[n],t))return n;n+=1}return-1}(t,e,0)>=0}var Vv=function(e){return(e<10?"0":"")+e};Date.prototype.toISOString;function Bv(e,t,n){var r,i=typeof e;switch(i){case"string":case"number":return 0===e&&1/e===-1/0?!!n._items["-0"]||(t&&(n._items["-0"]=!0),!1):null!==n._nativeSet?t?(r=n._nativeSet.size,n._nativeSet.add(e),n._nativeSet.size===r):n._nativeSet.has(e):i in n._items?e in n._items[i]||(t&&(n._items[i][e]=!0),!1):(t&&(n._items[i]={},n._items[i][e]=!0),!1);case"boolean":if(i in n._items){var o=e?1:0;return!!n._items[i][o]||(t&&(n._items[i][o]=!0),!1)}return t&&(n._items[i]=e?[!1,!0]:[!0,!1]),!1;case"function":return null!==n._nativeSet?t?(r=n._nativeSet.size,n._nativeSet.add(e),n._nativeSet.size===r):n._nativeSet.has(e):i in n._items?!!Wv(e,n._items[i])||(t&&n._items[i].push(e),!1):(t&&(n._items[i]=[e]),!1);case"undefined":return!!n._items[i]||(t&&(n._items[i]=!0),!1);case"object":if(null===e)return!!n._items.null||(t&&(n._items.null=!0),!1);default:return(i=Object.prototype.toString.call(e))in n._items?!!Wv(e,n._items[i])||(t&&n._items[i].push(e),!1):(t&&(n._items[i]=[e]),!1)}}var Hv=function(){function e(){this._nativeSet="function"===typeof Set?new Set:null,this._items={}}return e.prototype.add=function(e){return!Bv(e,!0,this)},e.prototype.has=function(e){return Bv(e,!1,this)},e}();function Kv(e){return e}var Gv=Vp(Kv),$v=function(){function e(e,t){this.xf=t,this.f=e,this.set=new Hv}return e.prototype["@@transducer/init"]=Yp.init,e.prototype["@@transducer/result"]=Yp.result,e.prototype["@@transducer/step"]=function(e,t){return this.set.add(this.f(t))?this.xf["@@transducer/step"](e,t):e},e}(),Yv=Bp(Gp([],Bp((function(e,t){return new $v(e,t)})),(function(e,t){for(var n,r,i=new Hv,o=[],a=0;a<t.length;)n=e(r=t[a]),i.add(n)&&o.push(r),a+=1;return o}))),Qv=Yv(Gv);"function"===typeof Object.assign&&Object.assign;var Jv=Bp((function(e,t){return null==t||t!==t?e:t})),Xv=Ev((function(e,t,n){return Jv(e,Cv(t,n))})),Zv=Xv,em="\t\n\v\f\r \xa0\u1680\u2000\u2001\u2002\u2003\u2004\u2005\u2006\u2007\u2008\u2009\u200a\u202f\u205f\u3000\u2028\u2029\ufeff";String.prototype.trim;function tm(){return"object"===typeof window&&void 0!==(null===window||void 0===window?void 0:window.document)}var nm=n(450),rm=n.n(nm),im=n(245),om=n(667),am=n.n(om),sm=n(764);function um(e){return um="function"===typeof Symbol&&"symbol"===typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"===typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},um(e)}function lm(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function cm(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function dm(e,t,n){return t&&cm(e.prototype,t),n&&cm(e,n),e}function fm(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function hm(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{},r=Object.keys(n);"function"===typeof Object.getOwnPropertySymbols&&(r=r.concat(Object.getOwnPropertySymbols(n).filter((function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable})))),r.forEach((function(t){fm(e,t,n[t])}))}return e}function pm(e){return function(e){if(Array.isArray(e)){for(var t=0,n=new Array(e.length);t<e.length;t++)n[t]=e[t];return n}}(e)||function(e){if(Symbol.iterator in Object(e)||"[object Arguments]"===Object.prototype.toString.call(e))return Array.from(e)}(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance")}()}var vm="$default_instance",mm=2,ym=4096,gm=1e3,_m="$identify",bm="$groupidentify",km="api.amplitude.com",wm="api.eu.amplitude.com",Im="regionconfig.amplitude.com",xm="regionconfig.eu.amplitude.com",Sm=0,Cm=1,Em=2,Tm=3,Nm=4,Pm=5,Om=6,Rm=7,Am="amp_cookie_test",Dm="amp",Lm="",Mm="cookies",Fm="none",Um="localStorage",jm="sessionStorage",zm="revenue_amount",qm="$productId",Wm="$quantity",Vm="$price",Bm="$revenueType",Hm="amp_device_id",Km="referrer",Gm="utm_source",$m="utm_medium",Ym="utm_campaign",Qm="utm_term",Jm="utm_content",Xm="[Amplitude] Attribution Captured",Zm="http",ey="beacon",ty=function(e){for(var t="",n=0;n<e.length;n++){var r=e.charCodeAt(n);r<128?t+=String.fromCharCode(r):r>127&&r<2048?(t+=String.fromCharCode(r>>6|192),t+=String.fromCharCode(63&r|128)):(t+=String.fromCharCode(r>>12|224),t+=String.fromCharCode(r>>6&63|128),t+=String.fromCharCode(63&r|128))}return t},ny=function(e){for(var t="",n=0,r=0,i=0,o=0;n<e.length;)(r=e.charCodeAt(n))<128?(t+=String.fromCharCode(r),n++):r>191&&r<224?(i=e.charCodeAt(n+1),t+=String.fromCharCode((31&r)<<6|63&i),n+=2):(i=e.charCodeAt(n+1),o=e.charCodeAt(n+2),t+=String.fromCharCode((15&r)<<12|(63&i)<<6|63&o),n+=3);return t},ry="undefined"!==typeof globalThis?globalThis:"undefined"!==typeof window?window:"undefined"!==typeof self?self:"undefined"!==typeof n.g?n.g:void 0,iy={_keyStr:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=",encode:function(e){try{if(ry.btoa&&ry.atob)return ry.btoa(unescape(encodeURIComponent(e)))}catch(t){}return iy._encode(e)},_encode:function(e){var t,n,r,i,o,a,s,u="",l=0;for(e=ty(e);l<e.length;)i=(t=e.charCodeAt(l++))>>2,o=(3&t)<<4|(n=e.charCodeAt(l++))>>4,a=(15&n)<<2|(r=e.charCodeAt(l++))>>6,s=63&r,isNaN(n)?a=s=64:isNaN(r)&&(s=64),u=u+iy._keyStr.charAt(i)+iy._keyStr.charAt(o)+iy._keyStr.charAt(a)+iy._keyStr.charAt(s);return u},decode:function(e){try{if(ry.btoa&&ry.atob)return decodeURIComponent(escape(ry.atob(e)))}catch(t){}return iy._decode(e)},_decode:function(e){var t,n,r,i,o,a,s="",u=0;for(e=e.replace(/[^A-Za-z0-9+/=]/g,"");u<e.length;)t=iy._keyStr.indexOf(e.charAt(u++))<<2|(i=iy._keyStr.indexOf(e.charAt(u++)))>>4,n=(15&i)<<4|(o=iy._keyStr.indexOf(e.charAt(u++)))>>2,r=(3&o)<<6|(a=iy._keyStr.indexOf(e.charAt(u++))),s+=String.fromCharCode(t),64!==o&&(s+=String.fromCharCode(n)),64!==a&&(s+=String.fromCharCode(r));return s=ny(s)}},oy=Object.prototype.toString;function ay(e){switch(oy.call(e)){case"[object Date]":return"date";case"[object RegExp]":return"regexp";case"[object Arguments]":return"arguments";case"[object Array]":return"array";case"[object Error]":return"error"}return null===e?"null":void 0===e?"undefined":e!==e?"nan":e&&1===e.nodeType?"element":"undefined"!==typeof Buffer&&"function"===typeof Buffer.isBuffer&&Buffer.isBuffer(e)?"buffer":um(e=e.valueOf?e.valueOf():Object.prototype.valueOf.apply(e))}var sy,uy={DISABLE:0,ERROR:1,WARN:2,INFO:3},ly=uy.WARN,cy={error:function(e){ly>=uy.ERROR&&dy(e)},warn:function(e){ly>=uy.WARN&&dy(e)},info:function(e){ly>=uy.INFO&&dy(e)}},dy=function(e){try{console.log("[Amplitude] "+e)}catch(t){}},fy=function(e){return"string"===ay(e)&&e.length>ym?e.substring(0,ym):e},hy=function(e,t,n){return ay(e)===n||(cy.error("Invalid "+t+" input type. Expected "+n+" but received "+ay(e)),!1)},py=function(e){var t=ay(e);if("object"!==t)return cy.error("Error: invalid properties format. Expecting Javascript object, received "+t+", ignoring"),{};if(Object.keys(e).length>gm)return cy.error("Error: too many properties (more than 1000), ignoring"),{};var n={};for(var r in e)if(Object.prototype.hasOwnProperty.call(e,r)){var i=r,o=ay(i);"string"!==o&&(i=String(i),cy.warn("WARNING: Non-string property key, received type "+o+', coercing to string "'+i+'"'));var a=my(i,e[r]);null!==a&&(n[i]=a)}return n},vy=["nan","function","arguments","regexp","element"],my=function e(t,n){var r=ay(n);if(-1!==vy.indexOf(r))cy.warn('WARNING: Property key "'+t+'" with invalid value type '+r+", ignoring"),n=null;else if("undefined"===r)n=null;else if("error"===r)n=String(n),cy.warn('WARNING: Property key "'+t+'" with value type error, coercing to '+n);else if("array"===r){for(var i=[],o=0;o<n.length;o++){var a=n[o],s=ay(a);"array"!==s?"object"===s?i.push(py(a)):i.push(e(t,a)):cy.warn("WARNING: Cannot have "+s+" nested in an array property value, skipping")}n=i}else"object"===r&&(n=py(n));return n},yy=function(e,t){var n=ay(t);if("string"===n)return t;if("date"===n||"number"===n||"boolean"===n)return t=String(t),cy.warn("WARNING: Non-string groupName, received type "+n+', coercing to string "'+t+'"'),t;if("array"===n){for(var r=[],i=0;i<t.length;i++){var o=t[i],a=ay(o);"array"!==a&&"object"!==a?"string"===a?r.push(o):"date"!==a&&"number"!==a&&"boolean"!==a||(o=String(o),cy.warn("WARNING: Non-string groupName, received type "+a+', coercing to string "'+o+'"'),r.push(o)):cy.warn("WARNING: Skipping nested "+a+" in array groupName")}return r}cy.warn("WARNING: Non-string groupName, received type "+n+". Please use strings or array of strings for groupName")},gy=function(e){Object.prototype.hasOwnProperty.call(uy,e)&&(ly=uy[e])},_y=cy,by=function(e){return!e||0===e.length},ky=function(){return"undefined"!==typeof WorkerGlobalScope},wy=function(e,t){e=e.replace(/[[]/,"\\[").replace(/[\]]/,"\\]");var n=new RegExp("[\\?&]"+e+"=([^&#]*)").exec(t);return null===n?void 0:decodeURIComponent(n[1].replace(/\+/g," "))},Iy=function e(t){if("array"===ay(t))for(var n=0;n<t.length;n++)t[n]=e(t[n]);else if("object"===ay(t))for(var r in t)r in t&&(t[r]=e(t[r]));else t=fy(t);return t},xy=function(e){var t=ay(e);if("object"!==t)return cy.error("Error: invalid groups format. Expecting Javascript object, received "+t+", ignoring"),{};var n={};for(var r in e)if(Object.prototype.hasOwnProperty.call(e,r)){var i=r,o=ay(i);"string"!==o&&(i=String(i),cy.warn("WARNING: Non-string groupType, received type "+o+', coercing to string "'+i+'"'));var a=yy(i,e[r]);null!==a&&(n[i]=a)}return n},Sy=hy,Cy=py,Ey=function(e){return!!hy(e,"deviceId","string")&&(!(e.indexOf(".")>=0)||(cy.error("Device IDs may not contain '.' characters. Value will be ignored: \"".concat(e,'"')),!1))},Ty=function(e){return!!hy(e,"transport","string")&&(e!==Zm&&e!==ey?(cy.error("transport value must be one of '".concat(ey,"' or '").concat(Zm,"'")),!1):!(e!==Zm&&"undefined"!==typeof navigator&&!navigator.sendBeacon)||(cy.error("browser does not support sendBeacon, so transport must be HTTP"),!1))},Ny=function(e){return!!(hy(e,"sessionId","number")&&new Date(e).getTime()>0)||(cy.error("sessionId value must in milliseconds since epoch (Unix Timestamp)"),!1)},Py=function(){return ry.location},Oy=function(){for(var e="",t=0;t<22;++t)e+="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-_".charAt(Math.floor(64*Math.random()));return e},Ry=function(e){try{for(var t=document.cookie.split(";"),n=null,r=0;r<t.length;r++){for(var i=t[r];" "===i.charAt(0);)i=i.substring(1,i.length);if(0===i.indexOf(e)){n=i.substring(e.length,i.length);break}}return n}catch(o){return null}},Ay=function(e,t,n){var r=null!==t?n.expirationDays:-1;if(r){var i=new Date;i.setTime(i.getTime()+24*r*60*60*1e3),r=i}var o=e+"="+t;r&&(o+="; expires="+r.toUTCString()),o+="; path=/",n.domain&&(o+="; domain="+n.domain),n.secure&&(o+="; Secure"),n.sameSite&&(o+="; SameSite="+n.sameSite),document.cookie=o},Dy=function(){var e,t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"",n=t.split(".")[Nm];return n&&(e=parseInt(n,32)),e||(_y.warn("unable to parse malformed cookie: ".concat(t)),0)},Ly=Ay,My=Ry,Fy=function(e){try{var t=document.cookie.split(";").map((function(e){return e.trimStart()})),n=[],r=!0,i=!1,o=void 0;try{for(var a,s=t[Symbol.iterator]();!(r=(a=s.next()).done);r=!0){for(var u=a.value;" "===u.charAt(0);)u=u.substring(1);0===u.indexOf(e)&&n.push(u.substring(e.length))}}catch(l){i=!0,o=l}finally{try{r||null==s.return||s.return()}finally{if(i)throw o}}return n}catch(c){return[]}},Uy=function(e){return pm(e).sort((function(e,t){var n=Dy(e);return Dy(t)-n}))},jy=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=Am+Oy();if("undefined"===typeof document)return!1;var n=!1;try{var r=String(Date.now());Ay(t,r,e),_y.info("Testing if cookies available"),n=Ry(t+"=")===r}catch(i){_y.warn('Error thrown when checking for cookies. Reason: "'.concat(i,'"'))}finally{_y.info("Cleaning up cookies availability test"),Ay(t,null,e)}return n},zy=function(e){var t=ry.location?ry.location.hostname:"";if(e){if("undefined"!==typeof document){var n=document.createElement("a");return n.href=e,n.hostname||t}if("function"===typeof URL)return new URL(e).hostname||t}return t},qy=function(e){var t=zy(e).split("."),n=[],r="_tldtest_"+Oy();if(ky())return"";for(var i=t.length-2;i>=0;--i)n.push(t.slice(i).join("."));for(var o=0;o<n.length;++o){var a=n[o],s={domain:"."+a};if(Ly(r,1,s),My(r))return Ly(r,null,s),a}return""},Wy={expirationDays:void 0,domain:void 0},Vy=function(e){var t="";return Wy.domain&&(t="."===Wy.domain.charAt(0)?Wy.domain.substring(1):Wy.domain),e+t},By=function(e){var t=Vy(e)+"=",n=My(t);try{if(n)return JSON.parse(iy.decode(n))}catch(r){return null}return null},Hy=function(e,t){try{return Ly(Vy(e),iy.encode(JSON.stringify(t)),Wy),!0}catch(n){return!1}},Ky=function(e){try{return Ly(Vy(e),null,Wy),!0}catch(t){return!1}},Gy={reset:function(){Wy={expirationDays:void 0,domain:void 0}},options:function(e){if(0===arguments.length)return Wy;e=e||{},Wy.expirationDays=e.expirationDays,Wy.secure=e.secure,Wy.sameSite=e.sameSite;var t=by(e.domain)?"."+qy(Py().href):e.domain,n=Math.random();Wy.domain=t,Hy("amplitude_test",n);var r=By("amplitude_test");return r&&r===n||(t=null),Ky("amplitude_test"),Wy.domain=t,Wy},get:By,set:Hy,remove:Ky,setRaw:function(e,t){try{return Ly(Vy(e),t,Wy),!0}catch(n){return!1}},getRaw:function(e){var t=Vy(e)+"=";return My(t)}},$y=function(){function e(){lm(this,e),this.map=new Map,this.length=0}return dm(e,[{key:"key",value:function(e){var t=Array.from(this.map.keys())[e];return this.map.get(t)}},{key:"getItem",value:function(e){return this.map.get(e)}},{key:"setItem",value:function(e,t){this.map.has(e)||(this.length+=1),this.map.set(e,t)}},{key:"removeItem",value:function(e){this.map.has(e)&&(this.length-=1,this.map.delete(e))}},{key:"clear",value:function(){this.map.clear(),this.length=0}}]),e}();if(function(){var e,t=new Date;try{return ry.localStorage.setItem(t,t),e=ry.localStorage.getItem(t)===String(t),ry.localStorage.removeItem(t),e}catch(n){}return!1}())sy=ry.localStorage;else if("undefined"!==typeof ry&&ry.globalStorage)try{sy=ry.globalStorage[ry.location.hostname]}catch(Gg){}else if("undefined"!==typeof document){var Yy=document.createElement("div"),Qy="localStorage";Yy.style.display="none",document.getElementsByTagName("head")[0].appendChild(Yy),Yy.addBehavior&&(Yy.addBehavior("#default#userdata"),sy={length:0,setItem:function(e,t){Yy.load(Qy),Yy.getAttribute(e)||this.length++,Yy.setAttribute(e,t),Yy.save(Qy)},getItem:function(e){return Yy.load(Qy),Yy.getAttribute(e)},removeItem:function(e){Yy.load(Qy),Yy.getAttribute(e)&&this.length--,Yy.removeAttribute(e),Yy.save(Qy)},clear:function(){Yy.load(Qy);for(var e,t=0;e=Yy.XMLDocument.documentElement.attributes[t++];)Yy.removeAttribute(e.name);Yy.save(Qy),this.length=0},key:function(e){return Yy.load(Qy),Yy.XMLDocument.documentElement.attributes[e]}},Yy.load(Qy),sy.length=Yy.XMLDocument.documentElement.attributes.length)}else ky()&&(sy=new $y);sy||(sy={length:0,setItem:function(e,t){},getItem:function(e){},removeItem:function(e){},clear:function(){},key:function(e){}});var Jy,Xy=sy,Zy=function(){this.storage=null};Zy.prototype.getStorage=function(){if(null!==this.storage)return this.storage;if(jy())this.storage=Gy;else{var e="amp_cookiestore_";this.storage={_options:{expirationDays:void 0,domain:void 0,secure:!1},reset:function(){this._options={expirationDays:void 0,domain:void 0,secure:!1}},options:function(e){return 0===arguments.length?this._options:(e=e||{},this._options.expirationDays=e.expirationDays||this._options.expirationDays,this._options.domain=e.domain||this._options.domain||ry&&ry.location&&ry.location.hostname,this._options.secure=e.secure||!1)},get:function(t){try{return JSON.parse(Xy.getItem(e+t))}catch(Gg){}return null},set:function(t,n){try{return Xy.setItem(e+t,JSON.stringify(n)),!0}catch(Gg){}return!1},remove:function(t){try{Xy.removeItem(e+t)}catch(Gg){return!1}}}}return this.storage};var eg=(fm(Jy={},Mm,!0),fm(Jy,Fm,!0),fm(Jy,Um,!0),fm(Jy,jm,!0),Jy),tg=function(){function e(t){var n=t.storageKey,r=t.disableCookies,i=t.domain,o=t.secure,a=t.sameSite,s=t.expirationDays,u=t.storage;lm(this,e),this.storageKey=n,this.domain=i,this.secure=o,this.sameSite=a,this.expirationDays=s,this.cookieDomain="";var l=Py()?Py().href:void 0,c=qy(l);if(this.cookieDomain=i||(c?"."+c:null),eg[u])this.storage=u;else{var d=r||!jy({domain:this.cookieDomain,secure:this.secure,sameSite:this.sameSite,expirationDays:this.expirationDays});this.storage=d?Um:Mm}}return dm(e,[{key:"getCookieStorageKey",value:function(){if(!this.domain)return this.storageKey;var e="."===this.domain.charAt(0)?this.domain.substring(1):this.domain;return"".concat(this.storageKey).concat(e?"_".concat(e):"")}},{key:"save",value:function(e){var t=e.deviceId,n=e.userId,r=e.optOut,i=e.sessionId,o=e.lastEventTime,a=e.eventId,s=e.identifyId,u=e.sequenceNumber;if(this.storage!==Fm){var l=[t,iy.encode(n||""),r?"1":"",i?i.toString(32):"0",o?o.toString(32):"0",a?a.toString(32):"0",s?s.toString(32):"0",u?u.toString(32):"0"].join(".");switch(this.storage){case jm:ry.sessionStorage&&ry.sessionStorage.setItem(this.storageKey,l);break;case Um:Xy.setItem(this.storageKey,l);break;case Mm:this.saveCookie(l)}}}},{key:"saveCookie",value:function(e){Ly(this.getCookieStorageKey(),e,{domain:this.cookieDomain,secure:this.secure,sameSite:this.sameSite,expirationDays:this.expirationDays})}},{key:"load",value:function(){var e,t=this;if(this.storage===Mm){var n=this.getCookieStorageKey()+"=",r=Fy(n);if(0===r.length||1===r.length)e=r[0];else{var i=Uy(r)[0];r.forEach((function(){return Ly(t.getCookieStorageKey(),null,{})})),this.saveCookie(i),e=My(n)}}if(e||(e=Xy.getItem(this.storageKey)),!e)try{e=ry.sessionStorage&&ry.sessionStorage.getItem(this.storageKey)}catch(Gg){_y.info('window.sessionStorage unavailable. Reason: "'.concat(Gg,'"'))}if(!e)return null;var o=e.split("."),a=null;if(o[Cm])try{a=iy.decode(o[Cm])}catch(Gg){a=null}return{deviceId:o[Sm],userId:a,optOut:"1"===o[Em],sessionId:parseInt(o[Tm],32),lastEventTime:parseInt(o[Nm],32),eventId:parseInt(o[Pm],32),identifyId:parseInt(o[Om],32),sequenceNumber:parseInt(o[Rm],32)}}},{key:"clear",value:function(){var e;if(this.storage===Mm&&(e=My(this.getCookieStorageKey()+"="),Ly(this.getCookieStorageKey(),null,{domain:this.cookieDomain,secure:this.secure,sameSite:this.sameSite,expirationDays:0})),e||(e=Xy.getItem(this.storageKey),Xy.clear()),!e)try{e=ry.sessionStorage&&ry.sessionStorage.getItem(this.storageKey),ry.sessionStorage.clear()}catch(Gg){_y.info('window.sessionStorage unavailable. Reason: "'.concat(Gg,'"'))}return!!e}}]),e}(),ng="$clearAll",rg=function(){this.userPropertiesOperations={},this.properties=[]};rg.prototype.add=function(e,t){return"number"===ay(t)||"string"===ay(t)?this._addOperation("$add",e,t):_y.error("Unsupported type for value: "+ay(t)+", expecting number or string"),this},rg.prototype.append=function(e,t){return this._addOperation("$append",e,t),this},rg.prototype.clearAll=function(){return Object.keys(this.userPropertiesOperations).length>0?(Object.prototype.hasOwnProperty.call(this.userPropertiesOperations,ng)||_y.error("Need to send $clearAll on its own Identify object without any other operations, skipping $clearAll"),this):(this.userPropertiesOperations.$clearAll="-",this)},rg.prototype.prepend=function(e,t){return this._addOperation("$prepend",e,t),this},rg.prototype.set=function(e,t){return this._addOperation("$set",e,t),this},rg.prototype.setOnce=function(e,t){return this._addOperation("$setOnce",e,t),this},rg.prototype.unset=function(e){return this._addOperation("$unset",e,"-"),this},rg.prototype.preInsert=function(e,t){return this._addOperation("$preInsert",e,t),this},rg.prototype.postInsert=function(e,t){return this._addOperation("$postInsert",e,t),this},rg.prototype.remove=function(e,t){return this._addOperation("$remove",e,t),this},rg.prototype._addOperation=function(e,t,n){Object.prototype.hasOwnProperty.call(this.userPropertiesOperations,ng)?_y.error("This identify already contains a $clearAll operation, skipping operation "+e):-1===this.properties.indexOf(t)?(Object.prototype.hasOwnProperty.call(this.userPropertiesOperations,e)||(this.userPropertiesOperations[e]={}),this.userPropertiesOperations[e][t]=n,this.properties.push(t)):_y.error('User property "'+t+'" already used in this identify, skipping operation '+e)};var ig=function(e,t,n){this.url=e,this.data=t||{},this.headers=n};ig.prototype.send=function(e){if(!!ry.XDomainRequest){var t=new ry.XDomainRequest;t.open("POST",this.url,!0),t.onload=function(){e(200,t.responseText)},t.onerror=function(){"Request Entity Too Large"===t.responseText?e(413,t.responseText):e(500,t.responseText)},t.ontimeout=function(){},t.onprogress=function(){},t.send(im.stringify(this.data))}else if("undefined"!==typeof XMLHttpRequest){var n=new XMLHttpRequest;n.open("POST",this.url,!0),n.onreadystatechange=function(){4===n.readyState&&e(n.status,n.responseText)},function(e,t){for(var n in t)("Cross-Origin-Resource-Policy"!==n||t[n])&&e.setRequestHeader(n,t[n])}(n,this.headers),n.send(im.stringify(this.data))}else{var r=void 0;fetch(this.url,{method:"POST",headers:this.headers,body:im.stringify(this.data)}).then((function(e){return r=e.status,e.text()})).then((function(t){e(r,t)}))}};var og=function(){this._price=null,this._productId=null,this._quantity=1,this._revenueType=null,this._properties=null};og.prototype.setProductId=function(e){return"string"!==ay(e)?_y.error("Unsupported type for productId: "+ay(e)+", expecting string"):by(e)?_y.error("Invalid empty productId"):this._productId=e,this},og.prototype.setQuantity=function(e){return"number"!==ay(e)?_y.error("Unsupported type for quantity: "+ay(e)+", expecting number"):this._quantity=parseInt(e),this},og.prototype.setPrice=function(e){return"number"!==ay(e)?_y.error("Unsupported type for price: "+ay(e)+", expecting number"):this._price=e,this},og.prototype.setRevenueType=function(e){return"string"!==ay(e)?_y.error("Unsupported type for revenueType: "+ay(e)+", expecting string"):this._revenueType=e,this},og.prototype.setEventProperties=function(e){return"object"!==ay(e)?_y.error("Unsupported type for eventProperties: "+ay(e)+", expecting object"):this._properties=Cy(e),this},og.prototype._isValidRevenue=function(){return"number"===ay(this._price)||(_y.error("Invalid revenue, need to set price field"),!1)},og.prototype._toJSONObject=function(){var e="object"===ay(this._properties)?this._properties:{};return null!==this._productId&&(e[qm]=this._productId),null!==this._quantity&&(e[Wm]=this._quantity),null!==this._price&&(e[Vm]=this._price),null!==this._revenueType&&(e[Bm]=this._revenueType),e};var ag=function e(t){return t?(t^16*Math.random()>>t/4).toString(16):([1e7]+-1e3+-4e3+-8e3+-1e11).replace(/[018]/g,e)},sg="US",ug="EU",lg=function(e){var t=km;switch(e){case ug:t=wm;break;case sg:t=km}return t},cg="8.18.5",dg={apiEndpoint:km,batchEvents:!1,cookieExpiration:365,cookieName:"amplitude_id",sameSiteCookie:"Lax",cookieForceUpgrade:!1,deferInitialization:!1,disableCookies:!1,deviceIdFromUrlParam:!1,domain:"",eventUploadPeriodMillis:3e4,eventUploadThreshold:30,forceHttps:!0,includeFbclid:!1,includeGclid:!1,includeReferrer:!1,includeUtm:!1,language:function(){return"undefined"!==typeof navigator&&(navigator.languages&&navigator.languages[0]||navigator.language||navigator.userLanguage)||""}(),library:{name:"amplitude-js",version:cg},logLevel:"WARN",logAttributionCapturedEvent:!1,optOut:!1,onError:function(){},onExitPage:function(){},onNewSessionStart:function(){},plan:{branch:"",source:"",version:"",versionId:""},platform:"Web",savedMaxCount:1e3,saveEvents:!0,saveParamsReferrerOncePerSession:!0,secureCookie:!1,sessionTimeout:18e5,storage:Lm,trackingOptions:{city:!0,country:!0,carrier:!0,device_manufacturer:!0,device_model:!0,dma:!0,ip_address:!0,language:!0,os_name:!0,os_version:!0,platform:!0,region:!0,version_name:!0},transport:Zm,unsetParamsReferrerOnNewSession:!1,unsentKey:"amplitude_unsent",unsentIdentifyKey:"amplitude_unsent_identify",uploadBatchSize:100,headers:{"Content-Type":"application/x-www-form-urlencoded; charset=UTF-8","Cross-Origin-Resource-Policy":"cross-origin"},serverZone:sg,useDynamicConfig:!1,serverZoneBasedApi:!1,sessionId:null},fg=function(){function e(){return lm(this,e),e.instance||(this.ingestionEndpoint=km,e.instance=this),e.instance}return dm(e,[{key:"refresh",value:function(e,t,n){var r="https";t||"https:"===ry.location.protocol||(r="http");var i=r+"://"+function(e){var t=Im;switch(e){case ug:t=xm;break;case sg:t=Im}return t}(e),o=this;if(!!ry.XDomainRequest){var a=new ry.XDomainRequest;a.open("GET",i,!0),a.onload=function(){var e=JSON.parse(a.responseText);o.ingestionEndpoint=e.ingestionEndpoint,n&&n()},a.onerror=function(){},a.ontimeout=function(){},a.onprogress=function(){},a.send()}else{var s=new XMLHttpRequest;s.open("GET",i,!0),s.onreadystatechange=function(){if(4===s.readyState&&200===s.status){var e=JSON.parse(s.responseText);o.ingestionEndpoint=e.ingestionEndpoint,n&&n()}},s.send()}}}]),e}(),hg=new fg,pg=function(e){tm()||ky()||_y.warn("amplitude-js will not work in a non-browser environment. If you are planning to add Amplitude to a node environment, please use @amplitude/node"),this._instanceName=by(e)?vm:e.toLowerCase(),this._unsentEvents=[],this._unsentIdentifys=[],this.options=hm({},dg,{trackingOptions:hm({},dg.trackingOptions)}),this.cookieStorage=(new Zy).getStorage(),this._q=[],this._sending=!1,this._updateScheduled=!1,this._onInitCallbacks=[],this._onNewSessionStartCallbacks=[],this._eventId=0,this._identifyId=0,this._lastEventTime=null,this._newSession=!1,this._sequenceNumber=0,this._sessionId=null,this._isInitialized=!1,this._connector=null,this._userAgent="undefined"!==typeof navigator&&navigator&&navigator.userAgent||null,this._ua=new(am())(this._userAgent).getResult()};pg.prototype.Identify=rg,pg.prototype.Revenue=og,pg.prototype.init=function(e,t,n,r){var i=this;if("string"!==ay(e)||by(e))_y.error("Invalid apiKey. Please re-initialize with a valid apiKey");else try{this._connector=sm.AnalyticsConnector.getInstance(this._instanceName),mg(this.options,n),(tm()||ky())&&void 0!==ry.Prototype&&Array.prototype.toJSON&&(!function(){var e;if(tm()){var t=window,n=Array;if(void 0!==t.Prototype&&void 0!==(null===(e=n.prototype)||void 0===e?void 0:e.toJSON))return delete n.prototype.toJSON,!0}}(),_y.warn("Prototype.js injected Array.prototype.toJSON. Deleting Array.prototype.toJSON to prevent double-stringify")),this.options.cookieName!==dg.cookieName&&_y.warn("The cookieName option is deprecated. We will be ignoring it for newer cookies"),this.options.serverZoneBasedApi&&(this.options.apiEndpoint=lg(this.options.serverZone)),this._refreshDynamicConfig(),this.options.apiKey=e,this._storageSuffix="_"+e+(this._instanceName===vm?"":"_"+this._instanceName),this._storageSuffixV5=e.slice(0,6),this._oldCookiename=this.options.cookieName+this._storageSuffix,this._unsentKey=this.options.unsentKey+this._storageSuffix,this._unsentIdentifyKey=this.options.unsentIdentifyKey+this._storageSuffix,this._cookieName=Dm+"_"+this._storageSuffixV5,this.cookieStorage.options({expirationDays:this.options.cookieExpiration,domain:this.options.domain,secure:this.options.secureCookie,sameSite:this.options.sameSiteCookie}),this._metadataStorage=new tg({storageKey:this._cookieName,disableCookies:this.options.disableCookies,expirationDays:this.options.cookieExpiration,domain:this.options.domain,secure:this.options.secureCookie,sameSite:this.options.sameSiteCookie,storage:this.options.storage});var o=!!this.cookieStorage.get(this._oldCookiename),a=!!this._metadataStorage.load();this._useOldCookie=!a&&o&&!this.options.cookieForceUpgrade;var s=a||o;if(this.options.deferInitialization&&!s)return void this._deferInitialization(e,t,n,r);this.options.domain=this.cookieStorage.options().domain,"string"===ay(this.options.logLevel)&&gy(this.options.logLevel);var u=Sg(this);this._apiPropertiesTrackingOptions=Object.keys(u).length>0?{tracking_options:u}:{},this.options.cookieForceUpgrade&&o&&(a||gg(this),this.cookieStorage.remove(this._oldCookiename)),yg(this),this._pendingReadStorage=!0;this.options.saveEvents&&(this._unsentEvents=this._loadSavedUnsentEvents(this.options.unsentKey).map((function(e){return{event:e}})).concat(this._unsentEvents),this._unsentIdentifys=this._loadSavedUnsentEvents(this.options.unsentIdentifyKey).map((function(e){return{event:e}})).concat(this._unsentIdentifys)),n&&n.onNewSessionStart&&this.onNewSessionStart(this.options.onNewSessionStart),function(e){n&&n.deviceId&&!Ey(n.deviceId)&&(_y.error('Invalid device ID rejected. Randomly generated UUID will be used instead of "'.concat(n.deviceId,'"')),delete n.deviceId),i.options.deviceId=i._getInitialDeviceId(n&&n.deviceId,e),i.options.userId="string"===ay(t)&&!by(t)&&t||"number"===ay(t)&&t.toString()||i.options.userId||null;var r=(new Date).getTime(),o=!i._sessionId||!i._lastEventTime||r-i._lastEventTime>i.options.sessionTimeout||i.options.sessionId;o&&(i.options.unsetParamsReferrerOnNewSession&&i._unsetUTMParams(),i._newSession=!0,i._sessionId=i.options.sessionId||r,i.options.sessionId=void 0,i.options.saveParamsReferrerOncePerSession&&i._trackParamsAndReferrer()),i.options.saveParamsReferrerOncePerSession||i._trackParamsAndReferrer(),i.options.saveEvents&&(vg(i._unsentEvents),vg(i._unsentIdentifys)),i._lastEventTime=r,bg(i),i._pendingReadStorage=!1,i._sendEventsIfReady();for(var a=0;a<i._onInitCallbacks.length;a++)i._onInitCallbacks[a](i);i._onInitCallbacks=[],i._isInitialized=!0,o&&i._runNewSessionStartCallbacks()}(),this.runQueuedFunctions(),"function"===ay(r)&&r(this);var l=this.options.onExitPage;if("function"===ay(l)&&ry.addEventListener&&!this.pageHandlersAdded){this.pageHandlersAdded=!0;ry.addEventListener("pagehide",(function(){!function(){var e=i.options.transport;i.setTransport(ey),l(),i.setTransport(e)}()}),!1)}this._connector.eventBridge.setEventReceiver((function(e){i._logEvent(e.eventType,e.eventProperties,e.userProperties)}));var c=this._connector.identityStore.editIdentity();this.options.deviceId&&c.setDeviceId(this.options.deviceId),this.options.userId&&c.setUserId(this.options.userId),c.commit()}catch(d){_y.error(d),n&&"function"===ay(n.onError)&&n.onError(d)}},pg.prototype._runNewSessionStartCallbacks=function(){for(var e=0;e<this._onNewSessionStartCallbacks.length;e++)this._onNewSessionStartCallbacks[e](this)},pg.prototype.deleteLowerLevelDomainCookies=function(){var e=zy(),t=this.options.domain&&"."===this.options.domain[0]?this.options.domain.slice(1):this.options.domain;if(t&&ky()&&e!==t&&new RegExp(t+"$").test(e)){for(var n=e.split("."),r=t.split("."),i=n.length;i>r.length;--i){var o=n.slice(n.length-i).join(".");Ly(this._cookieName,null,{domain:"."+o})}Ly(this._cookieName,null,{})}},pg.prototype._getInitialDeviceId=function(e,t){if(e)return e;if(this.options.deviceIdFromUrlParam){var n=this._getDeviceIdFromUrlParam(this._getUrlParams());if(n)return n}return this.options.deviceId?this.options.deviceId:t||Oy()};var vg=function(e){for(var t=0;t<e.length;t++){var n=e[t].event.user_properties,r=e[t].event.event_properties,i=e[t].event.groups;e[t].event.user_properties=Cy(n),e[t].event.event_properties=Cy(r),e[t].event.groups=xy(i)}};pg.prototype._trackParamsAndReferrer=function(){var e,t,n,r;if(this.options.includeUtm&&(e=this._initUtmData()),this.options.includeReferrer&&(t=this._saveReferrer(this._getReferrer())),this.options.includeGclid&&(n=this._saveGclid(this._getUrlParams())),this.options.includeFbclid&&(r=this._saveFbclid(this._getUrlParams())),this.options.logAttributionCapturedEvent){var i=hm({},e,t,n,r);Object.keys(i).length>0&&this.logEvent(Xm,i)}};var mg=function e(t,n){if("object"===ay(n)){var r=new Set(["headers"]),i=function(r){if(Object.prototype.hasOwnProperty.call(t,r)){var i=n[r],o=ay(t[r]);("transport"!==r||Ty(i))&&("sessionId"!==r||null===i?Sy(i,r+" option",o)&&("boolean"===o?t[r]=!!i:"string"===o&&!by(i)||"number"===o&&i>0||"function"===o?t[r]=i:"object"===o&&e(t[r],i)):t[r]=Ny(i)?i:null)}};for(var o in n)r.has(o)?t[o]=hm({},t[o],n[o]):Object.prototype.hasOwnProperty.call(n,o)&&i(o)}};pg.prototype.runQueuedFunctions=function(){var e=this._q;this._q=[];for(var t=0;t<e.length;t++){var n=this[e[t][0]];"function"===ay(n)&&n.apply(this,e[t].slice(1))}},pg.prototype._apiKeySet=function(e){return!by(this.options.apiKey)||(_y.error("Invalid apiKey. Please set a valid apiKey with init() before calling "+e),!1)},pg.prototype._loadSavedUnsentEvents=function(e){var t=this._getFromStorage(Xy,e),n=this._parseSavedUnsentEventsString(t,e);return this._setInStorage(Xy,e,JSON.stringify(n)),n},pg.prototype._parseSavedUnsentEventsString=function(e,t){if(by(e))return[];if("string"===ay(e))try{var n=JSON.parse(e);if("array"===ay(n))return n}catch(Gg){}return _y.error("Unable to load "+t+" events. Restart with a new empty queue."),[]},pg.prototype.isNewSession=function(){return this._newSession},pg.prototype.onInit=function(e){this._isInitialized?e(this):this._onInitCallbacks.push(e)},pg.prototype.onNewSessionStart=function(e){this._onNewSessionStartCallbacks.push(e)},pg.prototype.getSessionId=function(){return this._sessionId},pg.prototype.nextEventId=function(){return this._eventId++,this._eventId},pg.prototype.nextIdentifyId=function(){return this._identifyId++,this._identifyId},pg.prototype.nextSequenceNumber=function(){return this._sequenceNumber++,this._sequenceNumber},pg.prototype._unsentCount=function(){return this._unsentEvents.length+this._unsentIdentifys.length},pg.prototype._sendEventsIfReady=function(){return 0!==this._unsentCount()&&(this.options.batchEvents?this._unsentCount()>=this.options.eventUploadThreshold||this.options.transport===ey?(this.sendEvents(),!0):(this._updateScheduled||(this._updateScheduled=!0,setTimeout(function(){this._updateScheduled=!1,this.sendEvents()}.bind(this),this.options.eventUploadPeriodMillis)),!1):(this.sendEvents(),!0))},pg.prototype.clearStorage=function(){return this._metadataStorage.clear()},pg.prototype._getFromStorage=function(e,t){return e.getItem(t+this._storageSuffix)},pg.prototype._setInStorage=function(e,t,n){e.setItem(t+this._storageSuffix,n)};var yg=function(e){if(e._useOldCookie){var t=e.cookieStorage.get(e._oldCookiename);"object"!==ay(t)||_g(e,t)}else{var n=e._metadataStorage.load();"object"===ay(n)&&_g(e,n)}},gg=function(e){var t=e.cookieStorage.get(e._oldCookiename);"object"===ay(t)&&(_g(e,t),bg(e))},_g=function(e,t){t.deviceId&&(e.options.deviceId=t.deviceId),t.userId&&(e.options.userId=t.userId),null!==t.optOut&&void 0!==t.optOut&&!1!==t.optOut&&(e.options.optOut=t.optOut),t.sessionId&&(e._sessionId=parseInt(t.sessionId,10)),t.lastEventTime&&(e._lastEventTime=parseInt(t.lastEventTime,10)),t.eventId&&(e._eventId=parseInt(t.eventId,10)),t.identifyId&&(e._identifyId=parseInt(t.identifyId,10)),t.sequenceNumber&&(e._sequenceNumber=parseInt(t.sequenceNumber,10))},bg=function(e){var t={deviceId:e.options.deviceId,userId:e.options.userId,optOut:e.options.optOut,sessionId:e._sessionId,lastEventTime:e._lastEventTime,eventId:e._eventId,identifyId:e._identifyId,sequenceNumber:e._sequenceNumber};e._useOldCookie?e.cookieStorage.set(e.options.cookieName+e._storageSuffix,t):e._metadataStorage.save(t)};pg.prototype._initUtmData=function(e,t){e=e||this._getUrlParams();var n=function(e,t){var n=e?"?"+e.split(".").slice(-1)[0].replace(/\|/g,"&"):"",r=function(e,t,n,r){return wy(e,t)||wy(n,r)},i=r(Gm,t,"utmcsr",n),o=r($m,t,"utmcmd",n),a=r(Ym,t,"utmccn",n),s=r(Qm,t,"utmctr",n),u=r(Jm,t,"utmcct",n),l={},c=function(e,t){by(t)||(l[e]=t)};return c(Gm,i),c($m,o),c(Ym,a),c(Qm,s),c(Jm,u),l}(t=t||this.cookieStorage.get("__utmz"),e);return kg(this,n),n},pg.prototype._unsetUTMParams=function(){var e=new rg;e.unset(Km),e.unset(Gm),e.unset($m),e.unset(Ym),e.unset(Qm),e.unset(Jm),this.identify(e)};var kg=function(e,t){if("object"===ay(t)&&0!==Object.keys(t).length){var n=new rg;for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&(n.setOnce("initial_"+r,t[r]),n.set(r,t[r]));e.identify(n)}};pg.prototype._getReferrer=function(){return"undefined"!==typeof document?document.referrer:""},pg.prototype._getUrlParams=function(){return ry.location.search},pg.prototype._saveGclid=function(e){var t=wy("gclid",e);if(!by(t)){var n={gclid:t};return kg(this,n),n}},pg.prototype._saveFbclid=function(e){var t=wy("fbclid",e);if(!by(t)){var n={fbclid:t};return kg(this,n),n}},pg.prototype._getDeviceIdFromUrlParam=function(e){return wy(Hm,e)},pg.prototype._getReferringDomain=function(e){if(by(e))return null;var t=e.split("/");return t.length>=3?t[2]:null},pg.prototype._saveReferrer=function(e){if(!by(e)){var t={referrer:e,referring_domain:this._getReferringDomain(e)};return kg(this,t),t}},pg.prototype.saveEvents=function(){try{var e=JSON.stringify(this._unsentEvents.map((function(e){return e.event})));this._setInStorage(Xy,this.options.unsentKey,e)}catch(Gg){}try{var t=JSON.stringify(this._unsentIdentifys.map((function(e){return e.event})));this._setInStorage(Xy,this.options.unsentIdentifyKey,t)}catch(Gg){}},pg.prototype.setDomain=function(e){if(this._shouldDeferCall())return this._q.push(["setDomain"].concat(Array.prototype.slice.call(arguments,0)));if(Sy(e,"domain","string"))try{this.cookieStorage.options({expirationDays:this.options.cookieExpiration,secure:this.options.secureCookie,domain:e,sameSite:this.options.sameSiteCookie}),this.options.domain=this.cookieStorage.options().domain,yg(this),bg(this)}catch(Gg){_y.error(Gg)}},pg.prototype.setUserId=function(e){var t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];if(Sy(t,"startNewSession","boolean")){if(this._shouldDeferCall())return this._q.push(["setUserId"].concat(Array.prototype.slice.call(arguments,0)));try{this.options.userId=void 0!==e&&null!==e&&""+e||null,t&&(this.options.unsetParamsReferrerOnNewSession&&this._unsetUTMParams(),this._newSession=!0,this._sessionId=(new Date).getTime(),this._runNewSessionStartCallbacks(),this.options.saveParamsReferrerOncePerSession&&this._trackParamsAndReferrer()),bg(this),this._connector&&this._connector.identityStore.editIdentity().setUserId(this.options.userId).commit()}catch(Gg){_y.error(Gg)}}},pg.prototype.setGroup=function(e,t){if(this._shouldDeferCall())return this._q.push(["setGroup"].concat(Array.prototype.slice.call(arguments,0)));if(this._apiKeySet("setGroup()")&&Sy(e,"groupType","string")&&!by(e)){var n={};n[e]=t;var r=(new rg).set(e,t);this._logEvent(_m,null,null,r.userPropertiesOperations,n,null,null,null)}},pg.prototype.setOptOut=function(e){if(this._shouldDeferCall())return this._q.push(["setOptOut"].concat(Array.prototype.slice.call(arguments,0)));if(Sy(e,"enable","boolean"))try{this.options.optOut=e,bg(this)}catch(Gg){_y.error(Gg)}},pg.prototype.setSessionId=function(e){if(Sy(e,"sessionId","number"))try{this._sessionId=e,bg(this)}catch(Gg){_y.error(Gg)}},pg.prototype.resetSessionId=function(){this.setSessionId((new Date).getTime())},pg.prototype.regenerateDeviceId=function(){if(this._shouldDeferCall())return this._q.push(["regenerateDeviceId"].concat(Array.prototype.slice.call(arguments,0)));this.setDeviceId(Oy())},pg.prototype.setDeviceId=function(e){if(this._shouldDeferCall())return this._q.push(["setDeviceId"].concat(Array.prototype.slice.call(arguments,0)));if(Ey(e))try{by(e)||(this.options.deviceId=""+e,bg(this),this._connector&&this._connector.identityStore.editIdentity().setDeviceId(this.options.deviceId).commit())}catch(Gg){_y.error(Gg)}},pg.prototype.setTransport=function(e){if(this._shouldDeferCall())return this._q.push(["setTransport"].concat(Array.prototype.slice.call(arguments,0)));Ty(e)&&(this.options.transport=e)},pg.prototype.setUserProperties=function(e){if(this._shouldDeferCall())return this._q.push(["setUserProperties"].concat(Array.prototype.slice.call(arguments,0)));if(this._apiKeySet("setUserProperties()")&&Sy(e,"userProperties","object")){var t=Iy(Cy(e));if(0!==Object.keys(t).length){var n=new rg;for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&n.set(r,t[r]);this.identify(n)}}},pg.prototype.clearUserProperties=function(){if(this._shouldDeferCall())return this._q.push(["clearUserProperties"].concat(Array.prototype.slice.call(arguments,0)));if(this._apiKeySet("clearUserProperties()")){var e=new rg;e.clearAll(),this.identify(e)}};var wg=function(e,t){for(var n=0;n<t._q.length;n++){var r=e[t._q[n][0]];"function"===ay(r)&&r.apply(e,t._q[n].slice(1))}return e};pg.prototype.identify=function(e,t,n,r){if(this._shouldDeferCall())return this._q.push(["identify"].concat(Array.prototype.slice.call(arguments,0)));if(this._apiKeySet("identify()"))if("object"===ay(e)&&Object.prototype.hasOwnProperty.call(e,"_q")&&(e=wg(new rg,e)),e instanceof rg){if(Object.keys(e.userPropertiesOperations).length>0)return this._logEvent(_m,null,null,e.userPropertiesOperations,null,null,null,t,n,r);Eg(t,n,0,"No request sent",{reason:"No user property operations"})}else _y.error("Invalid identify input type. Expected Identify object but saw "+ay(e)),Eg(t,n,0,"No request sent",{reason:"Invalid identify input type"});else Eg(t,n,0,"No request sent",{reason:"API key is not set"})},pg.prototype.groupIdentify=function(e,t,n,r,i,o){if(this._shouldDeferCall())return this._q.push(["groupIdentify"].concat(Array.prototype.slice.call(arguments,0)));if(this._apiKeySet("groupIdentify()"))if(Sy(e,"group_type","string")&&!by(e))if(null!==t&&void 0!==t)if("object"===ay(n)&&Object.prototype.hasOwnProperty.call(n,"_q")&&(n=wg(new rg,n)),n instanceof rg){if(Object.keys(n.userPropertiesOperations).length>0)return this._logEvent(bm,null,null,null,fm({},e,t),n.userPropertiesOperations,null,r,i,o);Eg(r,i,0,"No request sent",{reason:"No group property operations"})}else _y.error("Invalid identify input type. Expected Identify object but saw "+ay(n)),Eg(r,i,0,"No request sent",{reason:"Invalid identify input type"});else Eg(r,i,0,"No request sent",{reason:"Invalid group name"});else Eg(r,i,0,"No request sent",{reason:"Invalid group type"});else Eg(r,i,0,"No request sent",{reason:"API key is not set"})},pg.prototype.setVersionName=function(e){if(this._shouldDeferCall())return this._q.push(["setVersionName"].concat(Array.prototype.slice.call(arguments,0)));Sy(e,"versionName","string")&&(this.options.versionName=e)},pg.prototype._logEvent=function(e,t,n,r,i,o,a,s,u,l){if(yg(this),e)if(this.options.optOut)Eg(s,u,0,"No request sent",{reason:"optOut is set to true"});else try{var c;c=e===_m||e===bm?this.nextIdentifyId():this.nextEventId();var d=this.nextSequenceNumber(),f="number"===ay(a)?a:(new Date).getTime();l?this._sessionId=-1:(!this._sessionId||!this._lastEventTime||f-this._lastEventTime>this.options.sessionTimeout)&&(this._sessionId=f,this._runNewSessionStartCallbacks()),this._lastEventTime=f,bg(this);var h=this._ua.browser.name,p=this._ua.browser.major,v=this._ua.device.model||this._ua.os.name,m=this._ua.device.vendor;r=r||{};var y=hm({},this._apiPropertiesTrackingOptions);n=hm({},n||{},y),t=t||{},i=i||{},o=o||{};var g={device_id:this.options.deviceId,user_id:this.options.userId,timestamp:f,event_id:c,session_id:this._sessionId||-1,event_type:e,version_name:this.options.versionName||null,platform:xg(this,"platform")?this.options.platform:null,os_name:xg(this,"os_name")&&h||null,os_version:xg(this,"os_version")&&p||null,device_model:xg(this,"device_model")&&v||null,device_manufacturer:xg(this,"device_manufacturer")&&m||null,language:xg(this,"language")?this.options.language:null,api_properties:n,event_properties:Iy(Cy(t)),user_properties:Iy(Cy(r)),uuid:ag(),library:this.options.library,sequence_number:d,groups:Iy(xy(i)),group_properties:Iy(Cy(o)),user_agent:this._userAgent};return Ig(this)&&(g.plan={branch:this.options.plan.branch||void 0,source:this.options.plan.source||void 0,version:this.options.plan.version||void 0,versionId:this.options.plan.versionId||void 0}),e===_m||e===bm?(this._unsentIdentifys.push({event:g,callback:s,errorCallback:u}),this._limitEventsQueued(this._unsentIdentifys)):(this._unsentEvents.push({event:g,callback:s,errorCallback:u}),this._limitEventsQueued(this._unsentEvents)),this.options.saveEvents&&this.saveEvents(),this._sendEventsIfReady(),e===_m&&this._connector&&this._connector.identityStore.editIdentity().updateUserProperties(Iy(Cy(r))).commit(),c}catch(Gg){_y.error(Gg)}else Eg(s,u,0,"No request sent",{reason:"Missing eventType"})};var Ig=function(e){return e.options.plan&&(e.options.plan.source||e.options.plan.branch||e.options.plan.version||e.options.plan.versionId)},xg=function(e,t){return!!e.options.trackingOptions[t]},Sg=function(e){for(var t=["city","country","dma","ip_address","region"],n={},r=0;r<t.length;r++){var i=t[r];xg(e,i)||(n[i]=!1)}return n};pg.prototype._limitEventsQueued=function(e){e.length>this.options.savedMaxCount&&e.splice(0,e.length-this.options.savedMaxCount).forEach((function(e){Eg(e.callback,e.errorCallback,0,"No request sent",{reason:"Event dropped because options.savedMaxCount exceeded. User may be offline or have a content blocker"})}))},pg.prototype.logEvent=function(e,t,n,r){var i=arguments.length>4&&void 0!==arguments[4]&&arguments[4];return this._shouldDeferCall()?this._q.push(["logEvent"].concat(Array.prototype.slice.call(arguments,0))):this.logEventWithTimestamp(e,t,null,n,r,i)},pg.prototype.logEventWithTimestamp=function(e,t,n,r,i){var o=arguments.length>5&&void 0!==arguments[5]&&arguments[5];return this._shouldDeferCall()?this._q.push(["logEventWithTimestamp"].concat(Array.prototype.slice.call(arguments,0))):this._apiKeySet("logEvent()")?Sy(e,"eventType","string")?by(e)?(Eg(r,i,0,"No request sent",{reason:"Missing eventType"}),-1):(Sy(o,"outOfSession","boolean")||Eg(r,i,0,"No request sent",{reason:"Invalid outOfSession value"}),this._logEvent(e,t,null,null,null,null,n,r,i,o)):(Eg(r,i,0,"No request sent",{reason:"Invalid type for eventType"}),-1):(Eg(r,i,0,"No request sent",{reason:"API key not set"}),-1)},pg.prototype.logEventWithGroups=function(e,t,n,r,i){var o=arguments.length>5&&void 0!==arguments[5]&&arguments[5];return this._shouldDeferCall()?this._q.push(["logEventWithGroups"].concat(Array.prototype.slice.call(arguments,0))):this._apiKeySet("logEventWithGroups()")?Sy(e,"eventType","string")?(Sy(o,"outOfSession","boolean")||Eg(event.callback,event.errorCallback,0,"No request sent",{reason:"Invalid outOfSession value"}),this._logEvent(e,t,null,null,n,null,null,r,i,o)):(Eg(event.callback,event.errorCallback,0,"No request sent",{reason:"Invalid type for eventType"}),-1):(Eg(event.callback,event.errorCallback,0,"No request sent",{reason:"API key not set"}),-1)};var Cg=function(e){return!isNaN(parseFloat(e))&&isFinite(e)},Eg=function(e,t,n,r,i){"function"===ay(e)&&e(n,r,i),"function"===ay(t)&&t(n,r,i)};pg.prototype.logRevenueV2=function(e){if(this._shouldDeferCall())return this._q.push(["logRevenueV2"].concat(Array.prototype.slice.call(arguments,0)));if(this._apiKeySet("logRevenueV2()"))if("object"===ay(e)&&Object.prototype.hasOwnProperty.call(e,"_q")&&(e=wg(new og,e)),e instanceof og){if(e&&e._isValidRevenue())return this.logEvent(zm,e._toJSONObject())}else _y.error("Invalid revenue input type. Expected Revenue object but saw "+ay(e))},pg.prototype.logRevenue=function(e,t,n){return this._shouldDeferCall()?this._q.push(["logRevenue"].concat(Array.prototype.slice.call(arguments,0))):this._apiKeySet("logRevenue()")&&Cg(e)&&(void 0===t||Cg(t))?this._logEvent(zm,{},{productId:n,special:"revenue_amount",quantity:t||1,price:e},null,null,null,null,null):-1},pg.prototype._logErrorsOnEvents=function(e,t,n,r){for(var i=["_unsentEvents","_unsentIdentifys"],o=0;o<i.length;o++)for(var a=i[o],s="_unsentEvents"===a?e:t,u=0;u<this[a].length;u++){var l=this[a][u];l.event.event_id<=s&&l.errorCallback&&l.errorCallback(n,r)}},pg.prototype.removeEvents=function(e,t,n,r){Tg(this,"_unsentEvents",e,n,r),Tg(this,"_unsentIdentifys",t,n,r)};var Tg=function(e,t,n,r,i){if(!(n<0)){for(var o=[],a=0;a<e[t].length;a++){var s=e[t][a];s.event.event_id>n?o.push(s):s.callback&&s.callback(r,i)}e[t]=o}};pg.prototype.sendEvents=function(){if(this._apiKeySet("sendEvents()")){if(this.options.optOut)this.removeEvents(1/0,1/0,0,"No request sent",{reason:"Opt out is set to true"});else if(0!==this._unsentCount()){if(this.options.transport!==ey){if(this._sending)return;this._sending=!0}var e=(this.options.forceHttps||"https:"===ry.location.protocol?"https":"http")+"://"+this.options.apiEndpoint,t=Math.min(this._unsentCount(),this.options.uploadBatchSize),n=this._mergeEventsAndIdentifys(t),r=n.maxEventId,i=n.maxIdentifyId,o=JSON.stringify(n.eventsToSend.map((function(e){return e.event}))),a=(new Date).getTime(),s={client:this.options.apiKey,e:o,v:mm,upload_time:a,checksum:rm()(mm+this.options.apiKey+o+a)};if(this.options.transport!==ey||"undefined"===typeof navigator){var u=this;try{new ig(e,s,this.options.headers).send((function(e,n){u._sending=!1;try{200===e&&"success"===n?(u.removeEvents(r,i,e,n),u.options.saveEvents&&u.saveEvents(),u._sendEventsIfReady()):(u._logErrorsOnEvents(r,i,e,n),413===e&&(1===u.options.uploadBatchSize&&u.removeEvents(r,i,e,n),u.options.uploadBatchSize=Math.ceil(t/2),u.sendEvents()))}catch(Gg){}}))}catch(Gg){var l="Request failed to send";_y.error(l),u._logErrorsOnEvents(r,i,0,l),u.removeEvents(r,i,0,l,{reason:Gg.message})}}else{navigator.sendBeacon(e,new URLSearchParams(s))?(this.removeEvents(r,i,200,"success"),this.options.saveEvents&&this.saveEvents()):this._logErrorsOnEvents(r,i,0,"")}}}else this.removeEvents(1/0,1/0,0,"No request sent",{reason:"API key not set"})},pg.prototype._mergeEventsAndIdentifys=function(e){for(var t=[],n=0,r=-1,i=0,o=-1;t.length<e;){var a=void 0,s=i>=this._unsentIdentifys.length,u=n>=this._unsentEvents.length;if(u&&s){_y.error("Merging Events and Identifys, less events and identifys than expected");break}s?r=(a=this._unsentEvents[n++]).event.event_id:u?o=(a=this._unsentIdentifys[i++]).event.event_id:!("sequence_number"in this._unsentEvents[n].event)||this._unsentEvents[n].event.sequence_number<this._unsentIdentifys[i].event.sequence_number?r=(a=this._unsentEvents[n++]).event.event_id:o=(a=this._unsentIdentifys[i++]).event.event_id,t.push(a)}return{eventsToSend:t,maxEventId:r,maxIdentifyId:o}},pg.prototype.setGlobalUserProperties=function(e){this.setUserProperties(e)},pg.prototype.__VERSION__=function(){return this.options.library.version},pg.prototype.setLibrary=function(e,t){null!==e&&"undefined"!==typeof e&&(this.options.library.name=e),null!==t&&"undefined"!==typeof t&&(this.options.library.version=t)},pg.prototype._shouldDeferCall=function(){return this._pendingReadStorage||this._initializationDeferred},pg.prototype._deferInitialization=function(){this._initializationDeferred=!0,this._q.push(["init"].concat(Array.prototype.slice.call(arguments,0)))},pg.prototype.enableTracking=function(){this._initializationDeferred=!1,bg(this),this.runQueuedFunctions()},pg.prototype._refreshDynamicConfig=function(){this.options.useDynamicConfig&&hg.refresh(this.options.serverZone,this.options.forceHttps,function(){this.options.apiEndpoint=hg.ingestionEndpoint}.bind(this))},pg.prototype.getDeviceId=function(){return this.options.deviceId},pg.prototype.getUserId=function(){return this.options.userId},pg.prototype.setMinTimeBetweenSessionsMillis=function(e){if(Sy(e,"timeInMillis","number")){if(this._shouldDeferCall())return this._q.push(["setMinTimeBetweenSessionsMillis"].concat(Array.prototype.slice.call(arguments,0)));try{this.options.sessionTimeout=e}catch(Gg){_y.error(Gg)}}},pg.prototype.setEventUploadThreshold=function(e){if(Sy(e,"eventUploadThreshold","number")){if(this._shouldDeferCall())return this._q.push(["setEventUploadThreshold"].concat(Array.prototype.slice.call(arguments,0)));try{this.options.eventUploadThreshold=e}catch(Gg){_y.error(Gg)}}},pg.prototype.setUseDynamicConfig=function(e){if(Sy(e,"useDynamicConfig","boolean")){if(this._shouldDeferCall())return this._q.push(["setUseDynamicConfig"].concat(Array.prototype.slice.call(arguments,0)));try{this.options.useDynamicConfig=e,this._refreshDynamicConfig()}catch(Gg){_y.error(Gg)}}},pg.prototype.setServerZone=function(e){var t=!(arguments.length>1&&void 0!==arguments[1])||arguments[1];if((e===ug||e===sg)&&Sy(t,"serverZoneBasedApi","boolean")){if(this._shouldDeferCall())return this._q.push(["setServerZone"].concat(Array.prototype.slice.call(arguments,0)));try{this.options.serverZone=e,this.options.serverZoneBasedApi=t,t&&(this.options.apiEndpoint=lg(this.options.serverZone))}catch(Gg){_y.error(Gg)}}},pg.prototype.setServerUrl=function(e){if(Sy(e,"serverUrl","string")){if(this._shouldDeferCall())return this._q.push(["setServerUrl"].concat(Array.prototype.slice.call(arguments,0)));try{this.options.apiEndpoint=e}catch(Gg){_y.error(Gg)}}};var Ng=function(){this.options=hm({},dg),this._q=[],this._instances={}};Ng.prototype.Identify=rg,Ng.prototype.Revenue=og,Ng.prototype.getInstance=function(e){e=by(e)?vm:e.toLowerCase();var t=this._instances[e];return void 0===t&&(t=new pg(e),this._instances[e]=t),t},Ng.prototype.init=function(e,t,n,r){this.getInstance().init(e,t,n,function(e){this.options=e.options,"function"===ay(r)&&r(e)}.bind(this))},Ng.prototype.isNewSession=function(){return this.getInstance().isNewSession()},Ng.prototype.getSessionId=function(){return this.getInstance().getSessionId()},Ng.prototype.nextEventId=function(){return this.getInstance().nextEventId()},Ng.prototype.nextIdentifyId=function(){return this.getInstance().nextIdentifyId()},Ng.prototype.nextSequenceNumber=function(){return this.getInstance().nextSequenceNumber()},Ng.prototype.saveEvents=function(){this.getInstance().saveEvents()},Ng.prototype.setDomain=function(e){this.getInstance().setDomain(e)},Ng.prototype.setUserId=function(e){this.getInstance().setUserId(e)},Ng.prototype.setGroup=function(e,t){this.getInstance().setGroup(e,t)},Ng.prototype.setOptOut=function(e){this.getInstance().setOptOut(e)},Ng.prototype.regenerateDeviceId=function(){this.getInstance().regenerateDeviceId()},Ng.prototype.setDeviceId=function(e){this.getInstance().setDeviceId(e)},Ng.prototype.setUserProperties=function(e){this.getInstance().setUserProperties(e)},Ng.prototype.clearUserProperties=function(){this.getInstance().clearUserProperties()},Ng.prototype.identify=function(e,t){this.getInstance().identify(e,t)},Ng.prototype.setVersionName=function(e){this.getInstance().setVersionName(e)},Ng.prototype.logEvent=function(e,t,n){return this.getInstance().logEvent(e,t,n)},Ng.prototype.logEventWithGroups=function(e,t,n,r){return this.getInstance().logEventWithGroups(e,t,n,r)},Ng.prototype.logRevenueV2=function(e){return this.getInstance().logRevenueV2(e)},Ng.prototype.logRevenue=function(e,t,n){return this.getInstance().logRevenue(e,t,n)},Ng.prototype.removeEvents=function(e,t){this.getInstance().removeEvents(e,t)},Ng.prototype.sendEvents=function(e){this.getInstance().sendEvents(e)},Ng.prototype.setGlobalUserProperties=function(e){this.getInstance().setUserProperties(e)},Ng.prototype.__VERSION__=cg;var Pg="undefined"!==typeof ry&&ry.amplitude||{},Og=new Ng;for(var Rg in Og._q=Pg._q||[],Pg._iq)Object.prototype.hasOwnProperty.call(Pg._iq,Rg)&&(Og.getInstance(Rg)._q=Pg._iq[Rg]._q||[]);var Ag=/Android|webOS|iPhone|iPad|iPod|BlackBerry|IEMobile|Opera Mini/i.test(window.navigator.userAgent);Og.getInstance().init("10658e07a65adb501a57fdc59f4fbd34",null,{platform:Ag?"Mobile":"Desktop"});var Dg=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};Og.getInstance().logEvent(e,t)},Lg=n(184),Mg=function(e){var t=e.title,n=e.type,r=e.tags,i=e.selectedTags,o=e.setSelectedTags;return(0,Lg.jsxs)("div",{children:[(0,Lg.jsx)("h2",{children:t}),r.filter((function(e){return"-"!==e.title})).map((function(e,t){var a=e.code,s=e.title;return(0,Lg.jsx)("button",{className:i.includes(a)?"selected":"",onClick:function(){var e=[],t=!0;i.includes(a)?(t=!1,e=i.filter(Av(qv)(a))):("polar"===n&&(i=i.filter((function(e){return!r.map(Cv("code")).includes(e)}))),e=[].concat(p(i),[a])),o(e),Dg("Tag Selected",{tag:s,isSelected:t,selectedTags:e})},children:s},"".concat(a,"_").concat(t))}))]})},Fg=function(e){var t=e.tagsGroups,n=e.selectedTags,i=e.setSelectedTags,o=e.filteredActivities,a=B();return(0,r.useEffect)((function(){Dg("Filter Page Viewed")})),(0,Lg.jsxs)(Lg.Fragment,{children:[t.map((function(e,t){var r=e.code,o=e.title,a=e.type,s=e.items;return(0,Lg.jsx)(Mg,{title:o,type:a,tags:s,selectedTags:n,setSelectedTags:i},"".concat(r,"_").concat(t))})),(0,Lg.jsx)("div",{children:(0,Lg.jsxs)("button",{style:{marginTop:"30px",padding:"20px",cursor:"pointer"},onClick:function(){a("/activities")},children:["\u041f\u043e\u043a\u0430\u0437\u0430\u0442\u044c ",o.length," \u0430\u043a\u0442\u0438\u0432\u043d\u043e\u0441\u0442\u0435\u0439 \u2192"]})})]})},Ug=function(e){var t=e.tagCodeToTitle,n=e.activities,i=B(),o=function(){var e=(0,r.useContext)(E).matches,t=e[e.length-1];return t?t.params:{}}().id,a=n.find((function(e){return e.index===+o}));if((0,r.useEffect)((function(){a&&Dg("Activity Viewed",{title:a.title})})),!a)return alert("\u0410\u043a\u0442\u0438\u0432\u043d\u043e\u0441\u0442\u044c \u043d\u0435 \u043d\u0430\u0439\u0434\u0435\u043d\u0430!"),null;var s=a.title,u=a.description,l=a.tags,c=a.youtubeUrl,d=a.services,f=a.teasers;return(0,Lg.jsxs)("div",{className:"selected-activity",children:[(0,Lg.jsx)("button",{style:{cursor:"pointer"},onClick:function(){i("/activities")},children:"\u2190 \u041d\u0430\u0437\u0430\u0434"}),(0,Lg.jsxs)("div",{children:[(0,Lg.jsx)("h1",{children:s}),(0,Lg.jsx)("ul",{className:"tags",children:(l||[]).map((function(e,n){return t[e]&&(0,Lg.jsx)("li",{children:t[e]},"".concat(e,"_").concat(n))}))})]}),(0,Lg.jsxs)("div",{className:"modal-content",children:[c&&(0,Lg.jsx)("iframe",{width:"700",height:"400",style:{maxWidth:"100%"},src:"https://www.youtube.com/embed/".concat(c),title:"YouTube",frameBorder:"0",allow:"accelerometer; autoplay; clipboard-write; encrypted-media; gyroscope; picture-in-picture",allowFullScreen:!0,onClick:function(){Dg("Activity Video Clicked",{activity:s})}}),(0,Lg.jsx)("p",{children:u}),d&&(0,Lg.jsxs)(Lg.Fragment,{children:[(0,Lg.jsx)("h3",{children:"\u0421\u0435\u0440\u0432\u0438\u0441\u044b"}),(0,Lg.jsx)("ul",{children:d.map((function(e,t){var n=e.title,r=e.url;return(0,Lg.jsx)("li",{children:r?(0,Lg.jsx)("a",{href:r,target:"_blank",rel:"noreferrer",onClick:function(){Dg("Activity Service Clicked",{activity:a.title,title:n,url:r})},children:n||r}):n||r},"".concat(n,"_").concat(t))}))})]}),(0,Lg.jsx)("h3",{children:"\u0422\u0438\u0437\u0435\u0440\u044b"}),(0,Lg.jsxs)("ul",{children:[null===f||void 0===f?void 0:f.map((function(e,t){var n=e.title,r=e.url;return(0,Lg.jsx)("li",{children:r?(0,Lg.jsx)("a",{href:r,target:"_blank",rel:"noreferrer",onClick:function(){Dg("Activity Teaser Clicked",{activity:a.title,title:n,url:r})},children:n||r}):n||r},"".concat(n,"_").concat(t))})),(0,Lg.jsx)("li",{children:(0,Lg.jsx)("a",{href:"https://www.tiktok.com/search?q=".concat(s.replace(" ","+")),target:"_blank",rel:"noreferrer",onClick:function(){Dg("Activity Search Clicked",{provider:"TikTok",activity:s})},children:"\u041f\u043e\u0441\u043c\u043e\u0442\u0440\u0435\u0442\u044c \u0432 TikTok"})}),(0,Lg.jsx)("li",{children:(0,Lg.jsx)("a",{href:"https://www.youtube.com/results?search_query=".concat(s.replace(" ","+")),target:"_blank",rel:"noreferrer",onClick:function(){Dg("Activity Search Clicked",{provider:"YouTube",activity:s})},children:"\u041f\u043e\u0441\u043c\u043e\u0442\u0440\u0435\u0442\u044c \u043d\u0430 YouTube"})})]}),(0,Lg.jsx)("h3",{children:"\u041f\u043e\u0434\u043e\u0431\u0440\u0430\u0442\u044c \u0432\u0430\u0440\u0438\u0430\u043d\u0442"}),(0,Lg.jsx)("ul",{children:(0,Lg.jsx)("li",{children:(0,Lg.jsx)("a",{href:"https://yandex.ru/maps/?text=".concat(s),target:"_blank",rel:"noreferrer",onClick:function(){Dg("Activity Search Clicked",{provider:"\u042f\u043d\u0434\u0435\u043a\u0441.\u041a\u0430\u0440\u0442\u044b",activity:s})},children:"\u041f\u043e\u043a\u0430\u0437\u0430\u0442\u044c \u043d\u0430 \u042f\u043d\u0434\u0435\u043a\u0441.\u041a\u0430\u0440\u0442\u0430\u0445"})})})]})]})},jg=function(e){var t=e.filteredActivities,n=B(),i=function(e){n("/activity/".concat(e.id))};return(0,r.useEffect)((function(){Dg("Activities List Viewed",{activitiesAmount:t.length})})),(0,Lg.jsxs)(Lg.Fragment,{children:[(0,Lg.jsx)("button",{style:{cursor:"pointer"},onClick:function(){n("/")},children:"\u2190 \u041d\u0430\u0437\u0430\u0434"}),(0,Lg.jsx)("ol",{children:t.sort((function(e,t){return e.title.toLowerCase()>t.title.toLowerCase()?1:-1})).map((function(e){return(0,Lg.jsx)("li",{children:(0,Lg.jsx)("span",{onClick:function(){return i(e)},children:e.title})},"".concat(e.code).concat(e.index))}))}),(0,Lg.jsx)("button",{className:"select-random-activity-button",onClick:function(){var e=Math.round(Math.random()*(t.length-1)),n=t[e];i(n),Dg("Random Activity Clicked",{activitiesAmount:t.length,chosenActivity:n.title})},children:(0,Lg.jsx)("img",{src:"https://www.freeiconspng.com/thumbs/dice-png/dice-png-transparent-images--png-all-4.png",alt:"\u0412\u044b\u0431\u0440\u0430\u0442\u044c \u043f\u0440\u043e\u0438\u0437\u0432\u043e\u043b\u044c\u043d\u0443\u044e \u0430\u043a\u0442\u0438\u0432\u043d\u043e\u0441\u0442\u044c",title:"\u0412\u044b\u0431\u0440\u0430\u0442\u044c \u043f\u0440\u043e\u0438\u0437\u0432\u043e\u043b\u044c\u043d\u0443\u044e \u0430\u043a\u0442\u0438\u0432\u043d\u043e\u0441\u0442\u044c"})})]})},zg=[{code:"amount",title:"\u041a\u043e\u043b\u0438\u0447\u0435\u0441\u0442\u0432\u043e \u0447\u0435\u043b\u043e\u0432\u0435\u043a",type:"additive",items:["alone","pair","three","group"]},{code:"gender",title:"\u041f\u043e\u043b",type:"polar",items:["men","women"]},{code:"age",title:"\u0412\u043e\u0437\u0440\u0430\u0441\u0442",type:"polar",items:["kids","adults"]},{code:"children",title:"\u0414\u0435\u0442\u0438",type:"polar",items:["with-children","without-children"]},{code:"position",title:"\u041f\u043e\u043b\u043e\u0436\u0435\u043d\u0438\u0435",type:"additive",items:["sitting","staying","lying"]},{code:"home",title:"\u0413\u0434\u0435",type:"additive",items:["home","outdoor","water","forest","mountains"]},{code:"season",title:"\u0421\u0435\u0437\u043e\u043d",type:"polar",items:["winter","summer"]},{code:"weather",title:"\u041f\u043e\u0433\u043e\u0434\u0430",type:"polar",items:["good-weather","any-weather"]},{code:"gadgets",title:"\u0413\u0430\u0434\u0436\u0435\u0442\u044b",items:["computer","phone","no-gadgets"]},{code:"feelings",title:"\u0427\u0443\u0432\u0441\u0442\u0432\u0430",type:"additive",items:["vision","hearing","smell","touch","taste"]}];0===En.apps.length&&En.initializeApp({apiKey:"AIzaSyCExrlbwm2DMX_lrhS516-93vUf4GSPgAA",authDomain:"tryeverything-421ed.firebaseapp.com",databaseURL:"https://tryeverything-421ed-default-rtdb.europe-west1.firebasedatabase.app",projectId:"tryeverything-421ed",storageBucket:"tryeverything-421ed.appspot.com",messagingSenderId:"768977457633",appId:"1:768977457633:web:df590da29170678cdf42a0",measurementId:"G-56RPZMD413"});var qg=ks(function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Xt(),t=arguments.length>1?arguments[1]:void 0;return Bt(e,"database").getImmediate({identifier:t})}());Dg("App Loaded");var Wg=(new Date).getMonth(),Vg=Wg>3&&Wg<10,Bg=Qv(["alone","adults"].concat(p(JSON.parse(localStorage.getItem("selectedTags")||"[]")),["summer","winter"])).filter((function(e){return!("summer"===e&&!Vg||"winter"===e&&Vg)})),Hg=function(){var e=f((0,r.useState)([]),2),t=e[0],n=e[1],i=f((0,r.useState)([]),2),a=i[0],u=i[1],l=f((0,r.useState)(Bg),2),c=l[0],d=l[1];if((0,r.useEffect)((function(){Promise.all([Is(ws(qg,"/activities/")),Is(ws(qg,"/tags/"))]).then((function(e){var t=f(e,2),r=t[0],i=t[1];n(r&&r.val()),u(i&&i.val())}))}),[]),0===t.length||0===a.length)return null;var h=a.reduce((function(e,t){return s(s({},e),{},o({},t.code,t.title))}),{}),v=t.map((function(e,t){return s(s({},e),{},{index:t})})).filter((function(e){return"-"!==e.title})).filter((function(e){return 0===c.length||Jp((function(t){var n=Zv([],"tags",e),r=zg.find((function(e){return e.items.includes(t)}))||{};if("polar"===r.type){var i=r.items.filter((function(e){return e!==t}))[0];return n.includes(t)||!n.includes(i)}return n.includes(t)}),c)})),m=zg.map((function(e){return s(s({},e),{},{items:e.items.map((function(e){return{code:e,title:h[e]}}))})})),y=m.reduce((function(e,t){return[].concat(p(e),p(t.items))}),[]);return m.push({code:"rest",title:"\u0414\u0440\u0443\u0433\u0438\u0435 \u043a\u0430\u0442\u0435\u0433\u043e\u0440\u0438\u0438",items:a.filter((function(e){return!y.map((function(e){return e.code})).includes(e.code)}))}),(0,Lg.jsxs)("div",{className:"app",children:[(0,Lg.jsx)(Q,{children:(0,Lg.jsxs)($,{children:[(0,Lg.jsx)(K,{path:"activity",children:(0,Lg.jsx)(K,{path:":id",element:(0,Lg.jsx)(Ug,{tagCodeToTitle:h,activities:t})})}),(0,Lg.jsx)(K,{path:"activities",element:(0,Lg.jsx)(jg,{filteredActivities:v})}),(0,Lg.jsx)(K,{path:"/",element:(0,Lg.jsx)(Fg,{tagsGroups:m,selectedTags:c,setSelectedTags:function(e){localStorage.setItem("selectedTags",JSON.stringify(e)),d(e)},filteredActivities:v})})]})}),(0,Lg.jsxs)("p",{children:["\u0415\u0441\u0442\u044c \u043f\u0440\u0435\u0434\u043b\u043e\u0436\u0435\u043d\u0438\u044f \u043f\u043e \u0443\u043b\u0443\u0447\u0448\u0435\u043d\u0438\u044e \u0441\u0435\u0440\u0432\u0438\u0441\u0430? \u041d\u0430\u043f\u0440\u0438\u043c\u0435\u0440, \u0443\u043b\u0443\u0447\u0448\u0438\u0442\u044c \u0444\u0443\u043d\u043a\u0446\u0438\u043e\u043d\u0430\u043b \u0438\u043b\u0438 \u0434\u043e\u043f\u043e\u043b\u043d\u0438\u0442\u044c \u0441\u043f\u0438\u0441\u043e\u043a \u0430\u043a\u0442\u0438\u0432\u043d\u043e\u0441\u0442\u0435\u0439. ",(0,Lg.jsx)("a",{href:"https://t.me/polyakovin",target:"_blank",rel:"noreferrer",onClick:function(){Dg("Feedback Clicked")},children:"\u041d\u0430\u043f\u0438\u0448\u0438 \u043e\u0431 \u044d\u0442\u043e\u043c \u0430\u0432\u0442\u043e\u0440\u0443!"})," \u041e\u043d \u0431\u0443\u0434\u0435\u0442 \u0442\u0435\u0431\u0435 \u0437\u0430 \u044d\u0442\u043e \u043e\u0447\u0435\u043d\u044c \u0431\u043b\u0430\u0433\u043e\u0434\u0430\u0440\u0435\u043d :)"]})]})};i.createRoot(document.getElementById("root")).render((0,Lg.jsx)(r.StrictMode,{children:(0,Lg.jsx)(Hg,{})}));var Kg;Kg&&Kg instanceof Function&&n.e(787).then(n.bind(n,787)).then((function(e){var t=e.getCLS,n=e.getFID,r=e.getFCP,i=e.getLCP,o=e.getTTFB;t(Kg),n(Kg),r(Kg),i(Kg),o(Kg)}))}()}();
//# sourceMappingURL=main.b0d9678c.js.map