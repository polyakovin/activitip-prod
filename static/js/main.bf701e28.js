/*! For license information please see main.bf701e28.js.LICENSE.txt */
!function(){var e={764:function(e,t,n){!function(e){"use strict";var t="undefined"!==typeof globalThis?globalThis:"undefined"!==typeof window?window:"undefined"!==typeof n.g?n.g:"undefined"!==typeof self?self:{};function r(e,t,n){return e(n={path:t,exports:{},require:function(e,t){return i(e,void 0===t||null===t?n.path:t)}},n.exports),n.exports}function i(){throw new Error("Dynamic requires are not currently supported by @rollup/plugin-commonjs")}var a=r((function(e,n){!function(t,r){var i="0.7.31",a="",o="?",s="function",u="undefined",c="object",l="string",d="major",f="model",h="name",p="type",v="vendor",m="version",g="architecture",y="console",_="mobile",b="tablet",k="smarttv",w="wearable",S="embedded",E=275,x="Amazon",I="Apple",T="ASUS",C="BlackBerry",N="Browser",R="Chrome",P="Firefox",O="Google",D="Huawei",A="LG",Z="Microsoft",L="Motorola",U="Opera",M="Samsung",j="Sony",F="Xiaomi",q="Zebra",z="Facebook",B=function(e,t){var n={};for(var r in e)t[r]&&t[r].length%2===0?n[r]=t[r].concat(e[r]):n[r]=e[r];return n},W=function(e){for(var t={},n=0;n<e.length;n++)t[e[n].toUpperCase()]=e[n];return t},G=function(e,t){return typeof e===l&&-1!==H(t).indexOf(H(e))},H=function(e){return e.toLowerCase()},V=function(e){return typeof e===l?e.replace(/[^\d\.]/g,a).split(".")[0]:r},Y=function(e,t){if(typeof e===l)return e=e.replace(/^\s\s*/,a).replace(/\s\s*$/,a),typeof t===u?e:e.substring(0,E)},K=function(e,t){for(var n,i,a,o,u,l,d=0;d<t.length&&!u;){var f=t[d],h=t[d+1];for(n=i=0;n<f.length&&!u;)if(u=f[n++].exec(e))for(a=0;a<h.length;a++)l=u[++i],typeof(o=h[a])===c&&o.length>0?2===o.length?typeof o[1]==s?this[o[0]]=o[1].call(this,l):this[o[0]]=o[1]:3===o.length?typeof o[1]!==s||o[1].exec&&o[1].test?this[o[0]]=l?l.replace(o[1],o[2]):r:this[o[0]]=l?o[1].call(this,l,o[2]):r:4===o.length&&(this[o[0]]=l?o[3].call(this,l.replace(o[1],o[2])):r):this[o]=l||r;d+=2}},$=function(e,t){for(var n in t)if(typeof t[n]===c&&t[n].length>0){for(var i=0;i<t[n].length;i++)if(G(t[n][i],e))return n===o?r:n}else if(G(t[n],e))return n===o?r:n;return e},J={ME:"4.90","NT 3.11":"NT3.51","NT 4.0":"NT4.0",2e3:"NT 5.0",XP:["NT 5.1","NT 5.2"],Vista:"NT 6.0",7:"NT 6.1",8:"NT 6.2",8.1:"NT 6.3",10:["NT 6.4","NT 10.0"],RT:"ARM"},Q={browser:[[/\b(?:crmo|crios)\/([\w\.]+)/i],[m,[h,"Chrome"]],[/edg(?:e|ios|a)?\/([\w\.]+)/i],[m,[h,"Edge"]],[/(opera mini)\/([-\w\.]+)/i,/(opera [mobiletab]{3,6})\b.+version\/([-\w\.]+)/i,/(opera)(?:.+version\/|[\/ ]+)([\w\.]+)/i],[h,m],[/opios[\/ ]+([\w\.]+)/i],[m,[h,U+" Mini"]],[/\bopr\/([\w\.]+)/i],[m,[h,U]],[/(kindle)\/([\w\.]+)/i,/(lunascape|maxthon|netfront|jasmine|blazer)[\/ ]?([\w\.]*)/i,/(avant |iemobile|slim)(?:browser)?[\/ ]?([\w\.]*)/i,/(ba?idubrowser)[\/ ]?([\w\.]+)/i,/(?:ms|\()(ie) ([\w\.]+)/i,/(flock|rockmelt|midori|epiphany|silk|skyfire|ovibrowser|bolt|iron|vivaldi|iridium|phantomjs|bowser|quark|qupzilla|falkon|rekonq|puffin|brave|whale|qqbrowserlite|qq)\/([-\w\.]+)/i,/(weibo)__([\d\.]+)/i],[h,m],[/(?:\buc? ?browser|(?:juc.+)ucweb)[\/ ]?([\w\.]+)/i],[m,[h,"UC"+N]],[/\bqbcore\/([\w\.]+)/i],[m,[h,"WeChat(Win) Desktop"]],[/micromessenger\/([\w\.]+)/i],[m,[h,"WeChat"]],[/konqueror\/([\w\.]+)/i],[m,[h,"Konqueror"]],[/trident.+rv[: ]([\w\.]{1,9})\b.+like gecko/i],[m,[h,"IE"]],[/yabrowser\/([\w\.]+)/i],[m,[h,"Yandex"]],[/(avast|avg)\/([\w\.]+)/i],[[h,/(.+)/,"$1 Secure "+N],m],[/\bfocus\/([\w\.]+)/i],[m,[h,P+" Focus"]],[/\bopt\/([\w\.]+)/i],[m,[h,U+" Touch"]],[/coc_coc\w+\/([\w\.]+)/i],[m,[h,"Coc Coc"]],[/dolfin\/([\w\.]+)/i],[m,[h,"Dolphin"]],[/coast\/([\w\.]+)/i],[m,[h,U+" Coast"]],[/miuibrowser\/([\w\.]+)/i],[m,[h,"MIUI "+N]],[/fxios\/([-\w\.]+)/i],[m,[h,P]],[/\bqihu|(qi?ho?o?|360)browser/i],[[h,"360 "+N]],[/(oculus|samsung|sailfish)browser\/([\w\.]+)/i],[[h,/(.+)/,"$1 "+N],m],[/(comodo_dragon)\/([\w\.]+)/i],[[h,/_/g," "],m],[/(electron)\/([\w\.]+) safari/i,/(tesla)(?: qtcarbrowser|\/(20\d\d\.[-\w\.]+))/i,/m?(qqbrowser|baiduboxapp|2345Explorer)[\/ ]?([\w\.]+)/i],[h,m],[/(metasr)[\/ ]?([\w\.]+)/i,/(lbbrowser)/i],[h],[/((?:fban\/fbios|fb_iab\/fb4a)(?!.+fbav)|;fbav\/([\w\.]+);)/i],[[h,z],m],[/safari (line)\/([\w\.]+)/i,/\b(line)\/([\w\.]+)\/iab/i,/(chromium|instagram)[\/ ]([-\w\.]+)/i],[h,m],[/\bgsa\/([\w\.]+) .*safari\//i],[m,[h,"GSA"]],[/headlesschrome(?:\/([\w\.]+)| )/i],[m,[h,R+" Headless"]],[/ wv\).+(chrome)\/([\w\.]+)/i],[[h,R+" WebView"],m],[/droid.+ version\/([\w\.]+)\b.+(?:mobile safari|safari)/i],[m,[h,"Android "+N]],[/(chrome|omniweb|arora|[tizenoka]{5} ?browser)\/v?([\w\.]+)/i],[h,m],[/version\/([\w\.]+) .*mobile\/\w+ (safari)/i],[m,[h,"Mobile Safari"]],[/version\/([\w\.]+) .*(mobile ?safari|safari)/i],[m,h],[/webkit.+?(mobile ?safari|safari)(\/[\w\.]+)/i],[h,[m,$,{"1.0":"/8",1.2:"/1",1.3:"/3","2.0":"/412","2.0.2":"/416","2.0.3":"/417","2.0.4":"/419","?":"/"}]],[/(webkit|khtml)\/([\w\.]+)/i],[h,m],[/(navigator|netscape\d?)\/([-\w\.]+)/i],[[h,"Netscape"],m],[/mobile vr; rv:([\w\.]+)\).+firefox/i],[m,[h,P+" Reality"]],[/ekiohf.+(flow)\/([\w\.]+)/i,/(swiftfox)/i,/(icedragon|iceweasel|camino|chimera|fennec|maemo browser|minimo|conkeror|klar)[\/ ]?([\w\.\+]+)/i,/(seamonkey|k-meleon|icecat|iceape|firebird|phoenix|palemoon|basilisk|waterfox)\/([-\w\.]+)$/i,/(firefox)\/([\w\.]+)/i,/(mozilla)\/([\w\.]+) .+rv\:.+gecko\/\d+/i,/(polaris|lynx|dillo|icab|doris|amaya|w3m|netsurf|sleipnir|obigo|mosaic|(?:go|ice|up)[\. ]?browser)[-\/ ]?v?([\w\.]+)/i,/(links) \(([\w\.]+)/i],[h,m]],cpu:[[/(?:(amd|x(?:(?:86|64)[-_])?|wow|win)64)[;\)]/i],[[g,"amd64"]],[/(ia32(?=;))/i],[[g,H]],[/((?:i[346]|x)86)[;\)]/i],[[g,"ia32"]],[/\b(aarch64|arm(v?8e?l?|_?64))\b/i],[[g,"arm64"]],[/\b(arm(?:v[67])?ht?n?[fl]p?)\b/i],[[g,"armhf"]],[/windows (ce|mobile); ppc;/i],[[g,"arm"]],[/((?:ppc|powerpc)(?:64)?)(?: mac|;|\))/i],[[g,/ower/,a,H]],[/(sun4\w)[;\)]/i],[[g,"sparc"]],[/((?:avr32|ia64(?=;))|68k(?=\))|\barm(?=v(?:[1-7]|[5-7]1)l?|;|eabi)|(?=atmel )avr|(?:irix|mips|sparc)(?:64)?\b|pa-risc)/i],[[g,H]]],device:[[/\b(sch-i[89]0\d|shw-m380s|sm-[pt]\w{2,4}|gt-[pn]\d{2,4}|sgh-t8[56]9|nexus 10)/i],[f,[v,M],[p,b]],[/\b((?:s[cgp]h|gt|sm)-\w+|galaxy nexus)/i,/samsung[- ]([-\w]+)/i,/sec-(sgh\w+)/i],[f,[v,M],[p,_]],[/((ipod|iphone)\d+,\d+)/i],[f,[v,I],[p,_]],[/(ipad\d+,\d+)/i],[f,[v,I],[p,b]],[/\((ip(?:hone|od)[\w ]*);/i],[f,[v,I],[p,_]],[/\((ipad);[-\w\),; ]+apple/i,/applecoremedia\/[\w\.]+ \((ipad)/i,/\b(ipad)\d\d?,\d\d?[;\]].+ios/i],[f,[v,I],[p,b]],[/\b((?:ag[rs][23]?|bah2?|sht?|btv)-a?[lw]\d{2})\b(?!.+d\/s)/i],[f,[v,D],[p,b]],[/(?:huawei|honor)([-\w ]+)[;\)]/i,/\b(nexus 6p|\w{2,4}e?-[atu]?[ln][\dx][012359c][adn]?)\b(?!.+d\/s)/i],[f,[v,D],[p,_]],[/\b(poco[\w ]+)(?: bui|\))/i,/\b; (\w+) build\/hm\1/i,/\b(hm[-_ ]?note?[_ ]?(?:\d\w)?) bui/i,/\b(redmi[\-_ ]?(?:note|k)?[\w_ ]+)(?: bui|\))/i,/\b(mi[-_ ]?(?:a\d|one|one[_ ]plus|note lte|max|cc)?[_ ]?(?:\d?\w?)[_ ]?(?:plus|se|lite)?)(?: bui|\))/i],[[f,/_/g," "],[v,F],[p,_]],[/\b(mi[-_ ]?(?:pad)(?:[\w_ ]+))(?: bui|\))/i],[[f,/_/g," "],[v,F],[p,b]],[/; (\w+) bui.+ oppo/i,/\b(cph[12]\d{3}|p(?:af|c[al]|d\w|e[ar])[mt]\d0|x9007|a101op)\b/i],[f,[v,"OPPO"],[p,_]],[/vivo (\w+)(?: bui|\))/i,/\b(v[12]\d{3}\w?[at])(?: bui|;)/i],[f,[v,"Vivo"],[p,_]],[/\b(rmx[12]\d{3})(?: bui|;|\))/i],[f,[v,"Realme"],[p,_]],[/\b(milestone|droid(?:[2-4x]| (?:bionic|x2|pro|razr))?:?( 4g)?)\b[\w ]+build\//i,/\bmot(?:orola)?[- ](\w*)/i,/((?:moto[\w\(\) ]+|xt\d{3,4}|nexus 6)(?= bui|\)))/i],[f,[v,L],[p,_]],[/\b(mz60\d|xoom[2 ]{0,2}) build\//i],[f,[v,L],[p,b]],[/((?=lg)?[vl]k\-?\d{3}) bui| 3\.[-\w; ]{10}lg?-([06cv9]{3,4})/i],[f,[v,A],[p,b]],[/(lm(?:-?f100[nv]?|-[\w\.]+)(?= bui|\))|nexus [45])/i,/\blg[-e;\/ ]+((?!browser|netcast|android tv)\w+)/i,/\blg-?([\d\w]+) bui/i],[f,[v,A],[p,_]],[/(ideatab[-\w ]+)/i,/lenovo ?(s[56]000[-\w]+|tab(?:[\w ]+)|yt[-\d\w]{6}|tb[-\d\w]{6})/i],[f,[v,"Lenovo"],[p,b]],[/(?:maemo|nokia).*(n900|lumia \d+)/i,/nokia[-_ ]?([-\w\.]*)/i],[[f,/_/g," "],[v,"Nokia"],[p,_]],[/(pixel c)\b/i],[f,[v,O],[p,b]],[/droid.+; (pixel[\daxl ]{0,6})(?: bui|\))/i],[f,[v,O],[p,_]],[/droid.+ (a?\d[0-2]{2}so|[c-g]\d{4}|so[-gl]\w+|xq-a\w[4-7][12])(?= bui|\).+chrome\/(?![1-6]{0,1}\d\.))/i],[f,[v,j],[p,_]],[/sony tablet [ps]/i,/\b(?:sony)?sgp\w+(?: bui|\))/i],[[f,"Xperia Tablet"],[v,j],[p,b]],[/ (kb2005|in20[12]5|be20[12][59])\b/i,/(?:one)?(?:plus)? (a\d0\d\d)(?: b|\))/i],[f,[v,"OnePlus"],[p,_]],[/(alexa)webm/i,/(kf[a-z]{2}wi)( bui|\))/i,/(kf[a-z]+)( bui|\)).+silk\//i],[f,[v,x],[p,b]],[/((?:sd|kf)[0349hijorstuw]+)( bui|\)).+silk\//i],[[f,/(.+)/g,"Fire Phone $1"],[v,x],[p,_]],[/(playbook);[-\w\),; ]+(rim)/i],[f,v,[p,b]],[/\b((?:bb[a-f]|st[hv])100-\d)/i,/\(bb10; (\w+)/i],[f,[v,C],[p,_]],[/(?:\b|asus_)(transfo[prime ]{4,10} \w+|eeepc|slider \w+|nexus 7|padfone|p00[cj])/i],[f,[v,T],[p,b]],[/ (z[bes]6[027][012][km][ls]|zenfone \d\w?)\b/i],[f,[v,T],[p,_]],[/(nexus 9)/i],[f,[v,"HTC"],[p,b]],[/(htc)[-;_ ]{1,2}([\w ]+(?=\)| bui)|\w+)/i,/(zte)[- ]([\w ]+?)(?: bui|\/|\))/i,/(alcatel|geeksphone|nexian|panasonic|sony(?!-bra))[-_ ]?([-\w]*)/i],[v,[f,/_/g," "],[p,_]],[/droid.+; ([ab][1-7]-?[0178a]\d\d?)/i],[f,[v,"Acer"],[p,b]],[/droid.+; (m[1-5] note) bui/i,/\bmz-([-\w]{2,})/i],[f,[v,"Meizu"],[p,_]],[/\b(sh-?[altvz]?\d\d[a-ekm]?)/i],[f,[v,"Sharp"],[p,_]],[/(blackberry|benq|palm(?=\-)|sonyericsson|acer|asus|dell|meizu|motorola|polytron)[-_ ]?([-\w]*)/i,/(hp) ([\w ]+\w)/i,/(asus)-?(\w+)/i,/(microsoft); (lumia[\w ]+)/i,/(lenovo)[-_ ]?([-\w]+)/i,/(jolla)/i,/(oppo) ?([\w ]+) bui/i],[v,f,[p,_]],[/(archos) (gamepad2?)/i,/(hp).+(touchpad(?!.+tablet)|tablet)/i,/(kindle)\/([\w\.]+)/i,/(nook)[\w ]+build\/(\w+)/i,/(dell) (strea[kpr\d ]*[\dko])/i,/(le[- ]+pan)[- ]+(\w{1,9}) bui/i,/(trinity)[- ]*(t\d{3}) bui/i,/(gigaset)[- ]+(q\w{1,9}) bui/i,/(vodafone) ([\w ]+)(?:\)| bui)/i],[v,f,[p,b]],[/(surface duo)/i],[f,[v,Z],[p,b]],[/droid [\d\.]+; (fp\du?)(?: b|\))/i],[f,[v,"Fairphone"],[p,_]],[/(u304aa)/i],[f,[v,"AT&T"],[p,_]],[/\bsie-(\w*)/i],[f,[v,"Siemens"],[p,_]],[/\b(rct\w+) b/i],[f,[v,"RCA"],[p,b]],[/\b(venue[\d ]{2,7}) b/i],[f,[v,"Dell"],[p,b]],[/\b(q(?:mv|ta)\w+) b/i],[f,[v,"Verizon"],[p,b]],[/\b(?:barnes[& ]+noble |bn[rt])([\w\+ ]*) b/i],[f,[v,"Barnes & Noble"],[p,b]],[/\b(tm\d{3}\w+) b/i],[f,[v,"NuVision"],[p,b]],[/\b(k88) b/i],[f,[v,"ZTE"],[p,b]],[/\b(nx\d{3}j) b/i],[f,[v,"ZTE"],[p,_]],[/\b(gen\d{3}) b.+49h/i],[f,[v,"Swiss"],[p,_]],[/\b(zur\d{3}) b/i],[f,[v,"Swiss"],[p,b]],[/\b((zeki)?tb.*\b) b/i],[f,[v,"Zeki"],[p,b]],[/\b([yr]\d{2}) b/i,/\b(dragon[- ]+touch |dt)(\w{5}) b/i],[[v,"Dragon Touch"],f,[p,b]],[/\b(ns-?\w{0,9}) b/i],[f,[v,"Insignia"],[p,b]],[/\b((nxa|next)-?\w{0,9}) b/i],[f,[v,"NextBook"],[p,b]],[/\b(xtreme\_)?(v(1[045]|2[015]|[3469]0|7[05])) b/i],[[v,"Voice"],f,[p,_]],[/\b(lvtel\-)?(v1[12]) b/i],[[v,"LvTel"],f,[p,_]],[/\b(ph-1) /i],[f,[v,"Essential"],[p,_]],[/\b(v(100md|700na|7011|917g).*\b) b/i],[f,[v,"Envizen"],[p,b]],[/\b(trio[-\w\. ]+) b/i],[f,[v,"MachSpeed"],[p,b]],[/\btu_(1491) b/i],[f,[v,"Rotor"],[p,b]],[/(shield[\w ]+) b/i],[f,[v,"Nvidia"],[p,b]],[/(sprint) (\w+)/i],[v,f,[p,_]],[/(kin\.[onetw]{3})/i],[[f,/\./g," "],[v,Z],[p,_]],[/droid.+; (cc6666?|et5[16]|mc[239][23]x?|vc8[03]x?)\)/i],[f,[v,q],[p,b]],[/droid.+; (ec30|ps20|tc[2-8]\d[kx])\)/i],[f,[v,q],[p,_]],[/(ouya)/i,/(nintendo) ([wids3utch]+)/i],[v,f,[p,y]],[/droid.+; (shield) bui/i],[f,[v,"Nvidia"],[p,y]],[/(playstation [345portablevi]+)/i],[f,[v,j],[p,y]],[/\b(xbox(?: one)?(?!; xbox))[\); ]/i],[f,[v,Z],[p,y]],[/smart-tv.+(samsung)/i],[v,[p,k]],[/hbbtv.+maple;(\d+)/i],[[f,/^/,"SmartTV"],[v,M],[p,k]],[/(nux; netcast.+smarttv|lg (netcast\.tv-201\d|android tv))/i],[[v,A],[p,k]],[/(apple) ?tv/i],[v,[f,I+" TV"],[p,k]],[/crkey/i],[[f,R+"cast"],[v,O],[p,k]],[/droid.+aft(\w)( bui|\))/i],[f,[v,x],[p,k]],[/\(dtv[\);].+(aquos)/i],[f,[v,"Sharp"],[p,k]],[/(bravia[\w- ]+) bui/i],[f,[v,j],[p,k]],[/\b(roku)[\dx]*[\)\/]((?:dvp-)?[\d\.]*)/i,/hbbtv\/\d+\.\d+\.\d+ +\([\w ]*; *(\w[^;]*);([^;]*)/i],[[v,Y],[f,Y],[p,k]],[/\b(android tv|smart[- ]?tv|opera tv|tv; rv:)\b/i],[[p,k]],[/((pebble))app/i],[v,f,[p,w]],[/droid.+; (glass) \d/i],[f,[v,O],[p,w]],[/droid.+; (wt63?0{2,3})\)/i],[f,[v,q],[p,w]],[/(quest( 2)?)/i],[f,[v,z],[p,w]],[/(tesla)(?: qtcarbrowser|\/[-\w\.]+)/i],[v,[p,S]],[/droid .+?; ([^;]+?)(?: bui|\) applew).+? mobile safari/i],[f,[p,_]],[/droid .+?; ([^;]+?)(?: bui|\) applew).+?(?! mobile) safari/i],[f,[p,b]],[/\b((tablet|tab)[;\/]|focus\/\d(?!.+mobile))/i],[[p,b]],[/(phone|mobile(?:[;\/]| safari)|pda(?=.+windows ce))/i],[[p,_]],[/(android[-\w\. ]{0,9});.+buil/i],[f,[v,"Generic"]]],engine:[[/windows.+ edge\/([\w\.]+)/i],[m,[h,"EdgeHTML"]],[/webkit\/537\.36.+chrome\/(?!27)([\w\.]+)/i],[m,[h,"Blink"]],[/(presto)\/([\w\.]+)/i,/(webkit|trident|netfront|netsurf|amaya|lynx|w3m|goanna)\/([\w\.]+)/i,/ekioh(flow)\/([\w\.]+)/i,/(khtml|tasman|links)[\/ ]\(?([\w\.]+)/i,/(icab)[\/ ]([23]\.[\d\.]+)/i],[h,m],[/rv\:([\w\.]{1,9})\b.+(gecko)/i],[m,h]],os:[[/microsoft (windows) (vista|xp)/i],[h,m],[/(windows) nt 6\.2; (arm)/i,/(windows (?:phone(?: os)?|mobile))[\/ ]?([\d\.\w ]*)/i,/(windows)[\/ ]?([ntce\d\. ]+\w)(?!.+xbox)/i],[h,[m,$,J]],[/(win(?=3|9|n)|win 9x )([nt\d\.]+)/i],[[h,"Windows"],[m,$,J]],[/ip[honead]{2,4}\b(?:.*os ([\w]+) like mac|; opera)/i,/cfnetwork\/.+darwin/i],[[m,/_/g,"."],[h,"iOS"]],[/(mac os x) ?([\w\. ]*)/i,/(macintosh|mac_powerpc\b)(?!.+haiku)/i],[[h,"Mac OS"],[m,/_/g,"."]],[/droid ([\w\.]+)\b.+(android[- ]x86)/i],[m,h],[/(android|webos|qnx|bada|rim tablet os|maemo|meego|sailfish)[-\/ ]?([\w\.]*)/i,/(blackberry)\w*\/([\w\.]*)/i,/(tizen|kaios)[\/ ]([\w\.]+)/i,/\((series40);/i],[h,m],[/\(bb(10);/i],[m,[h,C]],[/(?:symbian ?os|symbos|s60(?=;)|series60)[-\/ ]?([\w\.]*)/i],[m,[h,"Symbian"]],[/mozilla\/[\d\.]+ \((?:mobile|tablet|tv|mobile; [\w ]+); rv:.+ gecko\/([\w\.]+)/i],[m,[h,P+" OS"]],[/web0s;.+rt(tv)/i,/\b(?:hp)?wos(?:browser)?\/([\w\.]+)/i],[m,[h,"webOS"]],[/crkey\/([\d\.]+)/i],[m,[h,R+"cast"]],[/(cros) [\w]+ ([\w\.]+\w)/i],[[h,"Chromium OS"],m],[/(nintendo|playstation) ([wids345portablevuch]+)/i,/(xbox); +xbox ([^\);]+)/i,/\b(joli|palm)\b ?(?:os)?\/?([\w\.]*)/i,/(mint)[\/\(\) ]?(\w*)/i,/(mageia|vectorlinux)[; ]/i,/([kxln]?ubuntu|debian|suse|opensuse|gentoo|arch(?= linux)|slackware|fedora|mandriva|centos|pclinuxos|red ?hat|zenwalk|linpus|raspbian|plan 9|minix|risc os|contiki|deepin|manjaro|elementary os|sabayon|linspire)(?: gnu\/linux)?(?: enterprise)?(?:[- ]linux)?(?:-gnu)?[-\/ ]?(?!chrom|package)([-\w\.]*)/i,/(hurd|linux) ?([\w\.]*)/i,/(gnu) ?([\w\.]*)/i,/\b([-frentopcghs]{0,5}bsd|dragonfly)[\/ ]?(?!amd|[ix346]{1,2}86)([\w\.]*)/i,/(haiku) (\w+)/i],[h,m],[/(sunos) ?([\w\.\d]*)/i],[[h,"Solaris"],m],[/((?:open)?solaris)[-\/ ]?([\w\.]*)/i,/(aix) ((\d)(?=\.|\)| )[\w\.])*/i,/\b(beos|os\/2|amigaos|morphos|openvms|fuchsia|hp-ux)/i,/(unix) ?([\w\.]*)/i],[h,m]]},X=function e(n,i){if(typeof n===c&&(i=n,n=r),!(this instanceof e))return new e(n,i).getResult();var o=n||(typeof t!==u&&t.navigator&&t.navigator.userAgent?t.navigator.userAgent:a),s=i?B(Q,i):Q;return this.getBrowser=function(){var e={};return e[h]=r,e[m]=r,K.call(e,o,s.browser),e.major=V(e.version),e},this.getCPU=function(){var e={};return e[g]=r,K.call(e,o,s.cpu),e},this.getDevice=function(){var e={};return e[v]=r,e[f]=r,e[p]=r,K.call(e,o,s.device),e},this.getEngine=function(){var e={};return e[h]=r,e[m]=r,K.call(e,o,s.engine),e},this.getOS=function(){var e={};return e[h]=r,e[m]=r,K.call(e,o,s.os),e},this.getResult=function(){return{ua:this.getUA(),browser:this.getBrowser(),engine:this.getEngine(),os:this.getOS(),device:this.getDevice(),cpu:this.getCPU()}},this.getUA=function(){return o},this.setUA=function(e){return o=typeof e===l&&e.length>E?Y(e,E):e,this},this.setUA(o),this};X.VERSION=i,X.BROWSER=W([h,m,d]),X.CPU=W([g]),X.DEVICE=W([f,v,p,y,_,k,b,w,S]),X.ENGINE=X.OS=W([h,m]),e.exports&&(n=e.exports=X),n.UAParser=X;var ee=typeof t!==u&&(t.jQuery||t.Zepto);if(ee&&!ee.ua){var te=new X;ee.ua=te.getResult(),ee.ua.get=function(){return te.getUA()},ee.ua.set=function(e){te.setUA(e);var t=te.getResult();for(var n in t)ee.ua[n]=t[n]}}}("object"===typeof window?window:t)})),o=function(){function e(){this.ua=new a.UAParser("undefined"!==typeof navigator?navigator.userAgent:null).getResult()}return e.prototype.getApplicationContext=function(){return{versionName:this.versionName,language:c(),platform:"Web",os:s(this.ua),deviceModel:u(this.ua)}},e}(),s=function(e){var t,n;return[null===(t=e.browser)||void 0===t?void 0:t.name,null===(n=e.browser)||void 0===n?void 0:n.major].filter((function(e){return null!==e&&void 0!==e})).join(" ")},u=function(e){var t;return null===(t=e.os)||void 0===t?void 0:t.name},c=function(){return"undefined"!==typeof navigator&&(navigator.languages&&navigator.languages[0]||navigator.language)||""},l=function(){function e(){this.queue=[]}return e.prototype.logEvent=function(e){this.receiver?this.receiver(e):this.queue.length<512&&this.queue.push(e)},e.prototype.setEventReceiver=function(e){this.receiver=e,this.queue.length>0&&(this.queue.forEach((function(t){e(t)})),this.queue=[])},e}(),d=function(){return d=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var i in t=arguments[n])Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i]);return e},d.apply(this,arguments)},f="$set",h="$unset",p="$clearAll";Object.entries||(Object.entries=function(e){for(var t=Object.keys(e),n=t.length,r=new Array(n);n--;)r[n]=[t[n],e[t[n]]];return r});var v=function(){function e(){this.identity={userProperties:{}},this.listeners=new Set}return e.prototype.editIdentity=function(){var e=this,t=d({},this.identity.userProperties),n=d(d({},this.identity),{userProperties:t});return{setUserId:function(e){return n.userId=e,this},setDeviceId:function(e){return n.deviceId=e,this},setUserProperties:function(e){return n.userProperties=e,this},updateUserProperties:function(e){for(var t=n.userProperties||{},r=0,i=Object.entries(e);r<i.length;r++){var a=i[r],o=a[0],s=a[1];switch(o){case f:for(var u=0,c=Object.entries(s);u<c.length;u++){var l=c[u],d=l[0],v=l[1];t[d]=v}break;case h:for(var m=0,g=Object.keys(s);m<g.length;m++)delete t[d=g[m]];break;case p:t={}}}return n.userProperties=t,this},commit:function(){return e.setIdentity(n),this}}},e.prototype.getIdentity=function(){return d({},this.identity)},e.prototype.setIdentity=function(e){var t=d({},this.identity);this.identity=d({},e),m(t,this.identity)||this.listeners.forEach((function(t){t(e)}))},e.prototype.addIdentityListener=function(e){this.listeners.add(e)},e.prototype.removeIdentityListener=function(e){this.listeners.delete(e)},e}(),m=function e(t,n){var r=typeof t;if(r!==typeof n)return!1;for(var i=0,a=["string","number","boolean","undefined"];i<a.length;i++)if(a[i]===r)return t===n;if(t.length!==n.length)return!1;var o=Array.isArray(t),s=Array.isArray(n);if(o!==s)return!1;if(!o||!s){var u=Object.keys(t).sort(),c=Object.keys(n).sort();if(!e(u,c))return!1;var l=!0;return Object.keys(t).forEach((function(r){e(t[r],n[r])||(l=!1)})),l}for(var d=0;d<t.length;d++)if(!e(t[d],n[d]))return!1;return!0},g="undefined"!==typeof globalThis?globalThis:n.g||self,y=function(){function e(){this.identityStore=new v,this.eventBridge=new l,this.applicationContextProvider=new o}return e.getInstance=function(t){return g.analyticsConnectorInstances||(g.analyticsConnectorInstances={}),g.analyticsConnectorInstances[t]||(g.analyticsConnectorInstances[t]=new e),g.analyticsConnectorInstances[t]},e}();e.AnalyticsConnector=y,Object.defineProperty(e,"__esModule",{value:!0})}(t)},9667:function(e,t,n){var r;!function(i,a){"use strict";var o="function",s="undefined",u="object",c="string",l="model",d="name",f="type",h="vendor",p="version",v="architecture",m="console",g="mobile",y="tablet",_="smarttv",b="wearable",k="embedded",w="Amazon",S="Apple",E="ASUS",x="BlackBerry",I="Firefox",T="Google",C="Huawei",N="LG",R="Microsoft",P="Motorola",O="Opera",D="Samsung",A="Sony",Z="Xiaomi",L="Zebra",U="Facebook",M=function(e){for(var t={},n=0;n<e.length;n++)t[e[n].toUpperCase()]=e[n];return t},j=function(e,t){return typeof e===c&&-1!==F(t).indexOf(F(e))},F=function(e){return e.toLowerCase()},q=function(e,t){if(typeof e===c)return e=e.replace(/^\s\s*/,"").replace(/\s\s*$/,""),typeof t===s?e:e.substring(0,275)},z=function(e,t){for(var n,r,i,s,c,l,d=0;d<t.length&&!c;){var f=t[d],h=t[d+1];for(n=r=0;n<f.length&&!c;)if(c=f[n++].exec(e))for(i=0;i<h.length;i++)l=c[++r],typeof(s=h[i])===u&&s.length>0?2===s.length?typeof s[1]==o?this[s[0]]=s[1].call(this,l):this[s[0]]=s[1]:3===s.length?typeof s[1]!==o||s[1].exec&&s[1].test?this[s[0]]=l?l.replace(s[1],s[2]):a:this[s[0]]=l?s[1].call(this,l,s[2]):a:4===s.length&&(this[s[0]]=l?s[3].call(this,l.replace(s[1],s[2])):a):this[s]=l||a;d+=2}},B=function(e,t){for(var n in t)if(typeof t[n]===u&&t[n].length>0){for(var r=0;r<t[n].length;r++)if(j(t[n][r],e))return"?"===n?a:n}else if(j(t[n],e))return"?"===n?a:n;return e},W={ME:"4.90","NT 3.11":"NT3.51","NT 4.0":"NT4.0",2e3:"NT 5.0",XP:["NT 5.1","NT 5.2"],Vista:"NT 6.0",7:"NT 6.1",8:"NT 6.2",8.1:"NT 6.3",10:["NT 6.4","NT 10.0"],RT:"ARM"},G={browser:[[/\b(?:crmo|crios)\/([\w\.]+)/i],[p,[d,"Chrome"]],[/edg(?:e|ios|a)?\/([\w\.]+)/i],[p,[d,"Edge"]],[/(opera mini)\/([-\w\.]+)/i,/(opera [mobiletab]{3,6})\b.+version\/([-\w\.]+)/i,/(opera)(?:.+version\/|[\/ ]+)([\w\.]+)/i],[d,p],[/opios[\/ ]+([\w\.]+)/i],[p,[d,"Opera Mini"]],[/\bopr\/([\w\.]+)/i],[p,[d,O]],[/(kindle)\/([\w\.]+)/i,/(lunascape|maxthon|netfront|jasmine|blazer)[\/ ]?([\w\.]*)/i,/(avant |iemobile|slim)(?:browser)?[\/ ]?([\w\.]*)/i,/(ba?idubrowser)[\/ ]?([\w\.]+)/i,/(?:ms|\()(ie) ([\w\.]+)/i,/(flock|rockmelt|midori|epiphany|silk|skyfire|ovibrowser|bolt|iron|vivaldi|iridium|phantomjs|bowser|quark|qupzilla|falkon|rekonq|puffin|brave|whale|qqbrowserlite|qq)\/([-\w\.]+)/i,/(weibo)__([\d\.]+)/i],[d,p],[/(?:\buc? ?browser|(?:juc.+)ucweb)[\/ ]?([\w\.]+)/i],[p,[d,"UCBrowser"]],[/\bqbcore\/([\w\.]+)/i],[p,[d,"WeChat(Win) Desktop"]],[/micromessenger\/([\w\.]+)/i],[p,[d,"WeChat"]],[/konqueror\/([\w\.]+)/i],[p,[d,"Konqueror"]],[/trident.+rv[: ]([\w\.]{1,9})\b.+like gecko/i],[p,[d,"IE"]],[/yabrowser\/([\w\.]+)/i],[p,[d,"Yandex"]],[/(avast|avg)\/([\w\.]+)/i],[[d,/(.+)/,"$1 Secure Browser"],p],[/\bfocus\/([\w\.]+)/i],[p,[d,"Firefox Focus"]],[/\bopt\/([\w\.]+)/i],[p,[d,"Opera Touch"]],[/coc_coc\w+\/([\w\.]+)/i],[p,[d,"Coc Coc"]],[/dolfin\/([\w\.]+)/i],[p,[d,"Dolphin"]],[/coast\/([\w\.]+)/i],[p,[d,"Opera Coast"]],[/miuibrowser\/([\w\.]+)/i],[p,[d,"MIUI Browser"]],[/fxios\/([-\w\.]+)/i],[p,[d,I]],[/\bqihu|(qi?ho?o?|360)browser/i],[[d,"360 Browser"]],[/(oculus|samsung|sailfish)browser\/([\w\.]+)/i],[[d,/(.+)/,"$1 Browser"],p],[/(comodo_dragon)\/([\w\.]+)/i],[[d,/_/g," "],p],[/(electron)\/([\w\.]+) safari/i,/(tesla)(?: qtcarbrowser|\/(20\d\d\.[-\w\.]+))/i,/m?(qqbrowser|baiduboxapp|2345Explorer)[\/ ]?([\w\.]+)/i],[d,p],[/(metasr)[\/ ]?([\w\.]+)/i,/(lbbrowser)/i],[d],[/((?:fban\/fbios|fb_iab\/fb4a)(?!.+fbav)|;fbav\/([\w\.]+);)/i],[[d,U],p],[/safari (line)\/([\w\.]+)/i,/\b(line)\/([\w\.]+)\/iab/i,/(chromium|instagram)[\/ ]([-\w\.]+)/i],[d,p],[/\bgsa\/([\w\.]+) .*safari\//i],[p,[d,"GSA"]],[/headlesschrome(?:\/([\w\.]+)| )/i],[p,[d,"Chrome Headless"]],[/ wv\).+(chrome)\/([\w\.]+)/i],[[d,"Chrome WebView"],p],[/droid.+ version\/([\w\.]+)\b.+(?:mobile safari|safari)/i],[p,[d,"Android Browser"]],[/(chrome|omniweb|arora|[tizenoka]{5} ?browser)\/v?([\w\.]+)/i],[d,p],[/version\/([\w\.]+) .*mobile\/\w+ (safari)/i],[p,[d,"Mobile Safari"]],[/version\/([\w\.]+) .*(mobile ?safari|safari)/i],[p,d],[/webkit.+?(mobile ?safari|safari)(\/[\w\.]+)/i],[d,[p,B,{"1.0":"/8",1.2:"/1",1.3:"/3","2.0":"/412","2.0.2":"/416","2.0.3":"/417","2.0.4":"/419","?":"/"}]],[/(webkit|khtml)\/([\w\.]+)/i],[d,p],[/(navigator|netscape\d?)\/([-\w\.]+)/i],[[d,"Netscape"],p],[/mobile vr; rv:([\w\.]+)\).+firefox/i],[p,[d,"Firefox Reality"]],[/ekiohf.+(flow)\/([\w\.]+)/i,/(swiftfox)/i,/(icedragon|iceweasel|camino|chimera|fennec|maemo browser|minimo|conkeror|klar)[\/ ]?([\w\.\+]+)/i,/(seamonkey|k-meleon|icecat|iceape|firebird|phoenix|palemoon|basilisk|waterfox)\/([-\w\.]+)$/i,/(firefox)\/([\w\.]+)/i,/(mozilla)\/([\w\.]+) .+rv\:.+gecko\/\d+/i,/(polaris|lynx|dillo|icab|doris|amaya|w3m|netsurf|sleipnir|obigo|mosaic|(?:go|ice|up)[\. ]?browser)[-\/ ]?v?([\w\.]+)/i,/(links) \(([\w\.]+)/i],[d,p]],cpu:[[/(?:(amd|x(?:(?:86|64)[-_])?|wow|win)64)[;\)]/i],[[v,"amd64"]],[/(ia32(?=;))/i],[[v,F]],[/((?:i[346]|x)86)[;\)]/i],[[v,"ia32"]],[/\b(aarch64|arm(v?8e?l?|_?64))\b/i],[[v,"arm64"]],[/\b(arm(?:v[67])?ht?n?[fl]p?)\b/i],[[v,"armhf"]],[/windows (ce|mobile); ppc;/i],[[v,"arm"]],[/((?:ppc|powerpc)(?:64)?)(?: mac|;|\))/i],[[v,/ower/,"",F]],[/(sun4\w)[;\)]/i],[[v,"sparc"]],[/((?:avr32|ia64(?=;))|68k(?=\))|\barm(?=v(?:[1-7]|[5-7]1)l?|;|eabi)|(?=atmel )avr|(?:irix|mips|sparc)(?:64)?\b|pa-risc)/i],[[v,F]]],device:[[/\b(sch-i[89]0\d|shw-m380s|sm-[pt]\w{2,4}|gt-[pn]\d{2,4}|sgh-t8[56]9|nexus 10)/i],[l,[h,D],[f,y]],[/\b((?:s[cgp]h|gt|sm)-\w+|galaxy nexus)/i,/samsung[- ]([-\w]+)/i,/sec-(sgh\w+)/i],[l,[h,D],[f,g]],[/((ipod|iphone)\d+,\d+)/i],[l,[h,S],[f,g]],[/(ipad\d+,\d+)/i],[l,[h,S],[f,y]],[/\((ip(?:hone|od)[\w ]*);/i],[l,[h,S],[f,g]],[/\((ipad);[-\w\),; ]+apple/i,/applecoremedia\/[\w\.]+ \((ipad)/i,/\b(ipad)\d\d?,\d\d?[;\]].+ios/i],[l,[h,S],[f,y]],[/\b((?:ag[rs][23]?|bah2?|sht?|btv)-a?[lw]\d{2})\b(?!.+d\/s)/i],[l,[h,C],[f,y]],[/(?:huawei|honor)([-\w ]+)[;\)]/i,/\b(nexus 6p|\w{2,4}e?-[atu]?[ln][\dx][012359c][adn]?)\b(?!.+d\/s)/i],[l,[h,C],[f,g]],[/\b(poco[\w ]+)(?: bui|\))/i,/\b; (\w+) build\/hm\1/i,/\b(hm[-_ ]?note?[_ ]?(?:\d\w)?) bui/i,/\b(redmi[\-_ ]?(?:note|k)?[\w_ ]+)(?: bui|\))/i,/\b(mi[-_ ]?(?:a\d|one|one[_ ]plus|note lte|max|cc)?[_ ]?(?:\d?\w?)[_ ]?(?:plus|se|lite)?)(?: bui|\))/i],[[l,/_/g," "],[h,Z],[f,g]],[/\b(mi[-_ ]?(?:pad)(?:[\w_ ]+))(?: bui|\))/i],[[l,/_/g," "],[h,Z],[f,y]],[/; (\w+) bui.+ oppo/i,/\b(cph[12]\d{3}|p(?:af|c[al]|d\w|e[ar])[mt]\d0|x9007|a101op)\b/i],[l,[h,"OPPO"],[f,g]],[/vivo (\w+)(?: bui|\))/i,/\b(v[12]\d{3}\w?[at])(?: bui|;)/i],[l,[h,"Vivo"],[f,g]],[/\b(rmx[12]\d{3})(?: bui|;|\))/i],[l,[h,"Realme"],[f,g]],[/\b(milestone|droid(?:[2-4x]| (?:bionic|x2|pro|razr))?:?( 4g)?)\b[\w ]+build\//i,/\bmot(?:orola)?[- ](\w*)/i,/((?:moto[\w\(\) ]+|xt\d{3,4}|nexus 6)(?= bui|\)))/i],[l,[h,P],[f,g]],[/\b(mz60\d|xoom[2 ]{0,2}) build\//i],[l,[h,P],[f,y]],[/((?=lg)?[vl]k\-?\d{3}) bui| 3\.[-\w; ]{10}lg?-([06cv9]{3,4})/i],[l,[h,N],[f,y]],[/(lm(?:-?f100[nv]?|-[\w\.]+)(?= bui|\))|nexus [45])/i,/\blg[-e;\/ ]+((?!browser|netcast|android tv)\w+)/i,/\blg-?([\d\w]+) bui/i],[l,[h,N],[f,g]],[/(ideatab[-\w ]+)/i,/lenovo ?(s[56]000[-\w]+|tab(?:[\w ]+)|yt[-\d\w]{6}|tb[-\d\w]{6})/i],[l,[h,"Lenovo"],[f,y]],[/(?:maemo|nokia).*(n900|lumia \d+)/i,/nokia[-_ ]?([-\w\.]*)/i],[[l,/_/g," "],[h,"Nokia"],[f,g]],[/(pixel c)\b/i],[l,[h,T],[f,y]],[/droid.+; (pixel[\daxl ]{0,6})(?: bui|\))/i],[l,[h,T],[f,g]],[/droid.+ (a?\d[0-2]{2}so|[c-g]\d{4}|so[-gl]\w+|xq-a\w[4-7][12])(?= bui|\).+chrome\/(?![1-6]{0,1}\d\.))/i],[l,[h,A],[f,g]],[/sony tablet [ps]/i,/\b(?:sony)?sgp\w+(?: bui|\))/i],[[l,"Xperia Tablet"],[h,A],[f,y]],[/ (kb2005|in20[12]5|be20[12][59])\b/i,/(?:one)?(?:plus)? (a\d0\d\d)(?: b|\))/i],[l,[h,"OnePlus"],[f,g]],[/(alexa)webm/i,/(kf[a-z]{2}wi)( bui|\))/i,/(kf[a-z]+)( bui|\)).+silk\//i],[l,[h,w],[f,y]],[/((?:sd|kf)[0349hijorstuw]+)( bui|\)).+silk\//i],[[l,/(.+)/g,"Fire Phone $1"],[h,w],[f,g]],[/(playbook);[-\w\),; ]+(rim)/i],[l,h,[f,y]],[/\b((?:bb[a-f]|st[hv])100-\d)/i,/\(bb10; (\w+)/i],[l,[h,x],[f,g]],[/(?:\b|asus_)(transfo[prime ]{4,10} \w+|eeepc|slider \w+|nexus 7|padfone|p00[cj])/i],[l,[h,E],[f,y]],[/ (z[bes]6[027][012][km][ls]|zenfone \d\w?)\b/i],[l,[h,E],[f,g]],[/(nexus 9)/i],[l,[h,"HTC"],[f,y]],[/(htc)[-;_ ]{1,2}([\w ]+(?=\)| bui)|\w+)/i,/(zte)[- ]([\w ]+?)(?: bui|\/|\))/i,/(alcatel|geeksphone|nexian|panasonic|sony(?!-bra))[-_ ]?([-\w]*)/i],[h,[l,/_/g," "],[f,g]],[/droid.+; ([ab][1-7]-?[0178a]\d\d?)/i],[l,[h,"Acer"],[f,y]],[/droid.+; (m[1-5] note) bui/i,/\bmz-([-\w]{2,})/i],[l,[h,"Meizu"],[f,g]],[/\b(sh-?[altvz]?\d\d[a-ekm]?)/i],[l,[h,"Sharp"],[f,g]],[/(blackberry|benq|palm(?=\-)|sonyericsson|acer|asus|dell|meizu|motorola|polytron)[-_ ]?([-\w]*)/i,/(hp) ([\w ]+\w)/i,/(asus)-?(\w+)/i,/(microsoft); (lumia[\w ]+)/i,/(lenovo)[-_ ]?([-\w]+)/i,/(jolla)/i,/(oppo) ?([\w ]+) bui/i],[h,l,[f,g]],[/(archos) (gamepad2?)/i,/(hp).+(touchpad(?!.+tablet)|tablet)/i,/(kindle)\/([\w\.]+)/i,/(nook)[\w ]+build\/(\w+)/i,/(dell) (strea[kpr\d ]*[\dko])/i,/(le[- ]+pan)[- ]+(\w{1,9}) bui/i,/(trinity)[- ]*(t\d{3}) bui/i,/(gigaset)[- ]+(q\w{1,9}) bui/i,/(vodafone) ([\w ]+)(?:\)| bui)/i],[h,l,[f,y]],[/(surface duo)/i],[l,[h,R],[f,y]],[/droid [\d\.]+; (fp\du?)(?: b|\))/i],[l,[h,"Fairphone"],[f,g]],[/(u304aa)/i],[l,[h,"AT&T"],[f,g]],[/\bsie-(\w*)/i],[l,[h,"Siemens"],[f,g]],[/\b(rct\w+) b/i],[l,[h,"RCA"],[f,y]],[/\b(venue[\d ]{2,7}) b/i],[l,[h,"Dell"],[f,y]],[/\b(q(?:mv|ta)\w+) b/i],[l,[h,"Verizon"],[f,y]],[/\b(?:barnes[& ]+noble |bn[rt])([\w\+ ]*) b/i],[l,[h,"Barnes & Noble"],[f,y]],[/\b(tm\d{3}\w+) b/i],[l,[h,"NuVision"],[f,y]],[/\b(k88) b/i],[l,[h,"ZTE"],[f,y]],[/\b(nx\d{3}j) b/i],[l,[h,"ZTE"],[f,g]],[/\b(gen\d{3}) b.+49h/i],[l,[h,"Swiss"],[f,g]],[/\b(zur\d{3}) b/i],[l,[h,"Swiss"],[f,y]],[/\b((zeki)?tb.*\b) b/i],[l,[h,"Zeki"],[f,y]],[/\b([yr]\d{2}) b/i,/\b(dragon[- ]+touch |dt)(\w{5}) b/i],[[h,"Dragon Touch"],l,[f,y]],[/\b(ns-?\w{0,9}) b/i],[l,[h,"Insignia"],[f,y]],[/\b((nxa|next)-?\w{0,9}) b/i],[l,[h,"NextBook"],[f,y]],[/\b(xtreme\_)?(v(1[045]|2[015]|[3469]0|7[05])) b/i],[[h,"Voice"],l,[f,g]],[/\b(lvtel\-)?(v1[12]) b/i],[[h,"LvTel"],l,[f,g]],[/\b(ph-1) /i],[l,[h,"Essential"],[f,g]],[/\b(v(100md|700na|7011|917g).*\b) b/i],[l,[h,"Envizen"],[f,y]],[/\b(trio[-\w\. ]+) b/i],[l,[h,"MachSpeed"],[f,y]],[/\btu_(1491) b/i],[l,[h,"Rotor"],[f,y]],[/(shield[\w ]+) b/i],[l,[h,"Nvidia"],[f,y]],[/(sprint) (\w+)/i],[h,l,[f,g]],[/(kin\.[onetw]{3})/i],[[l,/\./g," "],[h,R],[f,g]],[/droid.+; (cc6666?|et5[16]|mc[239][23]x?|vc8[03]x?)\)/i],[l,[h,L],[f,y]],[/droid.+; (ec30|ps20|tc[2-8]\d[kx])\)/i],[l,[h,L],[f,g]],[/(ouya)/i,/(nintendo) ([wids3utch]+)/i],[h,l,[f,m]],[/droid.+; (shield) bui/i],[l,[h,"Nvidia"],[f,m]],[/(playstation [345portablevi]+)/i],[l,[h,A],[f,m]],[/\b(xbox(?: one)?(?!; xbox))[\); ]/i],[l,[h,R],[f,m]],[/smart-tv.+(samsung)/i],[h,[f,_]],[/hbbtv.+maple;(\d+)/i],[[l,/^/,"SmartTV"],[h,D],[f,_]],[/(nux; netcast.+smarttv|lg (netcast\.tv-201\d|android tv))/i],[[h,N],[f,_]],[/(apple) ?tv/i],[h,[l,"Apple TV"],[f,_]],[/crkey/i],[[l,"Chromecast"],[h,T],[f,_]],[/droid.+aft(\w)( bui|\))/i],[l,[h,w],[f,_]],[/\(dtv[\);].+(aquos)/i],[l,[h,"Sharp"],[f,_]],[/(bravia[\w- ]+) bui/i],[l,[h,A],[f,_]],[/\b(roku)[\dx]*[\)\/]((?:dvp-)?[\d\.]*)/i,/hbbtv\/\d+\.\d+\.\d+ +\([\w ]*; *(\w[^;]*);([^;]*)/i],[[h,q],[l,q],[f,_]],[/\b(android tv|smart[- ]?tv|opera tv|tv; rv:)\b/i],[[f,_]],[/((pebble))app/i],[h,l,[f,b]],[/droid.+; (glass) \d/i],[l,[h,T],[f,b]],[/droid.+; (wt63?0{2,3})\)/i],[l,[h,L],[f,b]],[/(quest( 2)?)/i],[l,[h,U],[f,b]],[/(tesla)(?: qtcarbrowser|\/[-\w\.]+)/i],[h,[f,k]],[/droid .+?; ([^;]+?)(?: bui|\) applew).+? mobile safari/i],[l,[f,g]],[/droid .+?; ([^;]+?)(?: bui|\) applew).+?(?! mobile) safari/i],[l,[f,y]],[/\b((tablet|tab)[;\/]|focus\/\d(?!.+mobile))/i],[[f,y]],[/(phone|mobile(?:[;\/]| safari)|pda(?=.+windows ce))/i],[[f,g]],[/(android[-\w\. ]{0,9});.+buil/i],[l,[h,"Generic"]]],engine:[[/windows.+ edge\/([\w\.]+)/i],[p,[d,"EdgeHTML"]],[/webkit\/537\.36.+chrome\/(?!27)([\w\.]+)/i],[p,[d,"Blink"]],[/(presto)\/([\w\.]+)/i,/(webkit|trident|netfront|netsurf|amaya|lynx|w3m|goanna)\/([\w\.]+)/i,/ekioh(flow)\/([\w\.]+)/i,/(khtml|tasman|links)[\/ ]\(?([\w\.]+)/i,/(icab)[\/ ]([23]\.[\d\.]+)/i],[d,p],[/rv\:([\w\.]{1,9})\b.+(gecko)/i],[p,d]],os:[[/microsoft (windows) (vista|xp)/i],[d,p],[/(windows) nt 6\.2; (arm)/i,/(windows (?:phone(?: os)?|mobile))[\/ ]?([\d\.\w ]*)/i,/(windows)[\/ ]?([ntce\d\. ]+\w)(?!.+xbox)/i],[d,[p,B,W]],[/(win(?=3|9|n)|win 9x )([nt\d\.]+)/i],[[d,"Windows"],[p,B,W]],[/ip[honead]{2,4}\b(?:.*os ([\w]+) like mac|; opera)/i,/cfnetwork\/.+darwin/i],[[p,/_/g,"."],[d,"iOS"]],[/(mac os x) ?([\w\. ]*)/i,/(macintosh|mac_powerpc\b)(?!.+haiku)/i],[[d,"Mac OS"],[p,/_/g,"."]],[/droid ([\w\.]+)\b.+(android[- ]x86)/i],[p,d],[/(android|webos|qnx|bada|rim tablet os|maemo|meego|sailfish)[-\/ ]?([\w\.]*)/i,/(blackberry)\w*\/([\w\.]*)/i,/(tizen|kaios)[\/ ]([\w\.]+)/i,/\((series40);/i],[d,p],[/\(bb(10);/i],[p,[d,x]],[/(?:symbian ?os|symbos|s60(?=;)|series60)[-\/ ]?([\w\.]*)/i],[p,[d,"Symbian"]],[/mozilla\/[\d\.]+ \((?:mobile|tablet|tv|mobile; [\w ]+); rv:.+ gecko\/([\w\.]+)/i],[p,[d,"Firefox OS"]],[/web0s;.+rt(tv)/i,/\b(?:hp)?wos(?:browser)?\/([\w\.]+)/i],[p,[d,"webOS"]],[/crkey\/([\d\.]+)/i],[p,[d,"Chromecast"]],[/(cros) [\w]+ ([\w\.]+\w)/i],[[d,"Chromium OS"],p],[/(nintendo|playstation) ([wids345portablevuch]+)/i,/(xbox); +xbox ([^\);]+)/i,/\b(joli|palm)\b ?(?:os)?\/?([\w\.]*)/i,/(mint)[\/\(\) ]?(\w*)/i,/(mageia|vectorlinux)[; ]/i,/([kxln]?ubuntu|debian|suse|opensuse|gentoo|arch(?= linux)|slackware|fedora|mandriva|centos|pclinuxos|red ?hat|zenwalk|linpus|raspbian|plan 9|minix|risc os|contiki|deepin|manjaro|elementary os|sabayon|linspire)(?: gnu\/linux)?(?: enterprise)?(?:[- ]linux)?(?:-gnu)?[-\/ ]?(?!chrom|package)([-\w\.]*)/i,/(hurd|linux) ?([\w\.]*)/i,/(gnu) ?([\w\.]*)/i,/\b([-frentopcghs]{0,5}bsd|dragonfly)[\/ ]?(?!amd|[ix346]{1,2}86)([\w\.]*)/i,/(haiku) (\w+)/i],[d,p],[/(sunos) ?([\w\.\d]*)/i],[[d,"Solaris"],p],[/((?:open)?solaris)[-\/ ]?([\w\.]*)/i,/(aix) ((\d)(?=\.|\)| )[\w\.])*/i,/\b(beos|os\/2|amigaos|morphos|openvms|fuchsia|hp-ux)/i,/(unix) ?([\w\.]*)/i],[d,p]]},H=function e(t,n){if(typeof t===u&&(n=t,t=a),!(this instanceof e))return new e(t,n).getResult();var r=t||(typeof i!==s&&i.navigator&&i.navigator.userAgent?i.navigator.userAgent:""),o=n?function(e,t){var n={};for(var r in e)t[r]&&t[r].length%2===0?n[r]=t[r].concat(e[r]):n[r]=e[r];return n}(G,n):G;return this.getBrowser=function(){var e,t={};return t.name=a,t.version=a,z.call(t,r,o.browser),t.major=typeof(e=t.version)===c?e.replace(/[^\d\.]/g,"").split(".")[0]:a,t},this.getCPU=function(){var e={};return e.architecture=a,z.call(e,r,o.cpu),e},this.getDevice=function(){var e={};return e.vendor=a,e.model=a,e.type=a,z.call(e,r,o.device),e},this.getEngine=function(){var e={};return e.name=a,e.version=a,z.call(e,r,o.engine),e},this.getOS=function(){var e={};return e.name=a,e.version=a,z.call(e,r,o.os),e},this.getResult=function(){return{ua:this.getUA(),browser:this.getBrowser(),engine:this.getEngine(),os:this.getOS(),device:this.getDevice(),cpu:this.getCPU()}},this.getUA=function(){return r},this.setUA=function(e){return r=typeof e===c&&e.length>275?q(e,275):e,this},this.setUA(r),this};H.VERSION="0.7.31",H.BROWSER=M([d,p,"major"]),H.CPU=M([v]),H.DEVICE=M([l,h,f,m,g,_,y,b,k]),H.ENGINE=H.OS=M([d,p]),typeof t!==s?(e.exports&&(t=e.exports=H),t.UAParser=H):n.amdO?(r=function(){return H}.call(t,n,t,e))===a||(e.exports=r):typeof i!==s&&(i.UAParser=H);var V=typeof i!==s&&(i.jQuery||i.Zepto);if(V&&!V.ua){var Y=new H;V.ua=Y.getResult(),V.ua.get=function(){return Y.getUA()},V.ua.set=function(e){Y.setUA(e);var t=Y.getResult();for(var n in t)V.ua[n]=t[n]}}}("object"===typeof window?window:this)},8539:function(e,t,n){"use strict";n.d(t,{Gd:function(){return m},cu:function(){return p}});var r=n(1413),i=n(5671),a=n(3144),o=n(6870),s=n(9846),u=n(6017),c=n(2968),l=n(9509),d=n(1917),f=n(3082),h=function(){function e(t){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:new d.s,r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:4;(0,i.Z)(this,e),this._version=r,e.prototype.__init.call(this),this.getStackTop().scope=n,t&&this.bindClient(t)}return(0,a.Z)(e,[{key:"__init",value:function(){this._stack=[{}]}},{key:"isOlderThan",value:function(e){return this._version<e}},{key:"bindClient",value:function(e){this.getStackTop().client=e,e&&e.setupIntegrations&&e.setupIntegrations()}},{key:"pushScope",value:function(){var e=d.s.clone(this.getScope());return this.getStack().push({client:this.getClient(),scope:e}),e}},{key:"popScope",value:function(){return!(this.getStack().length<=1)&&!!this.getStack().pop()}},{key:"withScope",value:function(e){var t=this.pushScope();try{e(t)}finally{this.popScope()}}},{key:"getClient",value:function(){return this.getStackTop().client}},{key:"getScope",value:function(){return this.getStackTop().scope}},{key:"getStack",value:function(){return this._stack}},{key:"getStackTop",value:function(){return this._stack[this._stack.length-1]}},{key:"captureException",value:function(e,t){var n=this._lastEventId=t&&t.event_id?t.event_id:(0,o.DM)(),i=new Error("Sentry syntheticException");return this._withClient((function(a,o){a.captureException(e,(0,r.Z)((0,r.Z)({originalException:e,syntheticException:i},t),{},{event_id:n}),o)})),n}},{key:"captureMessage",value:function(e,t,n){var i=this._lastEventId=n&&n.event_id?n.event_id:(0,o.DM)(),a=new Error(e);return this._withClient((function(o,s){o.captureMessage(e,t,(0,r.Z)((0,r.Z)({originalException:e,syntheticException:a},n),{},{event_id:i}),s)})),i}},{key:"captureEvent",value:function(e,t){var n=t&&t.event_id?t.event_id:(0,o.DM)();return"transaction"!==e.type&&(this._lastEventId=n),this._withClient((function(i,a){i.captureEvent(e,(0,r.Z)((0,r.Z)({},t),{},{event_id:n}),a)})),n}},{key:"lastEventId",value:function(){return this._lastEventId}},{key:"addBreadcrumb",value:function(e,t){var n=this.getStackTop(),i=n.scope,a=n.client;if(i&&a){var o=a.getOptions&&a.getOptions()||{},c=o.beforeBreadcrumb,l=void 0===c?null:c,d=o.maxBreadcrumbs,f=void 0===d?100:d;if(!(f<=0)){var h=(0,s.yW)(),p=(0,r.Z)({timestamp:h},e),v=l?(0,u.Cf)((function(){return l(p,t)})):p;null!==v&&i.addBreadcrumb(v,f)}}}},{key:"setUser",value:function(e){var t=this.getScope();t&&t.setUser(e)}},{key:"setTags",value:function(e){var t=this.getScope();t&&t.setTags(e)}},{key:"setExtras",value:function(e){var t=this.getScope();t&&t.setExtras(e)}},{key:"setTag",value:function(e,t){var n=this.getScope();n&&n.setTag(e,t)}},{key:"setExtra",value:function(e,t){var n=this.getScope();n&&n.setExtra(e,t)}},{key:"setContext",value:function(e,t){var n=this.getScope();n&&n.setContext(e,t)}},{key:"configureScope",value:function(e){var t=this.getStackTop(),n=t.scope,r=t.client;n&&r&&e(n)}},{key:"run",value:function(e){var t=v(this);try{e(this)}finally{v(t)}}},{key:"getIntegration",value:function(e){var t=this.getClient();if(!t)return null;try{return t.getIntegration(e)}catch(n){return("undefined"===typeof __SENTRY_DEBUG__||__SENTRY_DEBUG__)&&u.kg.warn("Cannot retrieve integration ".concat(e.id," from the current Hub")),null}}},{key:"startTransaction",value:function(e,t){return this._callExtensionMethod("startTransaction",e,t)}},{key:"traceHeaders",value:function(){return this._callExtensionMethod("traceHeaders")}},{key:"captureSession",value:function(){var e=arguments.length>0&&void 0!==arguments[0]&&arguments[0];if(e)return this.endSession();this._sendSessionUpdate()}},{key:"endSession",value:function(){var e=this.getStackTop(),t=e&&e.scope,n=t&&t.getSession();n&&(0,f.RJ)(n),this._sendSessionUpdate(),t&&t.setSession()}},{key:"startSession",value:function(e){var t=this.getStackTop(),n=t.scope,i=t.client,a=i&&i.getOptions()||{},o=a.release,s=a.environment,u=((0,c.R)().navigator||{}).userAgent,l=(0,f.Hv)((0,r.Z)((0,r.Z)((0,r.Z)({release:o,environment:s},n&&{user:n.getUser()}),u&&{userAgent:u}),e));if(n){var d=n.getSession&&n.getSession();d&&"ok"===d.status&&(0,f.CT)(d,{status:"exited"}),this.endSession(),n.setSession(l)}return l}},{key:"_sendSessionUpdate",value:function(){var e=this.getStackTop(),t=e.scope,n=e.client;if(t){var r=t.getSession();r&&n&&n.captureSession&&n.captureSession(r)}}},{key:"_withClient",value:function(e){var t=this.getStackTop(),n=t.scope,r=t.client;r&&e(r,n)}},{key:"_callExtensionMethod",value:function(e){var t=p(),n=t.__SENTRY__;if(n&&n.extensions&&"function"===typeof n.extensions[e]){for(var r=arguments.length,i=new Array(r>1?r-1:0),a=1;a<r;a++)i[a-1]=arguments[a];return n.extensions[e].apply(this,i)}("undefined"===typeof __SENTRY_DEBUG__||__SENTRY_DEBUG__)&&u.kg.warn("Extension method ".concat(e," couldn't be found, doing nothing."))}}]),e}();function p(){var e=(0,c.R)();return e.__SENTRY__=e.__SENTRY__||{extensions:{},hub:void 0},e}function v(e){var t=p(),n=y(t);return _(t,e),n}function m(){var e=p();return g(e)&&!y(e).isOlderThan(4)||_(e,new h),(0,l.KV)()?function(e){try{var t=p().__SENTRY__,n=t&&t.extensions&&t.extensions.domain&&t.extensions.domain.active;if(!n)return y(e);if(!g(n)||y(n).isOlderThan(4)){var r=y(e).getStackTop();_(n,new h(r.client,d.s.clone(r.scope)))}return y(n)}catch(i){return y(e)}}(e):y(e)}function g(e){return!!(e&&e.__SENTRY__&&e.__SENTRY__.hub)}function y(e){return(0,c.Y)("hub",(function(){return new h}),e)}function _(e,t){return!!e&&((e.__SENTRY__=e.__SENTRY__||{}).hub=t,!0)}},1917:function(e,t,n){"use strict";n.d(t,{c:function(){return m},s:function(){return p}});var r=n(3433),i=n(4942),a=n(1413),o=n(5671),s=n(3144),u=n(8805),c=n(9846),l=n(9153),d=n(6017),f=n(2968),h=n(3082),p=function(){function e(){(0,o.Z)(this,e),this._notifyingListeners=!1,this._scopeListeners=[],this._eventProcessors=[],this._breadcrumbs=[],this._attachments=[],this._user={},this._tags={},this._extra={},this._contexts={},this._sdkProcessingMetadata={}}return(0,s.Z)(e,[{key:"addScopeListener",value:function(e){this._scopeListeners.push(e)}},{key:"addEventProcessor",value:function(e){return this._eventProcessors.push(e),this}},{key:"setUser",value:function(e){return this._user=e||{},this._session&&(0,h.CT)(this._session,{user:e}),this._notifyScopeListeners(),this}},{key:"getUser",value:function(){return this._user}},{key:"getRequestSession",value:function(){return this._requestSession}},{key:"setRequestSession",value:function(e){return this._requestSession=e,this}},{key:"setTags",value:function(e){return this._tags=(0,a.Z)((0,a.Z)({},this._tags),e),this._notifyScopeListeners(),this}},{key:"setTag",value:function(e,t){return this._tags=(0,a.Z)((0,a.Z)({},this._tags),{},(0,i.Z)({},e,t)),this._notifyScopeListeners(),this}},{key:"setExtras",value:function(e){return this._extra=(0,a.Z)((0,a.Z)({},this._extra),e),this._notifyScopeListeners(),this}},{key:"setExtra",value:function(e,t){return this._extra=(0,a.Z)((0,a.Z)({},this._extra),{},(0,i.Z)({},e,t)),this._notifyScopeListeners(),this}},{key:"setFingerprint",value:function(e){return this._fingerprint=e,this._notifyScopeListeners(),this}},{key:"setLevel",value:function(e){return this._level=e,this._notifyScopeListeners(),this}},{key:"setTransactionName",value:function(e){return this._transactionName=e,this._notifyScopeListeners(),this}},{key:"setContext",value:function(e,t){return null===t?delete this._contexts[e]:this._contexts=(0,a.Z)((0,a.Z)({},this._contexts),{},(0,i.Z)({},e,t)),this._notifyScopeListeners(),this}},{key:"setSpan",value:function(e){return this._span=e,this._notifyScopeListeners(),this}},{key:"getSpan",value:function(){return this._span}},{key:"getTransaction",value:function(){var e=this.getSpan();return e&&e.transaction}},{key:"setSession",value:function(e){return e?this._session=e:delete this._session,this._notifyScopeListeners(),this}},{key:"getSession",value:function(){return this._session}},{key:"update",value:function(t){if(!t)return this;if("function"===typeof t){var n=t(this);return n instanceof e?n:this}return t instanceof e?(this._tags=(0,a.Z)((0,a.Z)({},this._tags),t._tags),this._extra=(0,a.Z)((0,a.Z)({},this._extra),t._extra),this._contexts=(0,a.Z)((0,a.Z)({},this._contexts),t._contexts),t._user&&Object.keys(t._user).length&&(this._user=t._user),t._level&&(this._level=t._level),t._fingerprint&&(this._fingerprint=t._fingerprint),t._requestSession&&(this._requestSession=t._requestSession)):(0,u.PO)(t)&&(this._tags=(0,a.Z)((0,a.Z)({},this._tags),t.tags),this._extra=(0,a.Z)((0,a.Z)({},this._extra),t.extra),this._contexts=(0,a.Z)((0,a.Z)({},this._contexts),t.contexts),t.user&&(this._user=t.user),t.level&&(this._level=t.level),t.fingerprint&&(this._fingerprint=t.fingerprint),t.requestSession&&(this._requestSession=t.requestSession)),this}},{key:"clear",value:function(){return this._breadcrumbs=[],this._tags={},this._extra={},this._user={},this._contexts={},this._level=void 0,this._transactionName=void 0,this._fingerprint=void 0,this._requestSession=void 0,this._span=void 0,this._session=void 0,this._notifyScopeListeners(),this._attachments=[],this}},{key:"addBreadcrumb",value:function(e,t){var n="number"===typeof t?Math.min(t,100):100;if(n<=0)return this;var i=(0,a.Z)({timestamp:(0,c.yW)()},e);return this._breadcrumbs=[].concat((0,r.Z)(this._breadcrumbs),[i]).slice(-n),this._notifyScopeListeners(),this}},{key:"clearBreadcrumbs",value:function(){return this._breadcrumbs=[],this._notifyScopeListeners(),this}},{key:"addAttachment",value:function(e){return this._attachments.push(e),this}},{key:"getAttachments",value:function(){return this._attachments}},{key:"clearAttachments",value:function(){return this._attachments=[],this}},{key:"applyToEvent",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};if(this._extra&&Object.keys(this._extra).length&&(e.extra=(0,a.Z)((0,a.Z)({},this._extra),e.extra)),this._tags&&Object.keys(this._tags).length&&(e.tags=(0,a.Z)((0,a.Z)({},this._tags),e.tags)),this._user&&Object.keys(this._user).length&&(e.user=(0,a.Z)((0,a.Z)({},this._user),e.user)),this._contexts&&Object.keys(this._contexts).length&&(e.contexts=(0,a.Z)((0,a.Z)({},this._contexts),e.contexts)),this._level&&(e.level=this._level),this._transactionName&&(e.transaction=this._transactionName),this._span){e.contexts=(0,a.Z)({trace:this._span.getTraceContext()},e.contexts);var n=this._span.transaction&&this._span.transaction.name;n&&(e.tags=(0,a.Z)({transaction:n},e.tags))}return this._applyFingerprint(e),e.breadcrumbs=[].concat((0,r.Z)(e.breadcrumbs||[]),(0,r.Z)(this._breadcrumbs)),e.breadcrumbs=e.breadcrumbs.length>0?e.breadcrumbs:void 0,e.sdkProcessingMetadata=(0,a.Z)((0,a.Z)({},e.sdkProcessingMetadata),this._sdkProcessingMetadata),this._notifyEventProcessors([].concat((0,r.Z)(v()),(0,r.Z)(this._eventProcessors)),e,t)}},{key:"setSDKProcessingMetadata",value:function(e){return this._sdkProcessingMetadata=(0,a.Z)((0,a.Z)({},this._sdkProcessingMetadata),e),this}},{key:"_notifyEventProcessors",value:function(e,t,n){var r=this,i=arguments.length>3&&void 0!==arguments[3]?arguments[3]:0;return new l.cW((function(o,s){var c=e[i];if(null===t||"function"!==typeof c)o(t);else{var l=c((0,a.Z)({},t),n);("undefined"===typeof __SENTRY_DEBUG__||__SENTRY_DEBUG__)&&c.id&&null===l&&d.kg.log('Event processor "'.concat(c.id,'" dropped event')),(0,u.J8)(l)?l.then((function(t){return r._notifyEventProcessors(e,t,n,i+1).then(o)})).then(null,s):r._notifyEventProcessors(e,l,n,i+1).then(o).then(null,s)}}))}},{key:"_notifyScopeListeners",value:function(){var e=this;this._notifyingListeners||(this._notifyingListeners=!0,this._scopeListeners.forEach((function(t){t(e)})),this._notifyingListeners=!1)}},{key:"_applyFingerprint",value:function(e){e.fingerprint=e.fingerprint?Array.isArray(e.fingerprint)?e.fingerprint:[e.fingerprint]:[],this._fingerprint&&(e.fingerprint=e.fingerprint.concat(this._fingerprint)),e.fingerprint&&!e.fingerprint.length&&delete e.fingerprint}}],[{key:"clone",value:function(t){var n=new e;return t&&(n._breadcrumbs=(0,r.Z)(t._breadcrumbs),n._tags=(0,a.Z)({},t._tags),n._extra=(0,a.Z)({},t._extra),n._contexts=(0,a.Z)({},t._contexts),n._user=t._user,n._level=t._level,n._span=t._span,n._session=t._session,n._transactionName=t._transactionName,n._fingerprint=t._fingerprint,n._eventProcessors=(0,r.Z)(t._eventProcessors),n._requestSession=t._requestSession,n._attachments=(0,r.Z)(t._attachments)),n}}]),e}();function v(){return(0,f.Y)("globalEventProcessors",(function(){return[]}))}function m(e){v().push(e)}},3082:function(e,t,n){"use strict";n.d(t,{CT:function(){return s},Hv:function(){return o},RJ:function(){return u}});var r=n(9846),i=n(6870),a=n(5256);function o(e){var t=(0,r.ph)(),n={sid:(0,i.DM)(),init:!0,timestamp:t,started:t,duration:0,status:"ok",errors:0,ignoreDuration:!1,toJSON:function(){return function(e){return(0,a.Jr)({sid:"".concat(e.sid),init:e.init,started:new Date(1e3*e.started).toISOString(),timestamp:new Date(1e3*e.timestamp).toISOString(),status:e.status,errors:e.errors,did:"number"===typeof e.did||"string"===typeof e.did?"".concat(e.did):void 0,duration:e.duration,attrs:{release:e.release,environment:e.environment,ip_address:e.ipAddress,user_agent:e.userAgent}})}(n)}};return e&&s(n,e),n}function s(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};if(t.user&&(!e.ipAddress&&t.user.ip_address&&(e.ipAddress=t.user.ip_address),e.did||t.did||(e.did=t.user.id||t.user.email||t.user.username)),e.timestamp=t.timestamp||(0,r.ph)(),t.ignoreDuration&&(e.ignoreDuration=t.ignoreDuration),t.sid&&(e.sid=32===t.sid.length?t.sid:(0,i.DM)()),void 0!==t.init&&(e.init=t.init),!e.did&&t.did&&(e.did="".concat(t.did)),"number"===typeof t.started&&(e.started=t.started),e.ignoreDuration)e.duration=void 0;else if("number"===typeof t.duration)e.duration=t.duration;else{var n=e.timestamp-e.started;e.duration=n>=0?n:0}t.release&&(e.release=t.release),t.environment&&(e.environment=t.environment),!e.ipAddress&&t.ipAddress&&(e.ipAddress=t.ipAddress),!e.userAgent&&t.userAgent&&(e.userAgent=t.userAgent),"number"===typeof t.errors&&(e.errors=t.errors),t.status&&(e.status=t.status)}function u(e,t){var n={};t?n={status:t}:"ok"===e.status&&(n={status:"exited"}),s(e,n)}},3499:function(e,t,n){"use strict";n.d(t,{ro:function(){return y},lb:function(){return g}});var r=n(3433),i=n(1413),a=n(8539),o=n(6017),s=n(8805),u=n(9509),c=n(2034),l=n(5129);function d(){var e=(0,l.x1)();if(e){var t="internal_error";("undefined"===typeof __SENTRY_DEBUG__||__SENTRY_DEBUG__)&&o.kg.log("[Tracing] Transaction: ".concat(t," -> Global error occured")),e.setStatus(t)}}var f=n(5522),h=n(4281);function p(){var e=this.getScope();if(e){var t=e.getSpan();if(t)return{"sentry-trace":t.toTraceparent()}}return{}}function v(e,t,n){return(0,l.zu)(t)?void 0!==e.sampled?(e.setMetadata({transactionSampling:{method:"explicitly_set"}}),e):("function"===typeof t.tracesSampler?(r=t.tracesSampler(n),e.setMetadata({transactionSampling:{method:"client_sampler",rate:Number(r)}})):void 0!==n.parentSampled?(r=n.parentSampled,e.setMetadata({transactionSampling:{method:"inheritance"}})):(r=t.tracesSampleRate,e.setMetadata({transactionSampling:{method:"client_rate",rate:Number(r)}})),function(e){if((0,s.i2)(e)||"number"!==typeof e&&"boolean"!==typeof e)return("undefined"===typeof __SENTRY_DEBUG__||__SENTRY_DEBUG__)&&o.kg.warn("[Tracing] Given sample rate is invalid. Sample rate must be a boolean or a number between 0 and 1. Got ".concat(JSON.stringify(e)," of type ").concat(JSON.stringify(typeof e),".")),!1;if(e<0||e>1)return("undefined"===typeof __SENTRY_DEBUG__||__SENTRY_DEBUG__)&&o.kg.warn("[Tracing] Given sample rate is invalid. Sample rate must be between 0 and 1. Got ".concat(e,".")),!1;return!0}(r)?r?(e.sampled=Math.random()<r,e.sampled?(("undefined"===typeof __SENTRY_DEBUG__||__SENTRY_DEBUG__)&&o.kg.log("[Tracing] starting ".concat(e.op," transaction - ").concat(e.name)),e):(("undefined"===typeof __SENTRY_DEBUG__||__SENTRY_DEBUG__)&&o.kg.log("[Tracing] Discarding transaction because it's not included in the random sample (sampling rate = ".concat(Number(r),")")),e)):(("undefined"===typeof __SENTRY_DEBUG__||__SENTRY_DEBUG__)&&o.kg.log("[Tracing] Discarding transaction because ".concat("function"===typeof t.tracesSampler?"tracesSampler returned 0 or false":"a negative sampling decision was inherited or tracesSampleRate is set to 0")),e.sampled=!1,e):(("undefined"===typeof __SENTRY_DEBUG__||__SENTRY_DEBUG__)&&o.kg.warn("[Tracing] Discarding transaction because of invalid sample rate."),e.sampled=!1,e)):(e.sampled=!1,e);var r}function m(e,t){var n=this.getClient(),r=n&&n.getOptions()||{},a=new h.Y(e,this);return(a=v(a,r,(0,i.Z)({parentSampled:e.parentSampled,transactionContext:e},t))).sampled&&a.initSpanRecorder(r._experiments&&r._experiments.maxSpans),a}function g(e,t,n,r,a,o){var s=e.getClient(),u=s&&s.getOptions()||{},c=new f.io(t,e,n,r,a);return(c=v(c,u,(0,i.Z)({parentSampled:t.parentSampled,transactionContext:t},o))).sampled&&c.initSpanRecorder(u._experiments&&u._experiments.maxSpans),c}function y(){!function(){var e=(0,a.cu)();e.__SENTRY__&&(e.__SENTRY__.extensions=e.__SENTRY__.extensions||{},e.__SENTRY__.extensions.startTransaction||(e.__SENTRY__.extensions.startTransaction=m),e.__SENTRY__.extensions.traceHeaders||(e.__SENTRY__.extensions.traceHeaders=p))}(),(0,u.KV)()&&function(){var t=(0,a.cu)();if(t.__SENTRY__){var n={mongodb:function(){return new((0,u.l$)(e,"./integrations/node/mongo").Mongo)},mongoose:function(){return new((0,u.l$)(e,"./integrations/node/mongo").Mongo)({mongoose:!0})},mysql:function(){return new((0,u.l$)(e,"./integrations/node/mysql").Mysql)},pg:function(){return new((0,u.l$)(e,"./integrations/node/postgres").Postgres)}},i=Object.keys(n).filter((function(e){return!!(0,u.$y)(e)})).map((function(e){try{return n[e]()}catch(t){return}})).filter((function(e){return e}));i.length>0&&(t.__SENTRY__.integrations=[].concat((0,r.Z)(t.__SENTRY__.integrations||[]),(0,r.Z)(i)))}}(),(0,c.o)("error",d),(0,c.o)("unhandledrejection",d)}e=n.hmd(e)},5522:function(e,t,n){"use strict";n.d(t,{io:function(){return y},mg:function(){return m},nT:function(){return v}});var r=n(7762),i=n(7326),a=n(5671),o=n(3144),s=n(1752),u=n(1120),c=n(136),l=n(7277),d=n(9846),f=n(6017),h=n(4533),p=n(4281),v=1e3,m=3e4,g=function(e){(0,c.Z)(n,e);var t=(0,l.Z)(n);function n(e,r,i,o){var s;return(0,a.Z)(this,n),(s=t.call(this,o))._pushActivity=e,s._popActivity=r,s.transactionSpanId=i,s}return(0,o.Z)(n,[{key:"add",value:function(e){var t=this;e.spanId!==this.transactionSpanId&&(e.finish=function(n){e.endTimestamp="number"===typeof n?n:(0,d._I)(),t._popActivity(e.spanId)},void 0===e.endTimestamp&&this._pushActivity(e.spanId)),(0,s.Z)((0,u.Z)(n.prototype),"add",this).call(this,e)}}]),n}(h.gB),y=function(e){(0,c.Z)(n,e);var t=(0,l.Z)(n);function n(e,r){var o,s=arguments.length>2&&void 0!==arguments[2]?arguments[2]:v,u=arguments.length>3&&void 0!==arguments[3]?arguments[3]:m,c=arguments.length>4&&void 0!==arguments[4]&&arguments[4];return(0,a.Z)(this,n),(o=t.call(this,e,r))._idleHub=r,o._idleTimeout=s,o._finalTimeout=u,o._onScope=c,n.prototype.__init.call((0,i.Z)(o)),n.prototype.__init2.call((0,i.Z)(o)),n.prototype.__init3.call((0,i.Z)(o)),n.prototype.__init4.call((0,i.Z)(o)),c&&(_(r),("undefined"===typeof __SENTRY_DEBUG__||__SENTRY_DEBUG__)&&f.kg.log("Setting idle transaction on scope. Span ID: ".concat(o.spanId)),r.configureScope((function(e){return e.setSpan((0,i.Z)(o))}))),o._startIdleTimeout(),setTimeout((function(){o._finished||(o.setStatus("deadline_exceeded"),o.finish())}),o._finalTimeout),o}return(0,o.Z)(n,[{key:"__init",value:function(){this.activities={}}},{key:"__init2",value:function(){this._heartbeatCounter=0}},{key:"__init3",value:function(){this._finished=!1}},{key:"__init4",value:function(){this._beforeFinishCallbacks=[]}},{key:"finish",value:function(){var e=this,t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:(0,d._I)();if(this._finished=!0,this.activities={},this.spanRecorder){("undefined"===typeof __SENTRY_DEBUG__||__SENTRY_DEBUG__)&&f.kg.log("[Tracing] finishing IdleTransaction",new Date(1e3*t).toISOString(),this.op);var i,a=(0,r.Z)(this._beforeFinishCallbacks);try{for(a.s();!(i=a.n()).done;){var o=i.value;o(this,t)}}catch(c){a.e(c)}finally{a.f()}this.spanRecorder.spans=this.spanRecorder.spans.filter((function(n){if(n.spanId===e.spanId)return!0;n.endTimestamp||(n.endTimestamp=t,n.setStatus("cancelled"),("undefined"===typeof __SENTRY_DEBUG__||__SENTRY_DEBUG__)&&f.kg.log("[Tracing] cancelling span since transaction ended early",JSON.stringify(n,void 0,2)));var r=n.startTimestamp<t;return r||("undefined"===typeof __SENTRY_DEBUG__||__SENTRY_DEBUG__)&&f.kg.log("[Tracing] discarding Span since it happened after Transaction was finished",JSON.stringify(n,void 0,2)),r})),("undefined"===typeof __SENTRY_DEBUG__||__SENTRY_DEBUG__)&&f.kg.log("[Tracing] flushing IdleTransaction")}else("undefined"===typeof __SENTRY_DEBUG__||__SENTRY_DEBUG__)&&f.kg.log("[Tracing] No active IdleTransaction");return this._onScope&&_(this._idleHub),(0,s.Z)((0,u.Z)(n.prototype),"finish",this).call(this,t)}},{key:"registerBeforeFinishCallback",value:function(e){this._beforeFinishCallbacks.push(e)}},{key:"initSpanRecorder",value:function(e){var t=this;if(!this.spanRecorder){this.spanRecorder=new g((function(e){t._finished||t._pushActivity(e)}),(function(e){t._finished||t._popActivity(e)}),this.spanId,e),("undefined"===typeof __SENTRY_DEBUG__||__SENTRY_DEBUG__)&&f.kg.log("Starting heartbeat"),this._pingHeartbeat()}this.spanRecorder.add(this)}},{key:"_cancelIdleTimeout",value:function(){this._idleTimeoutID&&(clearTimeout(this._idleTimeoutID),this._idleTimeoutID=void 0)}},{key:"_startIdleTimeout",value:function(e){var t=this;this._cancelIdleTimeout(),this._idleTimeoutID=setTimeout((function(){t._finished||0!==Object.keys(t.activities).length||t.finish(e)}),this._idleTimeout)}},{key:"_pushActivity",value:function(e){this._cancelIdleTimeout(),("undefined"===typeof __SENTRY_DEBUG__||__SENTRY_DEBUG__)&&f.kg.log("[Tracing] pushActivity: ".concat(e)),this.activities[e]=!0,("undefined"===typeof __SENTRY_DEBUG__||__SENTRY_DEBUG__)&&f.kg.log("[Tracing] new activities count",Object.keys(this.activities).length)}},{key:"_popActivity",value:function(e){if(this.activities[e]&&(("undefined"===typeof __SENTRY_DEBUG__||__SENTRY_DEBUG__)&&f.kg.log("[Tracing] popActivity ".concat(e)),delete this.activities[e],("undefined"===typeof __SENTRY_DEBUG__||__SENTRY_DEBUG__)&&f.kg.log("[Tracing] new activities count",Object.keys(this.activities).length)),0===Object.keys(this.activities).length){var t=(0,d._I)()+this._idleTimeout/1e3;this._startIdleTimeout(t)}}},{key:"_beat",value:function(){if(!this._finished){var e=Object.keys(this.activities).join("");e===this._prevHeartbeatString?this._heartbeatCounter+=1:this._heartbeatCounter=1,this._prevHeartbeatString=e,this._heartbeatCounter>=3?(("undefined"===typeof __SENTRY_DEBUG__||__SENTRY_DEBUG__)&&f.kg.log("[Tracing] Transaction finished because of no change for 3 heart beats"),this.setStatus("deadline_exceeded"),this.finish()):this._pingHeartbeat()}}},{key:"_pingHeartbeat",value:function(){var e=this;("undefined"===typeof __SENTRY_DEBUG__||__SENTRY_DEBUG__)&&f.kg.log("pinging Heartbeat -> current counter: ".concat(this._heartbeatCounter)),setTimeout((function(){e._beat()}),5e3)}}]),n}(p.Y);function _(e){var t=e.getScope();t&&(t.getTransaction()&&t.setSpan(void 0))}},4533:function(e,t,n){"use strict";n.d(t,{Dr:function(){return f},gB:function(){return d}});var r=n(4942),i=n(1413),a=n(5671),o=n(3144),s=n(7717),u=n(6870),c=n(9846),l=n(5256),d=function(){function e(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:1e3;(0,a.Z)(this,e),e.prototype.__init.call(this),this._maxlen=t}return(0,o.Z)(e,[{key:"__init",value:function(){this.spans=[]}},{key:"add",value:function(e){this.spans.length>this._maxlen?e.spanRecorder=void 0:this.spans.push(e)}}]),e}(),f=function(){function e(t){if((0,a.Z)(this,e),e.prototype.__init2.call(this),e.prototype.__init3.call(this),e.prototype.__init4.call(this),e.prototype.__init5.call(this),e.prototype.__init6.call(this),!t)return this;t.traceId&&(this.traceId=t.traceId),t.spanId&&(this.spanId=t.spanId),t.parentSpanId&&(this.parentSpanId=t.parentSpanId),"sampled"in t&&(this.sampled=t.sampled),t.op&&(this.op=t.op),t.description&&(this.description=t.description),t.data&&(this.data=t.data),t.tags&&(this.tags=t.tags),t.status&&(this.status=t.status),t.startTimestamp&&(this.startTimestamp=t.startTimestamp),t.endTimestamp&&(this.endTimestamp=t.endTimestamp)}return(0,o.Z)(e,[{key:"__init2",value:function(){this.traceId=(0,u.DM)()}},{key:"__init3",value:function(){this.spanId=(0,u.DM)().substring(16)}},{key:"__init4",value:function(){this.startTimestamp=(0,c._I)()}},{key:"__init5",value:function(){this.tags={}}},{key:"__init6",value:function(){this.data={}}},{key:"startChild",value:function(t){var n=new e((0,i.Z)((0,i.Z)({},t),{},{parentSpanId:this.spanId,sampled:this.sampled,traceId:this.traceId}));return n.spanRecorder=this.spanRecorder,n.spanRecorder&&n.spanRecorder.add(n),n.transaction=this.transaction,n}},{key:"setTag",value:function(e,t){return this.tags=(0,i.Z)((0,i.Z)({},this.tags),{},(0,r.Z)({},e,t)),this}},{key:"setData",value:function(e,t){return this.data=(0,i.Z)((0,i.Z)({},this.data),{},(0,r.Z)({},e,t)),this}},{key:"setStatus",value:function(e){return this.status=e,this}},{key:"setHttpStatus",value:function(e){this.setTag("http.status_code",String(e));var t=function(e){if(e<400&&e>=100)return"ok";if(e>=400&&e<500)switch(e){case 401:return"unauthenticated";case 403:return"permission_denied";case 404:return"not_found";case 409:return"already_exists";case 413:return"failed_precondition";case 429:return"resource_exhausted";default:return"invalid_argument"}if(e>=500&&e<600)switch(e){case 501:return"unimplemented";case 503:return"unavailable";case 504:return"deadline_exceeded";default:return"internal_error"}return"unknown_error"}(e);return"unknown_error"!==t&&this.setStatus(t),this}},{key:"isSuccess",value:function(){return"ok"===this.status}},{key:"finish",value:function(e){this.endTimestamp="number"===typeof e?e:(0,c._I)()}},{key:"toTraceparent",value:function(){var e="";return void 0!==this.sampled&&(e=this.sampled?"-1":"-0"),"".concat(this.traceId,"-").concat(this.spanId).concat(e)}},{key:"toContext",value:function(){return(0,l.Jr)({data:this.data,description:this.description,endTimestamp:this.endTimestamp,op:this.op,parentSpanId:this.parentSpanId,sampled:this.sampled,spanId:this.spanId,startTimestamp:this.startTimestamp,status:this.status,tags:this.tags,traceId:this.traceId})}},{key:"updateWithContext",value:function(e){var t=this;return this.data=(0,s.h)(e.data,(function(){return{}})),this.description=e.description,this.endTimestamp=e.endTimestamp,this.op=e.op,this.parentSpanId=e.parentSpanId,this.sampled=e.sampled,this.spanId=(0,s.h)(e.spanId,(function(){return t.spanId})),this.startTimestamp=(0,s.h)(e.startTimestamp,(function(){return t.startTimestamp})),this.status=e.status,this.tags=(0,s.h)(e.tags,(function(){return{}})),this.traceId=(0,s.h)(e.traceId,(function(){return t.traceId})),this}},{key:"getTraceContext",value:function(){return(0,l.Jr)({data:Object.keys(this.data).length>0?this.data:void 0,description:this.description,op:this.op,parent_span_id:this.parentSpanId,span_id:this.spanId,status:this.status,tags:Object.keys(this.tags).length>0?this.tags:void 0,trace_id:this.traceId})}},{key:"toJSON",value:function(){return(0,l.Jr)({data:Object.keys(this.data).length>0?this.data:void 0,description:this.description,op:this.op,parent_span_id:this.parentSpanId,span_id:this.spanId,start_timestamp:this.startTimestamp,status:this.status,tags:Object.keys(this.tags).length>0?this.tags:void 0,timestamp:this.endTimestamp,trace_id:this.traceId})}}]),e}()},4281:function(e,t,n){"use strict";n.d(t,{Y:function(){return g}});var r=n(1413),i=n(5671),a=n(3144),o=n(7326),s=n(1752),u=n(1120),c=n(136),l=n(7277),d=n(7717),f=n(8539),h=n(6017),p=n(5256),v=n(437),m=n(4533),g=function(e){(0,c.Z)(n,e);var t=(0,l.Z)(n);function n(e,r){var a;return(0,i.Z)(this,n),a=t.call(this,e),n.prototype.__init.call((0,o.Z)(a)),a._hub=r||(0,f.Gd)(),a.name=e.name||"",a.metadata=e.metadata||{},a._trimEnd=e.trimEnd,a.transaction=(0,o.Z)(a),a}return(0,a.Z)(n,[{key:"__init",value:function(){this._measurements={}}},{key:"setName",value:function(e){this.name=e}},{key:"initSpanRecorder",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:1e3;this.spanRecorder||(this.spanRecorder=new m.gB(e)),this.spanRecorder.add(this)}},{key:"setMeasurement",value:function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"";this._measurements[e]={value:t,unit:n}}},{key:"setMetadata",value:function(e){this.metadata=(0,r.Z)((0,r.Z)({},this.metadata),e)}},{key:"finish",value:function(e){var t=this;if(void 0===this.endTimestamp){if(this.name||(("undefined"===typeof __SENTRY_DEBUG__||__SENTRY_DEBUG__)&&h.kg.warn("Transaction has no name, falling back to `<unlabeled transaction>`."),this.name="<unlabeled transaction>"),(0,s.Z)((0,u.Z)(n.prototype),"finish",this).call(this,e),!0===this.sampled){var i=this.spanRecorder?this.spanRecorder.spans.filter((function(e){return e!==t&&e.endTimestamp})):[];this._trimEnd&&i.length>0&&(this.endTimestamp=i.reduce((function(e,t){return e.endTimestamp&&t.endTimestamp?e.endTimestamp>t.endTimestamp?e:t:e})).endTimestamp);var a={contexts:{trace:this.getTraceContext()},spans:i,start_timestamp:this.startTimestamp,tags:this.tags,timestamp:this.endTimestamp,transaction:this.name,type:"transaction",sdkProcessingMetadata:(0,r.Z)((0,r.Z)({},this.metadata),{},{baggage:this.getBaggage()})};return Object.keys(this._measurements).length>0&&(("undefined"===typeof __SENTRY_DEBUG__||__SENTRY_DEBUG__)&&h.kg.log("[Measurements] Adding measurements to transaction",JSON.stringify(this._measurements,void 0,2)),a.measurements=this._measurements),("undefined"===typeof __SENTRY_DEBUG__||__SENTRY_DEBUG__)&&h.kg.log("[Tracing] Finishing ".concat(this.op," transaction: ").concat(this.name,".")),this._hub.captureEvent(a)}("undefined"===typeof __SENTRY_DEBUG__||__SENTRY_DEBUG__)&&h.kg.log("[Tracing] Discarding transaction because its trace was not chosen to be sampled.");var o=this._hub.getClient();o&&o.recordDroppedEvent("sample_rate","transaction")}}},{key:"toContext",value:function(){var e=(0,s.Z)((0,u.Z)(n.prototype),"toContext",this).call(this);return(0,p.Jr)((0,r.Z)((0,r.Z)({},e),{},{name:this.name,trimEnd:this._trimEnd}))}},{key:"updateWithContext",value:function(e){return(0,s.Z)((0,u.Z)(n.prototype),"updateWithContext",this).call(this,e),this.name=(0,d.h)(e.name,(function(){return""})),this._trimEnd=e.trimEnd,this}},{key:"getBaggage",value:function(){var e=this.metadata.baggage,t=!e||(0,v.Gp)(e)?this._populateBaggageWithSentryValues(e):e;return this.metadata.baggage=t,t}},{key:"_populateBaggageWithSentryValues",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:(0,v.Hn)({}),t=this._hub||(0,f.Gd)(),n=t&&t.getClient();if(!n)return e;var i=n.getOptions()||{},a=i.environment,o=i.release,s=n.getDsn()||{},u=s.publicKey,c=this.metadata&&this.metadata.transactionSampling&&this.metadata.transactionSampling.rate,l=void 0!==c?c.toLocaleString("fullwide",{useGrouping:!1,maximumFractionDigits:16}):void 0,d=t.getScope(),h=d&&d.getUser()||{},m=h.id,g=h.segment;return(0,v.Hn)((0,p.Jr)((0,r.Z)({environment:a,release:o,transaction:this.name,user_id:m,user_segment:g,public_key:u,trace_id:this.traceId,sample_rate:l},(0,v.Hk)(e))),"",!1)}}]),n}(m.Dr)},5129:function(e,t,n){"use strict";n.d(t,{XL:function(){return o},x1:function(){return a},zu:function(){return i}});var r=n(8539);function i(e){var t=(0,r.Gd)().getClient(),n=e||t&&t.getOptions();return!!n&&("tracesSampleRate"in n||"tracesSampler"in n)}function a(e){var t=(e||(0,r.Gd)()).getScope();return t&&t.getTransaction()}function o(e){return e/1e3}},437:function(e,t,n){"use strict";n.d(t,{Gp:function(){return f},Hk:function(){return d},Hn:function(){return l},J8:function(){return p},bU:function(){return u},rg:function(){return v}});var r=n(4942),i=n(9439),a=n(1413),o=n(8805),s=n(6017),u="baggage",c=/^sentry-/;function l(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"",n=!(arguments.length>2&&void 0!==arguments[2])||arguments[2];return[(0,a.Z)({},e),t,n]}function d(e){return e[0]}function f(e){return e[2]}function h(e){var t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];if(!Array.isArray(e)&&!(0,o.HD)(e)||"number"===typeof e)return("undefined"===typeof __SENTRY_DEBUG__||__SENTRY_DEBUG__)&&s.kg.warn("[parseBaggageHeader] Received input value of incompatible type: ",typeof e,e),l({},"");var n=((0,o.HD)(e)?e:e.join(",")).split(",").map((function(e){return e.trim()})).filter((function(e){return""!==e&&(t||c.test(e))}));return n.reduce((function(e,t){var n=(0,i.Z)(e,2),o=n[0],s=n[1],u=t.split("="),l=(0,i.Z)(u,2),d=l[0],f=l[1];if(c.test(d)){var h=decodeURIComponent(d.split("-")[1]);return[(0,a.Z)((0,a.Z)({},o),{},(0,r.Z)({},h,decodeURIComponent(f))),s,!0]}return[o,""===s?t:"".concat(s,",").concat(t),!0]}),[{},"",!0])}function p(e,t){if(!e&&!t)return"";var n=t&&h(t,!0)||void 0,r=n&&n[1];return function(e){return Object.keys(e[0]).reduce((function(t,n){var r=e[0][n],i="".concat("sentry-").concat(encodeURIComponent(n),"=").concat(encodeURIComponent(r)),a=""===t?i:"".concat(t,",").concat(i);return a.length>8192?(("undefined"===typeof __SENTRY_DEBUG__||__SENTRY_DEBUG__)&&s.kg.warn("Not adding key: ".concat(n," with val: ").concat(r," to baggage due to exceeding baggage size limits.")),t):a}),e[1])}(l(e&&e[0]||{},r||""))}function v(e,t){var n=h(e||"");return(t||!function(e){return 0===Object.keys(e[0]).length}(n))&&function(e){e[2]=!1}(n),n}},4044:function(e,t,n){"use strict";n.d(t,{R:function(){return a},l:function(){return s}});var r=n(2968),i=n(8805);function a(e,t){try{for(var n,r=e,i=[],a=0,s=0,u=" > ".length;r&&a++<5&&!("html"===(n=o(r,t))||a>1&&s+i.length*u+n.length>=80);)i.push(n),s+=n.length,r=r.parentNode;return i.reverse().join(" > ")}catch(c){return"<unknown>"}}function o(e,t){var n,r,a,o,s,u=e,c=[];if(!u||!u.tagName)return"";c.push(u.tagName.toLowerCase());var l=t&&t.length?t.filter((function(e){return u.getAttribute(e)})).map((function(e){return[e,u.getAttribute(e)]})):null;if(l&&l.length)l.forEach((function(e){c.push("[".concat(e[0],'="').concat(e[1],'"]'))}));else if(u.id&&c.push("#".concat(u.id)),(n=u.className)&&(0,i.HD)(n))for(r=n.split(/\s+/),s=0;s<r.length;s++)c.push(".".concat(r[s]));var d=["type","name","title","alt"];for(s=0;s<d.length;s++)a=d[s],(o=u.getAttribute(a))&&c.push("[".concat(a,'="').concat(o,'"]'));return c.join("")}function s(){var e=(0,r.R)();try{return e.document.location.href}catch(t){return""}}},7717:function(e,t,n){"use strict";function r(e,t){return null!=e?e:t()}n.d(t,{h:function(){return r}})},2968:function(e,t,n){"use strict";n.d(t,{R:function(){return a},Y:function(){return o}});var r=n(9509),i={};function a(){return(0,r.KV)()?n.g:"undefined"!==typeof window?window:"undefined"!==typeof self?self:i}function o(e,t,n){var r=n||a(),i=r.__SENTRY__=r.__SENTRY__||{};return i[e]||(i[e]=t())}},2034:function(e,t,n){"use strict";n.d(t,{o:function(){return m}});var r,i=n(1413),a=n(7762),o=n(2968),s=n(8805),u=n(6017),c=n(5256),l=n(8578),d=n(4678),f=(0,o.R)(),h={},p={};function v(e){if(!p[e])switch(p[e]=!0,e){case"console":!function(){if(!("console"in f))return;u.RU.forEach((function(e){e in f.console&&(0,c.hl)(f.console,e,(function(t){return function(){for(var n=arguments.length,r=new Array(n),i=0;i<n;i++)r[i]=arguments[i];g("console",{args:r,level:e}),t&&t.apply(f.console,r)}}))}))}();break;case"dom":!function(){if(!("document"in f))return;var e=g.bind(null,"dom"),t=E(e,!0);f.document.addEventListener("click",t,!1),f.document.addEventListener("keypress",t,!1),["EventTarget","Node"].forEach((function(t){var n=f[t]&&f[t].prototype;n&&n.hasOwnProperty&&n.hasOwnProperty("addEventListener")&&((0,c.hl)(n,"addEventListener",(function(t){return function(n,r,i){if("click"===n||"keypress"==n)try{var a=this,o=a.__sentry_instrumentation_handlers__=a.__sentry_instrumentation_handlers__||{},s=o[n]=o[n]||{refCount:0};if(!s.handler){var u=E(e);s.handler=u,t.call(this,n,u,i)}s.refCount+=1}catch(c){}return t.call(this,n,r,i)}})),(0,c.hl)(n,"removeEventListener",(function(e){return function(t,n,r){if("click"===t||"keypress"==t)try{var i=this,a=i.__sentry_instrumentation_handlers__||{},o=a[t];o&&(o.refCount-=1,o.refCount<=0&&(e.call(this,t,o.handler,r),o.handler=void 0,delete a[t]),0===Object.keys(a).length&&delete i.__sentry_instrumentation_handlers__)}catch(s){}return e.call(this,t,n,r)}})))}))}();break;case"xhr":!function(){if(!("XMLHttpRequest"in f))return;var e=XMLHttpRequest.prototype;(0,c.hl)(e,"open",(function(e){return function(){for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];var i=this,a=n[1],o=i.__sentry_xhr__={method:(0,s.HD)(n[0])?n[0].toUpperCase():n[0],url:n[1]};(0,s.HD)(a)&&"POST"===o.method&&a.match(/sentry_key/)&&(i.__sentry_own_request__=!0);var u=function(){if(4===i.readyState){try{o.status_code=i.status}catch(e){}g("xhr",{args:n,endTimestamp:Date.now(),startTimestamp:Date.now(),xhr:i})}};return"onreadystatechange"in i&&"function"===typeof i.onreadystatechange?(0,c.hl)(i,"onreadystatechange",(function(e){return function(){u();for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];return e.apply(i,n)}})):i.addEventListener("readystatechange",u),e.apply(i,n)}})),(0,c.hl)(e,"send",(function(e){return function(){for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];return this.__sentry_xhr__&&void 0!==n[0]&&(this.__sentry_xhr__.body=n[0]),g("xhr",{args:n,startTimestamp:Date.now(),xhr:this}),e.apply(this,n)}}))}();break;case"fetch":!function(){if(!(0,d.t$)())return;(0,c.hl)(f,"fetch",(function(e){return function(){for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];var a={args:n,fetchData:{method:y(n),url:_(n)},startTimestamp:Date.now()};return g("fetch",(0,i.Z)({},a)),e.apply(f,n).then((function(e){return g("fetch",(0,i.Z)((0,i.Z)({},a),{},{endTimestamp:Date.now(),response:e})),e}),(function(e){throw g("fetch",(0,i.Z)((0,i.Z)({},a),{},{endTimestamp:Date.now(),error:e})),e}))}}))}();break;case"history":!function(){if(!(0,d.Bf)())return;var e=f.onpopstate;function t(e){return function(){for(var t=arguments.length,n=new Array(t),i=0;i<t;i++)n[i]=arguments[i];var a=n.length>2?n[2]:void 0;if(a){var o=r,s=String(a);r=s,g("history",{from:o,to:s})}return e.apply(this,n)}}f.onpopstate=function(){var t=f.location.href,n=r;if(r=t,g("history",{from:n,to:t}),e)try{for(var i=arguments.length,a=new Array(i),o=0;o<i;o++)a[o]=arguments[o];return e.apply(this,a)}catch(s){}},(0,c.hl)(f.history,"pushState",t),(0,c.hl)(f.history,"replaceState",t)}();break;case"error":x=f.onerror,f.onerror=function(e,t,n,r,i){return g("error",{column:r,error:i,line:n,msg:e,url:t}),!!x&&x.apply(this,arguments)};break;case"unhandledrejection":I=f.onunhandledrejection,f.onunhandledrejection=function(e){return g("unhandledrejection",e),!I||I.apply(this,arguments)};break;default:return void(("undefined"===typeof __SENTRY_DEBUG__||__SENTRY_DEBUG__)&&u.kg.warn("unknown instrumentation type:",e))}}function m(e,t){h[e]=h[e]||[],h[e].push(t),v(e)}function g(e,t){if(e&&h[e]){var n,r=(0,a.Z)(h[e]||[]);try{for(r.s();!(n=r.n()).done;){var i=n.value;try{i(t)}catch(o){("undefined"===typeof __SENTRY_DEBUG__||__SENTRY_DEBUG__)&&u.kg.error("Error while triggering instrumentation handler.\nType: ".concat(e,"\nName: ").concat((0,l.$P)(i),"\nError:"),o)}}}catch(s){r.e(s)}finally{r.f()}}}function y(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[];return"Request"in f&&(0,s.V9)(e[0],Request)&&e[0].method?String(e[0].method).toUpperCase():e[1]&&e[1].method?String(e[1].method).toUpperCase():"GET"}function _(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[];return"string"===typeof e[0]?e[0]:"Request"in f&&(0,s.V9)(e[0],Request)?e[0].url:String(e[0])}var b,k;function w(e,t){if(!e)return!0;if(e.type!==t.type)return!0;try{if(e.target!==t.target)return!0}catch(n){}return!1}function S(e){if("keypress"!==e.type)return!1;try{var t=e.target;if(!t||!t.tagName)return!0;if("INPUT"===t.tagName||"TEXTAREA"===t.tagName||t.isContentEditable)return!1}catch(n){}return!0}function E(e){var t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];return function(n){if(n&&k!==n&&!S(n)){var r="keypress"===n.type?"input":n.type;(void 0===b||w(k,n))&&(e({event:n,name:r,global:t}),k=n),clearTimeout(b),b=f.setTimeout((function(){b=void 0}),1e3)}}}var x=null;var I=null},8805:function(e,t,n){"use strict";n.d(t,{Cy:function(){return m},HD:function(){return c},J8:function(){return v},Kj:function(){return p},PO:function(){return d},TX:function(){return s},V9:function(){return y},VW:function(){return o},VZ:function(){return i},cO:function(){return f},fm:function(){return u},i2:function(){return g},kK:function(){return h},pt:function(){return l}});var r=Object.prototype.toString;function i(e){switch(r.call(e)){case"[object Error]":case"[object Exception]":case"[object DOMException]":return!0;default:return y(e,Error)}}function a(e,t){return r.call(e)==="[object ".concat(t,"]")}function o(e){return a(e,"ErrorEvent")}function s(e){return a(e,"DOMError")}function u(e){return a(e,"DOMException")}function c(e){return a(e,"String")}function l(e){return null===e||"object"!==typeof e&&"function"!==typeof e}function d(e){return a(e,"Object")}function f(e){return"undefined"!==typeof Event&&y(e,Event)}function h(e){return"undefined"!==typeof Element&&y(e,Element)}function p(e){return a(e,"RegExp")}function v(e){return Boolean(e&&e.then&&"function"===typeof e.then)}function m(e){return d(e)&&"nativeEvent"in e&&"preventDefault"in e&&"stopPropagation"in e}function g(e){return"number"===typeof e&&e!==e}function y(e,t){try{return e instanceof t}catch(n){return!1}}},6017:function(e,t,n){"use strict";n.d(t,{Cf:function(){return u},RU:function(){return s},kg:function(){return r}});var r,i=n(2968),a=(0,i.R)(),o="Sentry Logger ",s=["debug","info","warn","error","log","assert","trace"];function u(e){var t=(0,i.R)();if(!("console"in t))return e();var n=t.console,r={};s.forEach((function(e){var i=n[e]&&n[e].__sentry_original__;e in t.console&&i&&(r[e]=n[e],n[e]=i)}));try{return e()}finally{Object.keys(r).forEach((function(e){n[e]=r[e]}))}}function c(){var e=!1,t={enable:function(){e=!0},disable:function(){e=!1}};return"undefined"===typeof __SENTRY_DEBUG__||__SENTRY_DEBUG__?s.forEach((function(n){t[n]=function(){for(var t=arguments.length,r=new Array(t),i=0;i<t;i++)r[i]=arguments[i];e&&u((function(){var e;(e=a.console)[n].apply(e,["".concat(o,"[").concat(n,"]:")].concat(r))}))}})):s.forEach((function(e){t[e]=function(){}})),t}r="undefined"===typeof __SENTRY_DEBUG__||__SENTRY_DEBUG__?(0,i.Y)("logger",c):c()},6870:function(e,t,n){"use strict";n.d(t,{DM:function(){return o},Db:function(){return l},EG:function(){return d},YO:function(){return f},en:function(){return s},jH:function(){return c}});var r=n(1413),i=n(2968),a=n(5256);function o(){var e=(0,i.R)(),t=e.crypto||e.msCrypto;if(void 0!==t&&t.getRandomValues){var n=new Uint16Array(8);t.getRandomValues(n),n[3]=4095&n[3]|16384,n[4]=16383&n[4]|32768;var r=function(e){for(var t=e.toString(16);t.length<4;)t="0".concat(t);return t};return r(n[0])+r(n[1])+r(n[2])+r(n[3])+r(n[4])+r(n[5])+r(n[6])+r(n[7])}return"xxxxxxxxxxxx4xxxyxxxxxxxxxxxxxxx".replace(/[xy]/g,(function(e){var t=16*Math.random()|0;return("x"===e?t:3&t|8).toString(16)}))}function s(e){if(!e)return{};var t=e.match(/^(([^:/?#]+):)?(\/\/([^/?#]*))?([^?#]*)(\?([^#]*))?(#(.*))?$/);if(!t)return{};var n=t[6]||"",r=t[8]||"";return{host:t[4],path:t[5],protocol:t[2],relative:t[5]+n+r}}function u(e){return e.exception&&e.exception.values?e.exception.values[0]:void 0}function c(e){var t=e.message,n=e.event_id;if(t)return t;var r=u(e);return r?r.type&&r.value?"".concat(r.type,": ").concat(r.value):r.type||r.value||n||"<unknown>":n||"<unknown>"}function l(e,t,n){var r=e.exception=e.exception||{},i=r.values=r.values||[],a=i[0]=i[0]||{};a.value||(a.value=t||""),a.type||(a.type=n||"Error")}function d(e,t){var n=u(e);if(n){var i=n.mechanism;if(n.mechanism=(0,r.Z)((0,r.Z)((0,r.Z)({},{type:"generic",handled:!0}),i),t),t&&"data"in t){var a=(0,r.Z)((0,r.Z)({},i&&i.data),t.data);n.mechanism.data=a}}}function f(e){if(e&&e.__sentry_captured__)return!0;try{(0,a.xp)(e,"__sentry_captured__",!0)}catch(t){}return!1}},9509:function(e,t,n){"use strict";function r(){return!("undefined"!==typeof __SENTRY_BROWSER_BUNDLE__&&__SENTRY_BROWSER_BUNDLE__)&&"[object process]"===Object.prototype.toString.call("undefined"!==typeof process?process:0)}function i(e,t){return e.require(t)}function a(t){var n;try{n=i(e,t)}catch(a){}try{var r=i(e,"process").cwd;n=i(e,"".concat(r(),"/node_modules/").concat(t))}catch(a){}return n}n.d(t,{l$:function(){return i},KV:function(){return r},$y:function(){return a}}),e=n.hmd(e)},5256:function(e,t,n){"use strict";n.d(t,{$Q:function(){return c},HK:function(){return l},Jr:function(){return m},Sh:function(){return f},_j:function(){return d},hl:function(){return s},xp:function(){return u},zf:function(){return v}});var r=n(1413),i=n(4044),a=n(8805),o=n(7050);function s(e,t,n){if(t in e){var r=e[t],i=n(r);if("function"===typeof i)try{c(i,r)}catch(a){}e[t]=i}}function u(e,t,n){Object.defineProperty(e,t,{value:n,writable:!0,configurable:!0})}function c(e,t){var n=t.prototype||{};e.prototype=t.prototype=n,u(e,"__sentry_original__",t)}function l(e){return e.__sentry_original__}function d(e){return Object.keys(e).map((function(t){return"".concat(encodeURIComponent(t),"=").concat(encodeURIComponent(e[t]))})).join("&")}function f(e){if((0,a.VZ)(e))return(0,r.Z)({message:e.message,name:e.name,stack:e.stack},p(e));if((0,a.cO)(e)){var t=(0,r.Z)({type:e.type,target:h(e.target),currentTarget:h(e.currentTarget)},p(e));return"undefined"!==typeof CustomEvent&&(0,a.V9)(e,CustomEvent)&&(t.detail=e.detail),t}return e}function h(e){try{return(0,a.kK)(e)?(0,i.R)(e):Object.prototype.toString.call(e)}catch(t){return"<unknown>"}}function p(e){if("object"===typeof e&&null!==e){var t={};for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t}return{}}function v(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:40,n=Object.keys(f(e));if(n.sort(),!n.length)return"[object has no keys]";if(n[0].length>=t)return(0,o.$G)(n[0],t);for(var r=n.length;r>0;r--){var i=n.slice(0,r).join(", ");if(!(i.length>t))return r===n.length?i:(0,o.$G)(i,t)}return""}function m(e){return g(e,new Map)}function g(e,t){if((0,a.PO)(e)){if(void 0!==(s=t.get(e)))return s;var n={};t.set(e,n);for(var r=0,i=Object.keys(e);r<i.length;r++){var o=i[r];"undefined"!==typeof e[o]&&(n[o]=g(e[o],t))}return n}if(Array.isArray(e)){var s;if(void 0!==(s=t.get(e)))return s;n=[];return t.set(e,n),e.forEach((function(e){n.push(g(e,t))})),n}return e}},8578:function(e,t,n){"use strict";n.d(t,{$P:function(){return l},Sq:function(){return s},pE:function(){return o}});var r=n(1413),i=n(3433),a=n(7762);function o(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];var r=t.sort((function(e,t){return e[0]-t[0]})).map((function(e){return e[1]}));return function(e){var t,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,i=[],o=(0,a.Z)(e.split("\n").slice(n));try{for(o.s();!(t=o.n()).done;){var s,c=t.value,l=(0,a.Z)(r);try{for(l.s();!(s=l.n()).done;){var d=s.value,f=d(c);if(f){i.push(f);break}}}catch(h){l.e(h)}finally{l.f()}}}catch(h){o.e(h)}finally{o.f()}return u(i)}}function s(e){return Array.isArray(e)?o.apply(void 0,(0,i.Z)(e)):e}function u(e){if(!e.length)return[];var t=e,n=t[0].function||"",i=t[t.length-1].function||"";return-1===n.indexOf("captureMessage")&&-1===n.indexOf("captureException")||(t=t.slice(1)),-1!==i.indexOf("sentryWrapped")&&(t=t.slice(0,-1)),t.slice(0,50).map((function(e){return(0,r.Z)((0,r.Z)({},e),{},{filename:e.filename||t[0].filename,function:e.function||"?"})})).reverse()}var c="<anonymous>";function l(e){try{return e&&"function"===typeof e&&e.name||c}catch(t){return c}}},7050:function(e,t,n){"use strict";n.d(t,{$G:function(){return i},nK:function(){return a},zC:function(){return o}});var r=n(8805);function i(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0;return"string"!==typeof e||0===t||e.length<=t?e:"".concat(e.substr(0,t),"...")}function a(e,t){if(!Array.isArray(e))return"";for(var n=[],r=0;r<e.length;r++){var i=e[r];try{n.push(String(i))}catch(a){n.push("[value cannot be serialized]")}}return n.join(t)}function o(e,t){return!!(0,r.HD)(e)&&((0,r.Kj)(t)?t.test(e):"string"===typeof t&&-1!==e.indexOf(t))}},4678:function(e,t,n){"use strict";n.d(t,{Ak:function(){return a},Bf:function(){return u},Du:function(){return o},t$:function(){return s}});var r=n(2968),i=n(6017);function a(){if(!("fetch"in(0,r.R)()))return!1;try{return new Headers,new Request(""),new Response,!0}catch(e){return!1}}function o(e){return e&&/^function fetch\(\)\s+\{\s+\[native code\]\s+\}$/.test(e.toString())}function s(){if(!a())return!1;var e=(0,r.R)();if(o(e.fetch))return!0;var t=!1,n=e.document;if(n&&"function"===typeof n.createElement)try{var s=n.createElement("iframe");s.hidden=!0,n.head.appendChild(s),s.contentWindow&&s.contentWindow.fetch&&(t=o(s.contentWindow.fetch)),n.head.removeChild(s)}catch(u){("undefined"===typeof __SENTRY_DEBUG__||__SENTRY_DEBUG__)&&i.kg.warn("Could not create sandbox iframe for pure fetch check, bailing to window.fetch: ",u)}return t}function u(){var e=(0,r.R)(),t=e.chrome,n=t&&t.app&&t.app.runtime,i="history"in e&&!!e.history.pushState&&!!e.history.replaceState;return!n&&i}},9153:function(e,t,n){"use strict";n.d(t,{$2:function(){return u},WD:function(){return s},cW:function(){return c}});var r,i=n(5671),a=n(3144),o=n(8805);function s(e){return new c((function(t){t(e)}))}function u(e){return new c((function(t,n){n(e)}))}!function(e){e[e.PENDING=0]="PENDING";e[e.RESOLVED=1]="RESOLVED";e[e.REJECTED=2]="REJECTED"}(r||(r={}));var c=function(){function e(t){(0,i.Z)(this,e),e.prototype.__init.call(this),e.prototype.__init2.call(this),e.prototype.__init3.call(this),e.prototype.__init4.call(this),e.prototype.__init5.call(this),e.prototype.__init6.call(this);try{t(this._resolve,this._reject)}catch(n){this._reject(n)}}return(0,a.Z)(e,[{key:"__init",value:function(){this._state=r.PENDING}},{key:"__init2",value:function(){this._handlers=[]}},{key:"then",value:function(t,n){var r=this;return new e((function(e,i){r._handlers.push([!1,function(n){if(t)try{e(t(n))}catch(r){i(r)}else e(n)},function(t){if(n)try{e(n(t))}catch(r){i(r)}else i(t)}]),r._executeHandlers()}))}},{key:"catch",value:function(e){return this.then((function(e){return e}),e)}},{key:"finally",value:function(t){var n=this;return new e((function(e,r){var i,a;return n.then((function(e){a=!1,i=e,t&&t()}),(function(e){a=!0,i=e,t&&t()})).then((function(){a?r(i):e(i)}))}))}},{key:"__init3",value:function(){var e=this;this._resolve=function(t){e._setResult(r.RESOLVED,t)}}},{key:"__init4",value:function(){var e=this;this._reject=function(t){e._setResult(r.REJECTED,t)}}},{key:"__init5",value:function(){var e=this;this._setResult=function(t,n){e._state===r.PENDING&&((0,o.J8)(n)?n.then(e._resolve,e._reject):(e._state=t,e._value=n,e._executeHandlers()))}}},{key:"__init6",value:function(){var e=this;this._executeHandlers=function(){if(e._state!==r.PENDING){var t=e._handlers.slice();e._handlers=[],t.forEach((function(t){t[0]||(e._state===r.RESOLVED&&t[1](e._value),e._state===r.REJECTED&&t[2](e._value),t[0]=!0)}))}}}}]),e}()},9846:function(e,t,n){"use strict";n.d(t,{Z1:function(){return d},_I:function(){return l},ph:function(){return c},yW:function(){return u}});var r=n(2968),i=n(9509);e=n.hmd(e);var a={nowSeconds:function(){return Date.now()/1e3}};var o=(0,i.KV)()?function(){try{return(0,i.l$)(e,"perf_hooks").performance}catch(t){return}}():function(){var e=(0,r.R)().performance;if(e&&e.now)return{now:function(){return e.now()},timeOrigin:Date.now()-e.now()}}(),s=void 0===o?a:{nowSeconds:function(){return(o.timeOrigin+o.now())/1e3}},u=a.nowSeconds.bind(a),c=s.nowSeconds.bind(s),l=c,d=function(){var e=(0,r.R)().performance;if(e&&e.now){var t=36e5,n=e.now(),i=Date.now(),a=e.timeOrigin?Math.abs(e.timeOrigin+n-i):t,o=a<t,s=e.timing&&e.timing.navigationStart,u="number"===typeof s?Math.abs(s+n-i):t;return o||u<t?a<=u?("timeOrigin",e.timeOrigin):("navigationStart",s):("dateNow",i)}"none"}()},6450:function(e,t,n){var r;!function(i){"use strict";function a(e,t){var n=(65535&e)+(65535&t);return(e>>16)+(t>>16)+(n>>16)<<16|65535&n}function o(e,t,n,r,i,o){return a((s=a(a(t,e),a(r,o)))<<(u=i)|s>>>32-u,n);var s,u}function s(e,t,n,r,i,a,s){return o(t&n|~t&r,e,t,i,a,s)}function u(e,t,n,r,i,a,s){return o(t&r|n&~r,e,t,i,a,s)}function c(e,t,n,r,i,a,s){return o(t^n^r,e,t,i,a,s)}function l(e,t,n,r,i,a,s){return o(n^(t|~r),e,t,i,a,s)}function d(e,t){var n,r,i,o,d;e[t>>5]|=128<<t%32,e[14+(t+64>>>9<<4)]=t;var f=1732584193,h=-271733879,p=-1732584194,v=271733878;for(n=0;n<e.length;n+=16)r=f,i=h,o=p,d=v,f=s(f,h,p,v,e[n],7,-680876936),v=s(v,f,h,p,e[n+1],12,-389564586),p=s(p,v,f,h,e[n+2],17,606105819),h=s(h,p,v,f,e[n+3],22,-1044525330),f=s(f,h,p,v,e[n+4],7,-176418897),v=s(v,f,h,p,e[n+5],12,1200080426),p=s(p,v,f,h,e[n+6],17,-1473231341),h=s(h,p,v,f,e[n+7],22,-45705983),f=s(f,h,p,v,e[n+8],7,1770035416),v=s(v,f,h,p,e[n+9],12,-1958414417),p=s(p,v,f,h,e[n+10],17,-42063),h=s(h,p,v,f,e[n+11],22,-1990404162),f=s(f,h,p,v,e[n+12],7,1804603682),v=s(v,f,h,p,e[n+13],12,-40341101),p=s(p,v,f,h,e[n+14],17,-1502002290),f=u(f,h=s(h,p,v,f,e[n+15],22,1236535329),p,v,e[n+1],5,-165796510),v=u(v,f,h,p,e[n+6],9,-1069501632),p=u(p,v,f,h,e[n+11],14,643717713),h=u(h,p,v,f,e[n],20,-373897302),f=u(f,h,p,v,e[n+5],5,-701558691),v=u(v,f,h,p,e[n+10],9,38016083),p=u(p,v,f,h,e[n+15],14,-660478335),h=u(h,p,v,f,e[n+4],20,-405537848),f=u(f,h,p,v,e[n+9],5,568446438),v=u(v,f,h,p,e[n+14],9,-1019803690),p=u(p,v,f,h,e[n+3],14,-187363961),h=u(h,p,v,f,e[n+8],20,1163531501),f=u(f,h,p,v,e[n+13],5,-1444681467),v=u(v,f,h,p,e[n+2],9,-51403784),p=u(p,v,f,h,e[n+7],14,1735328473),f=c(f,h=u(h,p,v,f,e[n+12],20,-1926607734),p,v,e[n+5],4,-378558),v=c(v,f,h,p,e[n+8],11,-2022574463),p=c(p,v,f,h,e[n+11],16,1839030562),h=c(h,p,v,f,e[n+14],23,-35309556),f=c(f,h,p,v,e[n+1],4,-1530992060),v=c(v,f,h,p,e[n+4],11,1272893353),p=c(p,v,f,h,e[n+7],16,-155497632),h=c(h,p,v,f,e[n+10],23,-1094730640),f=c(f,h,p,v,e[n+13],4,681279174),v=c(v,f,h,p,e[n],11,-358537222),p=c(p,v,f,h,e[n+3],16,-722521979),h=c(h,p,v,f,e[n+6],23,76029189),f=c(f,h,p,v,e[n+9],4,-640364487),v=c(v,f,h,p,e[n+12],11,-421815835),p=c(p,v,f,h,e[n+15],16,530742520),f=l(f,h=c(h,p,v,f,e[n+2],23,-995338651),p,v,e[n],6,-198630844),v=l(v,f,h,p,e[n+7],10,1126891415),p=l(p,v,f,h,e[n+14],15,-1416354905),h=l(h,p,v,f,e[n+5],21,-57434055),f=l(f,h,p,v,e[n+12],6,1700485571),v=l(v,f,h,p,e[n+3],10,-1894986606),p=l(p,v,f,h,e[n+10],15,-1051523),h=l(h,p,v,f,e[n+1],21,-2054922799),f=l(f,h,p,v,e[n+8],6,1873313359),v=l(v,f,h,p,e[n+15],10,-30611744),p=l(p,v,f,h,e[n+6],15,-1560198380),h=l(h,p,v,f,e[n+13],21,1309151649),f=l(f,h,p,v,e[n+4],6,-145523070),v=l(v,f,h,p,e[n+11],10,-1120210379),p=l(p,v,f,h,e[n+2],15,718787259),h=l(h,p,v,f,e[n+9],21,-343485551),f=a(f,r),h=a(h,i),p=a(p,o),v=a(v,d);return[f,h,p,v]}function f(e){var t,n="",r=32*e.length;for(t=0;t<r;t+=8)n+=String.fromCharCode(e[t>>5]>>>t%32&255);return n}function h(e){var t,n=[];for(n[(e.length>>2)-1]=void 0,t=0;t<n.length;t+=1)n[t]=0;var r=8*e.length;for(t=0;t<r;t+=8)n[t>>5]|=(255&e.charCodeAt(t/8))<<t%32;return n}function p(e){var t,n,r="0123456789abcdef",i="";for(n=0;n<e.length;n+=1)t=e.charCodeAt(n),i+=r.charAt(t>>>4&15)+r.charAt(15&t);return i}function v(e){return unescape(encodeURIComponent(e))}function m(e){return function(e){return f(d(h(e),8*e.length))}(v(e))}function g(e,t){return function(e,t){var n,r,i=h(e),a=[],o=[];for(a[15]=o[15]=void 0,i.length>16&&(i=d(i,8*e.length)),n=0;n<16;n+=1)a[n]=909522486^i[n],o[n]=1549556828^i[n];return r=d(a.concat(h(t)),512+8*t.length),f(d(o.concat(r),640))}(v(e),v(t))}function y(e,t,n){return t?n?g(t,e):p(g(t,e)):n?m(e):p(m(e))}void 0===(r=function(){return y}.call(t,n,t,e))||(e.exports=r)}()},9412:function(e){"use strict";var t="%[a-f0-9]{2}",n=new RegExp(t,"gi"),r=new RegExp("("+t+")+","gi");function i(e,t){try{return decodeURIComponent(e.join(""))}catch(a){}if(1===e.length)return e;t=t||1;var n=e.slice(0,t),r=e.slice(t);return Array.prototype.concat.call([],i(n),i(r))}function a(e){try{return decodeURIComponent(e)}catch(a){for(var t=e.match(n),r=1;r<t.length;r++)t=(e=i(t,r).join("")).match(n);return e}}e.exports=function(e){if("string"!==typeof e)throw new TypeError("Expected `encodedURI` to be of type `string`, got `"+typeof e+"`");try{return e=e.replace(/\+/g," "),decodeURIComponent(e)}catch(t){return function(e){for(var n={"%FE%FF":"\ufffd\ufffd","%FF%FE":"\ufffd\ufffd"},i=r.exec(e);i;){try{n[i[0]]=decodeURIComponent(i[0])}catch(t){var o=a(i[0]);o!==i[0]&&(n[i[0]]=o)}i=r.exec(e)}n["%C2"]="\ufffd";for(var s=Object.keys(n),u=0;u<s.length;u++){var c=s[u];e=e.replace(new RegExp(c,"g"),n[c])}return e}(e)}}},1725:function(e){"use strict";var t=Object.getOwnPropertySymbols,n=Object.prototype.hasOwnProperty,r=Object.prototype.propertyIsEnumerable;function i(e){if(null===e||void 0===e)throw new TypeError("Object.assign cannot be called with null or undefined");return Object(e)}e.exports=function(){try{if(!Object.assign)return!1;var e=new String("abc");if(e[5]="de","5"===Object.getOwnPropertyNames(e)[0])return!1;for(var t={},n=0;n<10;n++)t["_"+String.fromCharCode(n)]=n;if("0123456789"!==Object.getOwnPropertyNames(t).map((function(e){return t[e]})).join(""))return!1;var r={};return"abcdefghijklmnopqrst".split("").forEach((function(e){r[e]=e})),"abcdefghijklmnopqrst"===Object.keys(Object.assign({},r)).join("")}catch(i){return!1}}()?Object.assign:function(e,a){for(var o,s,u=i(e),c=1;c<arguments.length;c++){for(var l in o=Object(arguments[c]))n.call(o,l)&&(u[l]=o[l]);if(t){s=t(o);for(var d=0;d<s.length;d++)r.call(o,s[d])&&(u[s[d]]=o[s[d]])}}return u}},4245:function(e,t,n){"use strict";var r=n(499),i=n(1725),a=n(9412);function o(e,t){return t.encode?t.strict?r(e):encodeURIComponent(e):e}function s(e){return Array.isArray(e)?e.sort():"object"===typeof e?s(Object.keys(e)).sort((function(e,t){return Number(e)-Number(t)})).map((function(t){return e[t]})):e}function u(e){var t=e.indexOf("?");return-1===t?"":e.slice(t+1)}function c(e,t){var n=function(e){var t;switch(e.arrayFormat){case"index":return function(e,n,r){t=/\[(\d*)\]$/.exec(e),e=e.replace(/\[\d*\]$/,""),t?(void 0===r[e]&&(r[e]={}),r[e][t[1]]=n):r[e]=n};case"bracket":return function(e,n,r){t=/(\[\])$/.exec(e),e=e.replace(/\[\]$/,""),t?void 0!==r[e]?r[e]=[].concat(r[e],n):r[e]=[n]:r[e]=n};default:return function(e,t,n){void 0!==n[e]?n[e]=[].concat(n[e],t):n[e]=t}}}(t=i({arrayFormat:"none"},t)),r=Object.create(null);return"string"!==typeof e?r:(e=e.trim().replace(/^[?#&]/,""))?(e.split("&").forEach((function(e){var t=e.replace(/\+/g," ").split("="),i=t.shift(),o=t.length>0?t.join("="):void 0;o=void 0===o?null:a(o),n(a(i),o,r)})),Object.keys(r).sort().reduce((function(e,t){var n=r[t];return Boolean(n)&&"object"===typeof n&&!Array.isArray(n)?e[t]=s(n):e[t]=n,e}),Object.create(null))):r}t.extract=u,t.parse=c,t.stringify=function(e,t){!1===(t=i({encode:!0,strict:!0,arrayFormat:"none"},t)).sort&&(t.sort=function(){});var n=function(e){switch(e.arrayFormat){case"index":return function(t,n,r){return null===n?[o(t,e),"[",r,"]"].join(""):[o(t,e),"[",o(r,e),"]=",o(n,e)].join("")};case"bracket":return function(t,n){return null===n?o(t,e):[o(t,e),"[]=",o(n,e)].join("")};default:return function(t,n){return null===n?o(t,e):[o(t,e),"=",o(n,e)].join("")}}}(t);return e?Object.keys(e).sort(t.sort).map((function(r){var i=e[r];if(void 0===i)return"";if(null===i)return o(r,t);if(Array.isArray(i)){var a=[];return i.slice().forEach((function(e){void 0!==e&&a.push(n(r,e,a.length))})),a.join("&")}return o(r,t)+"="+o(i,t)})).filter((function(e){return e.length>0})).join("&"):""},t.parseUrl=function(e,t){return{url:e.split("?")[0]||"",query:c(u(e),t)}}},4463:function(e,t,n){"use strict";var r=n(2791),i=n(5296);function a(e){for(var t="https://reactjs.org/docs/error-decoder.html?invariant="+e,n=1;n<arguments.length;n++)t+="&args[]="+encodeURIComponent(arguments[n]);return"Minified React error #"+e+"; visit "+t+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var o=new Set,s={};function u(e,t){c(e,t),c(e+"Capture",t)}function c(e,t){for(s[e]=t,e=0;e<t.length;e++)o.add(t[e])}var l=!("undefined"===typeof window||"undefined"===typeof window.document||"undefined"===typeof window.document.createElement),d=Object.prototype.hasOwnProperty,f=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,h={},p={};function v(e,t,n,r,i,a,o){this.acceptsBooleans=2===t||3===t||4===t,this.attributeName=r,this.attributeNamespace=i,this.mustUseProperty=n,this.propertyName=e,this.type=t,this.sanitizeURL=a,this.removeEmptyString=o}var m={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach((function(e){m[e]=new v(e,0,!1,e,null,!1,!1)})),[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach((function(e){var t=e[0];m[t]=new v(t,1,!1,e[1],null,!1,!1)})),["contentEditable","draggable","spellCheck","value"].forEach((function(e){m[e]=new v(e,2,!1,e.toLowerCase(),null,!1,!1)})),["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach((function(e){m[e]=new v(e,2,!1,e,null,!1,!1)})),"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach((function(e){m[e]=new v(e,3,!1,e.toLowerCase(),null,!1,!1)})),["checked","multiple","muted","selected"].forEach((function(e){m[e]=new v(e,3,!0,e,null,!1,!1)})),["capture","download"].forEach((function(e){m[e]=new v(e,4,!1,e,null,!1,!1)})),["cols","rows","size","span"].forEach((function(e){m[e]=new v(e,6,!1,e,null,!1,!1)})),["rowSpan","start"].forEach((function(e){m[e]=new v(e,5,!1,e.toLowerCase(),null,!1,!1)}));var g=/[\-:]([a-z])/g;function y(e){return e[1].toUpperCase()}function _(e,t,n,r){var i=m.hasOwnProperty(t)?m[t]:null;(null!==i?0!==i.type:r||!(2<t.length)||"o"!==t[0]&&"O"!==t[0]||"n"!==t[1]&&"N"!==t[1])&&(function(e,t,n,r){if(null===t||"undefined"===typeof t||function(e,t,n,r){if(null!==n&&0===n.type)return!1;switch(typeof t){case"function":case"symbol":return!0;case"boolean":return!r&&(null!==n?!n.acceptsBooleans:"data-"!==(e=e.toLowerCase().slice(0,5))&&"aria-"!==e);default:return!1}}(e,t,n,r))return!0;if(r)return!1;if(null!==n)switch(n.type){case 3:return!t;case 4:return!1===t;case 5:return isNaN(t);case 6:return isNaN(t)||1>t}return!1}(t,n,i,r)&&(n=null),r||null===i?function(e){return!!d.call(p,e)||!d.call(h,e)&&(f.test(e)?p[e]=!0:(h[e]=!0,!1))}(t)&&(null===n?e.removeAttribute(t):e.setAttribute(t,""+n)):i.mustUseProperty?e[i.propertyName]=null===n?3!==i.type&&"":n:(t=i.attributeName,r=i.attributeNamespace,null===n?e.removeAttribute(t):(n=3===(i=i.type)||4===i&&!0===n?"":""+n,r?e.setAttributeNS(r,t,n):e.setAttribute(t,n))))}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach((function(e){var t=e.replace(g,y);m[t]=new v(t,1,!1,e,null,!1,!1)})),"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach((function(e){var t=e.replace(g,y);m[t]=new v(t,1,!1,e,"http://www.w3.org/1999/xlink",!1,!1)})),["xml:base","xml:lang","xml:space"].forEach((function(e){var t=e.replace(g,y);m[t]=new v(t,1,!1,e,"http://www.w3.org/XML/1998/namespace",!1,!1)})),["tabIndex","crossOrigin"].forEach((function(e){m[e]=new v(e,1,!1,e.toLowerCase(),null,!1,!1)})),m.xlinkHref=new v("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1),["src","href","action","formAction"].forEach((function(e){m[e]=new v(e,1,!1,e.toLowerCase(),null,!0,!0)}));var b=r.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,k=Symbol.for("react.element"),w=Symbol.for("react.portal"),S=Symbol.for("react.fragment"),E=Symbol.for("react.strict_mode"),x=Symbol.for("react.profiler"),I=Symbol.for("react.provider"),T=Symbol.for("react.context"),C=Symbol.for("react.forward_ref"),N=Symbol.for("react.suspense"),R=Symbol.for("react.suspense_list"),P=Symbol.for("react.memo"),O=Symbol.for("react.lazy");Symbol.for("react.scope"),Symbol.for("react.debug_trace_mode");var D=Symbol.for("react.offscreen");Symbol.for("react.legacy_hidden"),Symbol.for("react.cache"),Symbol.for("react.tracing_marker");var A=Symbol.iterator;function Z(e){return null===e||"object"!==typeof e?null:"function"===typeof(e=A&&e[A]||e["@@iterator"])?e:null}var L,U=Object.assign;function M(e){if(void 0===L)try{throw Error()}catch(n){var t=n.stack.trim().match(/\n( *(at )?)/);L=t&&t[1]||""}return"\n"+L+e}var j=!1;function F(e,t){if(!e||j)return"";j=!0;var n=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(t)if(t=function(){throw Error()},Object.defineProperty(t.prototype,"props",{set:function(){throw Error()}}),"object"===typeof Reflect&&Reflect.construct){try{Reflect.construct(t,[])}catch(c){var r=c}Reflect.construct(e,[],t)}else{try{t.call()}catch(c){r=c}e.call(t.prototype)}else{try{throw Error()}catch(c){r=c}e()}}catch(c){if(c&&r&&"string"===typeof c.stack){for(var i=c.stack.split("\n"),a=r.stack.split("\n"),o=i.length-1,s=a.length-1;1<=o&&0<=s&&i[o]!==a[s];)s--;for(;1<=o&&0<=s;o--,s--)if(i[o]!==a[s]){if(1!==o||1!==s)do{if(o--,0>--s||i[o]!==a[s]){var u="\n"+i[o].replace(" at new "," at ");return e.displayName&&u.includes("<anonymous>")&&(u=u.replace("<anonymous>",e.displayName)),u}}while(1<=o&&0<=s);break}}}finally{j=!1,Error.prepareStackTrace=n}return(e=e?e.displayName||e.name:"")?M(e):""}function q(e){switch(e.tag){case 5:return M(e.type);case 16:return M("Lazy");case 13:return M("Suspense");case 19:return M("SuspenseList");case 0:case 2:case 15:return e=F(e.type,!1);case 11:return e=F(e.type.render,!1);case 1:return e=F(e.type,!0);default:return""}}function z(e){if(null==e)return null;if("function"===typeof e)return e.displayName||e.name||null;if("string"===typeof e)return e;switch(e){case S:return"Fragment";case w:return"Portal";case x:return"Profiler";case E:return"StrictMode";case N:return"Suspense";case R:return"SuspenseList"}if("object"===typeof e)switch(e.$$typeof){case T:return(e.displayName||"Context")+".Consumer";case I:return(e._context.displayName||"Context")+".Provider";case C:var t=e.render;return(e=e.displayName)||(e=""!==(e=t.displayName||t.name||"")?"ForwardRef("+e+")":"ForwardRef"),e;case P:return null!==(t=e.displayName||null)?t:z(e.type)||"Memo";case O:t=e._payload,e=e._init;try{return z(e(t))}catch(n){}}return null}function B(e){var t=e.type;switch(e.tag){case 24:return"Cache";case 9:return(t.displayName||"Context")+".Consumer";case 10:return(t._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return e=(e=t.render).displayName||e.name||"",t.displayName||(""!==e?"ForwardRef("+e+")":"ForwardRef");case 7:return"Fragment";case 5:return t;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return z(t);case 8:return t===E?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if("function"===typeof t)return t.displayName||t.name||null;if("string"===typeof t)return t}return null}function W(e){switch(typeof e){case"boolean":case"number":case"string":case"undefined":case"object":return e;default:return""}}function G(e){var t=e.type;return(e=e.nodeName)&&"input"===e.toLowerCase()&&("checkbox"===t||"radio"===t)}function H(e){e._valueTracker||(e._valueTracker=function(e){var t=G(e)?"checked":"value",n=Object.getOwnPropertyDescriptor(e.constructor.prototype,t),r=""+e[t];if(!e.hasOwnProperty(t)&&"undefined"!==typeof n&&"function"===typeof n.get&&"function"===typeof n.set){var i=n.get,a=n.set;return Object.defineProperty(e,t,{configurable:!0,get:function(){return i.call(this)},set:function(e){r=""+e,a.call(this,e)}}),Object.defineProperty(e,t,{enumerable:n.enumerable}),{getValue:function(){return r},setValue:function(e){r=""+e},stopTracking:function(){e._valueTracker=null,delete e[t]}}}}(e))}function V(e){if(!e)return!1;var t=e._valueTracker;if(!t)return!0;var n=t.getValue(),r="";return e&&(r=G(e)?e.checked?"true":"false":e.value),(e=r)!==n&&(t.setValue(e),!0)}function Y(e){if("undefined"===typeof(e=e||("undefined"!==typeof document?document:void 0)))return null;try{return e.activeElement||e.body}catch(t){return e.body}}function K(e,t){var n=t.checked;return U({},t,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:null!=n?n:e._wrapperState.initialChecked})}function $(e,t){var n=null==t.defaultValue?"":t.defaultValue,r=null!=t.checked?t.checked:t.defaultChecked;n=W(null!=t.value?t.value:n),e._wrapperState={initialChecked:r,initialValue:n,controlled:"checkbox"===t.type||"radio"===t.type?null!=t.checked:null!=t.value}}function J(e,t){null!=(t=t.checked)&&_(e,"checked",t,!1)}function Q(e,t){J(e,t);var n=W(t.value),r=t.type;if(null!=n)"number"===r?(0===n&&""===e.value||e.value!=n)&&(e.value=""+n):e.value!==""+n&&(e.value=""+n);else if("submit"===r||"reset"===r)return void e.removeAttribute("value");t.hasOwnProperty("value")?ee(e,t.type,n):t.hasOwnProperty("defaultValue")&&ee(e,t.type,W(t.defaultValue)),null==t.checked&&null!=t.defaultChecked&&(e.defaultChecked=!!t.defaultChecked)}function X(e,t,n){if(t.hasOwnProperty("value")||t.hasOwnProperty("defaultValue")){var r=t.type;if(!("submit"!==r&&"reset"!==r||void 0!==t.value&&null!==t.value))return;t=""+e._wrapperState.initialValue,n||t===e.value||(e.value=t),e.defaultValue=t}""!==(n=e.name)&&(e.name=""),e.defaultChecked=!!e._wrapperState.initialChecked,""!==n&&(e.name=n)}function ee(e,t,n){"number"===t&&Y(e.ownerDocument)===e||(null==n?e.defaultValue=""+e._wrapperState.initialValue:e.defaultValue!==""+n&&(e.defaultValue=""+n))}var te=Array.isArray;function ne(e,t,n,r){if(e=e.options,t){t={};for(var i=0;i<n.length;i++)t["$"+n[i]]=!0;for(n=0;n<e.length;n++)i=t.hasOwnProperty("$"+e[n].value),e[n].selected!==i&&(e[n].selected=i),i&&r&&(e[n].defaultSelected=!0)}else{for(n=""+W(n),t=null,i=0;i<e.length;i++){if(e[i].value===n)return e[i].selected=!0,void(r&&(e[i].defaultSelected=!0));null!==t||e[i].disabled||(t=e[i])}null!==t&&(t.selected=!0)}}function re(e,t){if(null!=t.dangerouslySetInnerHTML)throw Error(a(91));return U({},t,{value:void 0,defaultValue:void 0,children:""+e._wrapperState.initialValue})}function ie(e,t){var n=t.value;if(null==n){if(n=t.children,t=t.defaultValue,null!=n){if(null!=t)throw Error(a(92));if(te(n)){if(1<n.length)throw Error(a(93));n=n[0]}t=n}null==t&&(t=""),n=t}e._wrapperState={initialValue:W(n)}}function ae(e,t){var n=W(t.value),r=W(t.defaultValue);null!=n&&((n=""+n)!==e.value&&(e.value=n),null==t.defaultValue&&e.defaultValue!==n&&(e.defaultValue=n)),null!=r&&(e.defaultValue=""+r)}function oe(e){var t=e.textContent;t===e._wrapperState.initialValue&&""!==t&&null!==t&&(e.value=t)}function se(e){switch(e){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function ue(e,t){return null==e||"http://www.w3.org/1999/xhtml"===e?se(t):"http://www.w3.org/2000/svg"===e&&"foreignObject"===t?"http://www.w3.org/1999/xhtml":e}var ce,le,de=(le=function(e,t){if("http://www.w3.org/2000/svg"!==e.namespaceURI||"innerHTML"in e)e.innerHTML=t;else{for((ce=ce||document.createElement("div")).innerHTML="<svg>"+t.valueOf().toString()+"</svg>",t=ce.firstChild;e.firstChild;)e.removeChild(e.firstChild);for(;t.firstChild;)e.appendChild(t.firstChild)}},"undefined"!==typeof MSApp&&MSApp.execUnsafeLocalFunction?function(e,t,n,r){MSApp.execUnsafeLocalFunction((function(){return le(e,t)}))}:le);function fe(e,t){if(t){var n=e.firstChild;if(n&&n===e.lastChild&&3===n.nodeType)return void(n.nodeValue=t)}e.textContent=t}var he={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},pe=["Webkit","ms","Moz","O"];function ve(e,t,n){return null==t||"boolean"===typeof t||""===t?"":n||"number"!==typeof t||0===t||he.hasOwnProperty(e)&&he[e]?(""+t).trim():t+"px"}function me(e,t){for(var n in e=e.style,t)if(t.hasOwnProperty(n)){var r=0===n.indexOf("--"),i=ve(n,t[n],r);"float"===n&&(n="cssFloat"),r?e.setProperty(n,i):e[n]=i}}Object.keys(he).forEach((function(e){pe.forEach((function(t){t=t+e.charAt(0).toUpperCase()+e.substring(1),he[t]=he[e]}))}));var ge=U({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function ye(e,t){if(t){if(ge[e]&&(null!=t.children||null!=t.dangerouslySetInnerHTML))throw Error(a(137,e));if(null!=t.dangerouslySetInnerHTML){if(null!=t.children)throw Error(a(60));if("object"!==typeof t.dangerouslySetInnerHTML||!("__html"in t.dangerouslySetInnerHTML))throw Error(a(61))}if(null!=t.style&&"object"!==typeof t.style)throw Error(a(62))}}function _e(e,t){if(-1===e.indexOf("-"))return"string"===typeof t.is;switch(e){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var be=null;function ke(e){return(e=e.target||e.srcElement||window).correspondingUseElement&&(e=e.correspondingUseElement),3===e.nodeType?e.parentNode:e}var we=null,Se=null,Ee=null;function xe(e){if(e=_i(e)){if("function"!==typeof we)throw Error(a(280));var t=e.stateNode;t&&(t=ki(t),we(e.stateNode,e.type,t))}}function Ie(e){Se?Ee?Ee.push(e):Ee=[e]:Se=e}function Te(){if(Se){var e=Se,t=Ee;if(Ee=Se=null,xe(e),t)for(e=0;e<t.length;e++)xe(t[e])}}function Ce(e,t){return e(t)}function Ne(){}var Re=!1;function Pe(e,t,n){if(Re)return e(t,n);Re=!0;try{return Ce(e,t,n)}finally{Re=!1,(null!==Se||null!==Ee)&&(Ne(),Te())}}function Oe(e,t){var n=e.stateNode;if(null===n)return null;var r=ki(n);if(null===r)return null;n=r[t];e:switch(t){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(r=!r.disabled)||(r=!("button"===(e=e.type)||"input"===e||"select"===e||"textarea"===e)),e=!r;break e;default:e=!1}if(e)return null;if(n&&"function"!==typeof n)throw Error(a(231,t,typeof n));return n}var De=!1;if(l)try{var Ae={};Object.defineProperty(Ae,"passive",{get:function(){De=!0}}),window.addEventListener("test",Ae,Ae),window.removeEventListener("test",Ae,Ae)}catch(le){De=!1}function Ze(e,t,n,r,i,a,o,s,u){var c=Array.prototype.slice.call(arguments,3);try{t.apply(n,c)}catch(l){this.onError(l)}}var Le=!1,Ue=null,Me=!1,je=null,Fe={onError:function(e){Le=!0,Ue=e}};function qe(e,t,n,r,i,a,o,s,u){Le=!1,Ue=null,Ze.apply(Fe,arguments)}function ze(e){var t=e,n=e;if(e.alternate)for(;t.return;)t=t.return;else{e=t;do{0!==(4098&(t=e).flags)&&(n=t.return),e=t.return}while(e)}return 3===t.tag?n:null}function Be(e){if(13===e.tag){var t=e.memoizedState;if(null===t&&(null!==(e=e.alternate)&&(t=e.memoizedState)),null!==t)return t.dehydrated}return null}function We(e){if(ze(e)!==e)throw Error(a(188))}function Ge(e){return null!==(e=function(e){var t=e.alternate;if(!t){if(null===(t=ze(e)))throw Error(a(188));return t!==e?null:e}for(var n=e,r=t;;){var i=n.return;if(null===i)break;var o=i.alternate;if(null===o){if(null!==(r=i.return)){n=r;continue}break}if(i.child===o.child){for(o=i.child;o;){if(o===n)return We(i),e;if(o===r)return We(i),t;o=o.sibling}throw Error(a(188))}if(n.return!==r.return)n=i,r=o;else{for(var s=!1,u=i.child;u;){if(u===n){s=!0,n=i,r=o;break}if(u===r){s=!0,r=i,n=o;break}u=u.sibling}if(!s){for(u=o.child;u;){if(u===n){s=!0,n=o,r=i;break}if(u===r){s=!0,r=o,n=i;break}u=u.sibling}if(!s)throw Error(a(189))}}if(n.alternate!==r)throw Error(a(190))}if(3!==n.tag)throw Error(a(188));return n.stateNode.current===n?e:t}(e))?He(e):null}function He(e){if(5===e.tag||6===e.tag)return e;for(e=e.child;null!==e;){var t=He(e);if(null!==t)return t;e=e.sibling}return null}var Ve=i.unstable_scheduleCallback,Ye=i.unstable_cancelCallback,Ke=i.unstable_shouldYield,$e=i.unstable_requestPaint,Je=i.unstable_now,Qe=i.unstable_getCurrentPriorityLevel,Xe=i.unstable_ImmediatePriority,et=i.unstable_UserBlockingPriority,tt=i.unstable_NormalPriority,nt=i.unstable_LowPriority,rt=i.unstable_IdlePriority,it=null,at=null;var ot=Math.clz32?Math.clz32:function(e){return 0===(e>>>=0)?32:31-(st(e)/ut|0)|0},st=Math.log,ut=Math.LN2;var ct=64,lt=4194304;function dt(e){switch(e&-e){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return 4194240&e;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return 130023424&e;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return e}}function ft(e,t){var n=e.pendingLanes;if(0===n)return 0;var r=0,i=e.suspendedLanes,a=e.pingedLanes,o=268435455&n;if(0!==o){var s=o&~i;0!==s?r=dt(s):0!==(a&=o)&&(r=dt(a))}else 0!==(o=n&~i)?r=dt(o):0!==a&&(r=dt(a));if(0===r)return 0;if(0!==t&&t!==r&&0===(t&i)&&((i=r&-r)>=(a=t&-t)||16===i&&0!==(4194240&a)))return t;if(0!==(4&r)&&(r|=16&n),0!==(t=e.entangledLanes))for(e=e.entanglements,t&=r;0<t;)i=1<<(n=31-ot(t)),r|=e[n],t&=~i;return r}function ht(e,t){switch(e){case 1:case 2:case 4:return t+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t+5e3;default:return-1}}function pt(e){return 0!==(e=-1073741825&e.pendingLanes)?e:1073741824&e?1073741824:0}function vt(){var e=ct;return 0===(4194240&(ct<<=1))&&(ct=64),e}function mt(e){for(var t=[],n=0;31>n;n++)t.push(e);return t}function gt(e,t,n){e.pendingLanes|=t,536870912!==t&&(e.suspendedLanes=0,e.pingedLanes=0),(e=e.eventTimes)[t=31-ot(t)]=n}function yt(e,t){var n=e.entangledLanes|=t;for(e=e.entanglements;n;){var r=31-ot(n),i=1<<r;i&t|e[r]&t&&(e[r]|=t),n&=~i}}var _t=0;function bt(e){return 1<(e&=-e)?4<e?0!==(268435455&e)?16:536870912:4:1}var kt,wt,St,Et,xt,It=!1,Tt=[],Ct=null,Nt=null,Rt=null,Pt=new Map,Ot=new Map,Dt=[],At="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function Zt(e,t){switch(e){case"focusin":case"focusout":Ct=null;break;case"dragenter":case"dragleave":Nt=null;break;case"mouseover":case"mouseout":Rt=null;break;case"pointerover":case"pointerout":Pt.delete(t.pointerId);break;case"gotpointercapture":case"lostpointercapture":Ot.delete(t.pointerId)}}function Lt(e,t,n,r,i,a){return null===e||e.nativeEvent!==a?(e={blockedOn:t,domEventName:n,eventSystemFlags:r,nativeEvent:a,targetContainers:[i]},null!==t&&(null!==(t=_i(t))&&wt(t)),e):(e.eventSystemFlags|=r,t=e.targetContainers,null!==i&&-1===t.indexOf(i)&&t.push(i),e)}function Ut(e){var t=yi(e.target);if(null!==t){var n=ze(t);if(null!==n)if(13===(t=n.tag)){if(null!==(t=Be(n)))return e.blockedOn=t,void xt(e.priority,(function(){St(n)}))}else if(3===t&&n.stateNode.current.memoizedState.isDehydrated)return void(e.blockedOn=3===n.tag?n.stateNode.containerInfo:null)}e.blockedOn=null}function Mt(e){if(null!==e.blockedOn)return!1;for(var t=e.targetContainers;0<t.length;){var n=Kt(e.domEventName,e.eventSystemFlags,t[0],e.nativeEvent);if(null!==n)return null!==(t=_i(n))&&wt(t),e.blockedOn=n,!1;var r=new(n=e.nativeEvent).constructor(n.type,n);be=r,n.target.dispatchEvent(r),be=null,t.shift()}return!0}function jt(e,t,n){Mt(e)&&n.delete(t)}function Ft(){It=!1,null!==Ct&&Mt(Ct)&&(Ct=null),null!==Nt&&Mt(Nt)&&(Nt=null),null!==Rt&&Mt(Rt)&&(Rt=null),Pt.forEach(jt),Ot.forEach(jt)}function qt(e,t){e.blockedOn===t&&(e.blockedOn=null,It||(It=!0,i.unstable_scheduleCallback(i.unstable_NormalPriority,Ft)))}function zt(e){function t(t){return qt(t,e)}if(0<Tt.length){qt(Tt[0],e);for(var n=1;n<Tt.length;n++){var r=Tt[n];r.blockedOn===e&&(r.blockedOn=null)}}for(null!==Ct&&qt(Ct,e),null!==Nt&&qt(Nt,e),null!==Rt&&qt(Rt,e),Pt.forEach(t),Ot.forEach(t),n=0;n<Dt.length;n++)(r=Dt[n]).blockedOn===e&&(r.blockedOn=null);for(;0<Dt.length&&null===(n=Dt[0]).blockedOn;)Ut(n),null===n.blockedOn&&Dt.shift()}var Bt=b.ReactCurrentBatchConfig,Wt=!0;function Gt(e,t,n,r){var i=_t,a=Bt.transition;Bt.transition=null;try{_t=1,Vt(e,t,n,r)}finally{_t=i,Bt.transition=a}}function Ht(e,t,n,r){var i=_t,a=Bt.transition;Bt.transition=null;try{_t=4,Vt(e,t,n,r)}finally{_t=i,Bt.transition=a}}function Vt(e,t,n,r){if(Wt){var i=Kt(e,t,n,r);if(null===i)Wr(e,t,r,Yt,n),Zt(e,r);else if(function(e,t,n,r,i){switch(t){case"focusin":return Ct=Lt(Ct,e,t,n,r,i),!0;case"dragenter":return Nt=Lt(Nt,e,t,n,r,i),!0;case"mouseover":return Rt=Lt(Rt,e,t,n,r,i),!0;case"pointerover":var a=i.pointerId;return Pt.set(a,Lt(Pt.get(a)||null,e,t,n,r,i)),!0;case"gotpointercapture":return a=i.pointerId,Ot.set(a,Lt(Ot.get(a)||null,e,t,n,r,i)),!0}return!1}(i,e,t,n,r))r.stopPropagation();else if(Zt(e,r),4&t&&-1<At.indexOf(e)){for(;null!==i;){var a=_i(i);if(null!==a&&kt(a),null===(a=Kt(e,t,n,r))&&Wr(e,t,r,Yt,n),a===i)break;i=a}null!==i&&r.stopPropagation()}else Wr(e,t,r,null,n)}}var Yt=null;function Kt(e,t,n,r){if(Yt=null,null!==(e=yi(e=ke(r))))if(null===(t=ze(e)))e=null;else if(13===(n=t.tag)){if(null!==(e=Be(t)))return e;e=null}else if(3===n){if(t.stateNode.current.memoizedState.isDehydrated)return 3===t.tag?t.stateNode.containerInfo:null;e=null}else t!==e&&(e=null);return Yt=e,null}function $t(e){switch(e){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(Qe()){case Xe:return 1;case et:return 4;case tt:case nt:return 16;case rt:return 536870912;default:return 16}default:return 16}}var Jt=null,Qt=null,Xt=null;function en(){if(Xt)return Xt;var e,t,n=Qt,r=n.length,i="value"in Jt?Jt.value:Jt.textContent,a=i.length;for(e=0;e<r&&n[e]===i[e];e++);var o=r-e;for(t=1;t<=o&&n[r-t]===i[a-t];t++);return Xt=i.slice(e,1<t?1-t:void 0)}function tn(e){var t=e.keyCode;return"charCode"in e?0===(e=e.charCode)&&13===t&&(e=13):e=t,10===e&&(e=13),32<=e||13===e?e:0}function nn(){return!0}function rn(){return!1}function an(e){function t(t,n,r,i,a){for(var o in this._reactName=t,this._targetInst=r,this.type=n,this.nativeEvent=i,this.target=a,this.currentTarget=null,e)e.hasOwnProperty(o)&&(t=e[o],this[o]=t?t(i):i[o]);return this.isDefaultPrevented=(null!=i.defaultPrevented?i.defaultPrevented:!1===i.returnValue)?nn:rn,this.isPropagationStopped=rn,this}return U(t.prototype,{preventDefault:function(){this.defaultPrevented=!0;var e=this.nativeEvent;e&&(e.preventDefault?e.preventDefault():"unknown"!==typeof e.returnValue&&(e.returnValue=!1),this.isDefaultPrevented=nn)},stopPropagation:function(){var e=this.nativeEvent;e&&(e.stopPropagation?e.stopPropagation():"unknown"!==typeof e.cancelBubble&&(e.cancelBubble=!0),this.isPropagationStopped=nn)},persist:function(){},isPersistent:nn}),t}var on,sn,un,cn={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(e){return e.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},ln=an(cn),dn=U({},cn,{view:0,detail:0}),fn=an(dn),hn=U({},dn,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:xn,button:0,buttons:0,relatedTarget:function(e){return void 0===e.relatedTarget?e.fromElement===e.srcElement?e.toElement:e.fromElement:e.relatedTarget},movementX:function(e){return"movementX"in e?e.movementX:(e!==un&&(un&&"mousemove"===e.type?(on=e.screenX-un.screenX,sn=e.screenY-un.screenY):sn=on=0,un=e),on)},movementY:function(e){return"movementY"in e?e.movementY:sn}}),pn=an(hn),vn=an(U({},hn,{dataTransfer:0})),mn=an(U({},dn,{relatedTarget:0})),gn=an(U({},cn,{animationName:0,elapsedTime:0,pseudoElement:0})),yn=U({},cn,{clipboardData:function(e){return"clipboardData"in e?e.clipboardData:window.clipboardData}}),_n=an(yn),bn=an(U({},cn,{data:0})),kn={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},wn={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},Sn={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function En(e){var t=this.nativeEvent;return t.getModifierState?t.getModifierState(e):!!(e=Sn[e])&&!!t[e]}function xn(){return En}var In=U({},dn,{key:function(e){if(e.key){var t=kn[e.key]||e.key;if("Unidentified"!==t)return t}return"keypress"===e.type?13===(e=tn(e))?"Enter":String.fromCharCode(e):"keydown"===e.type||"keyup"===e.type?wn[e.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:xn,charCode:function(e){return"keypress"===e.type?tn(e):0},keyCode:function(e){return"keydown"===e.type||"keyup"===e.type?e.keyCode:0},which:function(e){return"keypress"===e.type?tn(e):"keydown"===e.type||"keyup"===e.type?e.keyCode:0}}),Tn=an(In),Cn=an(U({},hn,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0})),Nn=an(U({},dn,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:xn})),Rn=an(U({},cn,{propertyName:0,elapsedTime:0,pseudoElement:0})),Pn=U({},hn,{deltaX:function(e){return"deltaX"in e?e.deltaX:"wheelDeltaX"in e?-e.wheelDeltaX:0},deltaY:function(e){return"deltaY"in e?e.deltaY:"wheelDeltaY"in e?-e.wheelDeltaY:"wheelDelta"in e?-e.wheelDelta:0},deltaZ:0,deltaMode:0}),On=an(Pn),Dn=[9,13,27,32],An=l&&"CompositionEvent"in window,Zn=null;l&&"documentMode"in document&&(Zn=document.documentMode);var Ln=l&&"TextEvent"in window&&!Zn,Un=l&&(!An||Zn&&8<Zn&&11>=Zn),Mn=String.fromCharCode(32),jn=!1;function Fn(e,t){switch(e){case"keyup":return-1!==Dn.indexOf(t.keyCode);case"keydown":return 229!==t.keyCode;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function qn(e){return"object"===typeof(e=e.detail)&&"data"in e?e.data:null}var zn=!1;var Bn={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function Wn(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return"input"===t?!!Bn[e.type]:"textarea"===t}function Gn(e,t,n,r){Ie(r),0<(t=Hr(t,"onChange")).length&&(n=new ln("onChange","change",null,n,r),e.push({event:n,listeners:t}))}var Hn=null,Vn=null;function Yn(e){Mr(e,0)}function Kn(e){if(V(bi(e)))return e}function $n(e,t){if("change"===e)return t}var Jn=!1;if(l){var Qn;if(l){var Xn="oninput"in document;if(!Xn){var er=document.createElement("div");er.setAttribute("oninput","return;"),Xn="function"===typeof er.oninput}Qn=Xn}else Qn=!1;Jn=Qn&&(!document.documentMode||9<document.documentMode)}function tr(){Hn&&(Hn.detachEvent("onpropertychange",nr),Vn=Hn=null)}function nr(e){if("value"===e.propertyName&&Kn(Vn)){var t=[];Gn(t,Vn,e,ke(e)),Pe(Yn,t)}}function rr(e,t,n){"focusin"===e?(tr(),Vn=n,(Hn=t).attachEvent("onpropertychange",nr)):"focusout"===e&&tr()}function ir(e){if("selectionchange"===e||"keyup"===e||"keydown"===e)return Kn(Vn)}function ar(e,t){if("click"===e)return Kn(t)}function or(e,t){if("input"===e||"change"===e)return Kn(t)}var sr="function"===typeof Object.is?Object.is:function(e,t){return e===t&&(0!==e||1/e===1/t)||e!==e&&t!==t};function ur(e,t){if(sr(e,t))return!0;if("object"!==typeof e||null===e||"object"!==typeof t||null===t)return!1;var n=Object.keys(e),r=Object.keys(t);if(n.length!==r.length)return!1;for(r=0;r<n.length;r++){var i=n[r];if(!d.call(t,i)||!sr(e[i],t[i]))return!1}return!0}function cr(e){for(;e&&e.firstChild;)e=e.firstChild;return e}function lr(e,t){var n,r=cr(e);for(e=0;r;){if(3===r.nodeType){if(n=e+r.textContent.length,e<=t&&n>=t)return{node:r,offset:t-e};e=n}e:{for(;r;){if(r.nextSibling){r=r.nextSibling;break e}r=r.parentNode}r=void 0}r=cr(r)}}function dr(e,t){return!(!e||!t)&&(e===t||(!e||3!==e.nodeType)&&(t&&3===t.nodeType?dr(e,t.parentNode):"contains"in e?e.contains(t):!!e.compareDocumentPosition&&!!(16&e.compareDocumentPosition(t))))}function fr(){for(var e=window,t=Y();t instanceof e.HTMLIFrameElement;){try{var n="string"===typeof t.contentWindow.location.href}catch(r){n=!1}if(!n)break;t=Y((e=t.contentWindow).document)}return t}function hr(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t&&("input"===t&&("text"===e.type||"search"===e.type||"tel"===e.type||"url"===e.type||"password"===e.type)||"textarea"===t||"true"===e.contentEditable)}function pr(e){var t=fr(),n=e.focusedElem,r=e.selectionRange;if(t!==n&&n&&n.ownerDocument&&dr(n.ownerDocument.documentElement,n)){if(null!==r&&hr(n))if(t=r.start,void 0===(e=r.end)&&(e=t),"selectionStart"in n)n.selectionStart=t,n.selectionEnd=Math.min(e,n.value.length);else if((e=(t=n.ownerDocument||document)&&t.defaultView||window).getSelection){e=e.getSelection();var i=n.textContent.length,a=Math.min(r.start,i);r=void 0===r.end?a:Math.min(r.end,i),!e.extend&&a>r&&(i=r,r=a,a=i),i=lr(n,a);var o=lr(n,r);i&&o&&(1!==e.rangeCount||e.anchorNode!==i.node||e.anchorOffset!==i.offset||e.focusNode!==o.node||e.focusOffset!==o.offset)&&((t=t.createRange()).setStart(i.node,i.offset),e.removeAllRanges(),a>r?(e.addRange(t),e.extend(o.node,o.offset)):(t.setEnd(o.node,o.offset),e.addRange(t)))}for(t=[],e=n;e=e.parentNode;)1===e.nodeType&&t.push({element:e,left:e.scrollLeft,top:e.scrollTop});for("function"===typeof n.focus&&n.focus(),n=0;n<t.length;n++)(e=t[n]).element.scrollLeft=e.left,e.element.scrollTop=e.top}}var vr=l&&"documentMode"in document&&11>=document.documentMode,mr=null,gr=null,yr=null,_r=!1;function br(e,t,n){var r=n.window===n?n.document:9===n.nodeType?n:n.ownerDocument;_r||null==mr||mr!==Y(r)||("selectionStart"in(r=mr)&&hr(r)?r={start:r.selectionStart,end:r.selectionEnd}:r={anchorNode:(r=(r.ownerDocument&&r.ownerDocument.defaultView||window).getSelection()).anchorNode,anchorOffset:r.anchorOffset,focusNode:r.focusNode,focusOffset:r.focusOffset},yr&&ur(yr,r)||(yr=r,0<(r=Hr(gr,"onSelect")).length&&(t=new ln("onSelect","select",null,t,n),e.push({event:t,listeners:r}),t.target=mr)))}function kr(e,t){var n={};return n[e.toLowerCase()]=t.toLowerCase(),n["Webkit"+e]="webkit"+t,n["Moz"+e]="moz"+t,n}var wr={animationend:kr("Animation","AnimationEnd"),animationiteration:kr("Animation","AnimationIteration"),animationstart:kr("Animation","AnimationStart"),transitionend:kr("Transition","TransitionEnd")},Sr={},Er={};function xr(e){if(Sr[e])return Sr[e];if(!wr[e])return e;var t,n=wr[e];for(t in n)if(n.hasOwnProperty(t)&&t in Er)return Sr[e]=n[t];return e}l&&(Er=document.createElement("div").style,"AnimationEvent"in window||(delete wr.animationend.animation,delete wr.animationiteration.animation,delete wr.animationstart.animation),"TransitionEvent"in window||delete wr.transitionend.transition);var Ir=xr("animationend"),Tr=xr("animationiteration"),Cr=xr("animationstart"),Nr=xr("transitionend"),Rr=new Map,Pr="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function Or(e,t){Rr.set(e,t),u(t,[e])}for(var Dr=0;Dr<Pr.length;Dr++){var Ar=Pr[Dr];Or(Ar.toLowerCase(),"on"+(Ar[0].toUpperCase()+Ar.slice(1)))}Or(Ir,"onAnimationEnd"),Or(Tr,"onAnimationIteration"),Or(Cr,"onAnimationStart"),Or("dblclick","onDoubleClick"),Or("focusin","onFocus"),Or("focusout","onBlur"),Or(Nr,"onTransitionEnd"),c("onMouseEnter",["mouseout","mouseover"]),c("onMouseLeave",["mouseout","mouseover"]),c("onPointerEnter",["pointerout","pointerover"]),c("onPointerLeave",["pointerout","pointerover"]),u("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),u("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),u("onBeforeInput",["compositionend","keypress","textInput","paste"]),u("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),u("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),u("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var Zr="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),Lr=new Set("cancel close invalid load scroll toggle".split(" ").concat(Zr));function Ur(e,t,n){var r=e.type||"unknown-event";e.currentTarget=n,function(e,t,n,r,i,o,s,u,c){if(qe.apply(this,arguments),Le){if(!Le)throw Error(a(198));var l=Ue;Le=!1,Ue=null,Me||(Me=!0,je=l)}}(r,t,void 0,e),e.currentTarget=null}function Mr(e,t){t=0!==(4&t);for(var n=0;n<e.length;n++){var r=e[n],i=r.event;r=r.listeners;e:{var a=void 0;if(t)for(var o=r.length-1;0<=o;o--){var s=r[o],u=s.instance,c=s.currentTarget;if(s=s.listener,u!==a&&i.isPropagationStopped())break e;Ur(i,s,c),a=u}else for(o=0;o<r.length;o++){if(u=(s=r[o]).instance,c=s.currentTarget,s=s.listener,u!==a&&i.isPropagationStopped())break e;Ur(i,s,c),a=u}}}if(Me)throw e=je,Me=!1,je=null,e}function jr(e,t){var n=t[vi];void 0===n&&(n=t[vi]=new Set);var r=e+"__bubble";n.has(r)||(Br(t,e,2,!1),n.add(r))}function Fr(e,t,n){var r=0;t&&(r|=4),Br(n,e,r,t)}var qr="_reactListening"+Math.random().toString(36).slice(2);function zr(e){if(!e[qr]){e[qr]=!0,o.forEach((function(t){"selectionchange"!==t&&(Lr.has(t)||Fr(t,!1,e),Fr(t,!0,e))}));var t=9===e.nodeType?e:e.ownerDocument;null===t||t[qr]||(t[qr]=!0,Fr("selectionchange",!1,t))}}function Br(e,t,n,r){switch($t(t)){case 1:var i=Gt;break;case 4:i=Ht;break;default:i=Vt}n=i.bind(null,t,n,e),i=void 0,!De||"touchstart"!==t&&"touchmove"!==t&&"wheel"!==t||(i=!0),r?void 0!==i?e.addEventListener(t,n,{capture:!0,passive:i}):e.addEventListener(t,n,!0):void 0!==i?e.addEventListener(t,n,{passive:i}):e.addEventListener(t,n,!1)}function Wr(e,t,n,r,i){var a=r;if(0===(1&t)&&0===(2&t)&&null!==r)e:for(;;){if(null===r)return;var o=r.tag;if(3===o||4===o){var s=r.stateNode.containerInfo;if(s===i||8===s.nodeType&&s.parentNode===i)break;if(4===o)for(o=r.return;null!==o;){var u=o.tag;if((3===u||4===u)&&((u=o.stateNode.containerInfo)===i||8===u.nodeType&&u.parentNode===i))return;o=o.return}for(;null!==s;){if(null===(o=yi(s)))return;if(5===(u=o.tag)||6===u){r=a=o;continue e}s=s.parentNode}}r=r.return}Pe((function(){var r=a,i=ke(n),o=[];e:{var s=Rr.get(e);if(void 0!==s){var u=ln,c=e;switch(e){case"keypress":if(0===tn(n))break e;case"keydown":case"keyup":u=Tn;break;case"focusin":c="focus",u=mn;break;case"focusout":c="blur",u=mn;break;case"beforeblur":case"afterblur":u=mn;break;case"click":if(2===n.button)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":u=pn;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":u=vn;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":u=Nn;break;case Ir:case Tr:case Cr:u=gn;break;case Nr:u=Rn;break;case"scroll":u=fn;break;case"wheel":u=On;break;case"copy":case"cut":case"paste":u=_n;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":u=Cn}var l=0!==(4&t),d=!l&&"scroll"===e,f=l?null!==s?s+"Capture":null:s;l=[];for(var h,p=r;null!==p;){var v=(h=p).stateNode;if(5===h.tag&&null!==v&&(h=v,null!==f&&(null!=(v=Oe(p,f))&&l.push(Gr(p,v,h)))),d)break;p=p.return}0<l.length&&(s=new u(s,c,null,n,i),o.push({event:s,listeners:l}))}}if(0===(7&t)){if(u="mouseout"===e||"pointerout"===e,(!(s="mouseover"===e||"pointerover"===e)||n===be||!(c=n.relatedTarget||n.fromElement)||!yi(c)&&!c[pi])&&(u||s)&&(s=i.window===i?i:(s=i.ownerDocument)?s.defaultView||s.parentWindow:window,u?(u=r,null!==(c=(c=n.relatedTarget||n.toElement)?yi(c):null)&&(c!==(d=ze(c))||5!==c.tag&&6!==c.tag)&&(c=null)):(u=null,c=r),u!==c)){if(l=pn,v="onMouseLeave",f="onMouseEnter",p="mouse","pointerout"!==e&&"pointerover"!==e||(l=Cn,v="onPointerLeave",f="onPointerEnter",p="pointer"),d=null==u?s:bi(u),h=null==c?s:bi(c),(s=new l(v,p+"leave",u,n,i)).target=d,s.relatedTarget=h,v=null,yi(i)===r&&((l=new l(f,p+"enter",c,n,i)).target=h,l.relatedTarget=d,v=l),d=v,u&&c)e:{for(f=c,p=0,h=l=u;h;h=Vr(h))p++;for(h=0,v=f;v;v=Vr(v))h++;for(;0<p-h;)l=Vr(l),p--;for(;0<h-p;)f=Vr(f),h--;for(;p--;){if(l===f||null!==f&&l===f.alternate)break e;l=Vr(l),f=Vr(f)}l=null}else l=null;null!==u&&Yr(o,s,u,l,!1),null!==c&&null!==d&&Yr(o,d,c,l,!0)}if("select"===(u=(s=r?bi(r):window).nodeName&&s.nodeName.toLowerCase())||"input"===u&&"file"===s.type)var m=$n;else if(Wn(s))if(Jn)m=or;else{m=ir;var g=rr}else(u=s.nodeName)&&"input"===u.toLowerCase()&&("checkbox"===s.type||"radio"===s.type)&&(m=ar);switch(m&&(m=m(e,r))?Gn(o,m,n,i):(g&&g(e,s,r),"focusout"===e&&(g=s._wrapperState)&&g.controlled&&"number"===s.type&&ee(s,"number",s.value)),g=r?bi(r):window,e){case"focusin":(Wn(g)||"true"===g.contentEditable)&&(mr=g,gr=r,yr=null);break;case"focusout":yr=gr=mr=null;break;case"mousedown":_r=!0;break;case"contextmenu":case"mouseup":case"dragend":_r=!1,br(o,n,i);break;case"selectionchange":if(vr)break;case"keydown":case"keyup":br(o,n,i)}var y;if(An)e:{switch(e){case"compositionstart":var _="onCompositionStart";break e;case"compositionend":_="onCompositionEnd";break e;case"compositionupdate":_="onCompositionUpdate";break e}_=void 0}else zn?Fn(e,n)&&(_="onCompositionEnd"):"keydown"===e&&229===n.keyCode&&(_="onCompositionStart");_&&(Un&&"ko"!==n.locale&&(zn||"onCompositionStart"!==_?"onCompositionEnd"===_&&zn&&(y=en()):(Qt="value"in(Jt=i)?Jt.value:Jt.textContent,zn=!0)),0<(g=Hr(r,_)).length&&(_=new bn(_,e,null,n,i),o.push({event:_,listeners:g}),y?_.data=y:null!==(y=qn(n))&&(_.data=y))),(y=Ln?function(e,t){switch(e){case"compositionend":return qn(t);case"keypress":return 32!==t.which?null:(jn=!0,Mn);case"textInput":return(e=t.data)===Mn&&jn?null:e;default:return null}}(e,n):function(e,t){if(zn)return"compositionend"===e||!An&&Fn(e,t)?(e=en(),Xt=Qt=Jt=null,zn=!1,e):null;switch(e){case"paste":default:return null;case"keypress":if(!(t.ctrlKey||t.altKey||t.metaKey)||t.ctrlKey&&t.altKey){if(t.char&&1<t.char.length)return t.char;if(t.which)return String.fromCharCode(t.which)}return null;case"compositionend":return Un&&"ko"!==t.locale?null:t.data}}(e,n))&&(0<(r=Hr(r,"onBeforeInput")).length&&(i=new bn("onBeforeInput","beforeinput",null,n,i),o.push({event:i,listeners:r}),i.data=y))}Mr(o,t)}))}function Gr(e,t,n){return{instance:e,listener:t,currentTarget:n}}function Hr(e,t){for(var n=t+"Capture",r=[];null!==e;){var i=e,a=i.stateNode;5===i.tag&&null!==a&&(i=a,null!=(a=Oe(e,n))&&r.unshift(Gr(e,a,i)),null!=(a=Oe(e,t))&&r.push(Gr(e,a,i))),e=e.return}return r}function Vr(e){if(null===e)return null;do{e=e.return}while(e&&5!==e.tag);return e||null}function Yr(e,t,n,r,i){for(var a=t._reactName,o=[];null!==n&&n!==r;){var s=n,u=s.alternate,c=s.stateNode;if(null!==u&&u===r)break;5===s.tag&&null!==c&&(s=c,i?null!=(u=Oe(n,a))&&o.unshift(Gr(n,u,s)):i||null!=(u=Oe(n,a))&&o.push(Gr(n,u,s))),n=n.return}0!==o.length&&e.push({event:t,listeners:o})}var Kr=/\r\n?/g,$r=/\u0000|\uFFFD/g;function Jr(e){return("string"===typeof e?e:""+e).replace(Kr,"\n").replace($r,"")}function Qr(e,t,n){if(t=Jr(t),Jr(e)!==t&&n)throw Error(a(425))}function Xr(){}var ei=null,ti=null;function ni(e,t){return"textarea"===e||"noscript"===e||"string"===typeof t.children||"number"===typeof t.children||"object"===typeof t.dangerouslySetInnerHTML&&null!==t.dangerouslySetInnerHTML&&null!=t.dangerouslySetInnerHTML.__html}var ri="function"===typeof setTimeout?setTimeout:void 0,ii="function"===typeof clearTimeout?clearTimeout:void 0,ai="function"===typeof Promise?Promise:void 0,oi="function"===typeof queueMicrotask?queueMicrotask:"undefined"!==typeof ai?function(e){return ai.resolve(null).then(e).catch(si)}:ri;function si(e){setTimeout((function(){throw e}))}function ui(e,t){var n=t,r=0;do{var i=n.nextSibling;if(e.removeChild(n),i&&8===i.nodeType)if("/$"===(n=i.data)){if(0===r)return e.removeChild(i),void zt(t);r--}else"$"!==n&&"$?"!==n&&"$!"!==n||r++;n=i}while(n);zt(t)}function ci(e){for(;null!=e;e=e.nextSibling){var t=e.nodeType;if(1===t||3===t)break;if(8===t){if("$"===(t=e.data)||"$!"===t||"$?"===t)break;if("/$"===t)return null}}return e}function li(e){e=e.previousSibling;for(var t=0;e;){if(8===e.nodeType){var n=e.data;if("$"===n||"$!"===n||"$?"===n){if(0===t)return e;t--}else"/$"===n&&t++}e=e.previousSibling}return null}var di=Math.random().toString(36).slice(2),fi="__reactFiber$"+di,hi="__reactProps$"+di,pi="__reactContainer$"+di,vi="__reactEvents$"+di,mi="__reactListeners$"+di,gi="__reactHandles$"+di;function yi(e){var t=e[fi];if(t)return t;for(var n=e.parentNode;n;){if(t=n[pi]||n[fi]){if(n=t.alternate,null!==t.child||null!==n&&null!==n.child)for(e=li(e);null!==e;){if(n=e[fi])return n;e=li(e)}return t}n=(e=n).parentNode}return null}function _i(e){return!(e=e[fi]||e[pi])||5!==e.tag&&6!==e.tag&&13!==e.tag&&3!==e.tag?null:e}function bi(e){if(5===e.tag||6===e.tag)return e.stateNode;throw Error(a(33))}function ki(e){return e[hi]||null}var wi=[],Si=-1;function Ei(e){return{current:e}}function xi(e){0>Si||(e.current=wi[Si],wi[Si]=null,Si--)}function Ii(e,t){Si++,wi[Si]=e.current,e.current=t}var Ti={},Ci=Ei(Ti),Ni=Ei(!1),Ri=Ti;function Pi(e,t){var n=e.type.contextTypes;if(!n)return Ti;var r=e.stateNode;if(r&&r.__reactInternalMemoizedUnmaskedChildContext===t)return r.__reactInternalMemoizedMaskedChildContext;var i,a={};for(i in n)a[i]=t[i];return r&&((e=e.stateNode).__reactInternalMemoizedUnmaskedChildContext=t,e.__reactInternalMemoizedMaskedChildContext=a),a}function Oi(e){return null!==(e=e.childContextTypes)&&void 0!==e}function Di(){xi(Ni),xi(Ci)}function Ai(e,t,n){if(Ci.current!==Ti)throw Error(a(168));Ii(Ci,t),Ii(Ni,n)}function Zi(e,t,n){var r=e.stateNode;if(t=t.childContextTypes,"function"!==typeof r.getChildContext)return n;for(var i in r=r.getChildContext())if(!(i in t))throw Error(a(108,B(e)||"Unknown",i));return U({},n,r)}function Li(e){return e=(e=e.stateNode)&&e.__reactInternalMemoizedMergedChildContext||Ti,Ri=Ci.current,Ii(Ci,e),Ii(Ni,Ni.current),!0}function Ui(e,t,n){var r=e.stateNode;if(!r)throw Error(a(169));n?(e=Zi(e,t,Ri),r.__reactInternalMemoizedMergedChildContext=e,xi(Ni),xi(Ci),Ii(Ci,e)):xi(Ni),Ii(Ni,n)}var Mi=null,ji=!1,Fi=!1;function qi(e){null===Mi?Mi=[e]:Mi.push(e)}function zi(){if(!Fi&&null!==Mi){Fi=!0;var e=0,t=_t;try{var n=Mi;for(_t=1;e<n.length;e++){var r=n[e];do{r=r(!0)}while(null!==r)}Mi=null,ji=!1}catch(i){throw null!==Mi&&(Mi=Mi.slice(e+1)),Ve(Xe,zi),i}finally{_t=t,Fi=!1}}return null}var Bi=b.ReactCurrentBatchConfig;function Wi(e,t){if(e&&e.defaultProps){for(var n in t=U({},t),e=e.defaultProps)void 0===t[n]&&(t[n]=e[n]);return t}return t}var Gi=Ei(null),Hi=null,Vi=null,Yi=null;function Ki(){Yi=Vi=Hi=null}function $i(e){var t=Gi.current;xi(Gi),e._currentValue=t}function Ji(e,t,n){for(;null!==e;){var r=e.alternate;if((e.childLanes&t)!==t?(e.childLanes|=t,null!==r&&(r.childLanes|=t)):null!==r&&(r.childLanes&t)!==t&&(r.childLanes|=t),e===n)break;e=e.return}}function Qi(e,t){Hi=e,Yi=Vi=null,null!==(e=e.dependencies)&&null!==e.firstContext&&(0!==(e.lanes&t)&&(ks=!0),e.firstContext=null)}function Xi(e){var t=e._currentValue;if(Yi!==e)if(e={context:e,memoizedValue:t,next:null},null===Vi){if(null===Hi)throw Error(a(308));Vi=e,Hi.dependencies={lanes:0,firstContext:e}}else Vi=Vi.next=e;return t}var ea=null,ta=!1;function na(e){e.updateQueue={baseState:e.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function ra(e,t){e=e.updateQueue,t.updateQueue===e&&(t.updateQueue={baseState:e.baseState,firstBaseUpdate:e.firstBaseUpdate,lastBaseUpdate:e.lastBaseUpdate,shared:e.shared,effects:e.effects})}function ia(e,t){return{eventTime:e,lane:t,tag:0,payload:null,callback:null,next:null}}function aa(e,t){var n=e.updateQueue;null!==n&&(n=n.shared,tc(e)?(null===(e=n.interleaved)?(t.next=t,null===ea?ea=[n]:ea.push(n)):(t.next=e.next,e.next=t),n.interleaved=t):(null===(e=n.pending)?t.next=t:(t.next=e.next,e.next=t),n.pending=t))}function oa(e,t,n){if(null!==(t=t.updateQueue)&&(t=t.shared,0!==(4194240&n))){var r=t.lanes;n|=r&=e.pendingLanes,t.lanes=n,yt(e,n)}}function sa(e,t){var n=e.updateQueue,r=e.alternate;if(null!==r&&n===(r=r.updateQueue)){var i=null,a=null;if(null!==(n=n.firstBaseUpdate)){do{var o={eventTime:n.eventTime,lane:n.lane,tag:n.tag,payload:n.payload,callback:n.callback,next:null};null===a?i=a=o:a=a.next=o,n=n.next}while(null!==n);null===a?i=a=t:a=a.next=t}else i=a=t;return n={baseState:r.baseState,firstBaseUpdate:i,lastBaseUpdate:a,shared:r.shared,effects:r.effects},void(e.updateQueue=n)}null===(e=n.lastBaseUpdate)?n.firstBaseUpdate=t:e.next=t,n.lastBaseUpdate=t}function ua(e,t,n,r){var i=e.updateQueue;ta=!1;var a=i.firstBaseUpdate,o=i.lastBaseUpdate,s=i.shared.pending;if(null!==s){i.shared.pending=null;var u=s,c=u.next;u.next=null,null===o?a=c:o.next=c,o=u;var l=e.alternate;null!==l&&((s=(l=l.updateQueue).lastBaseUpdate)!==o&&(null===s?l.firstBaseUpdate=c:s.next=c,l.lastBaseUpdate=u))}if(null!==a){var d=i.baseState;for(o=0,l=c=u=null,s=a;;){var f=s.lane,h=s.eventTime;if((r&f)===f){null!==l&&(l=l.next={eventTime:h,lane:0,tag:s.tag,payload:s.payload,callback:s.callback,next:null});e:{var p=e,v=s;switch(f=t,h=n,v.tag){case 1:if("function"===typeof(p=v.payload)){d=p.call(h,d,f);break e}d=p;break e;case 3:p.flags=-65537&p.flags|128;case 0:if(null===(f="function"===typeof(p=v.payload)?p.call(h,d,f):p)||void 0===f)break e;d=U({},d,f);break e;case 2:ta=!0}}null!==s.callback&&0!==s.lane&&(e.flags|=64,null===(f=i.effects)?i.effects=[s]:f.push(s))}else h={eventTime:h,lane:f,tag:s.tag,payload:s.payload,callback:s.callback,next:null},null===l?(c=l=h,u=d):l=l.next=h,o|=f;if(null===(s=s.next)){if(null===(s=i.shared.pending))break;s=(f=s).next,f.next=null,i.lastBaseUpdate=f,i.shared.pending=null}}if(null===l&&(u=d),i.baseState=u,i.firstBaseUpdate=c,i.lastBaseUpdate=l,null!==(t=i.shared.interleaved)){i=t;do{o|=i.lane,i=i.next}while(i!==t)}else null===a&&(i.shared.lanes=0);Du|=o,e.lanes=o,e.memoizedState=d}}function ca(e,t,n){if(e=t.effects,t.effects=null,null!==e)for(t=0;t<e.length;t++){var r=e[t],i=r.callback;if(null!==i){if(r.callback=null,r=n,"function"!==typeof i)throw Error(a(191,i));i.call(r)}}}var la=(new r.Component).refs;function da(e,t,n,r){n=null===(n=n(r,t=e.memoizedState))||void 0===n?t:U({},t,n),e.memoizedState=n,0===e.lanes&&(e.updateQueue.baseState=n)}var fa={isMounted:function(e){return!!(e=e._reactInternals)&&ze(e)===e},enqueueSetState:function(e,t,n){e=e._reactInternals;var r=Ju(),i=Qu(e),a=ia(r,i);a.payload=t,void 0!==n&&null!==n&&(a.callback=n),aa(e,a),null!==(t=Xu(e,i,r))&&oa(t,e,i)},enqueueReplaceState:function(e,t,n){e=e._reactInternals;var r=Ju(),i=Qu(e),a=ia(r,i);a.tag=1,a.payload=t,void 0!==n&&null!==n&&(a.callback=n),aa(e,a),null!==(t=Xu(e,i,r))&&oa(t,e,i)},enqueueForceUpdate:function(e,t){e=e._reactInternals;var n=Ju(),r=Qu(e),i=ia(n,r);i.tag=2,void 0!==t&&null!==t&&(i.callback=t),aa(e,i),null!==(t=Xu(e,r,n))&&oa(t,e,r)}};function ha(e,t,n,r,i,a,o){return"function"===typeof(e=e.stateNode).shouldComponentUpdate?e.shouldComponentUpdate(r,a,o):!t.prototype||!t.prototype.isPureReactComponent||(!ur(n,r)||!ur(i,a))}function pa(e,t,n){var r=!1,i=Ti,a=t.contextType;return"object"===typeof a&&null!==a?a=Xi(a):(i=Oi(t)?Ri:Ci.current,a=(r=null!==(r=t.contextTypes)&&void 0!==r)?Pi(e,i):Ti),t=new t(n,a),e.memoizedState=null!==t.state&&void 0!==t.state?t.state:null,t.updater=fa,e.stateNode=t,t._reactInternals=e,r&&((e=e.stateNode).__reactInternalMemoizedUnmaskedChildContext=i,e.__reactInternalMemoizedMaskedChildContext=a),t}function va(e,t,n,r){e=t.state,"function"===typeof t.componentWillReceiveProps&&t.componentWillReceiveProps(n,r),"function"===typeof t.UNSAFE_componentWillReceiveProps&&t.UNSAFE_componentWillReceiveProps(n,r),t.state!==e&&fa.enqueueReplaceState(t,t.state,null)}function ma(e,t,n,r){var i=e.stateNode;i.props=n,i.state=e.memoizedState,i.refs=la,na(e);var a=t.contextType;"object"===typeof a&&null!==a?i.context=Xi(a):(a=Oi(t)?Ri:Ci.current,i.context=Pi(e,a)),i.state=e.memoizedState,"function"===typeof(a=t.getDerivedStateFromProps)&&(da(e,t,a,n),i.state=e.memoizedState),"function"===typeof t.getDerivedStateFromProps||"function"===typeof i.getSnapshotBeforeUpdate||"function"!==typeof i.UNSAFE_componentWillMount&&"function"!==typeof i.componentWillMount||(t=i.state,"function"===typeof i.componentWillMount&&i.componentWillMount(),"function"===typeof i.UNSAFE_componentWillMount&&i.UNSAFE_componentWillMount(),t!==i.state&&fa.enqueueReplaceState(i,i.state,null),ua(e,n,i,r),i.state=e.memoizedState),"function"===typeof i.componentDidMount&&(e.flags|=4194308)}var ga=[],ya=0,_a=null,ba=0,ka=[],wa=0,Sa=null,Ea=1,xa="";function Ia(e,t){ga[ya++]=ba,ga[ya++]=_a,_a=e,ba=t}function Ta(e,t,n){ka[wa++]=Ea,ka[wa++]=xa,ka[wa++]=Sa,Sa=e;var r=Ea;e=xa;var i=32-ot(r)-1;r&=~(1<<i),n+=1;var a=32-ot(t)+i;if(30<a){var o=i-i%5;a=(r&(1<<o)-1).toString(32),r>>=o,i-=o,Ea=1<<32-ot(t)+i|n<<i|r,xa=a+e}else Ea=1<<a|n<<i|r,xa=e}function Ca(e){null!==e.return&&(Ia(e,1),Ta(e,1,0))}function Na(e){for(;e===_a;)_a=ga[--ya],ga[ya]=null,ba=ga[--ya],ga[ya]=null;for(;e===Sa;)Sa=ka[--wa],ka[wa]=null,xa=ka[--wa],ka[wa]=null,Ea=ka[--wa],ka[wa]=null}var Ra=null,Pa=null,Oa=!1,Da=null;function Aa(e,t){var n=Rc(5,null,null,0);n.elementType="DELETED",n.stateNode=t,n.return=e,null===(t=e.deletions)?(e.deletions=[n],e.flags|=16):t.push(n)}function Za(e,t){switch(e.tag){case 5:var n=e.type;return null!==(t=1!==t.nodeType||n.toLowerCase()!==t.nodeName.toLowerCase()?null:t)&&(e.stateNode=t,Ra=e,Pa=ci(t.firstChild),!0);case 6:return null!==(t=""===e.pendingProps||3!==t.nodeType?null:t)&&(e.stateNode=t,Ra=e,Pa=null,!0);case 13:return null!==(t=8!==t.nodeType?null:t)&&(n=null!==Sa?{id:Ea,overflow:xa}:null,e.memoizedState={dehydrated:t,treeContext:n,retryLane:1073741824},(n=Rc(18,null,null,0)).stateNode=t,n.return=e,e.child=n,Ra=e,Pa=null,!0);default:return!1}}function La(e){return 0!==(1&e.mode)&&0===(128&e.flags)}function Ua(e){if(Oa){var t=Pa;if(t){var n=t;if(!Za(e,t)){if(La(e))throw Error(a(418));t=ci(n.nextSibling);var r=Ra;t&&Za(e,t)?Aa(r,n):(e.flags=-4097&e.flags|2,Oa=!1,Ra=e)}}else{if(La(e))throw Error(a(418));e.flags=-4097&e.flags|2,Oa=!1,Ra=e}}}function Ma(e){for(e=e.return;null!==e&&5!==e.tag&&3!==e.tag&&13!==e.tag;)e=e.return;Ra=e}function ja(e){if(e!==Ra)return!1;if(!Oa)return Ma(e),Oa=!0,!1;var t;if((t=3!==e.tag)&&!(t=5!==e.tag)&&(t="head"!==(t=e.type)&&"body"!==t&&!ni(e.type,e.memoizedProps)),t&&(t=Pa)){if(La(e)){for(e=Pa;e;)e=ci(e.nextSibling);throw Error(a(418))}for(;t;)Aa(e,t),t=ci(t.nextSibling)}if(Ma(e),13===e.tag){if(!(e=null!==(e=e.memoizedState)?e.dehydrated:null))throw Error(a(317));e:{for(e=e.nextSibling,t=0;e;){if(8===e.nodeType){var n=e.data;if("/$"===n){if(0===t){Pa=ci(e.nextSibling);break e}t--}else"$"!==n&&"$!"!==n&&"$?"!==n||t++}e=e.nextSibling}Pa=null}}else Pa=Ra?ci(e.stateNode.nextSibling):null;return!0}function Fa(){Pa=Ra=null,Oa=!1}function qa(e){null===Da?Da=[e]:Da.push(e)}function za(e,t,n){if(null!==(e=n.ref)&&"function"!==typeof e&&"object"!==typeof e){if(n._owner){if(n=n._owner){if(1!==n.tag)throw Error(a(309));var r=n.stateNode}if(!r)throw Error(a(147,e));var i=r,o=""+e;return null!==t&&null!==t.ref&&"function"===typeof t.ref&&t.ref._stringRef===o?t.ref:(t=function(e){var t=i.refs;t===la&&(t=i.refs={}),null===e?delete t[o]:t[o]=e},t._stringRef=o,t)}if("string"!==typeof e)throw Error(a(284));if(!n._owner)throw Error(a(290,e))}return e}function Ba(e,t){throw e=Object.prototype.toString.call(t),Error(a(31,"[object Object]"===e?"object with keys {"+Object.keys(t).join(", ")+"}":e))}function Wa(e){return(0,e._init)(e._payload)}function Ga(e){function t(t,n){if(e){var r=t.deletions;null===r?(t.deletions=[n],t.flags|=16):r.push(n)}}function n(n,r){if(!e)return null;for(;null!==r;)t(n,r),r=r.sibling;return null}function r(e,t){for(e=new Map;null!==t;)null!==t.key?e.set(t.key,t):e.set(t.index,t),t=t.sibling;return e}function i(e,t){return(e=Oc(e,t)).index=0,e.sibling=null,e}function o(t,n,r){return t.index=r,e?null!==(r=t.alternate)?(r=r.index)<n?(t.flags|=2,n):r:(t.flags|=2,n):(t.flags|=1048576,n)}function s(t){return e&&null===t.alternate&&(t.flags|=2),t}function u(e,t,n,r){return null===t||6!==t.tag?((t=Lc(n,e.mode,r)).return=e,t):((t=i(t,n)).return=e,t)}function c(e,t,n,r){var a=n.type;return a===S?d(e,t,n.props.children,r,n.key):null!==t&&(t.elementType===a||"object"===typeof a&&null!==a&&a.$$typeof===O&&Wa(a)===t.type)?((r=i(t,n.props)).ref=za(e,t,n),r.return=e,r):((r=Dc(n.type,n.key,n.props,null,e.mode,r)).ref=za(e,t,n),r.return=e,r)}function l(e,t,n,r){return null===t||4!==t.tag||t.stateNode.containerInfo!==n.containerInfo||t.stateNode.implementation!==n.implementation?((t=Uc(n,e.mode,r)).return=e,t):((t=i(t,n.children||[])).return=e,t)}function d(e,t,n,r,a){return null===t||7!==t.tag?((t=Ac(n,e.mode,r,a)).return=e,t):((t=i(t,n)).return=e,t)}function f(e,t,n){if("string"===typeof t&&""!==t||"number"===typeof t)return(t=Lc(""+t,e.mode,n)).return=e,t;if("object"===typeof t&&null!==t){switch(t.$$typeof){case k:return(n=Dc(t.type,t.key,t.props,null,e.mode,n)).ref=za(e,null,t),n.return=e,n;case w:return(t=Uc(t,e.mode,n)).return=e,t;case O:return f(e,(0,t._init)(t._payload),n)}if(te(t)||Z(t))return(t=Ac(t,e.mode,n,null)).return=e,t;Ba(e,t)}return null}function h(e,t,n,r){var i=null!==t?t.key:null;if("string"===typeof n&&""!==n||"number"===typeof n)return null!==i?null:u(e,t,""+n,r);if("object"===typeof n&&null!==n){switch(n.$$typeof){case k:return n.key===i?c(e,t,n,r):null;case w:return n.key===i?l(e,t,n,r):null;case O:return h(e,t,(i=n._init)(n._payload),r)}if(te(n)||Z(n))return null!==i?null:d(e,t,n,r,null);Ba(e,n)}return null}function p(e,t,n,r,i){if("string"===typeof r&&""!==r||"number"===typeof r)return u(t,e=e.get(n)||null,""+r,i);if("object"===typeof r&&null!==r){switch(r.$$typeof){case k:return c(t,e=e.get(null===r.key?n:r.key)||null,r,i);case w:return l(t,e=e.get(null===r.key?n:r.key)||null,r,i);case O:return p(e,t,n,(0,r._init)(r._payload),i)}if(te(r)||Z(r))return d(t,e=e.get(n)||null,r,i,null);Ba(t,r)}return null}function v(i,a,s,u){for(var c=null,l=null,d=a,v=a=0,m=null;null!==d&&v<s.length;v++){d.index>v?(m=d,d=null):m=d.sibling;var g=h(i,d,s[v],u);if(null===g){null===d&&(d=m);break}e&&d&&null===g.alternate&&t(i,d),a=o(g,a,v),null===l?c=g:l.sibling=g,l=g,d=m}if(v===s.length)return n(i,d),Oa&&Ia(i,v),c;if(null===d){for(;v<s.length;v++)null!==(d=f(i,s[v],u))&&(a=o(d,a,v),null===l?c=d:l.sibling=d,l=d);return Oa&&Ia(i,v),c}for(d=r(i,d);v<s.length;v++)null!==(m=p(d,i,v,s[v],u))&&(e&&null!==m.alternate&&d.delete(null===m.key?v:m.key),a=o(m,a,v),null===l?c=m:l.sibling=m,l=m);return e&&d.forEach((function(e){return t(i,e)})),Oa&&Ia(i,v),c}function m(i,s,u,c){var l=Z(u);if("function"!==typeof l)throw Error(a(150));if(null==(u=l.call(u)))throw Error(a(151));for(var d=l=null,v=s,m=s=0,g=null,y=u.next();null!==v&&!y.done;m++,y=u.next()){v.index>m?(g=v,v=null):g=v.sibling;var _=h(i,v,y.value,c);if(null===_){null===v&&(v=g);break}e&&v&&null===_.alternate&&t(i,v),s=o(_,s,m),null===d?l=_:d.sibling=_,d=_,v=g}if(y.done)return n(i,v),Oa&&Ia(i,m),l;if(null===v){for(;!y.done;m++,y=u.next())null!==(y=f(i,y.value,c))&&(s=o(y,s,m),null===d?l=y:d.sibling=y,d=y);return Oa&&Ia(i,m),l}for(v=r(i,v);!y.done;m++,y=u.next())null!==(y=p(v,i,m,y.value,c))&&(e&&null!==y.alternate&&v.delete(null===y.key?m:y.key),s=o(y,s,m),null===d?l=y:d.sibling=y,d=y);return e&&v.forEach((function(e){return t(i,e)})),Oa&&Ia(i,m),l}return function e(r,a,o,u){if("object"===typeof o&&null!==o&&o.type===S&&null===o.key&&(o=o.props.children),"object"===typeof o&&null!==o){switch(o.$$typeof){case k:e:{for(var c=o.key,l=a;null!==l;){if(l.key===c){if((c=o.type)===S){if(7===l.tag){n(r,l.sibling),(a=i(l,o.props.children)).return=r,r=a;break e}}else if(l.elementType===c||"object"===typeof c&&null!==c&&c.$$typeof===O&&Wa(c)===l.type){n(r,l.sibling),(a=i(l,o.props)).ref=za(r,l,o),a.return=r,r=a;break e}n(r,l);break}t(r,l),l=l.sibling}o.type===S?((a=Ac(o.props.children,r.mode,u,o.key)).return=r,r=a):((u=Dc(o.type,o.key,o.props,null,r.mode,u)).ref=za(r,a,o),u.return=r,r=u)}return s(r);case w:e:{for(l=o.key;null!==a;){if(a.key===l){if(4===a.tag&&a.stateNode.containerInfo===o.containerInfo&&a.stateNode.implementation===o.implementation){n(r,a.sibling),(a=i(a,o.children||[])).return=r,r=a;break e}n(r,a);break}t(r,a),a=a.sibling}(a=Uc(o,r.mode,u)).return=r,r=a}return s(r);case O:return e(r,a,(l=o._init)(o._payload),u)}if(te(o))return v(r,a,o,u);if(Z(o))return m(r,a,o,u);Ba(r,o)}return"string"===typeof o&&""!==o||"number"===typeof o?(o=""+o,null!==a&&6===a.tag?(n(r,a.sibling),(a=i(a,o)).return=r,r=a):(n(r,a),(a=Lc(o,r.mode,u)).return=r,r=a),s(r)):n(r,a)}}var Ha=Ga(!0),Va=Ga(!1),Ya={},Ka=Ei(Ya),$a=Ei(Ya),Ja=Ei(Ya);function Qa(e){if(e===Ya)throw Error(a(174));return e}function Xa(e,t){switch(Ii(Ja,t),Ii($a,e),Ii(Ka,Ya),e=t.nodeType){case 9:case 11:t=(t=t.documentElement)?t.namespaceURI:ue(null,"");break;default:t=ue(t=(e=8===e?t.parentNode:t).namespaceURI||null,e=e.tagName)}xi(Ka),Ii(Ka,t)}function eo(){xi(Ka),xi($a),xi(Ja)}function to(e){Qa(Ja.current);var t=Qa(Ka.current),n=ue(t,e.type);t!==n&&(Ii($a,e),Ii(Ka,n))}function no(e){$a.current===e&&(xi(Ka),xi($a))}var ro=Ei(0);function io(e){for(var t=e;null!==t;){if(13===t.tag){var n=t.memoizedState;if(null!==n&&(null===(n=n.dehydrated)||"$?"===n.data||"$!"===n.data))return t}else if(19===t.tag&&void 0!==t.memoizedProps.revealOrder){if(0!==(128&t.flags))return t}else if(null!==t.child){t.child.return=t,t=t.child;continue}if(t===e)break;for(;null===t.sibling;){if(null===t.return||t.return===e)return null;t=t.return}t.sibling.return=t.return,t=t.sibling}return null}var ao=[];function oo(){for(var e=0;e<ao.length;e++)ao[e]._workInProgressVersionPrimary=null;ao.length=0}var so=b.ReactCurrentDispatcher,uo=b.ReactCurrentBatchConfig,co=0,lo=null,fo=null,ho=null,po=!1,vo=!1,mo=0,go=0;function yo(){throw Error(a(321))}function _o(e,t){if(null===t)return!1;for(var n=0;n<t.length&&n<e.length;n++)if(!sr(e[n],t[n]))return!1;return!0}function bo(e,t,n,r,i,o){if(co=o,lo=t,t.memoizedState=null,t.updateQueue=null,t.lanes=0,so.current=null===e||null===e.memoizedState?rs:is,e=n(r,i),vo){o=0;do{if(vo=!1,mo=0,25<=o)throw Error(a(301));o+=1,ho=fo=null,t.updateQueue=null,so.current=as,e=n(r,i)}while(vo)}if(so.current=ns,t=null!==fo&&null!==fo.next,co=0,ho=fo=lo=null,po=!1,t)throw Error(a(300));return e}function ko(){var e=0!==mo;return mo=0,e}function wo(){var e={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return null===ho?lo.memoizedState=ho=e:ho=ho.next=e,ho}function So(){if(null===fo){var e=lo.alternate;e=null!==e?e.memoizedState:null}else e=fo.next;var t=null===ho?lo.memoizedState:ho.next;if(null!==t)ho=t,fo=e;else{if(null===e)throw Error(a(310));e={memoizedState:(fo=e).memoizedState,baseState:fo.baseState,baseQueue:fo.baseQueue,queue:fo.queue,next:null},null===ho?lo.memoizedState=ho=e:ho=ho.next=e}return ho}function Eo(e,t){return"function"===typeof t?t(e):t}function xo(e){var t=So(),n=t.queue;if(null===n)throw Error(a(311));n.lastRenderedReducer=e;var r=fo,i=r.baseQueue,o=n.pending;if(null!==o){if(null!==i){var s=i.next;i.next=o.next,o.next=s}r.baseQueue=i=o,n.pending=null}if(null!==i){o=i.next,r=r.baseState;var u=s=null,c=null,l=o;do{var d=l.lane;if((co&d)===d)null!==c&&(c=c.next={lane:0,action:l.action,hasEagerState:l.hasEagerState,eagerState:l.eagerState,next:null}),r=l.hasEagerState?l.eagerState:e(r,l.action);else{var f={lane:d,action:l.action,hasEagerState:l.hasEagerState,eagerState:l.eagerState,next:null};null===c?(u=c=f,s=r):c=c.next=f,lo.lanes|=d,Du|=d}l=l.next}while(null!==l&&l!==o);null===c?s=r:c.next=u,sr(r,t.memoizedState)||(ks=!0),t.memoizedState=r,t.baseState=s,t.baseQueue=c,n.lastRenderedState=r}if(null!==(e=n.interleaved)){i=e;do{o=i.lane,lo.lanes|=o,Du|=o,i=i.next}while(i!==e)}else null===i&&(n.lanes=0);return[t.memoizedState,n.dispatch]}function Io(e){var t=So(),n=t.queue;if(null===n)throw Error(a(311));n.lastRenderedReducer=e;var r=n.dispatch,i=n.pending,o=t.memoizedState;if(null!==i){n.pending=null;var s=i=i.next;do{o=e(o,s.action),s=s.next}while(s!==i);sr(o,t.memoizedState)||(ks=!0),t.memoizedState=o,null===t.baseQueue&&(t.baseState=o),n.lastRenderedState=o}return[o,r]}function To(){}function Co(e,t){var n=lo,r=So(),i=t(),o=!sr(r.memoizedState,i);if(o&&(r.memoizedState=i,ks=!0),r=r.queue,jo(Po.bind(null,n,r,e),[e]),r.getSnapshot!==t||o||null!==ho&&1&ho.memoizedState.tag){if(n.flags|=2048,Ao(9,Ro.bind(null,n,r,i,t),void 0,null),null===Iu)throw Error(a(349));0!==(30&co)||No(n,t,i)}return i}function No(e,t,n){e.flags|=16384,e={getSnapshot:t,value:n},null===(t=lo.updateQueue)?(t={lastEffect:null,stores:null},lo.updateQueue=t,t.stores=[e]):null===(n=t.stores)?t.stores=[e]:n.push(e)}function Ro(e,t,n,r){t.value=n,t.getSnapshot=r,Oo(t)&&Xu(e,1,-1)}function Po(e,t,n){return n((function(){Oo(t)&&Xu(e,1,-1)}))}function Oo(e){var t=e.getSnapshot;e=e.value;try{var n=t();return!sr(e,n)}catch(r){return!0}}function Do(e){var t=wo();return"function"===typeof e&&(e=e()),t.memoizedState=t.baseState=e,e={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:Eo,lastRenderedState:e},t.queue=e,e=e.dispatch=Jo.bind(null,lo,e),[t.memoizedState,e]}function Ao(e,t,n,r){return e={tag:e,create:t,destroy:n,deps:r,next:null},null===(t=lo.updateQueue)?(t={lastEffect:null,stores:null},lo.updateQueue=t,t.lastEffect=e.next=e):null===(n=t.lastEffect)?t.lastEffect=e.next=e:(r=n.next,n.next=e,e.next=r,t.lastEffect=e),e}function Zo(){return So().memoizedState}function Lo(e,t,n,r){var i=wo();lo.flags|=e,i.memoizedState=Ao(1|t,n,void 0,void 0===r?null:r)}function Uo(e,t,n,r){var i=So();r=void 0===r?null:r;var a=void 0;if(null!==fo){var o=fo.memoizedState;if(a=o.destroy,null!==r&&_o(r,o.deps))return void(i.memoizedState=Ao(t,n,a,r))}lo.flags|=e,i.memoizedState=Ao(1|t,n,a,r)}function Mo(e,t){return Lo(8390656,8,e,t)}function jo(e,t){return Uo(2048,8,e,t)}function Fo(e,t){return Uo(4,2,e,t)}function qo(e,t){return Uo(4,4,e,t)}function zo(e,t){return"function"===typeof t?(e=e(),t(e),function(){t(null)}):null!==t&&void 0!==t?(e=e(),t.current=e,function(){t.current=null}):void 0}function Bo(e,t,n){return n=null!==n&&void 0!==n?n.concat([e]):null,Uo(4,4,zo.bind(null,t,e),n)}function Wo(){}function Go(e,t){var n=So();t=void 0===t?null:t;var r=n.memoizedState;return null!==r&&null!==t&&_o(t,r[1])?r[0]:(n.memoizedState=[e,t],e)}function Ho(e,t){var n=So();t=void 0===t?null:t;var r=n.memoizedState;return null!==r&&null!==t&&_o(t,r[1])?r[0]:(e=e(),n.memoizedState=[e,t],e)}function Vo(e,t,n){return 0===(21&co)?(e.baseState&&(e.baseState=!1,ks=!0),e.memoizedState=n):(sr(n,t)||(n=vt(),lo.lanes|=n,Du|=n,e.baseState=!0),t)}function Yo(e,t){var n=_t;_t=0!==n&&4>n?n:4,e(!0);var r=uo.transition;uo.transition={};try{e(!1),t()}finally{_t=n,uo.transition=r}}function Ko(){return So().memoizedState}function $o(e,t,n){var r=Qu(e);n={lane:r,action:n,hasEagerState:!1,eagerState:null,next:null},Qo(e)?Xo(t,n):(es(e,t,n),null!==(e=Xu(e,r,n=Ju()))&&ts(e,t,r))}function Jo(e,t,n){var r=Qu(e),i={lane:r,action:n,hasEagerState:!1,eagerState:null,next:null};if(Qo(e))Xo(t,i);else{es(e,t,i);var a=e.alternate;if(0===e.lanes&&(null===a||0===a.lanes)&&null!==(a=t.lastRenderedReducer))try{var o=t.lastRenderedState,s=a(o,n);if(i.hasEagerState=!0,i.eagerState=s,sr(s,o))return}catch(u){}null!==(e=Xu(e,r,n=Ju()))&&ts(e,t,r)}}function Qo(e){var t=e.alternate;return e===lo||null!==t&&t===lo}function Xo(e,t){vo=po=!0;var n=e.pending;null===n?t.next=t:(t.next=n.next,n.next=t),e.pending=t}function es(e,t,n){tc(e)?(null===(e=t.interleaved)?(n.next=n,null===ea?ea=[t]:ea.push(t)):(n.next=e.next,e.next=n),t.interleaved=n):(null===(e=t.pending)?n.next=n:(n.next=e.next,e.next=n),t.pending=n)}function ts(e,t,n){if(0!==(4194240&n)){var r=t.lanes;n|=r&=e.pendingLanes,t.lanes=n,yt(e,n)}}var ns={readContext:Xi,useCallback:yo,useContext:yo,useEffect:yo,useImperativeHandle:yo,useInsertionEffect:yo,useLayoutEffect:yo,useMemo:yo,useReducer:yo,useRef:yo,useState:yo,useDebugValue:yo,useDeferredValue:yo,useTransition:yo,useMutableSource:yo,useSyncExternalStore:yo,useId:yo,unstable_isNewReconciler:!1},rs={readContext:Xi,useCallback:function(e,t){return wo().memoizedState=[e,void 0===t?null:t],e},useContext:Xi,useEffect:Mo,useImperativeHandle:function(e,t,n){return n=null!==n&&void 0!==n?n.concat([e]):null,Lo(4194308,4,zo.bind(null,t,e),n)},useLayoutEffect:function(e,t){return Lo(4194308,4,e,t)},useInsertionEffect:function(e,t){return Lo(4,2,e,t)},useMemo:function(e,t){var n=wo();return t=void 0===t?null:t,e=e(),n.memoizedState=[e,t],e},useReducer:function(e,t,n){var r=wo();return t=void 0!==n?n(t):t,r.memoizedState=r.baseState=t,e={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:e,lastRenderedState:t},r.queue=e,e=e.dispatch=$o.bind(null,lo,e),[r.memoizedState,e]},useRef:function(e){return e={current:e},wo().memoizedState=e},useState:Do,useDebugValue:Wo,useDeferredValue:function(e){return wo().memoizedState=e},useTransition:function(){var e=Do(!1),t=e[0];return e=Yo.bind(null,e[1]),wo().memoizedState=e,[t,e]},useMutableSource:function(){},useSyncExternalStore:function(e,t,n){var r=lo,i=wo();if(Oa){if(void 0===n)throw Error(a(407));n=n()}else{if(n=t(),null===Iu)throw Error(a(349));0!==(30&co)||No(r,t,n)}i.memoizedState=n;var o={value:n,getSnapshot:t};return i.queue=o,Mo(Po.bind(null,r,o,e),[e]),r.flags|=2048,Ao(9,Ro.bind(null,r,o,n,t),void 0,null),n},useId:function(){var e=wo(),t=Iu.identifierPrefix;if(Oa){var n=xa;t=":"+t+"R"+(n=(Ea&~(1<<32-ot(Ea)-1)).toString(32)+n),0<(n=mo++)&&(t+="H"+n.toString(32)),t+=":"}else t=":"+t+"r"+(n=go++).toString(32)+":";return e.memoizedState=t},unstable_isNewReconciler:!1},is={readContext:Xi,useCallback:Go,useContext:Xi,useEffect:jo,useImperativeHandle:Bo,useInsertionEffect:Fo,useLayoutEffect:qo,useMemo:Ho,useReducer:xo,useRef:Zo,useState:function(){return xo(Eo)},useDebugValue:Wo,useDeferredValue:function(e){return Vo(So(),fo.memoizedState,e)},useTransition:function(){return[xo(Eo)[0],So().memoizedState]},useMutableSource:To,useSyncExternalStore:Co,useId:Ko,unstable_isNewReconciler:!1},as={readContext:Xi,useCallback:Go,useContext:Xi,useEffect:jo,useImperativeHandle:Bo,useInsertionEffect:Fo,useLayoutEffect:qo,useMemo:Ho,useReducer:Io,useRef:Zo,useState:function(){return Io(Eo)},useDebugValue:Wo,useDeferredValue:function(e){var t=So();return null===fo?t.memoizedState=e:Vo(t,fo.memoizedState,e)},useTransition:function(){return[Io(Eo)[0],So().memoizedState]},useMutableSource:To,useSyncExternalStore:Co,useId:Ko,unstable_isNewReconciler:!1};function os(e,t){try{var n="",r=t;do{n+=q(r),r=r.return}while(r);var i=n}catch(a){i="\nError generating stack: "+a.message+"\n"+a.stack}return{value:e,source:t,stack:i}}function ss(e,t){try{console.error(t.value)}catch(n){setTimeout((function(){throw n}))}}var us,cs,ls,ds="function"===typeof WeakMap?WeakMap:Map;function fs(e,t,n){(n=ia(-1,n)).tag=3,n.payload={element:null};var r=t.value;return n.callback=function(){qu||(qu=!0,zu=r),ss(0,t)},n}function hs(e,t,n){(n=ia(-1,n)).tag=3;var r=e.type.getDerivedStateFromError;if("function"===typeof r){var i=t.value;n.payload=function(){return r(i)},n.callback=function(){ss(0,t)}}var a=e.stateNode;return null!==a&&"function"===typeof a.componentDidCatch&&(n.callback=function(){ss(0,t),"function"!==typeof r&&(null===Bu?Bu=new Set([this]):Bu.add(this));var e=t.stack;this.componentDidCatch(t.value,{componentStack:null!==e?e:""})}),n}function ps(e,t,n){var r=e.pingCache;if(null===r){r=e.pingCache=new ds;var i=new Set;r.set(t,i)}else void 0===(i=r.get(t))&&(i=new Set,r.set(t,i));i.has(n)||(i.add(n),e=Ec.bind(null,e,t,n),t.then(e,e))}function vs(e){do{var t;if((t=13===e.tag)&&(t=null===(t=e.memoizedState)||null!==t.dehydrated),t)return e;e=e.return}while(null!==e);return null}function ms(e,t,n,r,i){return 0===(1&e.mode)?(e===t?e.flags|=65536:(e.flags|=128,n.flags|=131072,n.flags&=-52805,1===n.tag&&(null===n.alternate?n.tag=17:((t=ia(-1,1)).tag=2,aa(n,t))),n.lanes|=1),e):(e.flags|=65536,e.lanes=i,e)}function gs(e,t){if(!Oa)switch(e.tailMode){case"hidden":t=e.tail;for(var n=null;null!==t;)null!==t.alternate&&(n=t),t=t.sibling;null===n?e.tail=null:n.sibling=null;break;case"collapsed":n=e.tail;for(var r=null;null!==n;)null!==n.alternate&&(r=n),n=n.sibling;null===r?t||null===e.tail?e.tail=null:e.tail.sibling=null:r.sibling=null}}function ys(e){var t=null!==e.alternate&&e.alternate.child===e.child,n=0,r=0;if(t)for(var i=e.child;null!==i;)n|=i.lanes|i.childLanes,r|=14680064&i.subtreeFlags,r|=14680064&i.flags,i.return=e,i=i.sibling;else for(i=e.child;null!==i;)n|=i.lanes|i.childLanes,r|=i.subtreeFlags,r|=i.flags,i.return=e,i=i.sibling;return e.subtreeFlags|=r,e.childLanes=n,t}function _s(e,t,n){var r=t.pendingProps;switch(Na(t),t.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return ys(t),null;case 1:case 17:return Oi(t.type)&&Di(),ys(t),null;case 3:return r=t.stateNode,eo(),xi(Ni),xi(Ci),oo(),r.pendingContext&&(r.context=r.pendingContext,r.pendingContext=null),null!==e&&null!==e.child||(ja(t)?t.flags|=4:null===e||e.memoizedState.isDehydrated&&0===(256&t.flags)||(t.flags|=1024,null!==Da&&(ac(Da),Da=null))),ys(t),null;case 5:no(t);var i=Qa(Ja.current);if(n=t.type,null!==e&&null!=t.stateNode)cs(e,t,n,r),e.ref!==t.ref&&(t.flags|=512,t.flags|=2097152);else{if(!r){if(null===t.stateNode)throw Error(a(166));return ys(t),null}if(e=Qa(Ka.current),ja(t)){r=t.stateNode,n=t.type;var o=t.memoizedProps;switch(r[fi]=t,r[hi]=o,e=0!==(1&t.mode),n){case"dialog":jr("cancel",r),jr("close",r);break;case"iframe":case"object":case"embed":jr("load",r);break;case"video":case"audio":for(i=0;i<Zr.length;i++)jr(Zr[i],r);break;case"source":jr("error",r);break;case"img":case"image":case"link":jr("error",r),jr("load",r);break;case"details":jr("toggle",r);break;case"input":$(r,o),jr("invalid",r);break;case"select":r._wrapperState={wasMultiple:!!o.multiple},jr("invalid",r);break;case"textarea":ie(r,o),jr("invalid",r)}for(var u in ye(n,o),i=null,o)if(o.hasOwnProperty(u)){var c=o[u];"children"===u?"string"===typeof c?r.textContent!==c&&(!0!==o.suppressHydrationWarning&&Qr(r.textContent,c,e),i=["children",c]):"number"===typeof c&&r.textContent!==""+c&&(!0!==o.suppressHydrationWarning&&Qr(r.textContent,c,e),i=["children",""+c]):s.hasOwnProperty(u)&&null!=c&&"onScroll"===u&&jr("scroll",r)}switch(n){case"input":H(r),X(r,o,!0);break;case"textarea":H(r),oe(r);break;case"select":case"option":break;default:"function"===typeof o.onClick&&(r.onclick=Xr)}r=i,t.updateQueue=r,null!==r&&(t.flags|=4)}else{u=9===i.nodeType?i:i.ownerDocument,"http://www.w3.org/1999/xhtml"===e&&(e=se(n)),"http://www.w3.org/1999/xhtml"===e?"script"===n?((e=u.createElement("div")).innerHTML="<script><\/script>",e=e.removeChild(e.firstChild)):"string"===typeof r.is?e=u.createElement(n,{is:r.is}):(e=u.createElement(n),"select"===n&&(u=e,r.multiple?u.multiple=!0:r.size&&(u.size=r.size))):e=u.createElementNS(e,n),e[fi]=t,e[hi]=r,us(e,t),t.stateNode=e;e:{switch(u=_e(n,r),n){case"dialog":jr("cancel",e),jr("close",e),i=r;break;case"iframe":case"object":case"embed":jr("load",e),i=r;break;case"video":case"audio":for(i=0;i<Zr.length;i++)jr(Zr[i],e);i=r;break;case"source":jr("error",e),i=r;break;case"img":case"image":case"link":jr("error",e),jr("load",e),i=r;break;case"details":jr("toggle",e),i=r;break;case"input":$(e,r),i=K(e,r),jr("invalid",e);break;case"option":default:i=r;break;case"select":e._wrapperState={wasMultiple:!!r.multiple},i=U({},r,{value:void 0}),jr("invalid",e);break;case"textarea":ie(e,r),i=re(e,r),jr("invalid",e)}for(o in ye(n,i),c=i)if(c.hasOwnProperty(o)){var l=c[o];"style"===o?me(e,l):"dangerouslySetInnerHTML"===o?null!=(l=l?l.__html:void 0)&&de(e,l):"children"===o?"string"===typeof l?("textarea"!==n||""!==l)&&fe(e,l):"number"===typeof l&&fe(e,""+l):"suppressContentEditableWarning"!==o&&"suppressHydrationWarning"!==o&&"autoFocus"!==o&&(s.hasOwnProperty(o)?null!=l&&"onScroll"===o&&jr("scroll",e):null!=l&&_(e,o,l,u))}switch(n){case"input":H(e),X(e,r,!1);break;case"textarea":H(e),oe(e);break;case"option":null!=r.value&&e.setAttribute("value",""+W(r.value));break;case"select":e.multiple=!!r.multiple,null!=(o=r.value)?ne(e,!!r.multiple,o,!1):null!=r.defaultValue&&ne(e,!!r.multiple,r.defaultValue,!0);break;default:"function"===typeof i.onClick&&(e.onclick=Xr)}switch(n){case"button":case"input":case"select":case"textarea":r=!!r.autoFocus;break e;case"img":r=!0;break e;default:r=!1}}r&&(t.flags|=4)}null!==t.ref&&(t.flags|=512,t.flags|=2097152)}return ys(t),null;case 6:if(e&&null!=t.stateNode)ls(0,t,e.memoizedProps,r);else{if("string"!==typeof r&&null===t.stateNode)throw Error(a(166));if(n=Qa(Ja.current),Qa(Ka.current),ja(t)){if(r=t.stateNode,n=t.memoizedProps,r[fi]=t,(o=r.nodeValue!==n)&&null!==(e=Ra))switch(e.tag){case 3:Qr(r.nodeValue,n,0!==(1&e.mode));break;case 5:!0!==e.memoizedProps.suppressHydrationWarning&&Qr(r.nodeValue,n,0!==(1&e.mode))}o&&(t.flags|=4)}else(r=(9===n.nodeType?n:n.ownerDocument).createTextNode(r))[fi]=t,t.stateNode=r}return ys(t),null;case 13:if(xi(ro),r=t.memoizedState,Oa&&null!==Pa&&0!==(1&t.mode)&&0===(128&t.flags)){for(r=Pa;r;)r=ci(r.nextSibling);return Fa(),t.flags|=98560,t}if(null!==r&&null!==r.dehydrated){if(r=ja(t),null===e){if(!r)throw Error(a(318));if(!(r=null!==(r=t.memoizedState)?r.dehydrated:null))throw Error(a(317));r[fi]=t}else Fa(),0===(128&t.flags)&&(t.memoizedState=null),t.flags|=4;return ys(t),null}return null!==Da&&(ac(Da),Da=null),0!==(128&t.flags)?(t.lanes=n,t):(r=null!==r,n=!1,null===e?ja(t):n=null!==e.memoizedState,r!==n&&r&&(t.child.flags|=8192,0!==(1&t.mode)&&(null===e||0!==(1&ro.current)?0===Pu&&(Pu=3):pc())),null!==t.updateQueue&&(t.flags|=4),ys(t),null);case 4:return eo(),null===e&&zr(t.stateNode.containerInfo),ys(t),null;case 10:return $i(t.type._context),ys(t),null;case 19:if(xi(ro),null===(o=t.memoizedState))return ys(t),null;if(r=0!==(128&t.flags),null===(u=o.rendering))if(r)gs(o,!1);else{if(0!==Pu||null!==e&&0!==(128&e.flags))for(e=t.child;null!==e;){if(null!==(u=io(e))){for(t.flags|=128,gs(o,!1),null!==(r=u.updateQueue)&&(t.updateQueue=r,t.flags|=4),t.subtreeFlags=0,r=n,n=t.child;null!==n;)e=r,(o=n).flags&=14680066,null===(u=o.alternate)?(o.childLanes=0,o.lanes=e,o.child=null,o.subtreeFlags=0,o.memoizedProps=null,o.memoizedState=null,o.updateQueue=null,o.dependencies=null,o.stateNode=null):(o.childLanes=u.childLanes,o.lanes=u.lanes,o.child=u.child,o.subtreeFlags=0,o.deletions=null,o.memoizedProps=u.memoizedProps,o.memoizedState=u.memoizedState,o.updateQueue=u.updateQueue,o.type=u.type,e=u.dependencies,o.dependencies=null===e?null:{lanes:e.lanes,firstContext:e.firstContext}),n=n.sibling;return Ii(ro,1&ro.current|2),t.child}e=e.sibling}null!==o.tail&&Je()>ju&&(t.flags|=128,r=!0,gs(o,!1),t.lanes=4194304)}else{if(!r)if(null!==(e=io(u))){if(t.flags|=128,r=!0,null!==(n=e.updateQueue)&&(t.updateQueue=n,t.flags|=4),gs(o,!0),null===o.tail&&"hidden"===o.tailMode&&!u.alternate&&!Oa)return ys(t),null}else 2*Je()-o.renderingStartTime>ju&&1073741824!==n&&(t.flags|=128,r=!0,gs(o,!1),t.lanes=4194304);o.isBackwards?(u.sibling=t.child,t.child=u):(null!==(n=o.last)?n.sibling=u:t.child=u,o.last=u)}return null!==o.tail?(t=o.tail,o.rendering=t,o.tail=t.sibling,o.renderingStartTime=Je(),t.sibling=null,n=ro.current,Ii(ro,r?1&n|2:1&n),t):(ys(t),null);case 22:case 23:return lc(),r=null!==t.memoizedState,null!==e&&null!==e.memoizedState!==r&&(t.flags|=8192),r&&0!==(1&t.mode)?0!==(1073741824&Nu)&&(ys(t),6&t.subtreeFlags&&(t.flags|=8192)):ys(t),null;case 24:case 25:return null}throw Error(a(156,t.tag))}us=function(e,t){for(var n=t.child;null!==n;){if(5===n.tag||6===n.tag)e.appendChild(n.stateNode);else if(4!==n.tag&&null!==n.child){n.child.return=n,n=n.child;continue}if(n===t)break;for(;null===n.sibling;){if(null===n.return||n.return===t)return;n=n.return}n.sibling.return=n.return,n=n.sibling}},cs=function(e,t,n,r){var i=e.memoizedProps;if(i!==r){e=t.stateNode,Qa(Ka.current);var a,o=null;switch(n){case"input":i=K(e,i),r=K(e,r),o=[];break;case"select":i=U({},i,{value:void 0}),r=U({},r,{value:void 0}),o=[];break;case"textarea":i=re(e,i),r=re(e,r),o=[];break;default:"function"!==typeof i.onClick&&"function"===typeof r.onClick&&(e.onclick=Xr)}for(l in ye(n,r),n=null,i)if(!r.hasOwnProperty(l)&&i.hasOwnProperty(l)&&null!=i[l])if("style"===l){var u=i[l];for(a in u)u.hasOwnProperty(a)&&(n||(n={}),n[a]="")}else"dangerouslySetInnerHTML"!==l&&"children"!==l&&"suppressContentEditableWarning"!==l&&"suppressHydrationWarning"!==l&&"autoFocus"!==l&&(s.hasOwnProperty(l)?o||(o=[]):(o=o||[]).push(l,null));for(l in r){var c=r[l];if(u=null!=i?i[l]:void 0,r.hasOwnProperty(l)&&c!==u&&(null!=c||null!=u))if("style"===l)if(u){for(a in u)!u.hasOwnProperty(a)||c&&c.hasOwnProperty(a)||(n||(n={}),n[a]="");for(a in c)c.hasOwnProperty(a)&&u[a]!==c[a]&&(n||(n={}),n[a]=c[a])}else n||(o||(o=[]),o.push(l,n)),n=c;else"dangerouslySetInnerHTML"===l?(c=c?c.__html:void 0,u=u?u.__html:void 0,null!=c&&u!==c&&(o=o||[]).push(l,c)):"children"===l?"string"!==typeof c&&"number"!==typeof c||(o=o||[]).push(l,""+c):"suppressContentEditableWarning"!==l&&"suppressHydrationWarning"!==l&&(s.hasOwnProperty(l)?(null!=c&&"onScroll"===l&&jr("scroll",e),o||u===c||(o=[])):(o=o||[]).push(l,c))}n&&(o=o||[]).push("style",n);var l=o;(t.updateQueue=l)&&(t.flags|=4)}},ls=function(e,t,n,r){n!==r&&(t.flags|=4)};var bs=b.ReactCurrentOwner,ks=!1;function ws(e,t,n,r){t.child=null===e?Va(t,null,n,r):Ha(t,e.child,n,r)}function Ss(e,t,n,r,i){n=n.render;var a=t.ref;return Qi(t,i),r=bo(e,t,n,r,a,i),n=ko(),null===e||ks?(Oa&&n&&Ca(t),t.flags|=1,ws(e,t,r,i),t.child):(t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~i,Ws(e,t,i))}function Es(e,t,n,r,i){if(null===e){var a=n.type;return"function"!==typeof a||Pc(a)||void 0!==a.defaultProps||null!==n.compare||void 0!==n.defaultProps?((e=Dc(n.type,null,r,t,t.mode,i)).ref=t.ref,e.return=t,t.child=e):(t.tag=15,t.type=a,xs(e,t,a,r,i))}if(a=e.child,0===(e.lanes&i)){var o=a.memoizedProps;if((n=null!==(n=n.compare)?n:ur)(o,r)&&e.ref===t.ref)return Ws(e,t,i)}return t.flags|=1,(e=Oc(a,r)).ref=t.ref,e.return=t,t.child=e}function xs(e,t,n,r,i){if(null!==e){var a=e.memoizedProps;if(ur(a,r)&&e.ref===t.ref){if(ks=!1,t.pendingProps=r=a,0===(e.lanes&i))return t.lanes=e.lanes,Ws(e,t,i);0!==(131072&e.flags)&&(ks=!0)}}return Cs(e,t,n,r,i)}function Is(e,t,n){var r=t.pendingProps,i=r.children,a=null!==e?e.memoizedState:null;if("hidden"===r.mode)if(0===(1&t.mode))t.memoizedState={baseLanes:0,cachePool:null,transitions:null},Ii(Ru,Nu),Nu|=n;else{if(0===(1073741824&n))return e=null!==a?a.baseLanes|n:n,t.lanes=t.childLanes=1073741824,t.memoizedState={baseLanes:e,cachePool:null,transitions:null},t.updateQueue=null,Ii(Ru,Nu),Nu|=e,null;t.memoizedState={baseLanes:0,cachePool:null,transitions:null},r=null!==a?a.baseLanes:n,Ii(Ru,Nu),Nu|=r}else null!==a?(r=a.baseLanes|n,t.memoizedState=null):r=n,Ii(Ru,Nu),Nu|=r;return ws(e,t,i,n),t.child}function Ts(e,t){var n=t.ref;(null===e&&null!==n||null!==e&&e.ref!==n)&&(t.flags|=512,t.flags|=2097152)}function Cs(e,t,n,r,i){var a=Oi(n)?Ri:Ci.current;return a=Pi(t,a),Qi(t,i),n=bo(e,t,n,r,a,i),r=ko(),null===e||ks?(Oa&&r&&Ca(t),t.flags|=1,ws(e,t,n,i),t.child):(t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~i,Ws(e,t,i))}function Ns(e,t,n,r,i){if(Oi(n)){var a=!0;Li(t)}else a=!1;if(Qi(t,i),null===t.stateNode)null!==e&&(e.alternate=null,t.alternate=null,t.flags|=2),pa(t,n,r),ma(t,n,r,i),r=!0;else if(null===e){var o=t.stateNode,s=t.memoizedProps;o.props=s;var u=o.context,c=n.contextType;"object"===typeof c&&null!==c?c=Xi(c):c=Pi(t,c=Oi(n)?Ri:Ci.current);var l=n.getDerivedStateFromProps,d="function"===typeof l||"function"===typeof o.getSnapshotBeforeUpdate;d||"function"!==typeof o.UNSAFE_componentWillReceiveProps&&"function"!==typeof o.componentWillReceiveProps||(s!==r||u!==c)&&va(t,o,r,c),ta=!1;var f=t.memoizedState;o.state=f,ua(t,r,o,i),u=t.memoizedState,s!==r||f!==u||Ni.current||ta?("function"===typeof l&&(da(t,n,l,r),u=t.memoizedState),(s=ta||ha(t,n,s,r,f,u,c))?(d||"function"!==typeof o.UNSAFE_componentWillMount&&"function"!==typeof o.componentWillMount||("function"===typeof o.componentWillMount&&o.componentWillMount(),"function"===typeof o.UNSAFE_componentWillMount&&o.UNSAFE_componentWillMount()),"function"===typeof o.componentDidMount&&(t.flags|=4194308)):("function"===typeof o.componentDidMount&&(t.flags|=4194308),t.memoizedProps=r,t.memoizedState=u),o.props=r,o.state=u,o.context=c,r=s):("function"===typeof o.componentDidMount&&(t.flags|=4194308),r=!1)}else{o=t.stateNode,ra(e,t),s=t.memoizedProps,c=t.type===t.elementType?s:Wi(t.type,s),o.props=c,d=t.pendingProps,f=o.context,"object"===typeof(u=n.contextType)&&null!==u?u=Xi(u):u=Pi(t,u=Oi(n)?Ri:Ci.current);var h=n.getDerivedStateFromProps;(l="function"===typeof h||"function"===typeof o.getSnapshotBeforeUpdate)||"function"!==typeof o.UNSAFE_componentWillReceiveProps&&"function"!==typeof o.componentWillReceiveProps||(s!==d||f!==u)&&va(t,o,r,u),ta=!1,f=t.memoizedState,o.state=f,ua(t,r,o,i);var p=t.memoizedState;s!==d||f!==p||Ni.current||ta?("function"===typeof h&&(da(t,n,h,r),p=t.memoizedState),(c=ta||ha(t,n,c,r,f,p,u)||!1)?(l||"function"!==typeof o.UNSAFE_componentWillUpdate&&"function"!==typeof o.componentWillUpdate||("function"===typeof o.componentWillUpdate&&o.componentWillUpdate(r,p,u),"function"===typeof o.UNSAFE_componentWillUpdate&&o.UNSAFE_componentWillUpdate(r,p,u)),"function"===typeof o.componentDidUpdate&&(t.flags|=4),"function"===typeof o.getSnapshotBeforeUpdate&&(t.flags|=1024)):("function"!==typeof o.componentDidUpdate||s===e.memoizedProps&&f===e.memoizedState||(t.flags|=4),"function"!==typeof o.getSnapshotBeforeUpdate||s===e.memoizedProps&&f===e.memoizedState||(t.flags|=1024),t.memoizedProps=r,t.memoizedState=p),o.props=r,o.state=p,o.context=u,r=c):("function"!==typeof o.componentDidUpdate||s===e.memoizedProps&&f===e.memoizedState||(t.flags|=4),"function"!==typeof o.getSnapshotBeforeUpdate||s===e.memoizedProps&&f===e.memoizedState||(t.flags|=1024),r=!1)}return Rs(e,t,n,r,a,i)}function Rs(e,t,n,r,i,a){Ts(e,t);var o=0!==(128&t.flags);if(!r&&!o)return i&&Ui(t,n,!1),Ws(e,t,a);r=t.stateNode,bs.current=t;var s=o&&"function"!==typeof n.getDerivedStateFromError?null:r.render();return t.flags|=1,null!==e&&o?(t.child=Ha(t,e.child,null,a),t.child=Ha(t,null,s,a)):ws(e,t,s,a),t.memoizedState=r.state,i&&Ui(t,n,!0),t.child}function Ps(e){var t=e.stateNode;t.pendingContext?Ai(0,t.pendingContext,t.pendingContext!==t.context):t.context&&Ai(0,t.context,!1),Xa(e,t.containerInfo)}function Os(e,t,n,r,i){return Fa(),qa(i),t.flags|=256,ws(e,t,n,r),t.child}var Ds={dehydrated:null,treeContext:null,retryLane:0};function As(e){return{baseLanes:e,cachePool:null,transitions:null}}function Zs(e,t){return{baseLanes:e.baseLanes|t,cachePool:null,transitions:e.transitions}}function Ls(e,t,n){var r,i=t.pendingProps,o=ro.current,s=!1,u=0!==(128&t.flags);if((r=u)||(r=(null===e||null!==e.memoizedState)&&0!==(2&o)),r?(s=!0,t.flags&=-129):null!==e&&null===e.memoizedState||(o|=1),Ii(ro,1&o),null===e)return Ua(t),null!==(e=t.memoizedState)&&null!==(e=e.dehydrated)?(0===(1&t.mode)?t.lanes=1:"$!"===e.data?t.lanes=8:t.lanes=1073741824,null):(o=i.children,e=i.fallback,s?(i=t.mode,s=t.child,o={mode:"hidden",children:o},0===(1&i)&&null!==s?(s.childLanes=0,s.pendingProps=o):s=Zc(o,i,0,null),e=Ac(e,i,n,null),s.return=t,e.return=t,s.sibling=e,t.child=s,t.child.memoizedState=As(n),t.memoizedState=Ds,e):Us(t,o));if(null!==(o=e.memoizedState)){if(null!==(r=o.dehydrated)){if(u)return 256&t.flags?(t.flags&=-257,Fs(e,t,n,Error(a(422)))):null!==t.memoizedState?(t.child=e.child,t.flags|=128,null):(s=i.fallback,o=t.mode,i=Zc({mode:"visible",children:i.children},o,0,null),(s=Ac(s,o,n,null)).flags|=2,i.return=t,s.return=t,i.sibling=s,t.child=i,0!==(1&t.mode)&&Ha(t,e.child,null,n),t.child.memoizedState=As(n),t.memoizedState=Ds,s);if(0===(1&t.mode))t=Fs(e,t,n,null);else if("$!"===r.data)t=Fs(e,t,n,Error(a(419)));else if(i=0!==(n&e.childLanes),ks||i){if(null!==(i=Iu)){switch(n&-n){case 4:s=2;break;case 16:s=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:s=32;break;case 536870912:s=268435456;break;default:s=0}0!==(i=0!==(s&(i.suspendedLanes|n))?0:s)&&i!==o.retryLane&&(o.retryLane=i,Xu(e,i,-1))}pc(),t=Fs(e,t,n,Error(a(421)))}else"$?"===r.data?(t.flags|=128,t.child=e.child,t=Ic.bind(null,e),r._reactRetry=t,t=null):(n=o.treeContext,Pa=ci(r.nextSibling),Ra=t,Oa=!0,Da=null,null!==n&&(ka[wa++]=Ea,ka[wa++]=xa,ka[wa++]=Sa,Ea=n.id,xa=n.overflow,Sa=t),(t=Us(t,t.pendingProps.children)).flags|=4096);return t}return s?(i=js(e,t,i.children,i.fallback,n),s=t.child,o=e.child.memoizedState,s.memoizedState=null===o?As(n):Zs(o,n),s.childLanes=e.childLanes&~n,t.memoizedState=Ds,i):(n=Ms(e,t,i.children,n),t.memoizedState=null,n)}return s?(i=js(e,t,i.children,i.fallback,n),s=t.child,o=e.child.memoizedState,s.memoizedState=null===o?As(n):Zs(o,n),s.childLanes=e.childLanes&~n,t.memoizedState=Ds,i):(n=Ms(e,t,i.children,n),t.memoizedState=null,n)}function Us(e,t){return(t=Zc({mode:"visible",children:t},e.mode,0,null)).return=e,e.child=t}function Ms(e,t,n,r){var i=e.child;return e=i.sibling,n=Oc(i,{mode:"visible",children:n}),0===(1&t.mode)&&(n.lanes=r),n.return=t,n.sibling=null,null!==e&&(null===(r=t.deletions)?(t.deletions=[e],t.flags|=16):r.push(e)),t.child=n}function js(e,t,n,r,i){var a=t.mode,o=(e=e.child).sibling,s={mode:"hidden",children:n};return 0===(1&a)&&t.child!==e?((n=t.child).childLanes=0,n.pendingProps=s,t.deletions=null):(n=Oc(e,s)).subtreeFlags=14680064&e.subtreeFlags,null!==o?r=Oc(o,r):(r=Ac(r,a,i,null)).flags|=2,r.return=t,n.return=t,n.sibling=r,t.child=n,r}function Fs(e,t,n,r){return null!==r&&qa(r),Ha(t,e.child,null,n),(e=Us(t,t.pendingProps.children)).flags|=2,t.memoizedState=null,e}function qs(e,t,n){e.lanes|=t;var r=e.alternate;null!==r&&(r.lanes|=t),Ji(e.return,t,n)}function zs(e,t,n,r,i){var a=e.memoizedState;null===a?e.memoizedState={isBackwards:t,rendering:null,renderingStartTime:0,last:r,tail:n,tailMode:i}:(a.isBackwards=t,a.rendering=null,a.renderingStartTime=0,a.last=r,a.tail=n,a.tailMode=i)}function Bs(e,t,n){var r=t.pendingProps,i=r.revealOrder,a=r.tail;if(ws(e,t,r.children,n),0!==(2&(r=ro.current)))r=1&r|2,t.flags|=128;else{if(null!==e&&0!==(128&e.flags))e:for(e=t.child;null!==e;){if(13===e.tag)null!==e.memoizedState&&qs(e,n,t);else if(19===e.tag)qs(e,n,t);else if(null!==e.child){e.child.return=e,e=e.child;continue}if(e===t)break e;for(;null===e.sibling;){if(null===e.return||e.return===t)break e;e=e.return}e.sibling.return=e.return,e=e.sibling}r&=1}if(Ii(ro,r),0===(1&t.mode))t.memoizedState=null;else switch(i){case"forwards":for(n=t.child,i=null;null!==n;)null!==(e=n.alternate)&&null===io(e)&&(i=n),n=n.sibling;null===(n=i)?(i=t.child,t.child=null):(i=n.sibling,n.sibling=null),zs(t,!1,i,n,a);break;case"backwards":for(n=null,i=t.child,t.child=null;null!==i;){if(null!==(e=i.alternate)&&null===io(e)){t.child=i;break}e=i.sibling,i.sibling=n,n=i,i=e}zs(t,!0,n,null,a);break;case"together":zs(t,!1,null,null,void 0);break;default:t.memoizedState=null}return t.child}function Ws(e,t,n){if(null!==e&&(t.dependencies=e.dependencies),Du|=t.lanes,0===(n&t.childLanes))return null;if(null!==e&&t.child!==e.child)throw Error(a(153));if(null!==t.child){for(n=Oc(e=t.child,e.pendingProps),t.child=n,n.return=t;null!==e.sibling;)e=e.sibling,(n=n.sibling=Oc(e,e.pendingProps)).return=t;n.sibling=null}return t.child}function Gs(e,t){switch(Na(t),t.tag){case 1:return Oi(t.type)&&Di(),65536&(e=t.flags)?(t.flags=-65537&e|128,t):null;case 3:return eo(),xi(Ni),xi(Ci),oo(),0!==(65536&(e=t.flags))&&0===(128&e)?(t.flags=-65537&e|128,t):null;case 5:return no(t),null;case 13:if(xi(ro),null!==(e=t.memoizedState)&&null!==e.dehydrated){if(null===t.alternate)throw Error(a(340));Fa()}return 65536&(e=t.flags)?(t.flags=-65537&e|128,t):null;case 19:return xi(ro),null;case 4:return eo(),null;case 10:return $i(t.type._context),null;case 22:case 23:return lc(),null;default:return null}}var Hs=!1,Vs=!1,Ys="function"===typeof WeakSet?WeakSet:Set,Ks=null;function $s(e,t){var n=e.ref;if(null!==n)if("function"===typeof n)try{n(null)}catch(r){Sc(e,t,r)}else n.current=null}function Js(e,t,n){try{n()}catch(r){Sc(e,t,r)}}var Qs=!1;function Xs(e,t,n){var r=t.updateQueue;if(null!==(r=null!==r?r.lastEffect:null)){var i=r=r.next;do{if((i.tag&e)===e){var a=i.destroy;i.destroy=void 0,void 0!==a&&Js(t,n,a)}i=i.next}while(i!==r)}}function eu(e,t){if(null!==(t=null!==(t=t.updateQueue)?t.lastEffect:null)){var n=t=t.next;do{if((n.tag&e)===e){var r=n.create;n.destroy=r()}n=n.next}while(n!==t)}}function tu(e){var t=e.ref;if(null!==t){var n=e.stateNode;e.tag,e=n,"function"===typeof t?t(e):t.current=e}}function nu(e){var t=e.alternate;null!==t&&(e.alternate=null,nu(t)),e.child=null,e.deletions=null,e.sibling=null,5===e.tag&&(null!==(t=e.stateNode)&&(delete t[fi],delete t[hi],delete t[vi],delete t[mi],delete t[gi])),e.stateNode=null,e.return=null,e.dependencies=null,e.memoizedProps=null,e.memoizedState=null,e.pendingProps=null,e.stateNode=null,e.updateQueue=null}function ru(e){return 5===e.tag||3===e.tag||4===e.tag}function iu(e){e:for(;;){for(;null===e.sibling;){if(null===e.return||ru(e.return))return null;e=e.return}for(e.sibling.return=e.return,e=e.sibling;5!==e.tag&&6!==e.tag&&18!==e.tag;){if(2&e.flags)continue e;if(null===e.child||4===e.tag)continue e;e.child.return=e,e=e.child}if(!(2&e.flags))return e.stateNode}}function au(e,t,n){var r=e.tag;if(5===r||6===r)e=e.stateNode,t?8===n.nodeType?n.parentNode.insertBefore(e,t):n.insertBefore(e,t):(8===n.nodeType?(t=n.parentNode).insertBefore(e,n):(t=n).appendChild(e),null!==(n=n._reactRootContainer)&&void 0!==n||null!==t.onclick||(t.onclick=Xr));else if(4!==r&&null!==(e=e.child))for(au(e,t,n),e=e.sibling;null!==e;)au(e,t,n),e=e.sibling}function ou(e,t,n){var r=e.tag;if(5===r||6===r)e=e.stateNode,t?n.insertBefore(e,t):n.appendChild(e);else if(4!==r&&null!==(e=e.child))for(ou(e,t,n),e=e.sibling;null!==e;)ou(e,t,n),e=e.sibling}var su=null,uu=!1;function cu(e,t,n){for(n=n.child;null!==n;)lu(e,t,n),n=n.sibling}function lu(e,t,n){if(at&&"function"===typeof at.onCommitFiberUnmount)try{at.onCommitFiberUnmount(it,n)}catch(s){}switch(n.tag){case 5:Vs||$s(n,t);case 6:var r=su,i=uu;su=null,cu(e,t,n),uu=i,null!==(su=r)&&(uu?(e=su,n=n.stateNode,8===e.nodeType?e.parentNode.removeChild(n):e.removeChild(n)):su.removeChild(n.stateNode));break;case 18:null!==su&&(uu?(e=su,n=n.stateNode,8===e.nodeType?ui(e.parentNode,n):1===e.nodeType&&ui(e,n),zt(e)):ui(su,n.stateNode));break;case 4:r=su,i=uu,su=n.stateNode.containerInfo,uu=!0,cu(e,t,n),su=r,uu=i;break;case 0:case 11:case 14:case 15:if(!Vs&&(null!==(r=n.updateQueue)&&null!==(r=r.lastEffect))){i=r=r.next;do{var a=i,o=a.destroy;a=a.tag,void 0!==o&&(0!==(2&a)||0!==(4&a))&&Js(n,t,o),i=i.next}while(i!==r)}cu(e,t,n);break;case 1:if(!Vs&&($s(n,t),"function"===typeof(r=n.stateNode).componentWillUnmount))try{r.props=n.memoizedProps,r.state=n.memoizedState,r.componentWillUnmount()}catch(s){Sc(n,t,s)}cu(e,t,n);break;case 21:cu(e,t,n);break;case 22:1&n.mode?(Vs=(r=Vs)||null!==n.memoizedState,cu(e,t,n),Vs=r):cu(e,t,n);break;default:cu(e,t,n)}}function du(e){var t=e.updateQueue;if(null!==t){e.updateQueue=null;var n=e.stateNode;null===n&&(n=e.stateNode=new Ys),t.forEach((function(t){var r=Tc.bind(null,e,t);n.has(t)||(n.add(t),t.then(r,r))}))}}function fu(e,t){var n=t.deletions;if(null!==n)for(var r=0;r<n.length;r++){var i=n[r];try{var o=e,s=t,u=s;e:for(;null!==u;){switch(u.tag){case 5:su=u.stateNode,uu=!1;break e;case 3:case 4:su=u.stateNode.containerInfo,uu=!0;break e}u=u.return}if(null===su)throw Error(a(160));lu(o,s,i),su=null,uu=!1;var c=i.alternate;null!==c&&(c.return=null),i.return=null}catch(l){Sc(i,t,l)}}if(12854&t.subtreeFlags)for(t=t.child;null!==t;)hu(t,e),t=t.sibling}function hu(e,t){var n=e.alternate,r=e.flags;switch(e.tag){case 0:case 11:case 14:case 15:if(fu(t,e),pu(e),4&r){try{Xs(3,e,e.return),eu(3,e)}catch(v){Sc(e,e.return,v)}try{Xs(5,e,e.return)}catch(v){Sc(e,e.return,v)}}break;case 1:fu(t,e),pu(e),512&r&&null!==n&&$s(n,n.return);break;case 5:if(fu(t,e),pu(e),512&r&&null!==n&&$s(n,n.return),32&e.flags){var i=e.stateNode;try{fe(i,"")}catch(v){Sc(e,e.return,v)}}if(4&r&&null!=(i=e.stateNode)){var o=e.memoizedProps,s=null!==n?n.memoizedProps:o,u=e.type,c=e.updateQueue;if(e.updateQueue=null,null!==c)try{"input"===u&&"radio"===o.type&&null!=o.name&&J(i,o),_e(u,s);var l=_e(u,o);for(s=0;s<c.length;s+=2){var d=c[s],f=c[s+1];"style"===d?me(i,f):"dangerouslySetInnerHTML"===d?de(i,f):"children"===d?fe(i,f):_(i,d,f,l)}switch(u){case"input":Q(i,o);break;case"textarea":ae(i,o);break;case"select":var h=i._wrapperState.wasMultiple;i._wrapperState.wasMultiple=!!o.multiple;var p=o.value;null!=p?ne(i,!!o.multiple,p,!1):h!==!!o.multiple&&(null!=o.defaultValue?ne(i,!!o.multiple,o.defaultValue,!0):ne(i,!!o.multiple,o.multiple?[]:"",!1))}i[hi]=o}catch(v){Sc(e,e.return,v)}}break;case 6:if(fu(t,e),pu(e),4&r){if(null===e.stateNode)throw Error(a(162));l=e.stateNode,d=e.memoizedProps;try{l.nodeValue=d}catch(v){Sc(e,e.return,v)}}break;case 3:if(fu(t,e),pu(e),4&r&&null!==n&&n.memoizedState.isDehydrated)try{zt(t.containerInfo)}catch(v){Sc(e,e.return,v)}break;case 4:default:fu(t,e),pu(e);break;case 13:fu(t,e),pu(e),8192&(l=e.child).flags&&null!==l.memoizedState&&(null===l.alternate||null===l.alternate.memoizedState)&&(Mu=Je()),4&r&&du(e);break;case 22:if(l=null!==n&&null!==n.memoizedState,1&e.mode?(Vs=(d=Vs)||l,fu(t,e),Vs=d):fu(t,e),pu(e),8192&r){d=null!==e.memoizedState;e:for(f=null,h=e;;){if(5===h.tag){if(null===f){f=h;try{i=h.stateNode,d?"function"===typeof(o=i.style).setProperty?o.setProperty("display","none","important"):o.display="none":(u=h.stateNode,s=void 0!==(c=h.memoizedProps.style)&&null!==c&&c.hasOwnProperty("display")?c.display:null,u.style.display=ve("display",s))}catch(v){Sc(e,e.return,v)}}}else if(6===h.tag){if(null===f)try{h.stateNode.nodeValue=d?"":h.memoizedProps}catch(v){Sc(e,e.return,v)}}else if((22!==h.tag&&23!==h.tag||null===h.memoizedState||h===e)&&null!==h.child){h.child.return=h,h=h.child;continue}if(h===e)break e;for(;null===h.sibling;){if(null===h.return||h.return===e)break e;f===h&&(f=null),h=h.return}f===h&&(f=null),h.sibling.return=h.return,h=h.sibling}if(d&&!l&&0!==(1&e.mode))for(Ks=e,e=e.child;null!==e;){for(l=Ks=e;null!==Ks;){switch(f=(d=Ks).child,d.tag){case 0:case 11:case 14:case 15:Xs(4,d,d.return);break;case 1:if($s(d,d.return),"function"===typeof(o=d.stateNode).componentWillUnmount){h=d,p=d.return;try{i=h,o.props=i.memoizedProps,o.state=i.memoizedState,o.componentWillUnmount()}catch(v){Sc(h,p,v)}}break;case 5:$s(d,d.return);break;case 22:if(null!==d.memoizedState){yu(l);continue}}null!==f?(f.return=d,Ks=f):yu(l)}e=e.sibling}}break;case 19:fu(t,e),pu(e),4&r&&du(e);case 21:}}function pu(e){var t=e.flags;if(2&t){try{e:{for(var n=e.return;null!==n;){if(ru(n)){var r=n;break e}n=n.return}throw Error(a(160))}switch(r.tag){case 5:var i=r.stateNode;32&r.flags&&(fe(i,""),r.flags&=-33),ou(e,iu(e),i);break;case 3:case 4:var o=r.stateNode.containerInfo;au(e,iu(e),o);break;default:throw Error(a(161))}}catch(s){Sc(e,e.return,s)}e.flags&=-3}4096&t&&(e.flags&=-4097)}function vu(e,t,n){Ks=e,mu(e,t,n)}function mu(e,t,n){for(var r=0!==(1&e.mode);null!==Ks;){var i=Ks,a=i.child;if(22===i.tag&&r){var o=null!==i.memoizedState||Hs;if(!o){var s=i.alternate,u=null!==s&&null!==s.memoizedState||Vs;s=Hs;var c=Vs;if(Hs=o,(Vs=u)&&!c)for(Ks=i;null!==Ks;)u=(o=Ks).child,22===o.tag&&null!==o.memoizedState?_u(i):null!==u?(u.return=o,Ks=u):_u(i);for(;null!==a;)Ks=a,mu(a,t,n),a=a.sibling;Ks=i,Hs=s,Vs=c}gu(e)}else 0!==(8772&i.subtreeFlags)&&null!==a?(a.return=i,Ks=a):gu(e)}}function gu(e){for(;null!==Ks;){var t=Ks;if(0!==(8772&t.flags)){var n=t.alternate;try{if(0!==(8772&t.flags))switch(t.tag){case 0:case 11:case 15:Vs||eu(5,t);break;case 1:var r=t.stateNode;if(4&t.flags&&!Vs)if(null===n)r.componentDidMount();else{var i=t.elementType===t.type?n.memoizedProps:Wi(t.type,n.memoizedProps);r.componentDidUpdate(i,n.memoizedState,r.__reactInternalSnapshotBeforeUpdate)}var o=t.updateQueue;null!==o&&ca(t,o,r);break;case 3:var s=t.updateQueue;if(null!==s){if(n=null,null!==t.child)switch(t.child.tag){case 5:case 1:n=t.child.stateNode}ca(t,s,n)}break;case 5:var u=t.stateNode;if(null===n&&4&t.flags){n=u;var c=t.memoizedProps;switch(t.type){case"button":case"input":case"select":case"textarea":c.autoFocus&&n.focus();break;case"img":c.src&&(n.src=c.src)}}break;case 6:case 4:case 12:case 19:case 17:case 21:case 22:case 23:break;case 13:if(null===t.memoizedState){var l=t.alternate;if(null!==l){var d=l.memoizedState;if(null!==d){var f=d.dehydrated;null!==f&&zt(f)}}}break;default:throw Error(a(163))}Vs||512&t.flags&&tu(t)}catch(h){Sc(t,t.return,h)}}if(t===e){Ks=null;break}if(null!==(n=t.sibling)){n.return=t.return,Ks=n;break}Ks=t.return}}function yu(e){for(;null!==Ks;){var t=Ks;if(t===e){Ks=null;break}var n=t.sibling;if(null!==n){n.return=t.return,Ks=n;break}Ks=t.return}}function _u(e){for(;null!==Ks;){var t=Ks;try{switch(t.tag){case 0:case 11:case 15:var n=t.return;try{eu(4,t)}catch(u){Sc(t,n,u)}break;case 1:var r=t.stateNode;if("function"===typeof r.componentDidMount){var i=t.return;try{r.componentDidMount()}catch(u){Sc(t,i,u)}}var a=t.return;try{tu(t)}catch(u){Sc(t,a,u)}break;case 5:var o=t.return;try{tu(t)}catch(u){Sc(t,o,u)}}}catch(u){Sc(t,t.return,u)}if(t===e){Ks=null;break}var s=t.sibling;if(null!==s){s.return=t.return,Ks=s;break}Ks=t.return}}var bu,ku=Math.ceil,wu=b.ReactCurrentDispatcher,Su=b.ReactCurrentOwner,Eu=b.ReactCurrentBatchConfig,xu=0,Iu=null,Tu=null,Cu=0,Nu=0,Ru=Ei(0),Pu=0,Ou=null,Du=0,Au=0,Zu=0,Lu=null,Uu=null,Mu=0,ju=1/0,Fu=null,qu=!1,zu=null,Bu=null,Wu=!1,Gu=null,Hu=0,Vu=0,Yu=null,Ku=-1,$u=0;function Ju(){return 0!==(6&xu)?Je():-1!==Ku?Ku:Ku=Je()}function Qu(e){return 0===(1&e.mode)?1:0!==(2&xu)&&0!==Cu?Cu&-Cu:null!==Bi.transition?(0===$u&&($u=vt()),$u):0!==(e=_t)?e:e=void 0===(e=window.event)?16:$t(e.type)}function Xu(e,t,n){if(50<Vu)throw Vu=0,Yu=null,Error(a(185));var r=ec(e,t);return null===r?null:(gt(r,t,n),0!==(2&xu)&&r===Iu||(r===Iu&&(0===(2&xu)&&(Au|=t),4===Pu&&oc(r,Cu)),nc(r,n),1===t&&0===xu&&0===(1&e.mode)&&(ju=Je()+500,ji&&zi())),r)}function ec(e,t){e.lanes|=t;var n=e.alternate;for(null!==n&&(n.lanes|=t),n=e,e=e.return;null!==e;)e.childLanes|=t,null!==(n=e.alternate)&&(n.childLanes|=t),n=e,e=e.return;return 3===n.tag?n.stateNode:null}function tc(e){return(null!==Iu||null!==ea)&&0!==(1&e.mode)&&0===(2&xu)}function nc(e,t){var n=e.callbackNode;!function(e,t){for(var n=e.suspendedLanes,r=e.pingedLanes,i=e.expirationTimes,a=e.pendingLanes;0<a;){var o=31-ot(a),s=1<<o,u=i[o];-1===u?0!==(s&n)&&0===(s&r)||(i[o]=ht(s,t)):u<=t&&(e.expiredLanes|=s),a&=~s}}(e,t);var r=ft(e,e===Iu?Cu:0);if(0===r)null!==n&&Ye(n),e.callbackNode=null,e.callbackPriority=0;else if(t=r&-r,e.callbackPriority!==t){if(null!=n&&Ye(n),1===t)0===e.tag?function(e){ji=!0,qi(e)}(sc.bind(null,e)):qi(sc.bind(null,e)),oi((function(){0===xu&&zi()})),n=null;else{switch(bt(r)){case 1:n=Xe;break;case 4:n=et;break;case 16:default:n=tt;break;case 536870912:n=rt}n=Cc(n,rc.bind(null,e))}e.callbackPriority=t,e.callbackNode=n}}function rc(e,t){if(Ku=-1,$u=0,0!==(6&xu))throw Error(a(327));var n=e.callbackNode;if(kc()&&e.callbackNode!==n)return null;var r=ft(e,e===Iu?Cu:0);if(0===r)return null;if(0!==(30&r)||0!==(r&e.expiredLanes)||t)t=vc(e,r);else{t=r;var i=xu;xu|=2;var o=hc();for(Iu===e&&Cu===t||(Fu=null,ju=Je()+500,dc(e,t));;)try{gc();break}catch(u){fc(e,u)}Ki(),wu.current=o,xu=i,null!==Tu?t=0:(Iu=null,Cu=0,t=Pu)}if(0!==t){if(2===t&&(0!==(i=pt(e))&&(r=i,t=ic(e,i))),1===t)throw n=Ou,dc(e,0),oc(e,r),nc(e,Je()),n;if(6===t)oc(e,r);else{if(i=e.current.alternate,0===(30&r)&&!function(e){for(var t=e;;){if(16384&t.flags){var n=t.updateQueue;if(null!==n&&null!==(n=n.stores))for(var r=0;r<n.length;r++){var i=n[r],a=i.getSnapshot;i=i.value;try{if(!sr(a(),i))return!1}catch(s){return!1}}}if(n=t.child,16384&t.subtreeFlags&&null!==n)n.return=t,t=n;else{if(t===e)break;for(;null===t.sibling;){if(null===t.return||t.return===e)return!0;t=t.return}t.sibling.return=t.return,t=t.sibling}}return!0}(i)&&(2===(t=vc(e,r))&&(0!==(o=pt(e))&&(r=o,t=ic(e,o))),1===t))throw n=Ou,dc(e,0),oc(e,r),nc(e,Je()),n;switch(e.finishedWork=i,e.finishedLanes=r,t){case 0:case 1:throw Error(a(345));case 2:case 5:bc(e,Uu,Fu);break;case 3:if(oc(e,r),(130023424&r)===r&&10<(t=Mu+500-Je())){if(0!==ft(e,0))break;if(((i=e.suspendedLanes)&r)!==r){Ju(),e.pingedLanes|=e.suspendedLanes&i;break}e.timeoutHandle=ri(bc.bind(null,e,Uu,Fu),t);break}bc(e,Uu,Fu);break;case 4:if(oc(e,r),(4194240&r)===r)break;for(t=e.eventTimes,i=-1;0<r;){var s=31-ot(r);o=1<<s,(s=t[s])>i&&(i=s),r&=~o}if(r=i,10<(r=(120>(r=Je()-r)?120:480>r?480:1080>r?1080:1920>r?1920:3e3>r?3e3:4320>r?4320:1960*ku(r/1960))-r)){e.timeoutHandle=ri(bc.bind(null,e,Uu,Fu),r);break}bc(e,Uu,Fu);break;default:throw Error(a(329))}}}return nc(e,Je()),e.callbackNode===n?rc.bind(null,e):null}function ic(e,t){var n=Lu;return e.current.memoizedState.isDehydrated&&(dc(e,t).flags|=256),2!==(e=vc(e,t))&&(t=Uu,Uu=n,null!==t&&ac(t)),e}function ac(e){null===Uu?Uu=e:Uu.push.apply(Uu,e)}function oc(e,t){for(t&=~Zu,t&=~Au,e.suspendedLanes|=t,e.pingedLanes&=~t,e=e.expirationTimes;0<t;){var n=31-ot(t),r=1<<n;e[n]=-1,t&=~r}}function sc(e){if(0!==(6&xu))throw Error(a(327));kc();var t=ft(e,0);if(0===(1&t))return nc(e,Je()),null;var n=vc(e,t);if(0!==e.tag&&2===n){var r=pt(e);0!==r&&(t=r,n=ic(e,r))}if(1===n)throw n=Ou,dc(e,0),oc(e,t),nc(e,Je()),n;if(6===n)throw Error(a(345));return e.finishedWork=e.current.alternate,e.finishedLanes=t,bc(e,Uu,Fu),nc(e,Je()),null}function uc(e,t){var n=xu;xu|=1;try{return e(t)}finally{0===(xu=n)&&(ju=Je()+500,ji&&zi())}}function cc(e){null!==Gu&&0===Gu.tag&&0===(6&xu)&&kc();var t=xu;xu|=1;var n=Eu.transition,r=_t;try{if(Eu.transition=null,_t=1,e)return e()}finally{_t=r,Eu.transition=n,0===(6&(xu=t))&&zi()}}function lc(){Nu=Ru.current,xi(Ru)}function dc(e,t){e.finishedWork=null,e.finishedLanes=0;var n=e.timeoutHandle;if(-1!==n&&(e.timeoutHandle=-1,ii(n)),null!==Tu)for(n=Tu.return;null!==n;){var r=n;switch(Na(r),r.tag){case 1:null!==(r=r.type.childContextTypes)&&void 0!==r&&Di();break;case 3:eo(),xi(Ni),xi(Ci),oo();break;case 5:no(r);break;case 4:eo();break;case 13:case 19:xi(ro);break;case 10:$i(r.type._context);break;case 22:case 23:lc()}n=n.return}if(Iu=e,Tu=e=Oc(e.current,null),Cu=Nu=t,Pu=0,Ou=null,Zu=Au=Du=0,Uu=Lu=null,null!==ea){for(t=0;t<ea.length;t++)if(null!==(r=(n=ea[t]).interleaved)){n.interleaved=null;var i=r.next,a=n.pending;if(null!==a){var o=a.next;a.next=i,r.next=o}n.pending=r}ea=null}return e}function fc(e,t){for(;;){var n=Tu;try{if(Ki(),so.current=ns,po){for(var r=lo.memoizedState;null!==r;){var i=r.queue;null!==i&&(i.pending=null),r=r.next}po=!1}if(co=0,ho=fo=lo=null,vo=!1,mo=0,Su.current=null,null===n||null===n.return){Pu=1,Ou=t,Tu=null;break}e:{var o=e,s=n.return,u=n,c=t;if(t=Cu,u.flags|=32768,null!==c&&"object"===typeof c&&"function"===typeof c.then){var l=c,d=u,f=d.tag;if(0===(1&d.mode)&&(0===f||11===f||15===f)){var h=d.alternate;h?(d.updateQueue=h.updateQueue,d.memoizedState=h.memoizedState,d.lanes=h.lanes):(d.updateQueue=null,d.memoizedState=null)}var p=vs(s);if(null!==p){p.flags&=-257,ms(p,s,u,0,t),1&p.mode&&ps(o,l,t),c=l;var v=(t=p).updateQueue;if(null===v){var m=new Set;m.add(c),t.updateQueue=m}else v.add(c);break e}if(0===(1&t)){ps(o,l,t),pc();break e}c=Error(a(426))}else if(Oa&&1&u.mode){var g=vs(s);if(null!==g){0===(65536&g.flags)&&(g.flags|=256),ms(g,s,u,0,t),qa(c);break e}}o=c,4!==Pu&&(Pu=2),null===Lu?Lu=[o]:Lu.push(o),c=os(c,u),u=s;do{switch(u.tag){case 3:u.flags|=65536,t&=-t,u.lanes|=t,sa(u,fs(0,c,t));break e;case 1:o=c;var y=u.type,_=u.stateNode;if(0===(128&u.flags)&&("function"===typeof y.getDerivedStateFromError||null!==_&&"function"===typeof _.componentDidCatch&&(null===Bu||!Bu.has(_)))){u.flags|=65536,t&=-t,u.lanes|=t,sa(u,hs(u,o,t));break e}}u=u.return}while(null!==u)}_c(n)}catch(b){t=b,Tu===n&&null!==n&&(Tu=n=n.return);continue}break}}function hc(){var e=wu.current;return wu.current=ns,null===e?ns:e}function pc(){0!==Pu&&3!==Pu&&2!==Pu||(Pu=4),null===Iu||0===(268435455&Du)&&0===(268435455&Au)||oc(Iu,Cu)}function vc(e,t){var n=xu;xu|=2;var r=hc();for(Iu===e&&Cu===t||(Fu=null,dc(e,t));;)try{mc();break}catch(i){fc(e,i)}if(Ki(),xu=n,wu.current=r,null!==Tu)throw Error(a(261));return Iu=null,Cu=0,Pu}function mc(){for(;null!==Tu;)yc(Tu)}function gc(){for(;null!==Tu&&!Ke();)yc(Tu)}function yc(e){var t=bu(e.alternate,e,Nu);e.memoizedProps=e.pendingProps,null===t?_c(e):Tu=t,Su.current=null}function _c(e){var t=e;do{var n=t.alternate;if(e=t.return,0===(32768&t.flags)){if(null!==(n=_s(n,t,Nu)))return void(Tu=n)}else{if(null!==(n=Gs(n,t)))return n.flags&=32767,void(Tu=n);if(null===e)return Pu=6,void(Tu=null);e.flags|=32768,e.subtreeFlags=0,e.deletions=null}if(null!==(t=t.sibling))return void(Tu=t);Tu=t=e}while(null!==t);0===Pu&&(Pu=5)}function bc(e,t,n){var r=_t,i=Eu.transition;try{Eu.transition=null,_t=1,function(e,t,n,r){do{kc()}while(null!==Gu);if(0!==(6&xu))throw Error(a(327));n=e.finishedWork;var i=e.finishedLanes;if(null===n)return null;if(e.finishedWork=null,e.finishedLanes=0,n===e.current)throw Error(a(177));e.callbackNode=null,e.callbackPriority=0;var o=n.lanes|n.childLanes;if(function(e,t){var n=e.pendingLanes&~t;e.pendingLanes=t,e.suspendedLanes=0,e.pingedLanes=0,e.expiredLanes&=t,e.mutableReadLanes&=t,e.entangledLanes&=t,t=e.entanglements;var r=e.eventTimes;for(e=e.expirationTimes;0<n;){var i=31-ot(n),a=1<<i;t[i]=0,r[i]=-1,e[i]=-1,n&=~a}}(e,o),e===Iu&&(Tu=Iu=null,Cu=0),0===(2064&n.subtreeFlags)&&0===(2064&n.flags)||Wu||(Wu=!0,Cc(tt,(function(){return kc(),null}))),o=0!==(15990&n.flags),0!==(15990&n.subtreeFlags)||o){o=Eu.transition,Eu.transition=null;var s=_t;_t=1;var u=xu;xu|=4,Su.current=null,function(e,t){if(ei=Wt,hr(e=fr())){if("selectionStart"in e)var n={start:e.selectionStart,end:e.selectionEnd};else e:{var r=(n=(n=e.ownerDocument)&&n.defaultView||window).getSelection&&n.getSelection();if(r&&0!==r.rangeCount){n=r.anchorNode;var i=r.anchorOffset,o=r.focusNode;r=r.focusOffset;try{n.nodeType,o.nodeType}catch(w){n=null;break e}var s=0,u=-1,c=-1,l=0,d=0,f=e,h=null;t:for(;;){for(var p;f!==n||0!==i&&3!==f.nodeType||(u=s+i),f!==o||0!==r&&3!==f.nodeType||(c=s+r),3===f.nodeType&&(s+=f.nodeValue.length),null!==(p=f.firstChild);)h=f,f=p;for(;;){if(f===e)break t;if(h===n&&++l===i&&(u=s),h===o&&++d===r&&(c=s),null!==(p=f.nextSibling))break;h=(f=h).parentNode}f=p}n=-1===u||-1===c?null:{start:u,end:c}}else n=null}n=n||{start:0,end:0}}else n=null;for(ti={focusedElem:e,selectionRange:n},Wt=!1,Ks=t;null!==Ks;)if(e=(t=Ks).child,0!==(1028&t.subtreeFlags)&&null!==e)e.return=t,Ks=e;else for(;null!==Ks;){t=Ks;try{var v=t.alternate;if(0!==(1024&t.flags))switch(t.tag){case 0:case 11:case 15:case 5:case 6:case 4:case 17:break;case 1:if(null!==v){var m=v.memoizedProps,g=v.memoizedState,y=t.stateNode,_=y.getSnapshotBeforeUpdate(t.elementType===t.type?m:Wi(t.type,m),g);y.__reactInternalSnapshotBeforeUpdate=_}break;case 3:var b=t.stateNode.containerInfo;if(1===b.nodeType)b.textContent="";else if(9===b.nodeType){var k=b.body;null!=k&&(k.textContent="")}break;default:throw Error(a(163))}}catch(w){Sc(t,t.return,w)}if(null!==(e=t.sibling)){e.return=t.return,Ks=e;break}Ks=t.return}v=Qs,Qs=!1}(e,n),hu(n,e),pr(ti),Wt=!!ei,ti=ei=null,e.current=n,vu(n,e,i),$e(),xu=u,_t=s,Eu.transition=o}else e.current=n;if(Wu&&(Wu=!1,Gu=e,Hu=i),0===(o=e.pendingLanes)&&(Bu=null),function(e){if(at&&"function"===typeof at.onCommitFiberRoot)try{at.onCommitFiberRoot(it,e,void 0,128===(128&e.current.flags))}catch(t){}}(n.stateNode),nc(e,Je()),null!==t)for(r=e.onRecoverableError,n=0;n<t.length;n++)r(t[n]);if(qu)throw qu=!1,e=zu,zu=null,e;0!==(1&Hu)&&0!==e.tag&&kc(),0!==(1&(o=e.pendingLanes))?e===Yu?Vu++:(Vu=0,Yu=e):Vu=0,zi()}(e,t,n,r)}finally{Eu.transition=i,_t=r}return null}function kc(){if(null!==Gu){var e=bt(Hu),t=Eu.transition,n=_t;try{if(Eu.transition=null,_t=16>e?16:e,null===Gu)var r=!1;else{if(e=Gu,Gu=null,Hu=0,0!==(6&xu))throw Error(a(331));var i=xu;for(xu|=4,Ks=e.current;null!==Ks;){var o=Ks,s=o.child;if(0!==(16&Ks.flags)){var u=o.deletions;if(null!==u){for(var c=0;c<u.length;c++){var l=u[c];for(Ks=l;null!==Ks;){var d=Ks;switch(d.tag){case 0:case 11:case 15:Xs(8,d,o)}var f=d.child;if(null!==f)f.return=d,Ks=f;else for(;null!==Ks;){var h=(d=Ks).sibling,p=d.return;if(nu(d),d===l){Ks=null;break}if(null!==h){h.return=p,Ks=h;break}Ks=p}}}var v=o.alternate;if(null!==v){var m=v.child;if(null!==m){v.child=null;do{var g=m.sibling;m.sibling=null,m=g}while(null!==m)}}Ks=o}}if(0!==(2064&o.subtreeFlags)&&null!==s)s.return=o,Ks=s;else e:for(;null!==Ks;){if(0!==(2048&(o=Ks).flags))switch(o.tag){case 0:case 11:case 15:Xs(9,o,o.return)}var y=o.sibling;if(null!==y){y.return=o.return,Ks=y;break e}Ks=o.return}}var _=e.current;for(Ks=_;null!==Ks;){var b=(s=Ks).child;if(0!==(2064&s.subtreeFlags)&&null!==b)b.return=s,Ks=b;else e:for(s=_;null!==Ks;){if(0!==(2048&(u=Ks).flags))try{switch(u.tag){case 0:case 11:case 15:eu(9,u)}}catch(w){Sc(u,u.return,w)}if(u===s){Ks=null;break e}var k=u.sibling;if(null!==k){k.return=u.return,Ks=k;break e}Ks=u.return}}if(xu=i,zi(),at&&"function"===typeof at.onPostCommitFiberRoot)try{at.onPostCommitFiberRoot(it,e)}catch(w){}r=!0}return r}finally{_t=n,Eu.transition=t}}return!1}function wc(e,t,n){aa(e,t=fs(0,t=os(n,t),1)),t=Ju(),null!==(e=ec(e,1))&&(gt(e,1,t),nc(e,t))}function Sc(e,t,n){if(3===e.tag)wc(e,e,n);else for(;null!==t;){if(3===t.tag){wc(t,e,n);break}if(1===t.tag){var r=t.stateNode;if("function"===typeof t.type.getDerivedStateFromError||"function"===typeof r.componentDidCatch&&(null===Bu||!Bu.has(r))){aa(t,e=hs(t,e=os(n,e),1)),e=Ju(),null!==(t=ec(t,1))&&(gt(t,1,e),nc(t,e));break}}t=t.return}}function Ec(e,t,n){var r=e.pingCache;null!==r&&r.delete(t),t=Ju(),e.pingedLanes|=e.suspendedLanes&n,Iu===e&&(Cu&n)===n&&(4===Pu||3===Pu&&(130023424&Cu)===Cu&&500>Je()-Mu?dc(e,0):Zu|=n),nc(e,t)}function xc(e,t){0===t&&(0===(1&e.mode)?t=1:(t=lt,0===(130023424&(lt<<=1))&&(lt=4194304)));var n=Ju();null!==(e=ec(e,t))&&(gt(e,t,n),nc(e,n))}function Ic(e){var t=e.memoizedState,n=0;null!==t&&(n=t.retryLane),xc(e,n)}function Tc(e,t){var n=0;switch(e.tag){case 13:var r=e.stateNode,i=e.memoizedState;null!==i&&(n=i.retryLane);break;case 19:r=e.stateNode;break;default:throw Error(a(314))}null!==r&&r.delete(t),xc(e,n)}function Cc(e,t){return Ve(e,t)}function Nc(e,t,n,r){this.tag=e,this.key=n,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=t,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=r,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function Rc(e,t,n,r){return new Nc(e,t,n,r)}function Pc(e){return!(!(e=e.prototype)||!e.isReactComponent)}function Oc(e,t){var n=e.alternate;return null===n?((n=Rc(e.tag,t,e.key,e.mode)).elementType=e.elementType,n.type=e.type,n.stateNode=e.stateNode,n.alternate=e,e.alternate=n):(n.pendingProps=t,n.type=e.type,n.flags=0,n.subtreeFlags=0,n.deletions=null),n.flags=14680064&e.flags,n.childLanes=e.childLanes,n.lanes=e.lanes,n.child=e.child,n.memoizedProps=e.memoizedProps,n.memoizedState=e.memoizedState,n.updateQueue=e.updateQueue,t=e.dependencies,n.dependencies=null===t?null:{lanes:t.lanes,firstContext:t.firstContext},n.sibling=e.sibling,n.index=e.index,n.ref=e.ref,n}function Dc(e,t,n,r,i,o){var s=2;if(r=e,"function"===typeof e)Pc(e)&&(s=1);else if("string"===typeof e)s=5;else e:switch(e){case S:return Ac(n.children,i,o,t);case E:s=8,i|=8;break;case x:return(e=Rc(12,n,t,2|i)).elementType=x,e.lanes=o,e;case N:return(e=Rc(13,n,t,i)).elementType=N,e.lanes=o,e;case R:return(e=Rc(19,n,t,i)).elementType=R,e.lanes=o,e;case D:return Zc(n,i,o,t);default:if("object"===typeof e&&null!==e)switch(e.$$typeof){case I:s=10;break e;case T:s=9;break e;case C:s=11;break e;case P:s=14;break e;case O:s=16,r=null;break e}throw Error(a(130,null==e?e:typeof e,""))}return(t=Rc(s,n,t,i)).elementType=e,t.type=r,t.lanes=o,t}function Ac(e,t,n,r){return(e=Rc(7,e,r,t)).lanes=n,e}function Zc(e,t,n,r){return(e=Rc(22,e,r,t)).elementType=D,e.lanes=n,e.stateNode={},e}function Lc(e,t,n){return(e=Rc(6,e,null,t)).lanes=n,e}function Uc(e,t,n){return(t=Rc(4,null!==e.children?e.children:[],e.key,t)).lanes=n,t.stateNode={containerInfo:e.containerInfo,pendingChildren:null,implementation:e.implementation},t}function Mc(e,t,n,r,i){this.tag=t,this.containerInfo=e,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=mt(0),this.expirationTimes=mt(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=mt(0),this.identifierPrefix=r,this.onRecoverableError=i,this.mutableSourceEagerHydrationData=null}function jc(e,t,n,r,i,a,o,s,u){return e=new Mc(e,t,n,s,u),1===t?(t=1,!0===a&&(t|=8)):t=0,a=Rc(3,null,null,t),e.current=a,a.stateNode=e,a.memoizedState={element:r,isDehydrated:n,cache:null,transitions:null,pendingSuspenseBoundaries:null},na(a),e}function Fc(e,t,n){var r=3<arguments.length&&void 0!==arguments[3]?arguments[3]:null;return{$$typeof:w,key:null==r?null:""+r,children:e,containerInfo:t,implementation:n}}function qc(e){if(!e)return Ti;e:{if(ze(e=e._reactInternals)!==e||1!==e.tag)throw Error(a(170));var t=e;do{switch(t.tag){case 3:t=t.stateNode.context;break e;case 1:if(Oi(t.type)){t=t.stateNode.__reactInternalMemoizedMergedChildContext;break e}}t=t.return}while(null!==t);throw Error(a(171))}if(1===e.tag){var n=e.type;if(Oi(n))return Zi(e,n,t)}return t}function zc(e,t,n,r,i,a,o,s,u){return(e=jc(n,r,!0,e,0,a,0,s,u)).context=qc(null),n=e.current,(a=ia(r=Ju(),i=Qu(n))).callback=void 0!==t&&null!==t?t:null,aa(n,a),e.current.lanes=i,gt(e,i,r),nc(e,r),e}function Bc(e,t,n,r){var i=t.current,a=Ju(),o=Qu(i);return n=qc(n),null===t.context?t.context=n:t.pendingContext=n,(t=ia(a,o)).payload={element:e},null!==(r=void 0===r?null:r)&&(t.callback=r),aa(i,t),null!==(e=Xu(i,o,a))&&oa(e,i,o),o}function Wc(e){return(e=e.current).child?(e.child.tag,e.child.stateNode):null}function Gc(e,t){if(null!==(e=e.memoizedState)&&null!==e.dehydrated){var n=e.retryLane;e.retryLane=0!==n&&n<t?n:t}}function Hc(e,t){Gc(e,t),(e=e.alternate)&&Gc(e,t)}bu=function(e,t,n){if(null!==e)if(e.memoizedProps!==t.pendingProps||Ni.current)ks=!0;else{if(0===(e.lanes&n)&&0===(128&t.flags))return ks=!1,function(e,t,n){switch(t.tag){case 3:Ps(t),Fa();break;case 5:to(t);break;case 1:Oi(t.type)&&Li(t);break;case 4:Xa(t,t.stateNode.containerInfo);break;case 10:var r=t.type._context,i=t.memoizedProps.value;Ii(Gi,r._currentValue),r._currentValue=i;break;case 13:if(null!==(r=t.memoizedState))return null!==r.dehydrated?(Ii(ro,1&ro.current),t.flags|=128,null):0!==(n&t.child.childLanes)?Ls(e,t,n):(Ii(ro,1&ro.current),null!==(e=Ws(e,t,n))?e.sibling:null);Ii(ro,1&ro.current);break;case 19:if(r=0!==(n&t.childLanes),0!==(128&e.flags)){if(r)return Bs(e,t,n);t.flags|=128}if(null!==(i=t.memoizedState)&&(i.rendering=null,i.tail=null,i.lastEffect=null),Ii(ro,ro.current),r)break;return null;case 22:case 23:return t.lanes=0,Is(e,t,n)}return Ws(e,t,n)}(e,t,n);ks=0!==(131072&e.flags)}else ks=!1,Oa&&0!==(1048576&t.flags)&&Ta(t,ba,t.index);switch(t.lanes=0,t.tag){case 2:var r=t.type;null!==e&&(e.alternate=null,t.alternate=null,t.flags|=2),e=t.pendingProps;var i=Pi(t,Ci.current);Qi(t,n),i=bo(null,t,r,e,i,n);var o=ko();return t.flags|=1,"object"===typeof i&&null!==i&&"function"===typeof i.render&&void 0===i.$$typeof?(t.tag=1,t.memoizedState=null,t.updateQueue=null,Oi(r)?(o=!0,Li(t)):o=!1,t.memoizedState=null!==i.state&&void 0!==i.state?i.state:null,na(t),i.updater=fa,t.stateNode=i,i._reactInternals=t,ma(t,r,e,n),t=Rs(null,t,r,!0,o,n)):(t.tag=0,Oa&&o&&Ca(t),ws(null,t,i,n),t=t.child),t;case 16:r=t.elementType;e:{switch(null!==e&&(e.alternate=null,t.alternate=null,t.flags|=2),e=t.pendingProps,r=(i=r._init)(r._payload),t.type=r,i=t.tag=function(e){if("function"===typeof e)return Pc(e)?1:0;if(void 0!==e&&null!==e){if((e=e.$$typeof)===C)return 11;if(e===P)return 14}return 2}(r),e=Wi(r,e),i){case 0:t=Cs(null,t,r,e,n);break e;case 1:t=Ns(null,t,r,e,n);break e;case 11:t=Ss(null,t,r,e,n);break e;case 14:t=Es(null,t,r,Wi(r.type,e),n);break e}throw Error(a(306,r,""))}return t;case 0:return r=t.type,i=t.pendingProps,Cs(e,t,r,i=t.elementType===r?i:Wi(r,i),n);case 1:return r=t.type,i=t.pendingProps,Ns(e,t,r,i=t.elementType===r?i:Wi(r,i),n);case 3:e:{if(Ps(t),null===e)throw Error(a(387));r=t.pendingProps,i=(o=t.memoizedState).element,ra(e,t),ua(t,r,null,n);var s=t.memoizedState;if(r=s.element,o.isDehydrated){if(o={element:r,isDehydrated:!1,cache:s.cache,pendingSuspenseBoundaries:s.pendingSuspenseBoundaries,transitions:s.transitions},t.updateQueue.baseState=o,t.memoizedState=o,256&t.flags){t=Os(e,t,r,n,i=Error(a(423)));break e}if(r!==i){t=Os(e,t,r,n,i=Error(a(424)));break e}for(Pa=ci(t.stateNode.containerInfo.firstChild),Ra=t,Oa=!0,Da=null,n=Va(t,null,r,n),t.child=n;n;)n.flags=-3&n.flags|4096,n=n.sibling}else{if(Fa(),r===i){t=Ws(e,t,n);break e}ws(e,t,r,n)}t=t.child}return t;case 5:return to(t),null===e&&Ua(t),r=t.type,i=t.pendingProps,o=null!==e?e.memoizedProps:null,s=i.children,ni(r,i)?s=null:null!==o&&ni(r,o)&&(t.flags|=32),Ts(e,t),ws(e,t,s,n),t.child;case 6:return null===e&&Ua(t),null;case 13:return Ls(e,t,n);case 4:return Xa(t,t.stateNode.containerInfo),r=t.pendingProps,null===e?t.child=Ha(t,null,r,n):ws(e,t,r,n),t.child;case 11:return r=t.type,i=t.pendingProps,Ss(e,t,r,i=t.elementType===r?i:Wi(r,i),n);case 7:return ws(e,t,t.pendingProps,n),t.child;case 8:case 12:return ws(e,t,t.pendingProps.children,n),t.child;case 10:e:{if(r=t.type._context,i=t.pendingProps,o=t.memoizedProps,s=i.value,Ii(Gi,r._currentValue),r._currentValue=s,null!==o)if(sr(o.value,s)){if(o.children===i.children&&!Ni.current){t=Ws(e,t,n);break e}}else for(null!==(o=t.child)&&(o.return=t);null!==o;){var u=o.dependencies;if(null!==u){s=o.child;for(var c=u.firstContext;null!==c;){if(c.context===r){if(1===o.tag){(c=ia(-1,n&-n)).tag=2;var l=o.updateQueue;if(null!==l){var d=(l=l.shared).pending;null===d?c.next=c:(c.next=d.next,d.next=c),l.pending=c}}o.lanes|=n,null!==(c=o.alternate)&&(c.lanes|=n),Ji(o.return,n,t),u.lanes|=n;break}c=c.next}}else if(10===o.tag)s=o.type===t.type?null:o.child;else if(18===o.tag){if(null===(s=o.return))throw Error(a(341));s.lanes|=n,null!==(u=s.alternate)&&(u.lanes|=n),Ji(s,n,t),s=o.sibling}else s=o.child;if(null!==s)s.return=o;else for(s=o;null!==s;){if(s===t){s=null;break}if(null!==(o=s.sibling)){o.return=s.return,s=o;break}s=s.return}o=s}ws(e,t,i.children,n),t=t.child}return t;case 9:return i=t.type,r=t.pendingProps.children,Qi(t,n),r=r(i=Xi(i)),t.flags|=1,ws(e,t,r,n),t.child;case 14:return i=Wi(r=t.type,t.pendingProps),Es(e,t,r,i=Wi(r.type,i),n);case 15:return xs(e,t,t.type,t.pendingProps,n);case 17:return r=t.type,i=t.pendingProps,i=t.elementType===r?i:Wi(r,i),null!==e&&(e.alternate=null,t.alternate=null,t.flags|=2),t.tag=1,Oi(r)?(e=!0,Li(t)):e=!1,Qi(t,n),pa(t,r,i),ma(t,r,i,n),Rs(null,t,r,!0,e,n);case 19:return Bs(e,t,n);case 22:return Is(e,t,n)}throw Error(a(156,t.tag))};var Vc="function"===typeof reportError?reportError:function(e){console.error(e)};function Yc(e){this._internalRoot=e}function Kc(e){this._internalRoot=e}function $c(e){return!(!e||1!==e.nodeType&&9!==e.nodeType&&11!==e.nodeType)}function Jc(e){return!(!e||1!==e.nodeType&&9!==e.nodeType&&11!==e.nodeType&&(8!==e.nodeType||" react-mount-point-unstable "!==e.nodeValue))}function Qc(){}function Xc(e,t,n,r,i){var a=n._reactRootContainer;if(a){var o=a;if("function"===typeof i){var s=i;i=function(){var e=Wc(o);s.call(e)}}Bc(t,o,e,i)}else o=function(e,t,n,r,i){if(i){if("function"===typeof r){var a=r;r=function(){var e=Wc(o);a.call(e)}}var o=zc(t,r,e,0,null,!1,0,"",Qc);return e._reactRootContainer=o,e[pi]=o.current,zr(8===e.nodeType?e.parentNode:e),cc(),o}for(;i=e.lastChild;)e.removeChild(i);if("function"===typeof r){var s=r;r=function(){var e=Wc(u);s.call(e)}}var u=jc(e,0,!1,null,0,!1,0,"",Qc);return e._reactRootContainer=u,e[pi]=u.current,zr(8===e.nodeType?e.parentNode:e),cc((function(){Bc(t,u,n,r)})),u}(n,t,e,i,r);return Wc(o)}Kc.prototype.render=Yc.prototype.render=function(e){var t=this._internalRoot;if(null===t)throw Error(a(409));Bc(e,t,null,null)},Kc.prototype.unmount=Yc.prototype.unmount=function(){var e=this._internalRoot;if(null!==e){this._internalRoot=null;var t=e.containerInfo;cc((function(){Bc(null,e,null,null)})),t[pi]=null}},Kc.prototype.unstable_scheduleHydration=function(e){if(e){var t=Et();e={blockedOn:null,target:e,priority:t};for(var n=0;n<Dt.length&&0!==t&&t<Dt[n].priority;n++);Dt.splice(n,0,e),0===n&&Ut(e)}},kt=function(e){switch(e.tag){case 3:var t=e.stateNode;if(t.current.memoizedState.isDehydrated){var n=dt(t.pendingLanes);0!==n&&(yt(t,1|n),nc(t,Je()),0===(6&xu)&&(ju=Je()+500,zi()))}break;case 13:var r=Ju();cc((function(){return Xu(e,1,r)})),Hc(e,1)}},wt=function(e){13===e.tag&&(Xu(e,134217728,Ju()),Hc(e,134217728))},St=function(e){if(13===e.tag){var t=Ju(),n=Qu(e);Xu(e,n,t),Hc(e,n)}},Et=function(){return _t},xt=function(e,t){var n=_t;try{return _t=e,t()}finally{_t=n}},we=function(e,t,n){switch(t){case"input":if(Q(e,n),t=n.name,"radio"===n.type&&null!=t){for(n=e;n.parentNode;)n=n.parentNode;for(n=n.querySelectorAll("input[name="+JSON.stringify(""+t)+'][type="radio"]'),t=0;t<n.length;t++){var r=n[t];if(r!==e&&r.form===e.form){var i=ki(r);if(!i)throw Error(a(90));V(r),Q(r,i)}}}break;case"textarea":ae(e,n);break;case"select":null!=(t=n.value)&&ne(e,!!n.multiple,t,!1)}},Ce=uc,Ne=cc;var el={usingClientEntryPoint:!1,Events:[_i,bi,ki,Ie,Te,uc]},tl={findFiberByHostInstance:yi,bundleType:0,version:"18.1.0",rendererPackageName:"react-dom"},nl={bundleType:tl.bundleType,version:tl.version,rendererPackageName:tl.rendererPackageName,rendererConfig:tl.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:b.ReactCurrentDispatcher,findHostInstanceByFiber:function(e){return null===(e=Ge(e))?null:e.stateNode},findFiberByHostInstance:tl.findFiberByHostInstance||function(){return null},findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.1.0-next-22edb9f77-20220426"};if("undefined"!==typeof __REACT_DEVTOOLS_GLOBAL_HOOK__){var rl=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!rl.isDisabled&&rl.supportsFiber)try{it=rl.inject(nl),at=rl}catch(le){}}t.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=el,t.createPortal=function(e,t){var n=2<arguments.length&&void 0!==arguments[2]?arguments[2]:null;if(!$c(t))throw Error(a(200));return Fc(e,t,null,n)},t.createRoot=function(e,t){if(!$c(e))throw Error(a(299));var n=!1,r="",i=Vc;return null!==t&&void 0!==t&&(!0===t.unstable_strictMode&&(n=!0),void 0!==t.identifierPrefix&&(r=t.identifierPrefix),void 0!==t.onRecoverableError&&(i=t.onRecoverableError)),t=jc(e,1,!1,null,0,n,0,r,i),e[pi]=t.current,zr(8===e.nodeType?e.parentNode:e),new Yc(t)},t.findDOMNode=function(e){if(null==e)return null;if(1===e.nodeType)return e;var t=e._reactInternals;if(void 0===t){if("function"===typeof e.render)throw Error(a(188));throw e=Object.keys(e).join(","),Error(a(268,e))}return e=null===(e=Ge(t))?null:e.stateNode},t.flushSync=function(e){return cc(e)},t.hydrate=function(e,t,n){if(!Jc(t))throw Error(a(200));return Xc(null,e,t,!0,n)},t.hydrateRoot=function(e,t,n){if(!$c(e))throw Error(a(405));var r=null!=n&&n.hydratedSources||null,i=!1,o="",s=Vc;if(null!==n&&void 0!==n&&(!0===n.unstable_strictMode&&(i=!0),void 0!==n.identifierPrefix&&(o=n.identifierPrefix),void 0!==n.onRecoverableError&&(s=n.onRecoverableError)),t=zc(t,null,e,1,null!=n?n:null,i,0,o,s),e[pi]=t.current,zr(e),r)for(e=0;e<r.length;e++)i=(i=(n=r[e])._getVersion)(n._source),null==t.mutableSourceEagerHydrationData?t.mutableSourceEagerHydrationData=[n,i]:t.mutableSourceEagerHydrationData.push(n,i);return new Kc(t)},t.render=function(e,t,n){if(!Jc(t))throw Error(a(200));return Xc(null,e,t,!1,n)},t.unmountComponentAtNode=function(e){if(!Jc(e))throw Error(a(40));return!!e._reactRootContainer&&(cc((function(){Xc(null,null,e,!1,(function(){e._reactRootContainer=null,e[pi]=null}))})),!0)},t.unstable_batchedUpdates=uc,t.unstable_renderSubtreeIntoContainer=function(e,t,n,r){if(!Jc(n))throw Error(a(200));if(null==e||void 0===e._reactInternals)throw Error(a(38));return Xc(e,t,n,!1,r)},t.version="18.1.0-next-22edb9f77-20220426"},1250:function(e,t,n){"use strict";var r=n(4164);t.createRoot=r.createRoot,t.hydrateRoot=r.hydrateRoot},4164:function(e,t,n){"use strict";!function e(){if("undefined"!==typeof __REACT_DEVTOOLS_GLOBAL_HOOK__&&"function"===typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE)try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(e)}catch(t){console.error(t)}}(),e.exports=n(4463)},6374:function(e,t,n){"use strict";var r=n(2791),i=Symbol.for("react.element"),a=Symbol.for("react.fragment"),o=Object.prototype.hasOwnProperty,s=r.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,u={key:!0,ref:!0,__self:!0,__source:!0};function c(e,t,n){var r,a={},c=null,l=null;for(r in void 0!==n&&(c=""+n),void 0!==t.key&&(c=""+t.key),void 0!==t.ref&&(l=t.ref),t)o.call(t,r)&&!u.hasOwnProperty(r)&&(a[r]=t[r]);if(e&&e.defaultProps)for(r in t=e.defaultProps)void 0===a[r]&&(a[r]=t[r]);return{$$typeof:i,type:e,key:c,ref:l,props:a,_owner:s.current}}t.Fragment=a,t.jsx=c,t.jsxs=c},9117:function(e,t){"use strict";var n=Symbol.for("react.element"),r=Symbol.for("react.portal"),i=Symbol.for("react.fragment"),a=Symbol.for("react.strict_mode"),o=Symbol.for("react.profiler"),s=Symbol.for("react.provider"),u=Symbol.for("react.context"),c=Symbol.for("react.forward_ref"),l=Symbol.for("react.suspense"),d=Symbol.for("react.memo"),f=Symbol.for("react.lazy"),h=Symbol.iterator;var p={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},v=Object.assign,m={};function g(e,t,n){this.props=e,this.context=t,this.refs=m,this.updater=n||p}function y(){}function _(e,t,n){this.props=e,this.context=t,this.refs=m,this.updater=n||p}g.prototype.isReactComponent={},g.prototype.setState=function(e,t){if("object"!==typeof e&&"function"!==typeof e&&null!=e)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,e,t,"setState")},g.prototype.forceUpdate=function(e){this.updater.enqueueForceUpdate(this,e,"forceUpdate")},y.prototype=g.prototype;var b=_.prototype=new y;b.constructor=_,v(b,g.prototype),b.isPureReactComponent=!0;var k=Array.isArray,w=Object.prototype.hasOwnProperty,S={current:null},E={key:!0,ref:!0,__self:!0,__source:!0};function x(e,t,r){var i,a={},o=null,s=null;if(null!=t)for(i in void 0!==t.ref&&(s=t.ref),void 0!==t.key&&(o=""+t.key),t)w.call(t,i)&&!E.hasOwnProperty(i)&&(a[i]=t[i]);var u=arguments.length-2;if(1===u)a.children=r;else if(1<u){for(var c=Array(u),l=0;l<u;l++)c[l]=arguments[l+2];a.children=c}if(e&&e.defaultProps)for(i in u=e.defaultProps)void 0===a[i]&&(a[i]=u[i]);return{$$typeof:n,type:e,key:o,ref:s,props:a,_owner:S.current}}function I(e){return"object"===typeof e&&null!==e&&e.$$typeof===n}var T=/\/+/g;function C(e,t){return"object"===typeof e&&null!==e&&null!=e.key?function(e){var t={"=":"=0",":":"=2"};return"$"+e.replace(/[=:]/g,(function(e){return t[e]}))}(""+e.key):t.toString(36)}function N(e,t,i,a,o){var s=typeof e;"undefined"!==s&&"boolean"!==s||(e=null);var u=!1;if(null===e)u=!0;else switch(s){case"string":case"number":u=!0;break;case"object":switch(e.$$typeof){case n:case r:u=!0}}if(u)return o=o(u=e),e=""===a?"."+C(u,0):a,k(o)?(i="",null!=e&&(i=e.replace(T,"$&/")+"/"),N(o,t,i,"",(function(e){return e}))):null!=o&&(I(o)&&(o=function(e,t){return{$$typeof:n,type:e.type,key:t,ref:e.ref,props:e.props,_owner:e._owner}}(o,i+(!o.key||u&&u.key===o.key?"":(""+o.key).replace(T,"$&/")+"/")+e)),t.push(o)),1;if(u=0,a=""===a?".":a+":",k(e))for(var c=0;c<e.length;c++){var l=a+C(s=e[c],c);u+=N(s,t,i,l,o)}else if(l=function(e){return null===e||"object"!==typeof e?null:"function"===typeof(e=h&&e[h]||e["@@iterator"])?e:null}(e),"function"===typeof l)for(e=l.call(e),c=0;!(s=e.next()).done;)u+=N(s=s.value,t,i,l=a+C(s,c++),o);else if("object"===s)throw t=String(e),Error("Objects are not valid as a React child (found: "+("[object Object]"===t?"object with keys {"+Object.keys(e).join(", ")+"}":t)+"). If you meant to render a collection of children, use an array instead.");return u}function R(e,t,n){if(null==e)return e;var r=[],i=0;return N(e,r,"","",(function(e){return t.call(n,e,i++)})),r}function P(e){if(-1===e._status){var t=e._result;(t=t()).then((function(t){0!==e._status&&-1!==e._status||(e._status=1,e._result=t)}),(function(t){0!==e._status&&-1!==e._status||(e._status=2,e._result=t)})),-1===e._status&&(e._status=0,e._result=t)}if(1===e._status)return e._result.default;throw e._result}var O={current:null},D={transition:null},A={ReactCurrentDispatcher:O,ReactCurrentBatchConfig:D,ReactCurrentOwner:S};t.Children={map:R,forEach:function(e,t,n){R(e,(function(){t.apply(this,arguments)}),n)},count:function(e){var t=0;return R(e,(function(){t++})),t},toArray:function(e){return R(e,(function(e){return e}))||[]},only:function(e){if(!I(e))throw Error("React.Children.only expected to receive a single React element child.");return e}},t.Component=g,t.Fragment=i,t.Profiler=o,t.PureComponent=_,t.StrictMode=a,t.Suspense=l,t.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=A,t.cloneElement=function(e,t,r){if(null===e||void 0===e)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+e+".");var i=v({},e.props),a=e.key,o=e.ref,s=e._owner;if(null!=t){if(void 0!==t.ref&&(o=t.ref,s=S.current),void 0!==t.key&&(a=""+t.key),e.type&&e.type.defaultProps)var u=e.type.defaultProps;for(c in t)w.call(t,c)&&!E.hasOwnProperty(c)&&(i[c]=void 0===t[c]&&void 0!==u?u[c]:t[c])}var c=arguments.length-2;if(1===c)i.children=r;else if(1<c){u=Array(c);for(var l=0;l<c;l++)u[l]=arguments[l+2];i.children=u}return{$$typeof:n,type:e.type,key:a,ref:o,props:i,_owner:s}},t.createContext=function(e){return(e={$$typeof:u,_currentValue:e,_currentValue2:e,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null}).Provider={$$typeof:s,_context:e},e.Consumer=e},t.createElement=x,t.createFactory=function(e){var t=x.bind(null,e);return t.type=e,t},t.createRef=function(){return{current:null}},t.forwardRef=function(e){return{$$typeof:c,render:e}},t.isValidElement=I,t.lazy=function(e){return{$$typeof:f,_payload:{_status:-1,_result:e},_init:P}},t.memo=function(e,t){return{$$typeof:d,type:e,compare:void 0===t?null:t}},t.startTransition=function(e){var t=D.transition;D.transition={};try{e()}finally{D.transition=t}},t.unstable_act=function(){throw Error("act(...) is not supported in production builds of React.")},t.useCallback=function(e,t){return O.current.useCallback(e,t)},t.useContext=function(e){return O.current.useContext(e)},t.useDebugValue=function(){},t.useDeferredValue=function(e){return O.current.useDeferredValue(e)},t.useEffect=function(e,t){return O.current.useEffect(e,t)},t.useId=function(){return O.current.useId()},t.useImperativeHandle=function(e,t,n){return O.current.useImperativeHandle(e,t,n)},t.useInsertionEffect=function(e,t){return O.current.useInsertionEffect(e,t)},t.useLayoutEffect=function(e,t){return O.current.useLayoutEffect(e,t)},t.useMemo=function(e,t){return O.current.useMemo(e,t)},t.useReducer=function(e,t,n){return O.current.useReducer(e,t,n)},t.useRef=function(e){return O.current.useRef(e)},t.useState=function(e){return O.current.useState(e)},t.useSyncExternalStore=function(e,t,n){return O.current.useSyncExternalStore(e,t,n)},t.useTransition=function(){return O.current.useTransition()},t.version="18.1.0"},2791:function(e,t,n){"use strict";e.exports=n(9117)},184:function(e,t,n){"use strict";e.exports=n(6374)},6813:function(e,t){"use strict";function n(e,t){var n=e.length;e.push(t);e:for(;0<n;){var r=n-1>>>1,i=e[r];if(!(0<a(i,t)))break e;e[r]=t,e[n]=i,n=r}}function r(e){return 0===e.length?null:e[0]}function i(e){if(0===e.length)return null;var t=e[0],n=e.pop();if(n!==t){e[0]=n;e:for(var r=0,i=e.length,o=i>>>1;r<o;){var s=2*(r+1)-1,u=e[s],c=s+1,l=e[c];if(0>a(u,n))c<i&&0>a(l,u)?(e[r]=l,e[c]=n,r=c):(e[r]=u,e[s]=n,r=s);else{if(!(c<i&&0>a(l,n)))break e;e[r]=l,e[c]=n,r=c}}}return t}function a(e,t){var n=e.sortIndex-t.sortIndex;return 0!==n?n:e.id-t.id}if("object"===typeof performance&&"function"===typeof performance.now){var o=performance;t.unstable_now=function(){return o.now()}}else{var s=Date,u=s.now();t.unstable_now=function(){return s.now()-u}}var c=[],l=[],d=1,f=null,h=3,p=!1,v=!1,m=!1,g="function"===typeof setTimeout?setTimeout:null,y="function"===typeof clearTimeout?clearTimeout:null,_="undefined"!==typeof setImmediate?setImmediate:null;function b(e){for(var t=r(l);null!==t;){if(null===t.callback)i(l);else{if(!(t.startTime<=e))break;i(l),t.sortIndex=t.expirationTime,n(c,t)}t=r(l)}}function k(e){if(m=!1,b(e),!v)if(null!==r(c))v=!0,D(w);else{var t=r(l);null!==t&&A(k,t.startTime-e)}}function w(e,n){v=!1,m&&(m=!1,y(I),I=-1),p=!0;var a=h;try{for(b(n),f=r(c);null!==f&&(!(f.expirationTime>n)||e&&!N());){var o=f.callback;if("function"===typeof o){f.callback=null,h=f.priorityLevel;var s=o(f.expirationTime<=n);n=t.unstable_now(),"function"===typeof s?f.callback=s:f===r(c)&&i(c),b(n)}else i(c);f=r(c)}if(null!==f)var u=!0;else{var d=r(l);null!==d&&A(k,d.startTime-n),u=!1}return u}finally{f=null,h=a,p=!1}}"undefined"!==typeof navigator&&void 0!==navigator.scheduling&&void 0!==navigator.scheduling.isInputPending&&navigator.scheduling.isInputPending.bind(navigator.scheduling);var S,E=!1,x=null,I=-1,T=5,C=-1;function N(){return!(t.unstable_now()-C<T)}function R(){if(null!==x){var e=t.unstable_now();C=e;var n=!0;try{n=x(!0,e)}finally{n?S():(E=!1,x=null)}}else E=!1}if("function"===typeof _)S=function(){_(R)};else if("undefined"!==typeof MessageChannel){var P=new MessageChannel,O=P.port2;P.port1.onmessage=R,S=function(){O.postMessage(null)}}else S=function(){g(R,0)};function D(e){x=e,E||(E=!0,S())}function A(e,n){I=g((function(){e(t.unstable_now())}),n)}t.unstable_IdlePriority=5,t.unstable_ImmediatePriority=1,t.unstable_LowPriority=4,t.unstable_NormalPriority=3,t.unstable_Profiling=null,t.unstable_UserBlockingPriority=2,t.unstable_cancelCallback=function(e){e.callback=null},t.unstable_continueExecution=function(){v||p||(v=!0,D(w))},t.unstable_forceFrameRate=function(e){0>e||125<e?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):T=0<e?Math.floor(1e3/e):5},t.unstable_getCurrentPriorityLevel=function(){return h},t.unstable_getFirstCallbackNode=function(){return r(c)},t.unstable_next=function(e){switch(h){case 1:case 2:case 3:var t=3;break;default:t=h}var n=h;h=t;try{return e()}finally{h=n}},t.unstable_pauseExecution=function(){},t.unstable_requestPaint=function(){},t.unstable_runWithPriority=function(e,t){switch(e){case 1:case 2:case 3:case 4:case 5:break;default:e=3}var n=h;h=e;try{return t()}finally{h=n}},t.unstable_scheduleCallback=function(e,i,a){var o=t.unstable_now();switch("object"===typeof a&&null!==a?a="number"===typeof(a=a.delay)&&0<a?o+a:o:a=o,e){case 1:var s=-1;break;case 2:s=250;break;case 5:s=1073741823;break;case 4:s=1e4;break;default:s=5e3}return e={id:d++,callback:i,priorityLevel:e,startTime:a,expirationTime:s=a+s,sortIndex:-1},a>o?(e.sortIndex=a,n(l,e),null===r(c)&&e===r(l)&&(m?(y(I),I=-1):m=!0,A(k,a-o))):(e.sortIndex=s,n(c,e),v||p||(v=!0,D(w))),e},t.unstable_shouldYield=N,t.unstable_wrapCallback=function(e){var t=h;return function(){var n=h;h=t;try{return e.apply(this,arguments)}finally{h=n}}}},5296:function(e,t,n){"use strict";e.exports=n(6813)},499:function(e){"use strict";e.exports=function(e){return encodeURIComponent(e).replace(/[!'()*]/g,(function(e){return"%"+e.charCodeAt(0).toString(16).toUpperCase()}))}},907:function(e,t,n){"use strict";function r(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}n.d(t,{Z:function(){return r}})},3878:function(e,t,n){"use strict";function r(e){if(Array.isArray(e))return e}n.d(t,{Z:function(){return r}})},7326:function(e,t,n){"use strict";function r(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}n.d(t,{Z:function(){return r}})},5671:function(e,t,n){"use strict";function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}n.d(t,{Z:function(){return r}})},3144:function(e,t,n){"use strict";function r(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function i(e,t,n){return t&&r(e.prototype,t),n&&r(e,n),Object.defineProperty(e,"prototype",{writable:!1}),e}n.d(t,{Z:function(){return i}})},7762:function(e,t,n){"use strict";n.d(t,{Z:function(){return i}});var r=n(181);function i(e,t){var n="undefined"!==typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(!n){if(Array.isArray(e)||(n=(0,r.Z)(e))||t&&e&&"number"===typeof e.length){n&&(e=n);var i=0,a=function(){};return{s:a,n:function(){return i>=e.length?{done:!0}:{done:!1,value:e[i++]}},e:function(e){throw e},f:a}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var o,s=!0,u=!1;return{s:function(){n=n.call(e)},n:function(){var e=n.next();return s=e.done,e},e:function(e){u=!0,o=e},f:function(){try{s||null==n.return||n.return()}finally{if(u)throw o}}}}},7277:function(e,t,n){"use strict";n.d(t,{Z:function(){return u}});var r=n(1120),i=n(8814),a=n(1002),o=n(7326);function s(e,t){if(t&&("object"===(0,a.Z)(t)||"function"===typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return(0,o.Z)(e)}function u(e){var t=(0,i.Z)();return function(){var n,i=(0,r.Z)(e);if(t){var a=(0,r.Z)(this).constructor;n=Reflect.construct(i,arguments,a)}else n=i.apply(this,arguments);return s(this,n)}}},4942:function(e,t,n){"use strict";function r(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}n.d(t,{Z:function(){return r}})},1752:function(e,t,n){"use strict";n.d(t,{Z:function(){return a}});var r=n(1120);function i(e,t){for(;!Object.prototype.hasOwnProperty.call(e,t)&&null!==(e=(0,r.Z)(e)););return e}function a(){return a="undefined"!==typeof Reflect&&Reflect.get?Reflect.get.bind():function(e,t,n){var r=i(e,t);if(r){var a=Object.getOwnPropertyDescriptor(r,t);return a.get?a.get.call(arguments.length<3?e:n):a.value}},a.apply(this,arguments)}},1120:function(e,t,n){"use strict";function r(e){return r=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)},r(e)}n.d(t,{Z:function(){return r}})},136:function(e,t,n){"use strict";n.d(t,{Z:function(){return i}});var r=n(9611);function i(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&(0,r.Z)(e,t)}},8814:function(e,t,n){"use strict";function r(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}n.d(t,{Z:function(){return r}})},9199:function(e,t,n){"use strict";function r(e){if("undefined"!==typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}n.d(t,{Z:function(){return r}})},5267:function(e,t,n){"use strict";function r(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}n.d(t,{Z:function(){return r}})},1413:function(e,t,n){"use strict";n.d(t,{Z:function(){return a}});var r=n(4942);function i(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function a(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?i(Object(n),!0).forEach((function(t){(0,r.Z)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):i(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}},9611:function(e,t,n){"use strict";function r(e,t){return r=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e},r(e,t)}n.d(t,{Z:function(){return r}})},9439:function(e,t,n){"use strict";n.d(t,{Z:function(){return o}});var r=n(3878);var i=n(181),a=n(5267);function o(e,t){return(0,r.Z)(e)||function(e,t){var n=null==e?null:"undefined"!==typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,i,a=[],o=!0,s=!1;try{for(n=n.call(e);!(o=(r=n.next()).done)&&(a.push(r.value),!t||a.length!==t);o=!0);}catch(u){s=!0,i=u}finally{try{o||null==n.return||n.return()}finally{if(s)throw i}}return a}}(e,t)||(0,i.Z)(e,t)||(0,a.Z)()}},3433:function(e,t,n){"use strict";n.d(t,{Z:function(){return o}});var r=n(907);var i=n(9199),a=n(181);function o(e){return function(e){if(Array.isArray(e))return(0,r.Z)(e)}(e)||(0,i.Z)(e)||(0,a.Z)(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}},1002:function(e,t,n){"use strict";function r(e){return r="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},r(e)}n.d(t,{Z:function(){return r}})},181:function(e,t,n){"use strict";n.d(t,{Z:function(){return i}});var r=n(907);function i(e,t){if(e){if("string"===typeof e)return(0,r.Z)(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?(0,r.Z)(e,t):void 0}}}},t={};function n(r){var i=t[r];if(void 0!==i)return i.exports;var a=t[r]={id:r,loaded:!1,exports:{}};return e[r].call(a.exports,a,a.exports,n),a.loaded=!0,a.exports}n.m=e,n.amdO={},n.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return n.d(t,{a:t}),t},n.d=function(e,t){for(var r in t)n.o(t,r)&&!n.o(e,r)&&Object.defineProperty(e,r,{enumerable:!0,get:t[r]})},n.f={},n.e=function(e){return Promise.all(Object.keys(n.f).reduce((function(t,r){return n.f[r](e,t),t}),[]))},n.u=function(e){return"static/js/"+e+".1838fe0d.chunk.js"},n.miniCssF=function(e){},n.g=function(){if("object"===typeof globalThis)return globalThis;try{return this||new Function("return this")()}catch(e){if("object"===typeof window)return window}}(),n.hmd=function(e){return(e=Object.create(e)).children||(e.children=[]),Object.defineProperty(e,"exports",{enumerable:!0,set:function(){throw new Error("ES Modules may not assign module.exports or exports.*, Use ESM export syntax, instead: "+e.id)}}),e},n.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},function(){var e={},t="want-smth:";n.l=function(r,i,a,o){if(e[r])e[r].push(i);else{var s,u;if(void 0!==a)for(var c=document.getElementsByTagName("script"),l=0;l<c.length;l++){var d=c[l];if(d.getAttribute("src")==r||d.getAttribute("data-webpack")==t+a){s=d;break}}s||(u=!0,(s=document.createElement("script")).charset="utf-8",s.timeout=120,n.nc&&s.setAttribute("nonce",n.nc),s.setAttribute("data-webpack",t+a),s.src=r),e[r]=[i];var f=function(t,n){s.onerror=s.onload=null,clearTimeout(h);var i=e[r];if(delete e[r],s.parentNode&&s.parentNode.removeChild(s),i&&i.forEach((function(e){return e(n)})),t)return t(n)},h=setTimeout(f.bind(null,void 0,{type:"timeout",target:s}),12e4);s.onerror=f.bind(null,s.onerror),s.onload=f.bind(null,s.onload),u&&document.head.appendChild(s)}}}(),n.r=function(e){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},n.p="/want-smth-test/",function(){var e={179:0};n.f.j=function(t,r){var i=n.o(e,t)?e[t]:void 0;if(0!==i)if(i)r.push(i[2]);else{var a=new Promise((function(n,r){i=e[t]=[n,r]}));r.push(i[2]=a);var o=n.p+n.u(t),s=new Error;n.l(o,(function(r){if(n.o(e,t)&&(0!==(i=e[t])&&(e[t]=void 0),i)){var a=r&&("load"===r.type?"missing":r.type),o=r&&r.target&&r.target.src;s.message="Loading chunk "+t+" failed.\n("+a+": "+o+")",s.name="ChunkLoadError",s.type=a,s.request=o,i[1](s)}}),"chunk-"+t,t)}};var t=function(t,r){var i,a,o=r[0],s=r[1],u=r[2],c=0;if(o.some((function(t){return 0!==e[t]}))){for(i in s)n.o(s,i)&&(n.m[i]=s[i]);if(u)u(n)}for(t&&t(r);c<o.length;c++)a=o[c],n.o(e,a)&&e[a]&&e[a][0](),e[a]=0},r=self.webpackChunkwant_smth=self.webpackChunkwant_smth||[];r.forEach(t.bind(null,0)),r.push=t.bind(null,r.push.bind(r))}(),function(){"use strict";var e={};n.r(e),n.d(e,{FirebaseError:function(){return xr},SDK_VERSION:function(){return Gi},_DEFAULT_ENTRY_NAME:function(){return Oi},_addComponent:function(){return Li},_addOrOverwriteComponent:function(){return Ui},_apps:function(){return Ai},_clearComponents:function(){return qi},_components:function(){return Zi},_getProvider:function(){return ji},_registerComponent:function(){return Mi},_removeServiceInstance:function(){return Fi},deleteApp:function(){return Ki},getApp:function(){return Vi},getApps:function(){return Yi},initializeApp:function(){return Hi},onLog:function(){return Qi},registerVersion:function(){return Ji},setLogLevel:function(){return Xi}});var t=n(2791),r=n(1250),i="7.3.1",a=n(1413),o=n(3433),s=n(1917),u=n(8539),c=n(6017),l=[];function d(e){return e.reduce((function(e,t){return e.every((function(e){return t.name!==e.name}))&&e.push(t),e}),[])}function f(e){var t=e.defaultIntegrations&&(0,o.Z)(e.defaultIntegrations)||[],n=e.integrations,r=(0,o.Z)(d(t));Array.isArray(n)?r=[].concat((0,o.Z)(r.filter((function(e){return n.every((function(t){return t.name!==e.name}))}))),(0,o.Z)(d(n))):"function"===typeof n&&(r=n(r),r=Array.isArray(r)?r:[r]);var i,a=r.map((function(e){return e.name})),s="Debug";-1!==a.indexOf(s)&&(i=r).push.apply(i,(0,o.Z)(r.splice(a.indexOf(s),1)));return r}function h(e,t){!0===t.debug&&("undefined"===typeof __SENTRY_DEBUG__||__SENTRY_DEBUG__?c.kg.enable():console.warn("[Sentry] Cannot initialize SDK with `debug` option using a non-debug bundle."));var n=(0,u.Gd)(),r=n.getScope();r&&r.update(t.initialScope);var i=new e(t);n.bindClient(i)}var p=n(5671),v=n(3144),m=n(6870),g=n(7050),y=[/^Script error\.?$/,/^Javascript error: Script error\.? on line 0$/],_=function(){function e(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};(0,p.Z)(this,e),this._options=t,e.prototype.__init.call(this)}return(0,v.Z)(e,[{key:"__init",value:function(){this.name=e.id}},{key:"setupOnce",value:function(t,n){var r=function(t){var r=n();if(r){var i=r.getIntegration(e);if(i){var a=r.getClient(),s=a?a.getOptions():{},u=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return{allowUrls:[].concat((0,o.Z)(e.allowUrls||[]),(0,o.Z)(t.allowUrls||[])),denyUrls:[].concat((0,o.Z)(e.denyUrls||[]),(0,o.Z)(t.denyUrls||[])),ignoreErrors:[].concat((0,o.Z)(e.ignoreErrors||[]),(0,o.Z)(t.ignoreErrors||[]),y),ignoreInternal:void 0===e.ignoreInternal||e.ignoreInternal}}(i._options,s);return function(e,t){if(t.ignoreInternal&&function(e){try{return"SentryError"===e.exception.values[0].type}catch(t){}return!1}(e))return("undefined"===typeof __SENTRY_DEBUG__||__SENTRY_DEBUG__)&&c.kg.warn("Event dropped due to being internal Sentry Error.\nEvent: ".concat((0,m.jH)(e))),!0;if(function(e,t){if(!t||!t.length)return!1;return function(e){if(e.message)return[e.message];if(e.exception)try{var t=e.exception.values&&e.exception.values[0]||{},n=t.type,r=void 0===n?"":n,i=t.value,a=void 0===i?"":i;return["".concat(a),"".concat(r,": ").concat(a)]}catch(o){return("undefined"===typeof __SENTRY_DEBUG__||__SENTRY_DEBUG__)&&c.kg.error("Cannot extract message for event ".concat((0,m.jH)(e))),[]}return[]}(e).some((function(e){return t.some((function(t){return(0,g.zC)(e,t)}))}))}(e,t.ignoreErrors))return("undefined"===typeof __SENTRY_DEBUG__||__SENTRY_DEBUG__)&&c.kg.warn("Event dropped due to being matched by `ignoreErrors` option.\nEvent: ".concat((0,m.jH)(e))),!0;if(function(e,t){if(!t||!t.length)return!1;var n=b(e);return!!n&&t.some((function(e){return(0,g.zC)(n,e)}))}(e,t.denyUrls))return("undefined"===typeof __SENTRY_DEBUG__||__SENTRY_DEBUG__)&&c.kg.warn("Event dropped due to being matched by `denyUrls` option.\nEvent: ".concat((0,m.jH)(e),".\nUrl: ").concat(b(e))),!0;if(!function(e,t){if(!t||!t.length)return!0;var n=b(e);return!n||t.some((function(e){return(0,g.zC)(n,e)}))}(e,t.allowUrls))return("undefined"===typeof __SENTRY_DEBUG__||__SENTRY_DEBUG__)&&c.kg.warn("Event dropped due to not being matched by `allowUrls` option.\nEvent: ".concat((0,m.jH)(e),".\nUrl: ").concat(b(e))),!0;return!1}(t,u)?null:t}}return t};r.id=this.name,t(r)}}],[{key:"__initStatic",value:function(){this.id="InboundFilters"}}]),e}();function b(e){try{var t;try{t=e.exception.values[0].stacktrace.frames}catch(n){}return t?function(){for(var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],t=e.length-1;t>=0;t--){var n=e[t];if(n&&"<anonymous>"!==n.filename&&"[native code]"!==n.filename)return n.filename||null}return null}(t):null}catch(r){return("undefined"===typeof __SENTRY_DEBUG__||__SENTRY_DEBUG__)&&c.kg.error("Cannot extract url for event ".concat((0,m.jH)(e))),null}}_.__initStatic();var k,w=n(5256),S=function(){function e(){(0,p.Z)(this,e),e.prototype.__init.call(this)}return(0,v.Z)(e,[{key:"__init",value:function(){this.name=e.id}},{key:"setupOnce",value:function(){k=Function.prototype.toString,Function.prototype.toString=function(){for(var e=(0,w.HK)(this)||this,t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];return k.apply(e,n)}}}],[{key:"__initStatic",value:function(){this.id="FunctionToString"}}]),e}();S.__initStatic();var E=n(2968),x=n(8578),I=n(4678),T=n(2034),C=n(1752),N=n(1120),R=n(136),P=n(7277);function O(e){var t=e.protocol?"".concat(e.protocol,":"):"",n=e.port?":".concat(e.port):"";return"".concat(t,"//").concat(e.host).concat(n).concat(e.path?"/".concat(e.path):"","/api/")}function D(e,t){return t||"".concat(function(e){return"".concat(O(e)).concat(e.projectId,"/envelope/")}(e),"?").concat(function(e){return(0,w._j)({sentry_key:e.publicKey,sentry_version:"7"})}(e))}var A=n(9439),Z=n(7762),L=n(3082),U=n(7326),M=n(9611);var j=n(8814);function F(e,t,n){return F=(0,j.Z)()?Reflect.construct.bind():function(e,t,n){var r=[null];r.push.apply(r,t);var i=new(Function.bind.apply(e,r));return n&&(0,M.Z)(i,n.prototype),i},F.apply(null,arguments)}function q(e){var t="function"===typeof Map?new Map:void 0;return q=function(e){if(null===e||(n=e,-1===Function.toString.call(n).indexOf("[native code]")))return e;var n;if("function"!==typeof e)throw new TypeError("Super expression must either be null or a function");if("undefined"!==typeof t){if(t.has(e))return t.get(e);t.set(e,r)}function r(){return F(e,arguments,(0,N.Z)(this).constructor)}return r.prototype=Object.create(e.prototype,{constructor:{value:r,enumerable:!1,writable:!0,configurable:!0}}),(0,M.Z)(r,e)},q(e)}var z=function(e){(0,R.Z)(n,e);var t=(0,P.Z)(n);function n(e){var r;return(0,p.Z)(this,n),(r=t.call(this,e)).message=e,r.name=(this instanceof n?this.constructor:void 0).prototype.constructor.name,Object.setPrototypeOf((0,U.Z)(r),(this instanceof n?this.constructor:void 0).prototype),r}return(0,v.Z)(n)}(q(Error)),B=/^(?:(\w+):)\/\/(?:(\w+)(?::(\w+))?@)([\w.-]+)(?::(\d+))?\/(.+)/;function W(e){var t=arguments.length>1&&void 0!==arguments[1]&&arguments[1],n=e.host,r=e.path,i=e.pass,a=e.port,o=e.projectId,s=e.protocol,u=e.publicKey;return"".concat(s,"://").concat(u).concat(t&&i?":".concat(i):"")+"@".concat(n).concat(a?":".concat(a):"","/").concat(r?"".concat(r,"/"):r).concat(o)}function G(e){var t=B.exec(e);if(!t)throw new z("Invalid Sentry Dsn: ".concat(e));var n=t.slice(1),r=(0,A.Z)(n,6),i=r[0],a=r[1],o=r[2],s=void 0===o?"":o,u=r[3],c=r[4],l=void 0===c?"":c,d="",f=r[5],h=f.split("/");if(h.length>1&&(d=h.slice(0,-1).join("/"),f=h.pop()),f){var p=f.match(/^\d+/);p&&(f=p[0])}return H({host:u,pass:s,path:d,projectId:f,port:l,protocol:i,publicKey:a})}function H(e){return{protocol:e.protocol,publicKey:e.publicKey||"",pass:e.pass||"",host:e.host,port:e.port||"",path:e.path||"",projectId:e.projectId}}function V(e){var t="string"===typeof e?G(e):H(e);return function(e){if("undefined"===typeof __SENTRY_DEBUG__||__SENTRY_DEBUG__){var t=e.port,n=e.projectId,r=e.protocol;if(["protocol","publicKey","host","projectId"].forEach((function(t){if(!e[t])throw new z("Invalid Sentry Dsn: ".concat(t," missing"))})),!n.match(/^\d+$/))throw new z("Invalid Sentry Dsn: Invalid projectId ".concat(n));if(!function(e){return"http"===e||"https"===e}(r))throw new z("Invalid Sentry Dsn: Invalid protocol ".concat(r));if(t&&isNaN(parseInt(t,10)))throw new z("Invalid Sentry Dsn: Invalid port ".concat(t))}}(t),t}var Y=n(8805),K=n(9153);function $(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[];return[e,t]}function J(e,t){var n=(0,A.Z)(e,2),r=n[0],i=n[1];return[r,[].concat((0,o.Z)(i),[t])]}function Q(e,t){e[1].forEach((function(e){var n=e[0].type;t(e,n)}))}function X(e,t){return(t||new TextEncoder).encode(e)}function ee(e,t){var n=(0,A.Z)(e,2),r=n[0],i=n[1],a=JSON.stringify(r);function o(e){"string"===typeof a?a="string"===typeof e?a+e:[X(a,t),e]:a.push("string"===typeof e?X(e,t):e)}var s,u=(0,Z.Z)(i);try{for(u.s();!(s=u.n()).done;){var c=s.value,l=(0,A.Z)(c,2),d=l[0],f=l[1];o("\n".concat(JSON.stringify(d),"\n")),o("string"===typeof f||f instanceof Uint8Array?f:JSON.stringify(f))}}catch(h){u.e(h)}finally{u.f()}return"string"===typeof a?a:function(e){var t,n=e.reduce((function(e,t){return e+t.length}),0),r=new Uint8Array(n),i=0,a=(0,Z.Z)(e);try{for(a.s();!(t=a.n()).done;){var o=t.value;r.set(o,i),i+=o.length}}catch(h){a.e(h)}finally{a.f()}return r}(a)}function te(e,t){var n="string"===typeof e.data?X(e.data,t):e.data;return[(0,w.Jr)({type:"attachment",length:n.length,filename:e.filename,content_type:e.contentType,attachment_type:e.attachmentType}),n]}var ne={session:"session",sessions:"session",attachment:"attachment",transaction:"transaction",event:"error",client_report:"internal",user_report:"default"};function re(e){return ne[e]}var ie=n(9846);function ae(){var e="function"===typeof WeakSet,t=e?new WeakSet:[];return[function(n){if(e)return!!t.has(n)||(t.add(n),!1);for(var r=0;r<t.length;r++){if(t[r]===n)return!0}return t.push(n),!1},function(n){if(e)t.delete(n);else for(var r=0;r<t.length;r++)if(t[r]===n){t.splice(r,1);break}}]}function oe(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1/0,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:1/0;try{return ue("",e,t,n)}catch(r){return{ERROR:"**non-serializable** (".concat(r,")")}}}function se(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:3,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:102400,r=oe(e,t);return le(r)>n?se(e,t-1,n):r}function ue(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:1/0,r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:1/0,i=arguments.length>4&&void 0!==arguments[4]?arguments[4]:ae(),a=(0,A.Z)(i,2),o=a[0],s=a[1],u=t;if(u&&"function"===typeof u.toJSON)try{return u.toJSON()}catch(v){}if(null===t||["number","boolean","string"].includes(typeof t)&&!(0,Y.i2)(t))return t;var c=ce(e,t);if(!c.startsWith("[object "))return c;if(t.__sentry_skip_normalization__)return t;if(0===n)return c.replace("object ","");if(o(t))return"[Circular ~]";var l=Array.isArray(t)?[]:{},d=0,f=(0,w.Sh)(t);for(var h in f)if(Object.prototype.hasOwnProperty.call(f,h)){if(d>=r){l[h]="[MaxProperties ~]";break}var p=f[h];l[h]=ue(h,p,n-1,r,i),d+=1}return s(t),l}function ce(e,t){try{return"domain"===e&&t&&"object"===typeof t&&t._events?"[Domain]":"domainEmitter"===e?"[DomainEmitter]":"undefined"!==typeof n.g&&t===n.g?"[Global]":"undefined"!==typeof window&&t===window?"[Window]":"undefined"!==typeof document&&t===document?"[Document]":(0,Y.Cy)(t)?"[SyntheticEvent]":"number"===typeof t&&t!==t?"[NaN]":void 0===t?"[undefined]":"function"===typeof t?"[Function: ".concat((0,x.$P)(t),"]"):"symbol"===typeof t?"[".concat(String(t),"]"):"bigint"===typeof t?"[BigInt: ".concat(String(t),"]"):"[object ".concat(Object.getPrototypeOf(t).constructor.name,"]")}catch(r){return"**non-serializable** (".concat(r,")")}}function le(e){return function(e){return~-encodeURI(e).split(/%..|./).length}(JSON.stringify(e))}var de=n(437);function fe(e){if(e&&e.sdk){var t=e.sdk;return{name:t.name,version:t.version}}}function he(e,t,n,r){var i=fe(n),s=e.type||"event",u=(e.sdkProcessingMetadata||{}).transactionSampling||{},c=u.method,l=u.rate;!function(e,t){t&&(e.sdk=e.sdk||{},e.sdk.name=e.sdk.name||t.name,e.sdk.version=e.sdk.version||t.version,e.sdk.integrations=[].concat((0,o.Z)(e.sdk.integrations||[]),(0,o.Z)(t.integrations||[])),e.sdk.packages=[].concat((0,o.Z)(e.sdk.packages||[]),(0,o.Z)(t.packages||[])))}(e,n&&n.sdk);var d=function(e,t,n,r){var i=e.sdkProcessingMetadata&&e.sdkProcessingMetadata.baggage,o=i&&(0,de.Hk)(i);return(0,a.Z)((0,a.Z)((0,a.Z)({event_id:e.event_id,sent_at:(new Date).toISOString()},t&&{sdk:t}),!!n&&{dsn:W(r)}),"transaction"===e.type&&o&&{trace:(0,w.Jr)((0,a.Z)({},o))})}(e,i,r,t);return delete e.sdkProcessingMetadata,$(d,[[{type:s,sample_rates:[{id:c,rate:l}]},e]])}var pe="Not capturing exception because it's already been captured.",ve=function(){function e(t){if((0,p.Z)(this,e),e.prototype.__init.call(this),e.prototype.__init2.call(this),e.prototype.__init3.call(this),e.prototype.__init4.call(this),this._options=t,t.dsn){this._dsn=V(t.dsn);var n=D(this._dsn,t.tunnel);this._transport=t.transport((0,a.Z)((0,a.Z)({recordDroppedEvent:this.recordDroppedEvent.bind(this)},t.transportOptions),{},{url:n}))}else("undefined"===typeof __SENTRY_DEBUG__||__SENTRY_DEBUG__)&&c.kg.warn("No DSN provided, client will not do anything.")}return(0,v.Z)(e,[{key:"__init",value:function(){this._integrations={}}},{key:"__init2",value:function(){this._integrationsInitialized=!1}},{key:"__init3",value:function(){this._numProcessing=0}},{key:"__init4",value:function(){this._outcomes={}}},{key:"captureException",value:function(e,t,n){var r=this;if(!(0,m.YO)(e)){var i=t&&t.event_id;return this._process(this.eventFromException(e,t).then((function(e){return r._captureEvent(e,t,n)})).then((function(e){i=e}))),i}("undefined"===typeof __SENTRY_DEBUG__||__SENTRY_DEBUG__)&&c.kg.log(pe)}},{key:"captureMessage",value:function(e,t,n,r){var i=this,a=n&&n.event_id,o=(0,Y.pt)(e)?this.eventFromMessage(String(e),t,n):this.eventFromException(e,n);return this._process(o.then((function(e){return i._captureEvent(e,n,r)})).then((function(e){a=e}))),a}},{key:"captureEvent",value:function(e,t,n){if(!(t&&t.originalException&&(0,m.YO)(t.originalException))){var r=t&&t.event_id;return this._process(this._captureEvent(e,t,n).then((function(e){r=e}))),r}("undefined"===typeof __SENTRY_DEBUG__||__SENTRY_DEBUG__)&&c.kg.log(pe)}},{key:"captureSession",value:function(e){this._isEnabled()?"string"!==typeof e.release?("undefined"===typeof __SENTRY_DEBUG__||__SENTRY_DEBUG__)&&c.kg.warn("Discarded session because of missing or non-string release"):(this.sendSession(e),(0,L.CT)(e,{init:!1})):("undefined"===typeof __SENTRY_DEBUG__||__SENTRY_DEBUG__)&&c.kg.warn("SDK not enabled, will not capture session.")}},{key:"getDsn",value:function(){return this._dsn}},{key:"getOptions",value:function(){return this._options}},{key:"getTransport",value:function(){return this._transport}},{key:"flush",value:function(e){var t=this._transport;return t?this._isClientDoneProcessing(e).then((function(n){return t.flush(e).then((function(e){return n&&e}))})):(0,K.WD)(!0)}},{key:"close",value:function(e){var t=this;return this.flush(e).then((function(e){return t.getOptions().enabled=!1,e}))}},{key:"setupIntegrations",value:function(){this._isEnabled()&&!this._integrationsInitialized&&(this._integrations=function(e){var t={};return e.forEach((function(e){t[e.name]=e,-1===l.indexOf(e.name)&&(e.setupOnce(s.c,u.Gd),l.push(e.name),("undefined"===typeof __SENTRY_DEBUG__||__SENTRY_DEBUG__)&&c.kg.log("Integration installed: ".concat(e.name)))})),t}(this._options.integrations),this._integrationsInitialized=!0)}},{key:"getIntegrationById",value:function(e){return this._integrations[e]}},{key:"getIntegration",value:function(e){try{return this._integrations[e.id]||null}catch(t){return("undefined"===typeof __SENTRY_DEBUG__||__SENTRY_DEBUG__)&&c.kg.warn("Cannot retrieve integration ".concat(e.id," from the current Client")),null}}},{key:"sendEvent",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};if(this._dsn){var n,r=he(e,this._dsn,this._options._metadata,this._options.tunnel),i=(0,Z.Z)(t.attachments||[]);try{for(i.s();!(n=i.n()).done;){var a=n.value;r=J(r,te(a,this._options.transportOptions&&this._options.transportOptions.textEncoder))}}catch(o){i.e(o)}finally{i.f()}this._sendEnvelope(r)}}},{key:"sendSession",value:function(e){if(this._dsn){var t=function(e,t,n,r){var i=fe(n);return $((0,a.Z)((0,a.Z)({sent_at:(new Date).toISOString()},i&&{sdk:i}),!!r&&{dsn:W(t)}),["aggregates"in e?[{type:"sessions"},e]:[{type:"session"},e]])}(e,this._dsn,this._options._metadata,this._options.tunnel);this._sendEnvelope(t)}}},{key:"recordDroppedEvent",value:function(e,t){if(this._options.sendClientReports){var n="".concat(e,":").concat(t);("undefined"===typeof __SENTRY_DEBUG__||__SENTRY_DEBUG__)&&c.kg.log('Adding outcome: "'.concat(n,'"')),this._outcomes[n]=this._outcomes[n]+1||1}}},{key:"_updateSessionFromEvent",value:function(e,t){var n=!1,r=!1,i=t.exception&&t.exception.values;if(i){r=!0;var o,s=(0,Z.Z)(i);try{for(s.s();!(o=s.n()).done;){var u=o.value.mechanism;if(u&&!1===u.handled){n=!0;break}}}catch(l){s.e(l)}finally{s.f()}}var c="ok"===e.status;(c&&0===e.errors||c&&n)&&((0,L.CT)(e,(0,a.Z)((0,a.Z)({},n&&{status:"crashed"}),{},{errors:e.errors||Number(r||n)})),this.captureSession(e))}},{key:"_isClientDoneProcessing",value:function(e){var t=this;return new K.cW((function(n){var r=0,i=setInterval((function(){0==t._numProcessing?(clearInterval(i),n(!0)):(r+=1,e&&r>=e&&(clearInterval(i),n(!1)))}),1)}))}},{key:"_isEnabled",value:function(){return!1!==this.getOptions().enabled&&void 0!==this._dsn}},{key:"_prepareEvent",value:function(e,t,n){var r=this,i=this.getOptions(),u=i.normalizeDepth,c=void 0===u?3:u,l=i.normalizeMaxBreadth,d=void 0===l?1e3:l,f=(0,a.Z)((0,a.Z)({},e),{},{event_id:e.event_id||t.event_id||(0,m.DM)(),timestamp:e.timestamp||(0,ie.yW)()});this._applyClientOptions(f),this._applyIntegrationsMetadata(f);var h=n;t.captureContext&&(h=s.s.clone(h).update(t.captureContext));var p=(0,K.WD)(f);if(h){var v=[].concat((0,o.Z)(t.attachments||[]),(0,o.Z)(h.getAttachments()));v.length&&(t.attachments=v),p=h.applyToEvent(f,t)}return p.then((function(e){return"number"===typeof c&&c>0?r._normalizeEvent(e,c,d):e}))}},{key:"_normalizeEvent",value:function(e,t,n){if(!e)return null;var r=(0,a.Z)((0,a.Z)((0,a.Z)((0,a.Z)((0,a.Z)({},e),e.breadcrumbs&&{breadcrumbs:e.breadcrumbs.map((function(e){return(0,a.Z)((0,a.Z)({},e),e.data&&{data:oe(e.data,t,n)})}))}),e.user&&{user:oe(e.user,t,n)}),e.contexts&&{contexts:oe(e.contexts,t,n)}),e.extra&&{extra:oe(e.extra,t,n)});return e.contexts&&e.contexts.trace&&r.contexts&&(r.contexts.trace=e.contexts.trace,e.contexts.trace.data&&(r.contexts.trace.data=oe(e.contexts.trace.data,t,n))),e.spans&&(r.spans=e.spans.map((function(e){return e.data&&(e.data=oe(e.data,t,n)),e}))),r}},{key:"_applyClientOptions",value:function(e){var t=this.getOptions(),n=t.environment,r=t.release,i=t.dist,a=t.maxValueLength,o=void 0===a?250:a;"environment"in e||(e.environment="environment"in t?n:"production"),void 0===e.release&&void 0!==r&&(e.release=r),void 0===e.dist&&void 0!==i&&(e.dist=i),e.message&&(e.message=(0,g.$G)(e.message,o));var s=e.exception&&e.exception.values&&e.exception.values[0];s&&s.value&&(s.value=(0,g.$G)(s.value,o));var u=e.request;u&&u.url&&(u.url=(0,g.$G)(u.url,o))}},{key:"_applyIntegrationsMetadata",value:function(e){var t=Object.keys(this._integrations);t.length>0&&(e.sdk=e.sdk||{},e.sdk.integrations=[].concat((0,o.Z)(e.sdk.integrations||[]),(0,o.Z)(t)))}},{key:"_captureEvent",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=arguments.length>2?arguments[2]:void 0;return this._processEvent(e,t,n).then((function(e){return e.event_id}),(function(e){("undefined"===typeof __SENTRY_DEBUG__||__SENTRY_DEBUG__)&&c.kg.warn(e)}))}},{key:"_processEvent",value:function(e,t,n){var r=this,i=this.getOptions(),a=i.beforeSend,o=i.sampleRate;if(!this._isEnabled())return(0,K.$2)(new z("SDK not enabled, will not capture event."));var s="transaction"===e.type;return!s&&"number"===typeof o&&Math.random()>o?(this.recordDroppedEvent("sample_rate","error"),(0,K.$2)(new z("Discarding event because it's not included in the random sample (sampling rate = ".concat(o,")")))):this._prepareEvent(e,t,n).then((function(n){if(null===n)throw r.recordDroppedEvent("event_processor",e.type||"error"),new z("An event processor returned null, will not send event.");return t.data&&!0===t.data.__sentry__||s||!a?n:function(e){var t="`beforeSend` method has to return `null` or a valid event.";if((0,Y.J8)(e))return e.then((function(e){if(!(0,Y.PO)(e)&&null!==e)throw new z(t);return e}),(function(e){throw new z("beforeSend rejected with ".concat(e))}));if(!(0,Y.PO)(e)&&null!==e)throw new z(t);return e}(a(n,t))})).then((function(i){if(null===i)throw r.recordDroppedEvent("before_send",e.type||"error"),new z("`beforeSend` returned `null`, will not send event.");var a=n&&n.getSession();return!s&&a&&r._updateSessionFromEvent(a,i),r.sendEvent(i,t),i})).then(null,(function(e){if(e instanceof z)throw e;throw r.captureException(e,{data:{__sentry__:!0},originalException:e}),new z("Event processing pipeline threw an error, original event will not be sent. Details have been sent as a new event.\nReason: ".concat(e))}))}},{key:"_process",value:function(e){var t=this;this._numProcessing+=1,e.then((function(e){return t._numProcessing-=1,e}),(function(e){return t._numProcessing-=1,e}))}},{key:"_sendEnvelope",value:function(e){this._transport&&this._dsn?this._transport.send(e).then(null,(function(e){("undefined"===typeof __SENTRY_DEBUG__||__SENTRY_DEBUG__)&&c.kg.error("Error while sending event:",e)})):("undefined"===typeof __SENTRY_DEBUG__||__SENTRY_DEBUG__)&&c.kg.error("Transport disabled")}},{key:"_clearOutcomes",value:function(){var e=this._outcomes;return this._outcomes={},Object.keys(e).map((function(t){var n=t.split(":"),r=(0,A.Z)(n,2);return{reason:r[0],category:r[1],quantity:e[t]}}))}}]),e}();function me(e,t){var n=ye(e,t),r={type:t&&t.name,value:be(t)};return n.length&&(r.stacktrace={frames:n}),void 0===r.type&&""===r.value&&(r.value="Unrecoverable error caught"),r}function ge(e,t){return{exception:{values:[me(e,t)]}}}function ye(e,t){var n=t.stacktrace||t.stack||"",r=function(e){if(e){if("number"===typeof e.framesToPop)return e.framesToPop;if(_e.test(e.message))return 1}return 0}(t);try{return e(n,r)}catch(i){}return[]}var _e=/Minified React error #\d+;/i;function be(e){var t=e&&e.message;return t?t.error&&"string"===typeof t.error.message?t.error.message:t:"No error message"}function ke(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"info",r=arguments.length>3?arguments[3]:void 0,i=arguments.length>4?arguments[4]:void 0,a=r&&r.syntheticException||void 0,o=Se(e,t,a,i);return o.level=n,r&&r.event_id&&(o.event_id=r.event_id),(0,K.WD)(o)}function we(e,t,n,r,i){var o;if((0,Y.VW)(t)&&t.error)return ge(e,t.error);if((0,Y.TX)(t)||(0,Y.fm)(t)){var s=t;if("stack"in t)o=ge(e,t);else{var u=s.name||((0,Y.TX)(s)?"DOMError":"DOMException"),c=s.message?"".concat(u,": ").concat(s.message):u;o=Se(e,c,n,r),(0,m.Db)(o,c)}return"code"in s&&(o.tags=(0,a.Z)((0,a.Z)({},o.tags),{},{"DOMException.code":"".concat(s.code)})),o}return(0,Y.VZ)(t)?ge(e,t):(0,Y.PO)(t)||(0,Y.cO)(t)?(o=function(e,t,n,r){var i={exception:{values:[{type:(0,Y.cO)(t)?t.constructor.name:r?"UnhandledRejection":"Error",value:"Non-Error ".concat(r?"promise rejection":"exception"," captured with keys: ").concat((0,w.zf)(t))}]},extra:{__serialized__:se(t)}};if(n){var a=ye(e,n);a.length&&(i.exception.values[0].stacktrace={frames:a})}return i}(e,t,n,i),(0,m.EG)(o,{synthetic:!0}),o):(o=Se(e,t,n,r),(0,m.Db)(o,"".concat(t),void 0),(0,m.EG)(o,{synthetic:!0}),o)}function Se(e,t,n,r){var i={message:t};if(r&&n){var a=ye(e,n);a.length&&(i.exception={values:[{value:t,stacktrace:{frames:a}}]})}return i}var Ee=n(4044),xe=["fatal","error","warning","log","info","debug"];function Ie(e){return"warn"===e?"warning":xe.includes(e)?e:"log"}var Te="Breadcrumbs",Ce=function(){function e(t){(0,p.Z)(this,e),e.prototype.__init.call(this),this.options=(0,a.Z)({console:!0,dom:!0,fetch:!0,history:!0,sentry:!0,xhr:!0},t)}return(0,v.Z)(e,[{key:"__init",value:function(){this.name=e.id}},{key:"setupOnce",value:function(){this.options.console&&(0,T.o)("console",Ne),this.options.dom&&(0,T.o)("dom",function(e){function t(t){var n,r="object"===typeof e?e.serializeAttribute:void 0;"string"===typeof r&&(r=[r]);try{n=t.event.target?(0,Ee.R)(t.event.target,r):(0,Ee.R)(t.event,r)}catch(i){n="<unknown>"}0!==n.length&&(0,u.Gd)().addBreadcrumb({category:"ui.".concat(t.name),message:n},{event:t.event,name:t.name,global:t.global})}return t}(this.options.dom)),this.options.xhr&&(0,T.o)("xhr",Re),this.options.fetch&&(0,T.o)("fetch",Pe),this.options.history&&(0,T.o)("history",Oe)}}],[{key:"__initStatic",value:function(){this.id=Te}}]),e}();function Ne(e){var t={category:"console",data:{arguments:e.args,logger:"console"},level:Ie(e.level),message:(0,g.nK)(e.args," ")};if("assert"===e.level){if(!1!==e.args[0])return;t.message="Assertion failed: ".concat((0,g.nK)(e.args.slice(1)," ")||"console.assert"),t.data.arguments=e.args.slice(1)}(0,u.Gd)().addBreadcrumb(t,{input:e.args,level:e.level})}function Re(e){if(e.endTimestamp){if(e.xhr.__sentry_own_request__)return;var t=e.xhr.__sentry_xhr__||{},n=t.method,r=t.url,i=t.status_code,a=t.body;(0,u.Gd)().addBreadcrumb({category:"xhr",data:{method:n,url:r,status_code:i},type:"http"},{xhr:e.xhr,input:a})}else;}function Pe(e){e.endTimestamp&&(e.fetchData.url.match(/sentry_key/)&&"POST"===e.fetchData.method||(e.error?(0,u.Gd)().addBreadcrumb({category:"fetch",data:e.fetchData,level:"error",type:"http"},{data:e.error,input:e.args}):(0,u.Gd)().addBreadcrumb({category:"fetch",data:(0,a.Z)((0,a.Z)({},e.fetchData),{},{status_code:e.response.status}),type:"http"},{input:e.args,response:e.response})))}function Oe(e){var t=(0,E.R)(),n=e.from,r=e.to,i=(0,m.en)(t.location.href),a=(0,m.en)(n),o=(0,m.en)(r);a.path||(a=i),i.protocol===o.protocol&&i.host===o.host&&(r=o.relative),i.protocol===a.protocol&&i.host===a.host&&(n=a.relative),(0,u.Gd)().addBreadcrumb({category:"navigation",data:{from:n,to:r}})}Ce.__initStatic();var De,Ae=(0,E.R)();function Ze(){if(De)return De;if((0,I.Du)(Ae.fetch))return De=Ae.fetch.bind(Ae);var e=Ae.document,t=Ae.fetch;if(e&&"function"===typeof e.createElement)try{var n=e.createElement("iframe");n.hidden=!0,e.head.appendChild(n);var r=n.contentWindow;r&&r.fetch&&(t=r.fetch),e.head.removeChild(n)}catch(i){("undefined"===typeof __SENTRY_DEBUG__||__SENTRY_DEBUG__)&&c.kg.warn("Could not create sandbox iframe for pure fetch check, bailing to window.fetch: ",i)}return De=t.bind(Ae)}var Le=(0,E.R)(),Ue=function(e){(0,R.Z)(n,e);var t=(0,P.Z)(n);function n(e){var r;return(0,p.Z)(this,n),e._metadata=e._metadata||{},e._metadata.sdk=e._metadata.sdk||{name:"sentry.javascript.browser",packages:[{name:"npm:@sentry/browser",version:i}],version:i},r=t.call(this,e),e.sendClientReports&&Le.document&&Le.document.addEventListener("visibilitychange",(function(){"hidden"===Le.document.visibilityState&&r._flushOutcomes()})),r}return(0,v.Z)(n,[{key:"eventFromException",value:function(e,t){return function(e,t,n,r){var i=we(e,t,n&&n.syntheticException||void 0,r);return(0,m.EG)(i),i.level="error",n&&n.event_id&&(i.event_id=n.event_id),(0,K.WD)(i)}(this._options.stackParser,e,t,this._options.attachStacktrace)}},{key:"eventFromMessage",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"info",n=arguments.length>2?arguments[2]:void 0;return ke(this._options.stackParser,e,t,n,this._options.attachStacktrace)}},{key:"sendEvent",value:function(e,t){var r=this.getIntegrationById(Te);r&&r.options&&r.options.sentry&&(0,u.Gd)().addBreadcrumb({category:"sentry.".concat("transaction"===e.type?"transaction":"event"),event_id:e.event_id,level:e.level,message:(0,m.jH)(e)},{event:e}),(0,C.Z)((0,N.Z)(n.prototype),"sendEvent",this).call(this,e,t)}},{key:"_prepareEvent",value:function(e,t,r){return e.platform=e.platform||"javascript",(0,C.Z)((0,N.Z)(n.prototype),"_prepareEvent",this).call(this,e,t,r)}},{key:"_flushOutcomes",value:function(){var e=this._clearOutcomes();if(0!==e.length)if(this._dsn){("undefined"===typeof __SENTRY_DEBUG__||__SENTRY_DEBUG__)&&c.kg.log("Sending outcomes:",e);var t,n,r,i=D(this._dsn,this._options.tunnel),a=(t=e,$((n=this._options.tunnel&&W(this._dsn))?{dsn:n}:{},[[{type:"client_report"},{timestamp:r||(0,ie.yW)(),discarded_events:t}]]));try{!function(e,t){"[object Navigator]"===Object.prototype.toString.call(Ae&&Ae.navigator)&&"function"===typeof Ae.navigator.sendBeacon?Ae.navigator.sendBeacon.bind(Ae.navigator)(e,t):(0,I.Ak)()&&Ze()(e,{body:t,method:"POST",credentials:"omit",keepalive:!0}).then(null,(function(e){("undefined"===typeof __SENTRY_DEBUG__||__SENTRY_DEBUG__)&&c.kg.error(e)}))}(i,ee(a))}catch(o){("undefined"===typeof __SENTRY_DEBUG__||__SENTRY_DEBUG__)&&c.kg.error(o)}}else("undefined"===typeof __SENTRY_DEBUG__||__SENTRY_DEBUG__)&&c.kg.log("No dsn provided, will not send outcomes");else("undefined"===typeof __SENTRY_DEBUG__||__SENTRY_DEBUG__)&&c.kg.log("No outcomes to send")}}]),n}(ve),Me="?";function je(e,t,n,r){var i={filename:e,function:t,in_app:!0};return void 0!==n&&(i.lineno=n),void 0!==r&&(i.colno=r),i}var Fe=/^\s*at (?:(.*?) ?\((?:address at )?)?((?:file|https?|blob|chrome-extension|address|native|eval|webpack|<anonymous>|[-a-z]+:|.*bundle|\/).*?)(?::(\d+))?(?::(\d+))?\)?\s*$/i,qe=/\((\S*)(?::(\d+))(?::(\d+))\)/,ze=/^\s*(.*?)(?:\((.*?)\))?(?:^|@)?((?:file|https?|blob|chrome|webpack|resource|moz-extension|capacitor).*?:\/.*?|\[native code\]|[^@]*(?:bundle|\d+\.js)|\/[\w\-. /=]+)(?::(\d+))?(?::(\d+))?\s*$/i,Be=/(\S+) line (\d+)(?: > eval line \d+)* > eval/i,We=/^\s*at (?:((?:\[object object\])?.+) )?\(?((?:file|ms-appx|https?|webpack|blob):.*?):(\d+)(?::(\d+))?\)?\s*$/i,Ge=[[30,function(e){var t=Fe.exec(e);if(t){if(t[2]&&0===t[2].indexOf("eval")){var n=qe.exec(t[2]);n&&(t[2]=n[1],t[3]=n[2],t[4]=n[3])}var r=Ve(t[1]||Me,t[2]),i=(0,A.Z)(r,2),a=i[0];return je(i[1],a,t[3]?+t[3]:void 0,t[4]?+t[4]:void 0)}}],[50,function(e){var t=ze.exec(e);if(t){if(t[3]&&t[3].indexOf(" > eval")>-1){var n=Be.exec(t[3]);n&&(t[1]=t[1]||"eval",t[3]=n[1],t[4]=n[2],t[5]="")}var r=t[3],i=t[1]||Me,a=Ve(i,r),o=(0,A.Z)(a,2);return i=o[0],je(r=o[1],i,t[4]?+t[4]:void 0,t[5]?+t[5]:void 0)}}],[40,function(e){var t=We.exec(e);return t?je(t[2],t[1]||Me,+t[3],t[4]?+t[4]:void 0):void 0}]],He=x.pE.apply(void 0,Ge),Ve=function(e,t){var n=-1!==e.indexOf("safari-extension"),r=-1!==e.indexOf("safari-web-extension");return n||r?[-1!==e.indexOf("@")?e.split("@")[0]:Me,n?"safari-extension:".concat(t):"safari-web-extension:".concat(t)]:[e,t]};function Ye(e,t){return(0,u.Gd)().captureException(e,{captureContext:t})}function Ke(e){(0,u.Gd)().withScope(e)}var $e=0;function Je(){return $e>0}function Qe(){$e+=1,setTimeout((function(){$e-=1}))}function Xe(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=arguments.length>2?arguments[2]:void 0;if("function"!==typeof e)return e;try{var r=e.__sentry_wrapped__;if(r)return r;if((0,w.HK)(e))return e}catch(u){return e}var i=function(){var r=Array.prototype.slice.call(arguments);try{n&&"function"===typeof n&&n.apply(this,arguments);var i=r.map((function(e){return Xe(e,t)}));return e.apply(this,i)}catch(o){throw Qe(),Ke((function(e){e.addEventProcessor((function(e){return t.mechanism&&((0,m.Db)(e,void 0,void 0),(0,m.EG)(e,t.mechanism)),e.extra=(0,a.Z)((0,a.Z)({},e.extra),{},{arguments:r}),e})),Ye(o)})),o}};try{for(var o in e)Object.prototype.hasOwnProperty.call(e,o)&&(i[o]=e[o])}catch(c){}(0,w.$Q)(i,e),(0,w.xp)(e,"__sentry_wrapped__",i);try{var s=Object.getOwnPropertyDescriptor(i,"name");s.configurable&&Object.defineProperty(i,"name",{get:function(){return e.name}})}catch(c){}return i}var et=["EventTarget","Window","Node","ApplicationCache","AudioTrackList","ChannelMergerNode","CryptoOperation","EventSource","FileReader","HTMLUnknownElement","IDBDatabase","IDBRequest","IDBTransaction","KeyOperation","MediaController","MessagePort","ModalWindow","Notification","SVGElementInstance","Screen","TextTrack","TextTrackCue","TextTrackList","WebSocket","WebSocketWorker","Worker","XMLHttpRequest","XMLHttpRequestEventTarget","XMLHttpRequestUpload"],tt=function(){function e(t){(0,p.Z)(this,e),e.prototype.__init.call(this),this._options=(0,a.Z)({XMLHttpRequest:!0,eventTarget:!0,requestAnimationFrame:!0,setInterval:!0,setTimeout:!0},t)}return(0,v.Z)(e,[{key:"__init",value:function(){this.name=e.id}},{key:"setupOnce",value:function(){var e=(0,E.R)();this._options.setTimeout&&(0,w.hl)(e,"setTimeout",nt),this._options.setInterval&&(0,w.hl)(e,"setInterval",nt),this._options.requestAnimationFrame&&(0,w.hl)(e,"requestAnimationFrame",rt),this._options.XMLHttpRequest&&"XMLHttpRequest"in e&&(0,w.hl)(XMLHttpRequest.prototype,"send",it);var t=this._options.eventTarget;t&&(Array.isArray(t)?t:et).forEach(at)}}],[{key:"__initStatic",value:function(){this.id="TryCatch"}}]),e}();function nt(e){return function(){for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];var i=n[0];return n[0]=Xe(i,{mechanism:{data:{function:(0,x.$P)(e)},handled:!0,type:"instrument"}}),e.apply(this,n)}}function rt(e){return function(t){return e.apply(this,[Xe(t,{mechanism:{data:{function:"requestAnimationFrame",handler:(0,x.$P)(e)},handled:!0,type:"instrument"}})])}}function it(e){return function(){var t=this,n=["onload","onerror","onprogress","onreadystatechange"];n.forEach((function(e){e in t&&"function"===typeof t[e]&&(0,w.hl)(t,e,(function(t){var n={mechanism:{data:{function:e,handler:(0,x.$P)(t)},handled:!0,type:"instrument"}},r=(0,w.HK)(t);return r&&(n.mechanism.data.handler=(0,x.$P)(r)),Xe(t,n)}))}));for(var r=arguments.length,i=new Array(r),a=0;a<r;a++)i[a]=arguments[a];return e.apply(this,i)}}function at(e){var t=(0,E.R)(),n=t[e]&&t[e].prototype;n&&n.hasOwnProperty&&n.hasOwnProperty("addEventListener")&&((0,w.hl)(n,"addEventListener",(function(t){return function(n,r,i){try{"function"===typeof r.handleEvent&&(r.handleEvent=Xe(r.handleEvent,{mechanism:{data:{function:"handleEvent",handler:(0,x.$P)(r),target:e},handled:!0,type:"instrument"}}))}catch(a){}return t.apply(this,[n,Xe(r,{mechanism:{data:{function:"addEventListener",handler:(0,x.$P)(r),target:e},handled:!0,type:"instrument"}}),i])}})),(0,w.hl)(n,"removeEventListener",(function(e){return function(t,n,r){var i=n;try{var a=i&&i.__sentry_wrapped__;a&&e.call(this,t,a,r)}catch(o){}return e.call(this,t,i,r)}})))}tt.__initStatic();var ot=function(){function e(t){(0,p.Z)(this,e),e.prototype.__init.call(this),e.prototype.__init2.call(this),this._options=(0,a.Z)({onerror:!0,onunhandledrejection:!0},t)}return(0,v.Z)(e,[{key:"__init",value:function(){this.name=e.id}},{key:"__init2",value:function(){this._installFunc={onerror:st,onunhandledrejection:ut}}},{key:"setupOnce",value:function(){Error.stackTraceLimit=50;var e=this._options;for(var t in e){var n=this._installFunc[t];n&&e[t]&&(lt(t),n(),this._installFunc[t]=void 0)}}}],[{key:"__initStatic",value:function(){this.id="GlobalHandlers"}}]),e}();function st(){(0,T.o)("error",(function(e){var t=ft(),n=(0,A.Z)(t,3),r=n[0],i=n[1],a=n[2];if(r.getIntegration(ot)){var o=e.msg,s=e.url,u=e.line,c=e.column,l=e.error;if(!(Je()||l&&l.__sentry_own_request__)){var d=void 0===l&&(0,Y.HD)(o)?function(e,t,n,r){var i=/^(?:[Uu]ncaught (?:exception: )?)?(?:((?:Eval|Internal|Range|Reference|Syntax|Type|URI|)Error): )?(.*)$/i,a=(0,Y.VW)(e)?e.message:e,o="Error",s=a.match(i);s&&(o=s[1],a=s[2]);return ct({exception:{values:[{type:o,value:a}]}},t,n,r)}(o,s,u,c):ct(we(i,l||o,void 0,a,!1),s,u,c);d.level="error",dt(r,l,d,"onerror")}}}))}function ut(){(0,T.o)("unhandledrejection",(function(e){var t=ft(),n=(0,A.Z)(t,3),r=n[0],i=n[1],a=n[2];if(r.getIntegration(ot)){var o=e;try{"reason"in e?o=e.reason:"detail"in e&&"reason"in e.detail&&(o=e.detail.reason)}catch(u){}if(Je()||o&&o.__sentry_own_request__)return!0;var s=(0,Y.pt)(o)?{exception:{values:[{type:"UnhandledRejection",value:"Non-Error promise rejection captured with value: ".concat(String(o))}]}}:we(i,o,void 0,a,!0);s.level="error",dt(r,o,s,"onunhandledrejection")}}))}function ct(e,t,n,r){var i=e.exception=e.exception||{},a=i.values=i.values||[],o=a[0]=a[0]||{},s=o.stacktrace=o.stacktrace||{},u=s.frames=s.frames||[],c=isNaN(parseInt(r,10))?void 0:r,l=isNaN(parseInt(n,10))?void 0:n,d=(0,Y.HD)(t)&&t.length>0?t:(0,Ee.l)();return 0===u.length&&u.push({colno:c,filename:d,function:"?",in_app:!0,lineno:l}),e}function lt(e){("undefined"===typeof __SENTRY_DEBUG__||__SENTRY_DEBUG__)&&c.kg.log("Global Handler attached: ".concat(e))}function dt(e,t,n,r){(0,m.EG)(n,{handled:!1,type:r}),e.captureEvent(n,{originalException:t})}function ft(){var e=(0,u.Gd)(),t=e.getClient(),n=t&&t.getOptions()||{stackParser:function(){return[]},attachStacktrace:!1};return[e,n.stackParser,n.attachStacktrace]}ot.__initStatic();var ht="cause",pt=function(){function e(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};(0,p.Z)(this,e),e.prototype.__init.call(this),this._key=t.key||ht,this._limit=t.limit||5}return(0,v.Z)(e,[{key:"__init",value:function(){this.name=e.id}},{key:"setupOnce",value:function(){var t=(0,u.Gd)().getClient();t&&(0,s.c)((function(n,r){var i=(0,u.Gd)().getIntegration(e);return i?function(e,t,n,r,i){if(!r.exception||!r.exception.values||!i||!(0,Y.V9)(i.originalException,Error))return r;var a=vt(e,n,i.originalException,t);return r.exception.values=[].concat((0,o.Z)(a),(0,o.Z)(r.exception.values)),r}(t.getOptions().stackParser,i._key,i._limit,n,r):n}))}}],[{key:"__initStatic",value:function(){this.id="LinkedErrors"}}]),e}();function vt(e,t,n,r){var i=arguments.length>4&&void 0!==arguments[4]?arguments[4]:[];if(!(0,Y.V9)(n[r],Error)||i.length+1>=t)return i;var a=me(e,n[r]);return vt(e,t,n[r],r,[a].concat((0,o.Z)(i)))}pt.__initStatic();var mt=function(){function e(){(0,p.Z)(this,e),e.prototype.__init.call(this)}return(0,v.Z)(e,[{key:"__init",value:function(){this.name=e.id}},{key:"setupOnce",value:function(t,n){var r=function(t){var r=n().getIntegration(e);if(r){try{if(function(e,t){if(!t)return!1;if(function(e,t){var n=e.message,r=t.message;if(!n&&!r)return!1;if(n&&!r||!n&&r)return!1;if(n!==r)return!1;if(!yt(e,t))return!1;if(!gt(e,t))return!1;return!0}(e,t))return!0;if(function(e,t){var n=_t(t),r=_t(e);if(!n||!r)return!1;if(n.type!==r.type||n.value!==r.value)return!1;if(!yt(e,t))return!1;if(!gt(e,t))return!1;return!0}(e,t))return!0;return!1}(t,r._previousEvent))return("undefined"===typeof __SENTRY_DEBUG__||__SENTRY_DEBUG__)&&c.kg.warn("Event dropped due to being a duplicate of previously captured event."),null}catch(i){return r._previousEvent=t}return r._previousEvent=t}return t};r.id=this.name,t(r)}}],[{key:"__initStatic",value:function(){this.id="Dedupe"}}]),e}();function gt(e,t){var n=bt(e),r=bt(t);if(!n&&!r)return!0;if(n&&!r||!n&&r)return!1;if(r.length!==n.length)return!1;for(var i=0;i<r.length;i++){var a=r[i],o=n[i];if(a.filename!==o.filename||a.lineno!==o.lineno||a.colno!==o.colno||a.function!==o.function)return!1}return!0}function yt(e,t){var n=e.fingerprint,r=t.fingerprint;if(!n&&!r)return!0;if(n&&!r||!n&&r)return!1;try{return!(n.join("")!==r.join(""))}catch(i){return!1}}function _t(e){return e.exception&&e.exception.values&&e.exception.values[0]}function bt(e){var t=e.exception;if(t)try{return t.values[0].stacktrace.frames}catch(n){return}}mt.__initStatic();var kt=(0,E.R)(),wt=function(){function e(){(0,p.Z)(this,e),e.prototype.__init.call(this)}return(0,v.Z)(e,[{key:"__init",value:function(){this.name=e.id}},{key:"setupOnce",value:function(){(0,s.c)((function(t){if((0,u.Gd)().getIntegration(e)){if(!kt.navigator&&!kt.location&&!kt.document)return t;var n=t.request&&t.request.url||kt.location&&kt.location.href,r=(kt.document||{}).referrer,i=(kt.navigator||{}).userAgent,o=(0,a.Z)((0,a.Z)((0,a.Z)({},t.request&&t.request.headers),r&&{Referer:r}),i&&{"User-Agent":i}),s=(0,a.Z)((0,a.Z)({},n&&{url:n}),{},{headers:o});return(0,a.Z)((0,a.Z)({},t),{},{request:s})}return t}))}}],[{key:"__initStatic",value:function(){this.id="HttpContext"}}]),e}();function St(e){var t=[];function n(e){return t.splice(t.indexOf(e),1)[0]}return{$:t,add:function(r){if(!(void 0===e||t.length<e))return(0,K.$2)(new z("Not adding Promise due to buffer limit reached."));var i=r();return-1===t.indexOf(i)&&t.push(i),i.then((function(){return n(i)})).then(null,(function(){return n(i).then(null,(function(){}))})),i},drain:function(e){return new K.cW((function(n,r){var i=t.length;if(!i)return n(!0);var a=setTimeout((function(){e&&e>0&&n(!1)}),e);t.forEach((function(e){(0,K.WD)(e).then((function(){--i||(clearTimeout(a),n(!0))}),r)}))}))}}}wt.__initStatic();function Et(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:Date.now(),n=parseInt("".concat(e),10);if(!isNaN(n))return 1e3*n;var r=Date.parse("".concat(e));return isNaN(r)?6e4:r-t}function xt(e,t){return e[t]||e.all||0}function It(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:Date.now();return xt(e,t)>n}function Tt(e,t){var n=t.statusCode,r=t.headers,i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:Date.now(),o=(0,a.Z)({},e),s=r&&r["x-sentry-rate-limits"],u=r&&r["retry-after"];if(s){var c,l=(0,Z.Z)(s.trim().split(","));try{for(l.s();!(c=l.n()).done;){var d=c.value,f=d.split(":",2),h=(0,A.Z)(f,2),p=h[0],v=h[1],m=parseInt(p,10),g=1e3*(isNaN(m)?60:m);if(v){var y,_=(0,Z.Z)(v.split(";"));try{for(_.s();!(y=_.n()).done;){var b=y.value;o[b]=i+g}}catch(k){_.e(k)}finally{_.f()}}else o.all=i+g}}catch(k){l.e(k)}finally{l.f()}}else u?o.all=i+Et(u,i):429===n&&(o.all=i+6e4);return o}function Ct(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:St(e.bufferSize||30),r={},i=function(e){return n.drain(e)};function a(i){var a=[];if(Q(i,(function(t,n){var i=re(n);It(r,i)?e.recordDroppedEvent("ratelimit_backoff",i):a.push(t)})),0===a.length)return(0,K.WD)();var o=$(i[0],a),s=function(t){Q(o,(function(n,r){e.recordDroppedEvent(t,re(r))}))};return n.add((function(){return t({body:ee(o,e.textEncoder)}).then((function(e){void 0!==e.statusCode&&(e.statusCode<200||e.statusCode>=300)&&("undefined"===typeof __SENTRY_DEBUG__||__SENTRY_DEBUG__)&&c.kg.warn("Sentry responded with status code ".concat(e.statusCode," to sent event.")),r=Tt(r,e)}),(function(e){("undefined"===typeof __SENTRY_DEBUG__||__SENTRY_DEBUG__)&&c.kg.error("Failed while sending event:",e),s("network_error")}))})).then((function(e){return e}),(function(e){if(e instanceof z)return("undefined"===typeof __SENTRY_DEBUG__||__SENTRY_DEBUG__)&&c.kg.error("Skipped sending event due to full buffer"),s("queue_overflow"),(0,K.WD)();throw e}))}return{send:a,flush:i}}function Nt(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:Ze();function n(n){var r=(0,a.Z)({body:n.body,method:"POST",referrerPolicy:"origin",headers:e.headers},e.fetchOptions);return t(e.url,r).then((function(e){return{statusCode:e.status,headers:{"x-sentry-rate-limits":e.headers.get("X-Sentry-Rate-Limits"),"retry-after":e.headers.get("Retry-After")}}}))}return Ct(e,n)}function Rt(e){return Ct(e,(function(t){return new K.cW((function(n,r){var i=new XMLHttpRequest;for(var a in i.onerror=r,i.onreadystatechange=function(){4===i.readyState&&n({statusCode:i.status,headers:{"x-sentry-rate-limits":i.getResponseHeader("X-Sentry-Rate-Limits"),"retry-after":i.getResponseHeader("Retry-After")}})},i.open("POST",e.url),e.headers)Object.prototype.hasOwnProperty.call(e.headers,a)&&i.setRequestHeader(a,e.headers[a]);i.send(t.body)}))}))}var Pt=[new _,new S,new tt,new Ce,new ot,new pt,new mt,new wt];function Ot(e){e.startSession({ignoreDuration:!0}),e.captureSession()}function Dt(){if("undefined"!==typeof(0,E.R)().document){var e=(0,u.Gd)();e.captureSession&&(Ot(e),(0,T.o)("history",(function(e){var t=e.from,n=e.to;void 0!==t&&t!==n&&Ot((0,u.Gd)())})))}else("undefined"===typeof __SENTRY_DEBUG__||__SENTRY_DEBUG__)&&c.kg.warn("Session tracking in non-browser environment with @sentry/browser is not supported.")}var At=n(3499),Zt=new RegExp("^[ \\t]*([0-9a-f]{32})?-?([0-9a-f]{16})?-?([01])?[ \\t]*$");var Lt=n(5522),Ut=n(5129),Mt=(0,E.R)();var jt=n(7717),Ft=function(e,t,n){var r;return function(i){t.value>=0&&(i||n)&&(t.delta=t.value-(r||0),(t.delta||void 0===r)&&(r=t.value,e(t)))}},qt=function(e,t){return{name:e,value:(0,jt.h)(t,(function(){return-1})),delta:0,entries:[],id:"v2-".concat(Date.now(),"-").concat(Math.floor(8999999999999*Math.random())+1e12)}},zt=function(e,t){try{if(PerformanceObserver.supportedEntryTypes.includes(e)){if("first-input"===e&&!("PerformanceEventTiming"in self))return;var n=new PerformanceObserver((function(e){return e.getEntries().map(t)}));return n.observe({type:e,buffered:!0}),n}}catch(r){}},Bt=function(e,t){var n=function n(r){"pagehide"!==r.type&&"hidden"!==(0,E.R)().document.visibilityState||(e(r),t&&(removeEventListener("visibilitychange",n,!0),removeEventListener("pagehide",n,!0)))};addEventListener("visibilitychange",n,!0),addEventListener("pagehide",n,!0)},Wt=-1,Gt=function(){return Wt<0&&(Wt="hidden"===(0,E.R)().document.visibilityState?0:1/0,Bt((function(e){var t=e.timeStamp;Wt=t}),!0)),{get firstHiddenTime(){return Wt}}},Ht={};function Vt(e,t){if(null==e)return{};var n,r,i=function(e,t){if(null==e)return{};var n,r,i={},a=Object.keys(e);for(r=0;r<a.length;r++)n=a[r],t.indexOf(n)>=0||(i[n]=e[n]);return i}(e,t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(r=0;r<a.length;r++)n=a[r],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(i[n]=e[n])}return i}var Yt=["startTimestamp"];function Kt(e){return"number"===typeof e&&isFinite(e)}function $t(e,t){var n=t.startTimestamp,r=Vt(t,Yt);return n&&e.startTimestamp>n&&(e.startTimestamp=n),e.startChild((0,a.Z)({startTimestamp:n},r))}var Jt=(0,E.R)();function Qt(){return Jt&&Jt.addEventListener&&Jt.performance}var Xt,en,tn=0,nn={};function rn(){!function(e,t){var n,r=qt("CLS",0),i=0,a=[],o=function(e){if(e&&!e.hadRecentInput){var t=a[0],o=a[a.length-1];i&&0!==a.length&&e.startTime-o.startTime<1e3&&e.startTime-t.startTime<5e3?(i+=e.value,a.push(e)):(i=e.value,a=[e]),i>r.value&&(r.value=i,r.entries=a,n&&n())}},s=zt("layout-shift",o);s&&(n=Ft(e,r,t),Bt((function(){s.takeRecords().map(o),n(!0)})))}((function(e){var t=e.entries.pop();t&&(("undefined"===typeof __SENTRY_DEBUG__||__SENTRY_DEBUG__)&&c.kg.log("[Measurements] Adding CLS"),nn.cls={value:e.value,unit:""},en=t)}))}function an(e){!function(e,t){var n,r=Gt(),i=qt("LCP"),a=function(e){var t=e.startTime;t<r.firstHiddenTime&&(i.value=t,i.entries.push(e)),n&&n()},o=zt("largest-contentful-paint",a);if(o){n=Ft(e,i,t);var s=function(){Ht[i.id]||(o.takeRecords().map(a),o.disconnect(),Ht[i.id]=!0,n(!0))};["keydown","click"].forEach((function(e){addEventListener(e,s,{once:!0,capture:!0})})),Bt(s,!0)}}((function(e){var t=e.entries.pop();if(t){var n=(0,Ut.XL)(ie.Z1),r=(0,Ut.XL)(t.startTime);("undefined"===typeof __SENTRY_DEBUG__||__SENTRY_DEBUG__)&&c.kg.log("[Measurements] Adding LCP"),nn.lcp={value:e.value,unit:"millisecond"},nn["mark.lcp"]={value:n+r,unit:"second"},Xt=t}}),e)}function on(){!function(e,t){var n,r=Gt(),i=qt("FID"),a=function(e){n&&e.startTime<r.firstHiddenTime&&(i.value=e.processingStart-e.startTime,i.entries.push(e),n(!0))},o=zt("first-input",a);o&&(n=Ft(e,i,t),Bt((function(){o.takeRecords().map(a),o.disconnect()}),!0))}((function(e){var t=e.entries.pop();if(t){var n=(0,Ut.XL)(ie.Z1),r=(0,Ut.XL)(t.startTime);("undefined"===typeof __SENTRY_DEBUG__||__SENTRY_DEBUG__)&&c.kg.log("[Measurements] Adding FID"),nn.fid={value:e.value,unit:"millisecond"},nn["mark.fid"]={value:n+r,unit:"second"}}}))}function sn(e){var t=Qt();if(t&&Jt.performance.getEntries&&ie.Z1){("undefined"===typeof __SENTRY_DEBUG__||__SENTRY_DEBUG__)&&c.kg.log("[Tracing] Adding & adjusting spans using Performance API");var n,r,i=(0,Ut.XL)(ie.Z1),a=t.getEntries();a.slice(tn).forEach((function(t){var a=(0,Ut.XL)(t.startTime),o=(0,Ut.XL)(t.duration);if(!("navigation"===e.op&&i+a<e.startTimestamp))switch(t.entryType){case"navigation":!function(e,t,n){["unloadEvent","redirect","domContentLoadedEvent","loadEvent","connect"].forEach((function(r){un(e,t,r,n)})),un(e,t,"secureConnection",n,"TLS/SSL","connectEnd"),un(e,t,"fetch",n,"cache","domainLookupStart"),un(e,t,"domainLookup",n,"DNS"),function(e,t,n){$t(e,{op:"browser",description:"request",startTimestamp:n+(0,Ut.XL)(t.requestStart),endTimestamp:n+(0,Ut.XL)(t.responseEnd)}),$t(e,{op:"browser",description:"response",startTimestamp:n+(0,Ut.XL)(t.responseStart),endTimestamp:n+(0,Ut.XL)(t.responseEnd)})}(e,t,n)}(e,t,i),n=i+(0,Ut.XL)(t.responseStart),r=i+(0,Ut.XL)(t.requestStart);break;case"mark":case"paint":case"measure":var s=function(e,t,n,r,i){var a=i+n,o=a+r;return $t(e,{description:t.name,endTimestamp:o,op:t.entryType,startTimestamp:a}),a}(e,t,a,o,i),u=Gt(),l=t.startTime<u.firstHiddenTime;"first-paint"===t.name&&l&&(("undefined"===typeof __SENTRY_DEBUG__||__SENTRY_DEBUG__)&&c.kg.log("[Measurements] Adding FP"),nn.fp={value:t.startTime,unit:"millisecond"},nn["mark.fp"]={value:s,unit:"second"}),"first-contentful-paint"===t.name&&l&&(("undefined"===typeof __SENTRY_DEBUG__||__SENTRY_DEBUG__)&&c.kg.log("[Measurements] Adding FCP"),nn.fcp={value:t.startTime,unit:"millisecond"},nn["mark.fcp"]={value:s,unit:"second"});break;case"resource":var d=t.name.replace(Jt.location.origin,"");!function(e,t,n,r,i,a){if("xmlhttprequest"===t.initiatorType||"fetch"===t.initiatorType)return;var o={};"transferSize"in t&&(o["Transfer Size"]=t.transferSize);"encodedBodySize"in t&&(o["Encoded Body Size"]=t.encodedBodySize);"decodedBodySize"in t&&(o["Decoded Body Size"]=t.decodedBodySize);var s=a+r;$t(e,{description:n,endTimestamp:s+i,op:t.initiatorType?"resource.".concat(t.initiatorType):"resource",startTimestamp:s,data:o})}(e,t,d,a,o,i)}})),tn=Math.max(a.length-1,0),function(e){var t=Jt.navigator;if(!t)return;var n=t.connection;n&&(n.effectiveType&&e.setTag("effectiveConnectionType",n.effectiveType),n.type&&e.setTag("connectionType",n.type),Kt(n.rtt)&&(nn["connection.rtt"]={value:n.rtt,unit:"millisecond"}),Kt(n.downlink)&&(nn["connection.downlink"]={value:n.downlink,unit:""}));Kt(t.deviceMemory)&&e.setTag("deviceMemory","".concat(t.deviceMemory," GB"));Kt(t.hardwareConcurrency)&&e.setTag("hardwareConcurrency",String(t.hardwareConcurrency))}(e),"pageload"===e.op&&("number"===typeof n&&(("undefined"===typeof __SENTRY_DEBUG__||__SENTRY_DEBUG__)&&c.kg.log("[Measurements] Adding TTFB"),nn.ttfb={value:1e3*(n-e.startTimestamp),unit:"millisecond"},"number"===typeof r&&r<=n&&(nn["ttfb.requestTime"]={value:1e3*(n-r),unit:"millisecond"})),["fcp","fp","lcp"].forEach((function(t){if(nn[t]&&!(i>=e.startTimestamp)){var n=nn[t].value,r=i+(0,Ut.XL)(n),a=Math.abs(1e3*(r-e.startTimestamp)),o=a-n;("undefined"===typeof __SENTRY_DEBUG__||__SENTRY_DEBUG__)&&c.kg.log("[Measurements] Normalized ".concat(t," from ").concat(n," to ").concat(a," (").concat(o,")")),nn[t].value=a}})),nn["mark.fid"]&&nn.fid&&$t(e,{description:"first input delay",endTimestamp:nn["mark.fid"].value+(0,Ut.XL)(nn.fid.value),op:"web.vitals",startTimestamp:nn["mark.fid"].value}),"fcp"in nn||delete nn.cls,Object.keys(nn).forEach((function(t){e.setMeasurement(t,nn[t].value,nn[t].unit)})),function(e){Xt&&(("undefined"===typeof __SENTRY_DEBUG__||__SENTRY_DEBUG__)&&c.kg.log("[Measurements] Adding LCP Data"),Xt.element&&e.setTag("lcp.element",(0,Ee.R)(Xt.element)),Xt.id&&e.setTag("lcp.id",Xt.id),Xt.url&&e.setTag("lcp.url",Xt.url.trim().slice(0,200)),e.setTag("lcp.size",Xt.size));en&&en.sources&&(("undefined"===typeof __SENTRY_DEBUG__||__SENTRY_DEBUG__)&&c.kg.log("[Measurements] Adding CLS Data"),en.sources.forEach((function(t,n){return e.setTag("cls.source.".concat(n+1),(0,Ee.R)(t.node))})))}(e)),Xt=void 0,en=void 0,nn={}}}function un(e,t,n,r,i,a){var o=a?t[a]:t["".concat(n,"End")],s=t["".concat(n,"Start")];s&&o&&$t(e,{op:"browser",description:(0,jt.h)(i,(function(){return n})),startTimestamp:r+(0,Ut.XL)(s),endTimestamp:r+(0,Ut.XL)(o)})}var cn={traceFetch:!0,traceXHR:!0,tracingOrigins:["localhost",/^\//]};function ln(e){var t=(0,a.Z)((0,a.Z)({},cn),e),n=t.traceFetch,r=t.traceXHR,i=t.tracingOrigins,s=t.shouldCreateSpanForRequest,u={},c=function(e){if(u[e])return u[e];var t=i;return u[e]=t.some((function(t){return(0,g.zC)(e,t)}))&&!(0,g.zC)(e,"sentry_key"),u[e]},l=c;"function"===typeof s&&(l=function(e){return c(e)&&s(e)});var d={};n&&(0,T.o)("fetch",(function(e){!function(e,t,n){if(!(0,Ut.zu)()||!e.fetchData||!t(e.fetchData.url))return;if(e.endTimestamp){var r=e.fetchData.__span;if(!r)return;return void((s=n[r])&&(e.response?s.setHttpStatus(e.response.status):e.error&&s.setStatus("internal_error"),s.finish(),delete n[r]))}var i=(0,Ut.x1)();if(i){var s=i.startChild({data:(0,a.Z)((0,a.Z)({},e.fetchData),{},{type:"fetch"}),description:"".concat(e.fetchData.method," ").concat(e.fetchData.url),op:"http.client"});e.fetchData.__span=s.spanId,n[s.spanId]=s;var u=e.args[0]=e.args[0],c=e.args[1]=e.args[1]||{};c.headers=function(e,t,n,r){var i=r.headers;(0,Y.V9)(e,Request)&&(i=e.headers);if(i)if("function"===typeof i.append)i.append("sentry-trace",n.toTraceparent()),i.append(de.bU,(0,de.J8)(t,i.get(de.bU)));else if(Array.isArray(i)){var s=i.find((function(e){var t=(0,A.Z)(e,2),n=t[0];t[1];return n===de.bU})),u=(0,A.Z)(s,2)[1];i=[].concat((0,o.Z)(i),[["sentry-trace",n.toTraceparent()],[de.bU,(0,de.J8)(t,u)]])}else i=(0,a.Z)((0,a.Z)({},i),{},{"sentry-trace":n.toTraceparent(),baggage:(0,de.J8)(t,i.baggage)});else i={"sentry-trace":n.toTraceparent(),baggage:(0,de.J8)(t)};return i}(u,i.getBaggage(),s,c)}}(e,l,d)})),r&&(0,T.o)("xhr",(function(e){!function(e,t,n){if(!(0,Ut.zu)()||e.xhr&&e.xhr.__sentry_own_request__||!(e.xhr&&e.xhr.__sentry_xhr__&&t(e.xhr.__sentry_xhr__.url)))return;var r=e.xhr.__sentry_xhr__;if(e.endTimestamp){var i=e.xhr.__sentry_xhr_span_id__;if(!i)return;return void((s=n[i])&&(s.setHttpStatus(r.status_code),s.finish(),delete n[i]))}var o=(0,Ut.x1)();if(o){var s=o.startChild({data:(0,a.Z)((0,a.Z)({},r.data),{},{type:"xhr",method:r.method,url:r.url}),description:"".concat(r.method," ").concat(r.url),op:"http.client"});if(e.xhr.__sentry_xhr_span_id__=s.spanId,n[e.xhr.__sentry_xhr_span_id__]=s,e.xhr.setRequestHeader)try{e.xhr.setRequestHeader("sentry-trace",s.toTraceparent());var u=e.xhr.getRequestHeader&&e.xhr.getRequestHeader(de.bU);e.xhr.setRequestHeader(de.bU,(0,de.J8)(o.getBaggage(),u))}catch(c){}}}(e,l,d)}))}var dn=(0,E.R)();var fn=(0,a.Z)({idleTimeout:Lt.nT,finalTimeout:Lt.mg,markBackgroundTransactions:!0,routingInstrumentation:function(e){var t=!(arguments.length>1&&void 0!==arguments[1])||arguments[1],n=!(arguments.length>2&&void 0!==arguments[2])||arguments[2];if(dn&&dn.location){var r,i=dn.location.href;t&&(r=e({name:dn.location.pathname,op:"pageload"})),n&&(0,T.o)("history",(function(t){var n=t.to,a=t.from;void 0===a&&i&&-1!==i.indexOf(n)?i=void 0:a!==n&&(i=void 0,r&&(("undefined"===typeof __SENTRY_DEBUG__||__SENTRY_DEBUG__)&&c.kg.log("[Tracing] Finishing current transaction with op: ".concat(r.op)),r.finish()),r=e({name:dn.location.pathname,op:"navigation"}))}))}else("undefined"===typeof __SENTRY_DEBUG__||__SENTRY_DEBUG__)&&c.kg.warn("Could not initialize routing instrumentation due to invalid location")},startTransactionOnLocationChange:!0,startTransactionOnPageLoad:!0},cn),hn=function(){function e(t){(0,p.Z)(this,e),e.prototype.__init.call(this);var n=cn.tracingOrigins;t&&(t.tracingOrigins&&Array.isArray(t.tracingOrigins)&&0!==t.tracingOrigins.length?n=t.tracingOrigins:("undefined"===typeof __SENTRY_DEBUG__||__SENTRY_DEBUG__)&&(this._emitOptionsWarning=!0)),this.options=(0,a.Z)((0,a.Z)((0,a.Z)({},fn),t),{},{tracingOrigins:n});var r=this.options._metricOptions;!function(){var e=arguments.length>0&&void 0!==arguments[0]&&arguments[0],t=Qt();t&&ie.Z1&&(t.mark&&Jt.performance.mark("sentry-tracing-init"),rn(),an(e),on())}(r&&r._reportAllChanges)}return(0,v.Z)(e,[{key:"__init",value:function(){this.name="BrowserTracing"}},{key:"setupOnce",value:function(e,t){var n=this;this._getCurrentHub=t,this._emitOptionsWarning&&(("undefined"===typeof __SENTRY_DEBUG__||__SENTRY_DEBUG__)&&c.kg.warn("[Tracing] You need to define `tracingOrigins` in the options. Set an array of urls or patterns to trace."),("undefined"===typeof __SENTRY_DEBUG__||__SENTRY_DEBUG__)&&c.kg.warn("[Tracing] We added a reasonable default for you: ".concat(cn.tracingOrigins)));var r=this.options,i=r.routingInstrumentation,a=r.startTransactionOnLocationChange,o=r.startTransactionOnPageLoad,s=r.markBackgroundTransactions,u=r.traceFetch,l=r.traceXHR,d=r.tracingOrigins,f=r.shouldCreateSpanForRequest;i((function(e){return n._createRouteTransaction(e)}),o,a),s&&(Mt&&Mt.document?Mt.document.addEventListener("visibilitychange",(function(){var e=(0,Ut.x1)();if(Mt.document.hidden&&e){var t="cancelled";("undefined"===typeof __SENTRY_DEBUG__||__SENTRY_DEBUG__)&&c.kg.log("[Tracing] Transaction: ".concat(t," -> since tab moved to the background, op: ").concat(e.op)),e.status||e.setStatus(t),e.setTag("visibilitychange","document.hidden"),e.finish()}})):("undefined"===typeof __SENTRY_DEBUG__||__SENTRY_DEBUG__)&&c.kg.warn("[Tracing] Could not set up background tab detection due to lack of global document")),ln({traceFetch:u,traceXHR:l,tracingOrigins:d,shouldCreateSpanForRequest:f})}},{key:"_createRouteTransaction",value:function(e){var t=this;if(this._getCurrentHub){var n=this.options,r=n.beforeNavigate,i=n.idleTimeout,o=n.finalTimeout,s="pageload"===e.op?function(){var e=pn("sentry-trace"),t=pn("baggage"),n=e?function(e){var t,n=e.match(Zt);if(n)return"1"===n[3]?t=!0:"0"===n[3]&&(t=!1),{traceId:n[1],parentSampled:t,parentSpanId:n[2]}}(e):void 0,r=(0,de.rg)(t,e);if(n||r)return(0,a.Z)((0,a.Z)({},n&&n),r&&{metadata:{baggage:r}});return}():void 0,u=(0,a.Z)((0,a.Z)((0,a.Z)({},e),s),{},{trimEnd:!0}),l="function"===typeof r?r(u):u,d=void 0===l?(0,a.Z)((0,a.Z)({},u),{},{sampled:!1}):l;!1===d.sampled&&("undefined"===typeof __SENTRY_DEBUG__||__SENTRY_DEBUG__)&&c.kg.log("[Tracing] Will not send ".concat(d.op," transaction because of beforeNavigate.")),("undefined"===typeof __SENTRY_DEBUG__||__SENTRY_DEBUG__)&&c.kg.log("[Tracing] Starting ".concat(d.op," transaction on scope"));var f=this._getCurrentHub(),h=(0,E.R)().location,p=(0,At.lb)(f,d,i,o,!0,{location:h});return p.registerBeforeFinishCallback((function(e){sn(e),e.setTag("sentry_reportAllChanges",Boolean(t.options._metricOptions&&t.options._metricOptions._reportAllChanges))})),p}("undefined"===typeof __SENTRY_DEBUG__||__SENTRY_DEBUG__)&&c.kg.warn("[Tracing] Did not create ".concat(e.op," transaction because _getCurrentHub is invalid."))}}]),e}();function pn(e){var t=(0,E.R)();if(t.document&&t.document.querySelector){var n=t.document.querySelector("meta[name=".concat(e,"]"));return n?n.getAttribute("content"):null}return null}("undefined"===typeof __SENTRY_TRACING__||__SENTRY_TRACING__)&&(0,At.ro)();var vn,mn=n(4942);function gn(){return gn=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},gn.apply(this,arguments)}!function(e){e.Pop="POP",e.Push="PUSH",e.Replace="REPLACE"}(vn||(vn={}));var yn=function(e){return e};var _n="beforeunload",bn="popstate";function kn(e){void 0===e&&(e={});var t=e.window,n=void 0===t?document.defaultView:t,r=n.history;function i(){var e=In(n.location.hash.substr(1)),t=e.pathname,i=void 0===t?"/":t,a=e.search,o=void 0===a?"":a,s=e.hash,u=void 0===s?"":s,c=r.state||{};return[c.idx,yn({pathname:i,search:o,hash:u,state:c.usr||null,key:c.key||"default"})]}var a=null;function o(){if(a)f.call(a),a=null;else{var e=vn.Pop,t=i(),n=t[0],r=t[1];if(f.length){if(null!=n){var o=c-n;o&&(a={action:e,location:r,retry:function(){y(-1*o)}},y(o))}}else g(e)}}n.addEventListener(bn,o),n.addEventListener("hashchange",(function(){xn(i()[1])!==xn(l)&&o()}));var s=vn.Pop,u=i(),c=u[0],l=u[1],d=Sn(),f=Sn();function h(e){return function(){var e=document.querySelector("base"),t="";if(e&&e.getAttribute("href")){var r=n.location.href,i=r.indexOf("#");t=-1===i?r:r.slice(0,i)}return t}()+"#"+("string"===typeof e?e:xn(e))}function p(e,t){return void 0===t&&(t=null),yn(gn({pathname:l.pathname,hash:"",search:""},"string"===typeof e?In(e):e,{state:t,key:En()}))}function v(e,t){return[{usr:e.state,key:e.key,idx:t},h(e)]}function m(e,t,n){return!f.length||(f.call({action:e,location:t,retry:n}),!1)}function g(e){s=e;var t=i();c=t[0],l=t[1],d.call({action:s,location:l})}function y(e){r.go(e)}null==c&&(c=0,r.replaceState(gn({},r.state,{idx:c}),""));var _={get action(){return s},get location(){return l},createHref:h,push:function e(t,i){var a=vn.Push,o=p(t,i);if(m(a,o,(function(){e(t,i)}))){var s=v(o,c+1),u=s[0],l=s[1];try{r.pushState(u,"",l)}catch(ja){n.location.assign(l)}g(a)}},replace:function e(t,n){var i=vn.Replace,a=p(t,n);if(m(i,a,(function(){e(t,n)}))){var o=v(a,c),s=o[0],u=o[1];r.replaceState(s,"",u),g(i)}},go:y,back:function(){y(-1)},forward:function(){y(1)},listen:function(e){return d.push(e)},block:function(e){var t=f.push(e);return 1===f.length&&n.addEventListener(_n,wn),function(){t(),f.length||n.removeEventListener(_n,wn)}}};return _}function wn(e){e.preventDefault(),e.returnValue=""}function Sn(){var e=[];return{get length(){return e.length},push:function(t){return e.push(t),function(){e=e.filter((function(e){return e!==t}))}},call:function(t){e.forEach((function(e){return e&&e(t)}))}}}function En(){return Math.random().toString(36).substr(2,8)}function xn(e){var t=e.pathname,n=void 0===t?"/":t,r=e.search,i=void 0===r?"":r,a=e.hash,o=void 0===a?"":a;return i&&"?"!==i&&(n+="?"===i.charAt(0)?i:"?"+i),o&&"#"!==o&&(n+="#"===o.charAt(0)?o:"#"+o),n}function In(e){var t={};if(e){var n=e.indexOf("#");n>=0&&(t.hash=e.substr(n),e=e.substr(0,n));var r=e.indexOf("?");r>=0&&(t.search=e.substr(r),e=e.substr(0,r)),e&&(t.pathname=e)}return t}var Tn=(0,t.createContext)(null);var Cn=(0,t.createContext)(null);var Nn=(0,t.createContext)({outlet:null,matches:[]});function Rn(e,t){if(!e)throw new Error(t)}function Pn(e,t,n){void 0===n&&(n="/");var r=jn(("string"===typeof t?In(t):t).pathname||"/",n);if(null==r)return null;var i=On(e);!function(e){e.sort((function(e,t){return e.score!==t.score?t.score-e.score:function(e,t){var n=e.length===t.length&&e.slice(0,-1).every((function(e,n){return e===t[n]}));return n?e[e.length-1]-t[t.length-1]:0}(e.routesMeta.map((function(e){return e.childrenIndex})),t.routesMeta.map((function(e){return e.childrenIndex})))}))}(i);for(var a=null,o=0;null==a&&o<i.length;++o)a=Ln(i[o],r);return a}function On(e,t,n,r){return void 0===t&&(t=[]),void 0===n&&(n=[]),void 0===r&&(r=""),e.forEach((function(e,i){var a={relativePath:e.path||"",caseSensitive:!0===e.caseSensitive,childrenIndex:i,route:e};a.relativePath.startsWith("/")&&(a.relativePath.startsWith(r)||Rn(!1),a.relativePath=a.relativePath.slice(r.length));var o=Fn([r,a.relativePath]),s=n.concat(a);e.children&&e.children.length>0&&(!0===e.index&&Rn(!1),On(e.children,t,s,o)),(null!=e.path||e.index)&&t.push({path:o,score:Zn(o,e.index),routesMeta:s})})),t}var Dn=/^:\w+$/,An=function(e){return"*"===e};function Zn(e,t){var n=e.split("/"),r=n.length;return n.some(An)&&(r+=-2),t&&(r+=2),n.filter((function(e){return!An(e)})).reduce((function(e,t){return e+(Dn.test(t)?3:""===t?1:10)}),r)}function Ln(e,t){for(var n=e.routesMeta,r={},i="/",a=[],o=0;o<n.length;++o){var s=n[o],u=o===n.length-1,c="/"===i?t:t.slice(i.length)||"/",l=Un({path:s.relativePath,caseSensitive:s.caseSensitive,end:u},c);if(!l)return null;Object.assign(r,l.params);var d=s.route;a.push({params:r,pathname:Fn([i,l.pathname]),pathnameBase:qn(Fn([i,l.pathnameBase])),route:d}),"/"!==l.pathnameBase&&(i=Fn([i,l.pathnameBase]))}return a}function Un(e,t){"string"===typeof e&&(e={path:e,caseSensitive:!1,end:!0});var n=function(e,t,n){void 0===t&&(t=!1);void 0===n&&(n=!0);var r=[],i="^"+e.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^$?{}|()[\]]/g,"\\$&").replace(/:(\w+)/g,(function(e,t){return r.push(t),"([^\\/]+)"}));e.endsWith("*")?(r.push("*"),i+="*"===e||"/*"===e?"(.*)$":"(?:\\/(.+)|\\/*)$"):i+=n?"\\/*$":"(?:(?=[.~-]|%[0-9A-F]{2})|\\b|\\/|$)";return[new RegExp(i,t?void 0:"i"),r]}(e.path,e.caseSensitive,e.end),r=(0,A.Z)(n,2),i=r[0],a=r[1],o=t.match(i);if(!o)return null;var s=o[0],u=s.replace(/(.)\/+$/,"$1"),c=o.slice(1);return{params:a.reduce((function(e,t,n){if("*"===t){var r=c[n]||"";u=s.slice(0,s.length-r.length).replace(/(.)\/+$/,"$1")}return e[t]=function(e,t){try{return decodeURIComponent(e)}catch(ja){return e}}(c[n]||""),e}),{}),pathname:s,pathnameBase:u,pattern:e}}function Mn(e,t,n){var r,i="string"===typeof e?In(e):e,a=""===e||""===i.pathname?"/":i.pathname;if(null==a)r=n;else{var o=t.length-1;if(a.startsWith("..")){for(var s=a.split("/");".."===s[0];)s.shift(),o-=1;i.pathname=s.join("/")}r=o>=0?t[o]:"/"}var u=function(e,t){void 0===t&&(t="/");var n="string"===typeof e?In(e):e,r=n.pathname,i=n.search,a=void 0===i?"":i,o=n.hash,s=void 0===o?"":o,u=r?r.startsWith("/")?r:function(e,t){var n=t.replace(/\/+$/,"").split("/");return e.split("/").forEach((function(e){".."===e?n.length>1&&n.pop():"."!==e&&n.push(e)})),n.length>1?n.join("/"):"/"}(r,t):t;return{pathname:u,search:zn(a),hash:Bn(s)}}(i,r);return a&&"/"!==a&&a.endsWith("/")&&!u.pathname.endsWith("/")&&(u.pathname+="/"),u}function jn(e,t){if("/"===t)return e;if(!e.toLowerCase().startsWith(t.toLowerCase()))return null;var n=e.charAt(t.length);return n&&"/"!==n?null:e.slice(t.length)||"/"}var Fn=function(e){return e.join("/").replace(/\/\/+/g,"/")},qn=function(e){return e.replace(/\/+$/,"").replace(/^\/*/,"/")},zn=function(e){return e&&"?"!==e?e.startsWith("?")?e:"?"+e:""},Bn=function(e){return e&&"#"!==e?e.startsWith("#")?e:"#"+e:""};function Wn(e){Gn()||Rn(!1);var n=(0,t.useContext)(Tn),r=n.basename,i=n.navigator,a=Yn(e),o=a.hash,s=a.pathname,u=a.search,c=s;if("/"!==r){var l=function(e){return""===e||""===e.pathname?"/":"string"===typeof e?In(e).pathname:e.pathname}(e),d=null!=l&&l.endsWith("/");c="/"===s?r+(d?"/":""):Fn([r,s])}return i.createHref({pathname:c,search:u,hash:o})}function Gn(){return null!=(0,t.useContext)(Cn)}function Hn(){return Gn()||Rn(!1),(0,t.useContext)(Cn).location}function Vn(){Gn()||Rn(!1);var e=(0,t.useContext)(Tn),n=e.basename,r=e.navigator,i=(0,t.useContext)(Nn).matches,a=Hn().pathname,o=JSON.stringify(i.map((function(e){return e.pathnameBase}))),s=(0,t.useRef)(!1);(0,t.useEffect)((function(){s.current=!0}));var u=(0,t.useCallback)((function(e,t){if(void 0===t&&(t={}),s.current)if("number"!==typeof e){var i=Mn(e,JSON.parse(o),a);"/"!==n&&(i.pathname=Fn([n,i.pathname])),(t.replace?r.replace:r.push)(i,t.state)}else r.go(e)}),[n,r,o,a]);return u}function Yn(e){var n=(0,t.useContext)(Nn).matches,r=Hn().pathname,i=JSON.stringify(n.map((function(e){return e.pathnameBase})));return(0,t.useMemo)((function(){return Mn(e,JSON.parse(i),r)}),[e,i,r])}function Kn(e,n){return void 0===n&&(n=[]),null==e?null:e.reduceRight((function(r,i,a){return(0,t.createElement)(Nn.Provider,{children:void 0!==i.route.element?i.route.element:r,value:{outlet:r,matches:n.concat(e.slice(0,a+1))}})}),null)}function $n(e){Rn(!1)}function Jn(e){var n=e.basename,r=void 0===n?"/":n,i=e.children,a=void 0===i?null:i,o=e.location,s=e.navigationType,u=void 0===s?vn.Pop:s,c=e.navigator,l=e.static,d=void 0!==l&&l;Gn()&&Rn(!1);var f=qn(r),h=(0,t.useMemo)((function(){return{basename:f,navigator:c,static:d}}),[f,c,d]);"string"===typeof o&&(o=In(o));var p=o,v=p.pathname,m=void 0===v?"/":v,g=p.search,y=void 0===g?"":g,_=p.hash,b=void 0===_?"":_,k=p.state,w=void 0===k?null:k,S=p.key,E=void 0===S?"default":S,x=(0,t.useMemo)((function(){var e=jn(m,f);return null==e?null:{pathname:e,search:y,hash:b,state:w,key:E}}),[f,m,y,b,w,E]);return null==x?null:(0,t.createElement)(Tn.Provider,{value:h},(0,t.createElement)(Cn.Provider,{children:a,value:{location:x,navigationType:u}}))}function Qn(e){var n=e.children,r=e.location;return function(e,n){Gn()||Rn(!1);var r,i=(0,t.useContext)(Nn).matches,a=i[i.length-1],o=a?a.params:{},s=(a&&a.pathname,a?a.pathnameBase:"/"),u=(a&&a.route,Hn());if(n){var c,l="string"===typeof n?In(n):n;"/"===s||(null==(c=l.pathname)?void 0:c.startsWith(s))||Rn(!1),r=l}else r=u;var d=r.pathname||"/",f=Pn(e,{pathname:"/"===s?d:d.slice(s.length)||"/"});return Kn(f&&f.map((function(e){return Object.assign({},e,{params:Object.assign({},o,e.params),pathname:Fn([s,e.pathname]),pathnameBase:"/"===e.pathnameBase?s:Fn([s,e.pathnameBase])})})),i)}(Xn(n),r)}function Xn(e){var n=[];return t.Children.forEach(e,(function(e){if((0,t.isValidElement)(e))if(e.type!==t.Fragment){e.type!==$n&&Rn(!1);var r={caseSensitive:e.props.caseSensitive,element:e.props.element,index:e.props.index,path:e.props.path};e.props.children&&(r.children=Xn(e.props.children)),n.push(r)}else n.push.apply(n,Xn(e.props.children))})),n}function er(){return er=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},er.apply(this,arguments)}function tr(e,t){if(null==e)return{};var n,r,i={},a=Object.keys(e);for(r=0;r<a.length;r++)n=a[r],t.indexOf(n)>=0||(i[n]=e[n]);return i}var nr=["onClick","reloadDocument","replace","state","target","to"];function rr(e){var n=e.basename,r=e.children,i=e.window,a=(0,t.useRef)();null==a.current&&(a.current=kn({window:i}));var o=a.current,s=(0,t.useState)({action:o.action,location:o.location}),u=(0,A.Z)(s,2),c=u[0],l=u[1];return(0,t.useLayoutEffect)((function(){return o.listen(l)}),[o]),(0,t.createElement)(Jn,{basename:n,children:r,location:c.location,navigationType:c.action,navigator:o})}var ir=(0,t.forwardRef)((function(e,n){var r=e.onClick,i=e.reloadDocument,a=e.replace,o=void 0!==a&&a,s=e.state,u=e.target,c=e.to,l=tr(e,nr),d=Wn(c),f=function(e,n){var r=void 0===n?{}:n,i=r.target,a=r.replace,o=r.state,s=Vn(),u=Hn(),c=Yn(e);return(0,t.useCallback)((function(t){if(0===t.button&&(!i||"_self"===i)&&!function(e){return!!(e.metaKey||e.altKey||e.ctrlKey||e.shiftKey)}(t)){t.preventDefault();var n=!!a||xn(u)===xn(c);s(e,{replace:n,state:o})}}),[u,s,c,a,o,i,e])}(c,{replace:o,state:s,target:u});return(0,t.createElement)("a",er({},l,{href:d,onClick:function(e){r&&r(e),e.defaultPrevented||i||f(e)},ref:n,target:u}))}));var ar=!1,or=!1,sr="${JSCORE_VERSION}",ur=function(e,t){if(!e)throw cr(t)},cr=function(e){return new Error("Firebase Database ("+sr+") INTERNAL ASSERT FAILED: "+e)},lr=function(e){for(var t=[],n=0,r=0;r<e.length;r++){var i=e.charCodeAt(r);i<128?t[n++]=i:i<2048?(t[n++]=i>>6|192,t[n++]=63&i|128):55296===(64512&i)&&r+1<e.length&&56320===(64512&e.charCodeAt(r+1))?(i=65536+((1023&i)<<10)+(1023&e.charCodeAt(++r)),t[n++]=i>>18|240,t[n++]=i>>12&63|128,t[n++]=i>>6&63|128,t[n++]=63&i|128):(t[n++]=i>>12|224,t[n++]=i>>6&63|128,t[n++]=63&i|128)}return t},dr={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:"function"===typeof atob,encodeByteArray:function(e,t){if(!Array.isArray(e))throw Error("encodeByteArray takes an array as a parameter");this.init_();for(var n=t?this.byteToCharMapWebSafe_:this.byteToCharMap_,r=[],i=0;i<e.length;i+=3){var a=e[i],o=i+1<e.length,s=o?e[i+1]:0,u=i+2<e.length,c=u?e[i+2]:0,l=a>>2,d=(3&a)<<4|s>>4,f=(15&s)<<2|c>>6,h=63&c;u||(h=64,o||(f=64)),r.push(n[l],n[d],n[f],n[h])}return r.join("")},encodeString:function(e,t){return this.HAS_NATIVE_SUPPORT&&!t?btoa(e):this.encodeByteArray(lr(e),t)},decodeString:function(e,t){return this.HAS_NATIVE_SUPPORT&&!t?atob(e):function(e){for(var t=[],n=0,r=0;n<e.length;){var i=e[n++];if(i<128)t[r++]=String.fromCharCode(i);else if(i>191&&i<224){var a=e[n++];t[r++]=String.fromCharCode((31&i)<<6|63&a)}else if(i>239&&i<365){var o=((7&i)<<18|(63&e[n++])<<12|(63&e[n++])<<6|63&e[n++])-65536;t[r++]=String.fromCharCode(55296+(o>>10)),t[r++]=String.fromCharCode(56320+(1023&o))}else{var s=e[n++],u=e[n++];t[r++]=String.fromCharCode((15&i)<<12|(63&s)<<6|63&u)}}return t.join("")}(this.decodeStringToByteArray(e,t))},decodeStringToByteArray:function(e,t){this.init_();for(var n=t?this.charToByteMapWebSafe_:this.charToByteMap_,r=[],i=0;i<e.length;){var a=n[e.charAt(i++)],o=i<e.length?n[e.charAt(i)]:0,s=++i<e.length?n[e.charAt(i)]:64,u=++i<e.length?n[e.charAt(i)]:64;if(++i,null==a||null==o||null==s||null==u)throw Error();var c=a<<2|o>>4;if(r.push(c),64!==s){var l=o<<4&240|s>>2;if(r.push(l),64!==u){var d=s<<6&192|u;r.push(d)}}}return r},init_:function(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(var e=0;e<this.ENCODED_VALS.length;e++)this.byteToCharMap_[e]=this.ENCODED_VALS.charAt(e),this.charToByteMap_[this.byteToCharMap_[e]]=e,this.byteToCharMapWebSafe_[e]=this.ENCODED_VALS_WEBSAFE.charAt(e),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[e]]=e,e>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(e)]=e,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(e)]=e)}}},fr=function(e){var t=lr(e);return dr.encodeByteArray(t,!0)},hr=function(e){return fr(e).replace(/\./g,"")},pr=function(e){try{return dr.decodeString(e,!0)}catch(t){console.error("base64Decode failed: ",t)}return null};function vr(e,t){if(!(t instanceof Object))return t;switch(t.constructor){case Date:return new Date(t.getTime());case Object:void 0===e&&(e={});break;case Array:e=[];break;default:return t}for(var n in t)t.hasOwnProperty(n)&&"__proto__"!==n&&(e[n]=vr(e[n],t[n]));return e}var mr=function(){function e(){var t=this;(0,p.Z)(this,e),this.reject=function(){},this.resolve=function(){},this.promise=new Promise((function(e,n){t.resolve=e,t.reject=n}))}return(0,v.Z)(e,[{key:"wrapCallback",value:function(e){var t=this;return function(n,r){n?t.reject(n):t.resolve(r),"function"===typeof e&&(t.promise.catch((function(){})),1===e.length?e(n):e(n,r))}}}]),e}();function gr(){return"undefined"!==typeof navigator&&"string"===typeof navigator.userAgent?navigator.userAgent:""}function yr(){return"undefined"!==typeof window&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(gr())}function _r(){try{return"[object process]"===Object.prototype.toString.call(n.g.process)}catch(e){return!1}}function br(){var e="object"===typeof chrome?chrome.runtime:"object"===typeof browser?browser.runtime:void 0;return"object"===typeof e&&void 0!==e.id}function kr(){return"object"===typeof navigator&&"ReactNative"===navigator.product}function wr(){var e=gr();return e.indexOf("MSIE ")>=0||e.indexOf("Trident/")>=0}function Sr(){return!0===ar||!0===or}function Er(){return"object"===typeof indexedDB}var xr=function(e){(0,R.Z)(n,e);var t=(0,P.Z)(n);function n(e,r,i){var a;return(0,p.Z)(this,n),(a=t.call(this,r)).code=e,a.customData=i,a.name="FirebaseError",Object.setPrototypeOf((0,U.Z)(a),n.prototype),Error.captureStackTrace&&Error.captureStackTrace((0,U.Z)(a),Ir.prototype.create),a}return(0,v.Z)(n)}(q(Error)),Ir=function(){function e(t,n,r){(0,p.Z)(this,e),this.service=t,this.serviceName=n,this.errors=r}return(0,v.Z)(e,[{key:"create",value:function(e){var t=(arguments.length<=1?void 0:arguments[1])||{},n="".concat(this.service,"/").concat(e),r=this.errors[e],i=r?Tr(r,t):"Error",a="".concat(this.serviceName,": ").concat(i," (").concat(n,")."),o=new xr(n,a,t);return o}}]),e}();function Tr(e,t){return e.replace(Cr,(function(e,n){var r=t[n];return null!=r?String(r):"<".concat(n,"?>")}))}var Cr=/\{\$([^}]+)}/g;function Nr(e){return JSON.parse(e)}function Rr(e){return JSON.stringify(e)}var Pr=function(e){var t={},n={},r={},i="";try{var a=e.split(".");t=Nr(pr(a[0])||""),n=Nr(pr(a[1])||""),i=a[2],r=n.d||{},delete n.d}catch(o){}return{header:t,claims:n,data:r,signature:i}};function Or(e,t){return Object.prototype.hasOwnProperty.call(e,t)}function Dr(e,t){return Object.prototype.hasOwnProperty.call(e,t)?e[t]:void 0}function Ar(e){for(var t in e)if(Object.prototype.hasOwnProperty.call(e,t))return!1;return!0}function Zr(e,t,n){var r={};for(var i in e)Object.prototype.hasOwnProperty.call(e,i)&&(r[i]=t.call(n,e[i],i,e));return r}function Lr(e,t){if(e===t)return!0;for(var n=Object.keys(e),r=Object.keys(t),i=0,a=n;i<a.length;i++){var o=a[i];if(!r.includes(o))return!1;var s=e[o],u=t[o];if(Ur(s)&&Ur(u)){if(!Lr(s,u))return!1}else if(s!==u)return!1}for(var c=0,l=r;c<l.length;c++){var d=l[c];if(!n.includes(d))return!1}return!0}function Ur(e){return null!==e&&"object"===typeof e}function Mr(e){for(var t=[],n=function(){var e=(0,A.Z)(i[r],2),n=e[0],a=e[1];Array.isArray(a)?a.forEach((function(e){t.push(encodeURIComponent(n)+"="+encodeURIComponent(e))})):t.push(encodeURIComponent(n)+"="+encodeURIComponent(a))},r=0,i=Object.entries(e);r<i.length;r++)n();return t.length?"&"+t.join("&"):""}function jr(e){var t={};return e.replace(/^\?/,"").split("&").forEach((function(e){if(e){var n=e.split("="),r=(0,A.Z)(n,2),i=r[0],a=r[1];t[decodeURIComponent(i)]=decodeURIComponent(a)}})),t}function Fr(e){var t=e.indexOf("?");if(!t)return"";var n=e.indexOf("#",t);return e.substring(t,n>0?n:void 0)}var qr=function(){function e(){(0,p.Z)(this,e),this.chain_=[],this.buf_=[],this.W_=[],this.pad_=[],this.inbuf_=0,this.total_=0,this.blockSize=64,this.pad_[0]=128;for(var t=1;t<this.blockSize;++t)this.pad_[t]=0;this.reset()}return(0,v.Z)(e,[{key:"reset",value:function(){this.chain_[0]=1732584193,this.chain_[1]=4023233417,this.chain_[2]=2562383102,this.chain_[3]=271733878,this.chain_[4]=3285377520,this.inbuf_=0,this.total_=0}},{key:"compress_",value:function(e,t){t||(t=0);var n=this.W_;if("string"===typeof e)for(var r=0;r<16;r++)n[r]=e.charCodeAt(t)<<24|e.charCodeAt(t+1)<<16|e.charCodeAt(t+2)<<8|e.charCodeAt(t+3),t+=4;else for(var i=0;i<16;i++)n[i]=e[t]<<24|e[t+1]<<16|e[t+2]<<8|e[t+3],t+=4;for(var a=16;a<80;a++){var o=n[a-3]^n[a-8]^n[a-14]^n[a-16];n[a]=4294967295&(o<<1|o>>>31)}for(var s,u,c=this.chain_[0],l=this.chain_[1],d=this.chain_[2],f=this.chain_[3],h=this.chain_[4],p=0;p<80;p++){p<40?p<20?(s=f^l&(d^f),u=1518500249):(s=l^d^f,u=1859775393):p<60?(s=l&d|f&(l|d),u=2400959708):(s=l^d^f,u=3395469782);var v=(c<<5|c>>>27)+s+h+u+n[p]&4294967295;h=f,f=d,d=4294967295&(l<<30|l>>>2),l=c,c=v}this.chain_[0]=this.chain_[0]+c&4294967295,this.chain_[1]=this.chain_[1]+l&4294967295,this.chain_[2]=this.chain_[2]+d&4294967295,this.chain_[3]=this.chain_[3]+f&4294967295,this.chain_[4]=this.chain_[4]+h&4294967295}},{key:"update",value:function(e,t){if(null!=e){void 0===t&&(t=e.length);for(var n=t-this.blockSize,r=0,i=this.buf_,a=this.inbuf_;r<t;){if(0===a)for(;r<=n;)this.compress_(e,r),r+=this.blockSize;if("string"===typeof e){for(;r<t;)if(i[a]=e.charCodeAt(r),++r,++a===this.blockSize){this.compress_(i),a=0;break}}else for(;r<t;)if(i[a]=e[r],++r,++a===this.blockSize){this.compress_(i),a=0;break}}this.inbuf_=a,this.total_+=t}}},{key:"digest",value:function(){var e=[],t=8*this.total_;this.inbuf_<56?this.update(this.pad_,56-this.inbuf_):this.update(this.pad_,this.blockSize-(this.inbuf_-56));for(var n=this.blockSize-1;n>=56;n--)this.buf_[n]=255&t,t/=256;this.compress_(this.buf_);for(var r=0,i=0;i<5;i++)for(var a=24;a>=0;a-=8)e[r]=this.chain_[i]>>a&255,++r;return e}}]),e}();function zr(e,t){var n=new Br(e,t);return n.subscribe.bind(n)}var Br=function(){function e(t,n){var r=this;(0,p.Z)(this,e),this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=n,this.task.then((function(){t(r)})).catch((function(e){r.error(e)}))}return(0,v.Z)(e,[{key:"next",value:function(e){this.forEachObserver((function(t){t.next(e)}))}},{key:"error",value:function(e){this.forEachObserver((function(t){t.error(e)})),this.close(e)}},{key:"complete",value:function(){this.forEachObserver((function(e){e.complete()})),this.close()}},{key:"subscribe",value:function(e,t,n){var r,i=this;if(void 0===e&&void 0===t&&void 0===n)throw new Error("Missing Observer.");void 0===(r=function(e,t){if("object"!==typeof e||null===e)return!1;var n,r=(0,Z.Z)(t);try{for(r.s();!(n=r.n()).done;){var i=n.value;if(i in e&&"function"===typeof e[i])return!0}}catch(a){r.e(a)}finally{r.f()}return!1}(e,["next","error","complete"])?e:{next:e,error:t,complete:n}).next&&(r.next=Wr),void 0===r.error&&(r.error=Wr),void 0===r.complete&&(r.complete=Wr);var a=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then((function(){try{i.finalError?r.error(i.finalError):r.complete()}catch(e){}})),this.observers.push(r),a}},{key:"unsubscribeOne",value:function(e){void 0!==this.observers&&void 0!==this.observers[e]&&(delete this.observers[e],this.observerCount-=1,0===this.observerCount&&void 0!==this.onNoObservers&&this.onNoObservers(this))}},{key:"forEachObserver",value:function(e){if(!this.finalized)for(var t=0;t<this.observers.length;t++)this.sendOne(t,e)}},{key:"sendOne",value:function(e,t){var n=this;this.task.then((function(){if(void 0!==n.observers&&void 0!==n.observers[e])try{t(n.observers[e])}catch(r){"undefined"!==typeof console&&console.error&&console.error(r)}}))}},{key:"close",value:function(e){var t=this;this.finalized||(this.finalized=!0,void 0!==e&&(this.finalError=e),this.task.then((function(){t.observers=void 0,t.onNoObservers=void 0})))}}]),e}();function Wr(){}function Gr(e,t){return"".concat(e," failed: ").concat(t," argument ")}var Hr=function(e){for(var t=0,n=0;n<e.length;n++){var r=e.charCodeAt(n);r<128?t++:r<2048?t+=2:r>=55296&&r<=56319?(t+=4,n++):t+=3}return t};function Vr(e){return e&&e._delegate?e._delegate:e}var Yr=n(1002);function Kr(){Kr=function(){return e};var e={},t=Object.prototype,n=t.hasOwnProperty,r="function"==typeof Symbol?Symbol:{},i=r.iterator||"@@iterator",a=r.asyncIterator||"@@asyncIterator",o=r.toStringTag||"@@toStringTag";function s(e,t,n){return Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}),e[t]}try{s({},"")}catch(I){s=function(e,t,n){return e[t]=n}}function u(e,t,n,r){var i=t&&t.prototype instanceof d?t:d,a=Object.create(i.prototype),o=new S(r||[]);return a._invoke=function(e,t,n){var r="suspendedStart";return function(i,a){if("executing"===r)throw new Error("Generator is already running");if("completed"===r){if("throw"===i)throw a;return x()}for(n.method=i,n.arg=a;;){var o=n.delegate;if(o){var s=b(o,n);if(s){if(s===l)continue;return s}}if("next"===n.method)n.sent=n._sent=n.arg;else if("throw"===n.method){if("suspendedStart"===r)throw r="completed",n.arg;n.dispatchException(n.arg)}else"return"===n.method&&n.abrupt("return",n.arg);r="executing";var u=c(e,t,n);if("normal"===u.type){if(r=n.done?"completed":"suspendedYield",u.arg===l)continue;return{value:u.arg,done:n.done}}"throw"===u.type&&(r="completed",n.method="throw",n.arg=u.arg)}}}(e,n,o),a}function c(e,t,n){try{return{type:"normal",arg:e.call(t,n)}}catch(I){return{type:"throw",arg:I}}}e.wrap=u;var l={};function d(){}function f(){}function h(){}var p={};s(p,i,(function(){return this}));var v=Object.getPrototypeOf,m=v&&v(v(E([])));m&&m!==t&&n.call(m,i)&&(p=m);var g=h.prototype=d.prototype=Object.create(p);function y(e){["next","throw","return"].forEach((function(t){s(e,t,(function(e){return this._invoke(t,e)}))}))}function _(e,t){function r(i,a,o,s){var u=c(e[i],e,a);if("throw"!==u.type){var l=u.arg,d=l.value;return d&&"object"==(0,Yr.Z)(d)&&n.call(d,"__await")?t.resolve(d.__await).then((function(e){r("next",e,o,s)}),(function(e){r("throw",e,o,s)})):t.resolve(d).then((function(e){l.value=e,o(l)}),(function(e){return r("throw",e,o,s)}))}s(u.arg)}var i;this._invoke=function(e,n){function a(){return new t((function(t,i){r(e,n,t,i)}))}return i=i?i.then(a,a):a()}}function b(e,t){var n=e.iterator[t.method];if(void 0===n){if(t.delegate=null,"throw"===t.method){if(e.iterator.return&&(t.method="return",t.arg=void 0,b(e,t),"throw"===t.method))return l;t.method="throw",t.arg=new TypeError("The iterator does not provide a 'throw' method")}return l}var r=c(n,e.iterator,t.arg);if("throw"===r.type)return t.method="throw",t.arg=r.arg,t.delegate=null,l;var i=r.arg;return i?i.done?(t[e.resultName]=i.value,t.next=e.nextLoc,"return"!==t.method&&(t.method="next",t.arg=void 0),t.delegate=null,l):i:(t.method="throw",t.arg=new TypeError("iterator result is not an object"),t.delegate=null,l)}function k(e){var t={tryLoc:e[0]};1 in e&&(t.catchLoc=e[1]),2 in e&&(t.finallyLoc=e[2],t.afterLoc=e[3]),this.tryEntries.push(t)}function w(e){var t=e.completion||{};t.type="normal",delete t.arg,e.completion=t}function S(e){this.tryEntries=[{tryLoc:"root"}],e.forEach(k,this),this.reset(!0)}function E(e){if(e){var t=e[i];if(t)return t.call(e);if("function"==typeof e.next)return e;if(!isNaN(e.length)){var r=-1,a=function t(){for(;++r<e.length;)if(n.call(e,r))return t.value=e[r],t.done=!1,t;return t.value=void 0,t.done=!0,t};return a.next=a}}return{next:x}}function x(){return{value:void 0,done:!0}}return f.prototype=h,s(g,"constructor",h),s(h,"constructor",f),f.displayName=s(h,o,"GeneratorFunction"),e.isGeneratorFunction=function(e){var t="function"==typeof e&&e.constructor;return!!t&&(t===f||"GeneratorFunction"===(t.displayName||t.name))},e.mark=function(e){return Object.setPrototypeOf?Object.setPrototypeOf(e,h):(e.__proto__=h,s(e,o,"GeneratorFunction")),e.prototype=Object.create(g),e},e.awrap=function(e){return{__await:e}},y(_.prototype),s(_.prototype,a,(function(){return this})),e.AsyncIterator=_,e.async=function(t,n,r,i,a){void 0===a&&(a=Promise);var o=new _(u(t,n,r,i),a);return e.isGeneratorFunction(n)?o:o.next().then((function(e){return e.done?e.value:o.next()}))},y(g),s(g,o,"Generator"),s(g,i,(function(){return this})),s(g,"toString",(function(){return"[object Generator]"})),e.keys=function(e){var t=[];for(var n in e)t.push(n);return t.reverse(),function n(){for(;t.length;){var r=t.pop();if(r in e)return n.value=r,n.done=!1,n}return n.done=!0,n}},e.values=E,S.prototype={constructor:S,reset:function(e){if(this.prev=0,this.next=0,this.sent=this._sent=void 0,this.done=!1,this.delegate=null,this.method="next",this.arg=void 0,this.tryEntries.forEach(w),!e)for(var t in this)"t"===t.charAt(0)&&n.call(this,t)&&!isNaN(+t.slice(1))&&(this[t]=void 0)},stop:function(){this.done=!0;var e=this.tryEntries[0].completion;if("throw"===e.type)throw e.arg;return this.rval},dispatchException:function(e){if(this.done)throw e;var t=this;function r(n,r){return o.type="throw",o.arg=e,t.next=n,r&&(t.method="next",t.arg=void 0),!!r}for(var i=this.tryEntries.length-1;i>=0;--i){var a=this.tryEntries[i],o=a.completion;if("root"===a.tryLoc)return r("end");if(a.tryLoc<=this.prev){var s=n.call(a,"catchLoc"),u=n.call(a,"finallyLoc");if(s&&u){if(this.prev<a.catchLoc)return r(a.catchLoc,!0);if(this.prev<a.finallyLoc)return r(a.finallyLoc)}else if(s){if(this.prev<a.catchLoc)return r(a.catchLoc,!0)}else{if(!u)throw new Error("try statement without catch or finally");if(this.prev<a.finallyLoc)return r(a.finallyLoc)}}}},abrupt:function(e,t){for(var r=this.tryEntries.length-1;r>=0;--r){var i=this.tryEntries[r];if(i.tryLoc<=this.prev&&n.call(i,"finallyLoc")&&this.prev<i.finallyLoc){var a=i;break}}a&&("break"===e||"continue"===e)&&a.tryLoc<=t&&t<=a.finallyLoc&&(a=null);var o=a?a.completion:{};return o.type=e,o.arg=t,a?(this.method="next",this.next=a.finallyLoc,l):this.complete(o)},complete:function(e,t){if("throw"===e.type)throw e.arg;return"break"===e.type||"continue"===e.type?this.next=e.arg:"return"===e.type?(this.rval=this.arg=e.arg,this.method="return",this.next="end"):"normal"===e.type&&t&&(this.next=t),l},finish:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var n=this.tryEntries[t];if(n.finallyLoc===e)return this.complete(n.completion,n.afterLoc),w(n),l}},catch:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var n=this.tryEntries[t];if(n.tryLoc===e){var r=n.completion;if("throw"===r.type){var i=r.arg;w(n)}return i}}throw new Error("illegal catch attempt")},delegateYield:function(e,t,n){return this.delegate={iterator:E(e),resultName:t,nextLoc:n},"next"===this.method&&(this.arg=void 0),l}},e}function $r(e,t,n,r,i,a,o){try{var s=e[a](o),u=s.value}catch(ja){return void n(ja)}s.done?t(u):Promise.resolve(u).then(r,i)}function Jr(e){return function(){var t=this,n=arguments;return new Promise((function(r,i){var a=e.apply(t,n);function o(e){$r(a,r,i,o,s,"next",e)}function s(e){$r(a,r,i,o,s,"throw",e)}o(void 0)}))}}var Qr=function(){function e(t,n,r){(0,p.Z)(this,e),this.name=t,this.instanceFactory=n,this.type=r,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}return(0,v.Z)(e,[{key:"setInstantiationMode",value:function(e){return this.instantiationMode=e,this}},{key:"setMultipleInstances",value:function(e){return this.multipleInstances=e,this}},{key:"setServiceProps",value:function(e){return this.serviceProps=e,this}},{key:"setInstanceCreatedCallback",value:function(e){return this.onInstanceCreated=e,this}}]),e}(),Xr="[DEFAULT]",ei=function(){function e(t,n){(0,p.Z)(this,e),this.name=t,this.container=n,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}return(0,v.Z)(e,[{key:"get",value:function(e){var t=this.normalizeInstanceIdentifier(e);if(!this.instancesDeferred.has(t)){var n=new mr;if(this.instancesDeferred.set(t,n),this.isInitialized(t)||this.shouldAutoInitialize())try{var r=this.getOrInitializeService({instanceIdentifier:t});r&&n.resolve(r)}catch(i){}}return this.instancesDeferred.get(t).promise}},{key:"getImmediate",value:function(e){var t,n=this.normalizeInstanceIdentifier(null===e||void 0===e?void 0:e.identifier),r=null!==(t=null===e||void 0===e?void 0:e.optional)&&void 0!==t&&t;if(!this.isInitialized(n)&&!this.shouldAutoInitialize()){if(r)return null;throw Error("Service ".concat(this.name," is not available"))}try{return this.getOrInitializeService({instanceIdentifier:n})}catch(i){if(r)return null;throw i}}},{key:"getComponent",value:function(){return this.component}},{key:"setComponent",value:function(e){if(e.name!==this.name)throw Error("Mismatching Component ".concat(e.name," for Provider ").concat(this.name,"."));if(this.component)throw Error("Component for ".concat(this.name," has already been provided"));if(this.component=e,this.shouldAutoInitialize()){if(function(e){return"EAGER"===e.instantiationMode}(e))try{this.getOrInitializeService({instanceIdentifier:Xr})}catch(u){}var t,n=(0,Z.Z)(this.instancesDeferred.entries());try{for(n.s();!(t=n.n()).done;){var r=(0,A.Z)(t.value,2),i=r[0],a=r[1],o=this.normalizeInstanceIdentifier(i);try{var s=this.getOrInitializeService({instanceIdentifier:o});a.resolve(s)}catch(u){}}}catch(c){n.e(c)}finally{n.f()}}}},{key:"clearInstance",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Xr;this.instancesDeferred.delete(e),this.instancesOptions.delete(e),this.instances.delete(e)}},{key:"delete",value:function(){var e=Jr(Kr().mark((function e(){var t;return Kr().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=Array.from(this.instances.values()),e.next=3,Promise.all([].concat((0,o.Z)(t.filter((function(e){return"INTERNAL"in e})).map((function(e){return e.INTERNAL.delete()}))),(0,o.Z)(t.filter((function(e){return"_delete"in e})).map((function(e){return e._delete()})))));case 3:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"isComponentSet",value:function(){return null!=this.component}},{key:"isInitialized",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Xr;return this.instances.has(e)}},{key:"getOptions",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Xr;return this.instancesOptions.get(e)||{}}},{key:"initialize",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=e.options,n=void 0===t?{}:t,r=this.normalizeInstanceIdentifier(e.instanceIdentifier);if(this.isInitialized(r))throw Error("".concat(this.name,"(").concat(r,") has already been initialized"));if(!this.isComponentSet())throw Error("Component ".concat(this.name," has not been registered yet"));var i,a=this.getOrInitializeService({instanceIdentifier:r,options:n}),o=(0,Z.Z)(this.instancesDeferred.entries());try{for(o.s();!(i=o.n()).done;){var s=(0,A.Z)(i.value,2),u=s[0],c=s[1],l=this.normalizeInstanceIdentifier(u);r===l&&c.resolve(a)}}catch(d){o.e(d)}finally{o.f()}return a}},{key:"onInit",value:function(e,t){var n,r=this.normalizeInstanceIdentifier(t),i=null!==(n=this.onInitCallbacks.get(r))&&void 0!==n?n:new Set;i.add(e),this.onInitCallbacks.set(r,i);var a=this.instances.get(r);return a&&e(a,r),function(){i.delete(e)}}},{key:"invokeOnInitCallbacks",value:function(e,t){var n=this.onInitCallbacks.get(t);if(n){var r,i=(0,Z.Z)(n);try{for(i.s();!(r=i.n()).done;){var a=r.value;try{a(e,t)}catch(o){}}}catch(s){i.e(s)}finally{i.f()}}}},{key:"getOrInitializeService",value:function(e){var t,n=e.instanceIdentifier,r=e.options,i=void 0===r?{}:r,a=this.instances.get(n);if(!a&&this.component&&(a=this.component.instanceFactory(this.container,{instanceIdentifier:(t=n,t===Xr?void 0:t),options:i}),this.instances.set(n,a),this.instancesOptions.set(n,i),this.invokeOnInitCallbacks(a,n),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,n,a)}catch(o){}return a||null}},{key:"normalizeInstanceIdentifier",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Xr;return this.component?this.component.multipleInstances?e:Xr:e}},{key:"shouldAutoInitialize",value:function(){return!!this.component&&"EXPLICIT"!==this.component.instantiationMode}}]),e}();var ti,ni,ri=function(){function e(t){(0,p.Z)(this,e),this.name=t,this.providers=new Map}return(0,v.Z)(e,[{key:"addComponent",value:function(e){var t=this.getProvider(e.name);if(t.isComponentSet())throw new Error("Component ".concat(e.name," has already been registered with ").concat(this.name));t.setComponent(e)}},{key:"addOrOverwriteComponent",value:function(e){this.getProvider(e.name).isComponentSet()&&this.providers.delete(e.name),this.addComponent(e)}},{key:"getProvider",value:function(e){if(this.providers.has(e))return this.providers.get(e);var t=new ei(e,this);return this.providers.set(e,t),t}},{key:"getProviders",value:function(){return Array.from(this.providers.values())}}]),e}(),ii=[];!function(e){e[e.DEBUG=0]="DEBUG",e[e.VERBOSE=1]="VERBOSE",e[e.INFO=2]="INFO",e[e.WARN=3]="WARN",e[e.ERROR=4]="ERROR",e[e.SILENT=5]="SILENT"}(ni||(ni={}));var ai={debug:ni.DEBUG,verbose:ni.VERBOSE,info:ni.INFO,warn:ni.WARN,error:ni.ERROR,silent:ni.SILENT},oi=ni.INFO,si=(ti={},(0,mn.Z)(ti,ni.DEBUG,"log"),(0,mn.Z)(ti,ni.VERBOSE,"log"),(0,mn.Z)(ti,ni.INFO,"info"),(0,mn.Z)(ti,ni.WARN,"warn"),(0,mn.Z)(ti,ni.ERROR,"error"),ti),ui=function(e,t){if(!(t<e.logLevel)){var n=(new Date).toISOString(),r=si[t];if(!r)throw new Error("Attempted to log a message with an invalid logType (value: ".concat(t,")"));for(var i,a=arguments.length,o=new Array(a>2?a-2:0),s=2;s<a;s++)o[s-2]=arguments[s];(i=console)[r].apply(i,["[".concat(n,"]  ").concat(e.name,":")].concat(o))}},ci=function(){function e(t){(0,p.Z)(this,e),this.name=t,this._logLevel=oi,this._logHandler=ui,this._userLogHandler=null,ii.push(this)}return(0,v.Z)(e,[{key:"logLevel",get:function(){return this._logLevel},set:function(e){if(!(e in ni))throw new TypeError('Invalid value "'.concat(e,'" assigned to `logLevel`'));this._logLevel=e}},{key:"setLogLevel",value:function(e){this._logLevel="string"===typeof e?ai[e]:e}},{key:"logHandler",get:function(){return this._logHandler},set:function(e){if("function"!==typeof e)throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=e}},{key:"userLogHandler",get:function(){return this._userLogHandler},set:function(e){this._userLogHandler=e}},{key:"debug",value:function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];this._userLogHandler&&this._userLogHandler.apply(this,[this,ni.DEBUG].concat(t)),this._logHandler.apply(this,[this,ni.DEBUG].concat(t))}},{key:"log",value:function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];this._userLogHandler&&this._userLogHandler.apply(this,[this,ni.VERBOSE].concat(t)),this._logHandler.apply(this,[this,ni.VERBOSE].concat(t))}},{key:"info",value:function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];this._userLogHandler&&this._userLogHandler.apply(this,[this,ni.INFO].concat(t)),this._logHandler.apply(this,[this,ni.INFO].concat(t))}},{key:"warn",value:function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];this._userLogHandler&&this._userLogHandler.apply(this,[this,ni.WARN].concat(t)),this._logHandler.apply(this,[this,ni.WARN].concat(t))}},{key:"error",value:function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];this._userLogHandler&&this._userLogHandler.apply(this,[this,ni.ERROR].concat(t)),this._logHandler.apply(this,[this,ni.ERROR].concat(t))}}]),e}();var li,di;var fi=new WeakMap,hi=new WeakMap,pi=new WeakMap,vi=new WeakMap,mi=new WeakMap;var gi={get:function(e,t,n){if(e instanceof IDBTransaction){if("done"===t)return hi.get(e);if("objectStoreNames"===t)return e.objectStoreNames||pi.get(e);if("store"===t)return n.objectStoreNames[1]?void 0:n.objectStore(n.objectStoreNames[0])}return bi(e[t])},set:function(e,t,n){return e[t]=n,!0},has:function(e,t){return e instanceof IDBTransaction&&("done"===t||"store"===t)||t in e}};function yi(e){return e!==IDBDatabase.prototype.transaction||"objectStoreNames"in IDBTransaction.prototype?(di||(di=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])).includes(e)?function(){for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];return e.apply(ki(this),n),bi(fi.get(this))}:function(){for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];return bi(e.apply(ki(this),n))}:function(t){for(var n=arguments.length,r=new Array(n>1?n-1:0),i=1;i<n;i++)r[i-1]=arguments[i];var a=e.call.apply(e,[ki(this),t].concat(r));return pi.set(a,t.sort?t.sort():[t]),bi(a)}}function _i(e){return"function"===typeof e?yi(e):(e instanceof IDBTransaction&&function(e){if(!hi.has(e)){var t=new Promise((function(t,n){var r=function(){e.removeEventListener("complete",i),e.removeEventListener("error",a),e.removeEventListener("abort",a)},i=function(){t(),r()},a=function(){n(e.error||new DOMException("AbortError","AbortError")),r()};e.addEventListener("complete",i),e.addEventListener("error",a),e.addEventListener("abort",a)}));hi.set(e,t)}}(e),function(e,t){return t.some((function(t){return e instanceof t}))}(e,li||(li=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction]))?new Proxy(e,gi):e)}function bi(e){if(e instanceof IDBRequest)return function(e){var t=new Promise((function(t,n){var r=function(){e.removeEventListener("success",i),e.removeEventListener("error",a)},i=function(){t(bi(e.result)),r()},a=function(){n(e.error),r()};e.addEventListener("success",i),e.addEventListener("error",a)}));return t.then((function(t){t instanceof IDBCursor&&fi.set(t,e)})).catch((function(){})),mi.set(t,e),t}(e);if(vi.has(e))return vi.get(e);var t=_i(e);return t!==e&&(vi.set(e,t),mi.set(t,e)),t}var ki=function(e){return mi.get(e)};var wi,Si,Ei=["get","getKey","getAll","getAllKeys","count"],xi=["put","add","delete","clear"],Ii=new Map;function Ti(e,t){if(e instanceof IDBDatabase&&!(t in e)&&"string"===typeof t){if(Ii.get(t))return Ii.get(t);var n=t.replace(/FromIndex$/,""),r=t!==n,i=xi.includes(n);if(n in(r?IDBIndex:IDBObjectStore).prototype&&(i||Ei.includes(n))){var a=function(){var e=Jr(Kr().mark((function e(t){var a,o,s,u,c,l,d=arguments;return Kr().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:for(o=this.transaction(t,i?"readwrite":"readonly"),s=o.store,u=d.length,c=new Array(u>1?u-1:0),l=1;l<u;l++)c[l-1]=d[l];return r&&(s=s.index(c.shift())),e.next=6,Promise.all([(a=s)[n].apply(a,c),i&&o.done]);case 6:return e.abrupt("return",e.sent[0]);case 7:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}();return Ii.set(t,a),a}}}gi=function(e){return(0,a.Z)((0,a.Z)({},e),{},{get:function(t,n,r){return Ti(t,n)||e.get(t,n,r)},has:function(t,n){return!!Ti(t,n)||e.has(t,n)}})}(gi);var Ci=function(){function e(t){(0,p.Z)(this,e),this.container=t}return(0,v.Z)(e,[{key:"getPlatformInfoString",value:function(){return this.container.getProviders().map((function(e){if(function(e){var t=e.getComponent();return"VERSION"===(null===t||void 0===t?void 0:t.type)}(e)){var t=e.getImmediate();return"".concat(t.library,"/").concat(t.version)}return null})).filter((function(e){return e})).join(" ")}}]),e}();var Ni="@firebase/app",Ri="0.7.27",Pi=new ci("@firebase/app"),Oi="[DEFAULT]",Di=(wi={},(0,mn.Z)(wi,Ni,"fire-core"),(0,mn.Z)(wi,"@firebase/app-compat","fire-core-compat"),(0,mn.Z)(wi,"@firebase/analytics","fire-analytics"),(0,mn.Z)(wi,"@firebase/analytics-compat","fire-analytics-compat"),(0,mn.Z)(wi,"@firebase/app-check","fire-app-check"),(0,mn.Z)(wi,"@firebase/app-check-compat","fire-app-check-compat"),(0,mn.Z)(wi,"@firebase/auth","fire-auth"),(0,mn.Z)(wi,"@firebase/auth-compat","fire-auth-compat"),(0,mn.Z)(wi,"@firebase/database","fire-rtdb"),(0,mn.Z)(wi,"@firebase/database-compat","fire-rtdb-compat"),(0,mn.Z)(wi,"@firebase/functions","fire-fn"),(0,mn.Z)(wi,"@firebase/functions-compat","fire-fn-compat"),(0,mn.Z)(wi,"@firebase/installations","fire-iid"),(0,mn.Z)(wi,"@firebase/installations-compat","fire-iid-compat"),(0,mn.Z)(wi,"@firebase/messaging","fire-fcm"),(0,mn.Z)(wi,"@firebase/messaging-compat","fire-fcm-compat"),(0,mn.Z)(wi,"@firebase/performance","fire-perf"),(0,mn.Z)(wi,"@firebase/performance-compat","fire-perf-compat"),(0,mn.Z)(wi,"@firebase/remote-config","fire-rc"),(0,mn.Z)(wi,"@firebase/remote-config-compat","fire-rc-compat"),(0,mn.Z)(wi,"@firebase/storage","fire-gcs"),(0,mn.Z)(wi,"@firebase/storage-compat","fire-gcs-compat"),(0,mn.Z)(wi,"@firebase/firestore","fire-fst"),(0,mn.Z)(wi,"@firebase/firestore-compat","fire-fst-compat"),(0,mn.Z)(wi,"fire-js","fire-js"),(0,mn.Z)(wi,"firebase","fire-js-all"),wi),Ai=new Map,Zi=new Map;function Li(e,t){try{e.container.addComponent(t)}catch(n){Pi.debug("Component ".concat(t.name," failed to register with FirebaseApp ").concat(e.name),n)}}function Ui(e,t){e.container.addOrOverwriteComponent(t)}function Mi(e){var t=e.name;if(Zi.has(t))return Pi.debug("There were multiple attempts to register component ".concat(t,".")),!1;Zi.set(t,e);var n,r=(0,Z.Z)(Ai.values());try{for(r.s();!(n=r.n()).done;){Li(n.value,e)}}catch(i){r.e(i)}finally{r.f()}return!0}function ji(e,t){var n=e.container.getProvider("heartbeat").getImmediate({optional:!0});return n&&n.triggerHeartbeat(),e.container.getProvider(t)}function Fi(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:Oi;ji(e,t).clearInstance(n)}function qi(){Zi.clear()}var zi=(Si={},(0,mn.Z)(Si,"no-app","No Firebase App '{$appName}' has been created - call Firebase App.initializeApp()"),(0,mn.Z)(Si,"bad-app-name","Illegal App name: '{$appName}"),(0,mn.Z)(Si,"duplicate-app","Firebase App named '{$appName}' already exists with different options or config"),(0,mn.Z)(Si,"app-deleted","Firebase App named '{$appName}' already deleted"),(0,mn.Z)(Si,"invalid-app-argument","firebase.{$appName}() takes either no argument or a Firebase App instance."),(0,mn.Z)(Si,"invalid-log-argument","First argument to `onLog` must be null or a function."),(0,mn.Z)(Si,"storage-open","Error thrown when opening storage. Original error: {$originalErrorMessage}."),(0,mn.Z)(Si,"storage-get","Error thrown when reading from storage. Original error: {$originalErrorMessage}."),(0,mn.Z)(Si,"storage-set","Error thrown when writing to storage. Original error: {$originalErrorMessage}."),(0,mn.Z)(Si,"storage-delete","Error thrown when deleting from storage. Original error: {$originalErrorMessage}."),Si),Bi=new Ir("app","Firebase",zi),Wi=function(){function e(t,n,r){var i=this;(0,p.Z)(this,e),this._isDeleted=!1,this._options=Object.assign({},t),this._config=Object.assign({},n),this._name=n.name,this._automaticDataCollectionEnabled=n.automaticDataCollectionEnabled,this._container=r,this.container.addComponent(new Qr("app",(function(){return i}),"PUBLIC"))}return(0,v.Z)(e,[{key:"automaticDataCollectionEnabled",get:function(){return this.checkDestroyed(),this._automaticDataCollectionEnabled},set:function(e){this.checkDestroyed(),this._automaticDataCollectionEnabled=e}},{key:"name",get:function(){return this.checkDestroyed(),this._name}},{key:"options",get:function(){return this.checkDestroyed(),this._options}},{key:"config",get:function(){return this.checkDestroyed(),this._config}},{key:"container",get:function(){return this._container}},{key:"isDeleted",get:function(){return this._isDeleted},set:function(e){this._isDeleted=e}},{key:"checkDestroyed",value:function(){if(this.isDeleted)throw Bi.create("app-deleted",{appName:this._name})}}]),e}(),Gi="9.8.4";function Hi(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};if("object"!==typeof t){var n=t;t={name:n}}var r=Object.assign({name:Oi,automaticDataCollectionEnabled:!1},t),i=r.name;if("string"!==typeof i||!i)throw Bi.create("bad-app-name",{appName:String(i)});var a=Ai.get(i);if(a){if(Lr(e,a.options)&&Lr(r,a.config))return a;throw Bi.create("duplicate-app",{appName:i})}var o,s=new ri(i),u=(0,Z.Z)(Zi.values());try{for(u.s();!(o=u.n()).done;){var c=o.value;s.addComponent(c)}}catch(d){u.e(d)}finally{u.f()}var l=new Wi(e,r,s);return Ai.set(i,l),l}function Vi(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Oi,t=Ai.get(e);if(!t)throw Bi.create("no-app",{appName:e});return t}function Yi(){return Array.from(Ai.values())}function Ki(e){return $i.apply(this,arguments)}function $i(){return $i=Jr(Kr().mark((function e(t){var n;return Kr().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(n=t.name,!Ai.has(n)){e.next=6;break}return Ai.delete(n),e.next=5,Promise.all(t.container.getProviders().map((function(e){return e.delete()})));case 5:t.isDeleted=!0;case 6:case"end":return e.stop()}}),e)}))),$i.apply(this,arguments)}function Ji(e,t,n){var r,i=null!==(r=Di[e])&&void 0!==r?r:e;n&&(i+="-".concat(n));var a=i.match(/\s|\//),o=t.match(/\s|\//);if(a||o){var s=['Unable to register library "'.concat(i,'" with version "').concat(t,'":')];return a&&s.push('library name "'.concat(i,'" contains illegal characters (whitespace or "/")')),a&&o&&s.push("and"),o&&s.push('version name "'.concat(t,'" contains illegal characters (whitespace or "/")')),void Pi.warn(s.join(" "))}Mi(new Qr("".concat(i,"-version"),(function(){return{library:i,version:t}}),"VERSION"))}function Qi(e,t){if(null!==e&&"function"!==typeof e)throw Bi.create("invalid-log-argument");!function(e,t){var n,r=(0,Z.Z)(ii);try{var i=function(){var r=n.value,i=null;t&&t.level&&(i=ai[t.level]),r.userLogHandler=null===e?null:function(t,n){for(var r=arguments.length,a=new Array(r>2?r-2:0),o=2;o<r;o++)a[o-2]=arguments[o];var s=a.map((function(e){if(null==e)return null;if("string"===typeof e)return e;if("number"===typeof e||"boolean"===typeof e)return e.toString();if(e instanceof Error)return e.message;try{return JSON.stringify(e)}catch(t){return null}})).filter((function(e){return e})).join(" ");n>=(null!==i&&void 0!==i?i:t.logLevel)&&e({level:ni[n].toLowerCase(),message:s,args:a,type:t.name})}};for(r.s();!(n=r.n()).done;)i()}catch(a){r.e(a)}finally{r.f()}}(e,t)}function Xi(e){var t;t=e,ii.forEach((function(e){e.setLogLevel(t)}))}var ea="firebase-heartbeat-store",ta=null;function na(){return ta||(ta=function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},r=n.blocked,i=n.upgrade,a=n.blocking,o=n.terminated,s=indexedDB.open(e,t),u=bi(s);return i&&s.addEventListener("upgradeneeded",(function(e){i(bi(s.result),e.oldVersion,e.newVersion,bi(s.transaction))})),r&&s.addEventListener("blocked",(function(){return r()})),u.then((function(e){o&&e.addEventListener("close",(function(){return o()})),a&&e.addEventListener("versionchange",(function(){return a()}))})).catch((function(){})),u}("firebase-heartbeat-database",1,{upgrade:function(e,t){if(0===t)e.createObjectStore(ea)}}).catch((function(e){throw Bi.create("storage-open",{originalErrorMessage:e.message})}))),ta}function ra(e){return ia.apply(this,arguments)}function ia(){return ia=Jr(Kr().mark((function e(t){var n,r;return Kr().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,na();case 3:return r=e.sent,e.abrupt("return",r.transaction(ea).objectStore(ea).get(sa(t)));case 7:throw e.prev=7,e.t0=e.catch(0),Bi.create("storage-get",{originalErrorMessage:null===(n=e.t0)||void 0===n?void 0:n.message});case 10:case"end":return e.stop()}}),e,null,[[0,7]])}))),ia.apply(this,arguments)}function aa(e,t){return oa.apply(this,arguments)}function oa(){return oa=Jr(Kr().mark((function e(t,n){var r,i,a,o;return Kr().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,na();case 3:return i=e.sent,a=i.transaction(ea,"readwrite"),o=a.objectStore(ea),e.next=8,o.put(n,sa(t));case 8:return e.abrupt("return",a.done);case 11:throw e.prev=11,e.t0=e.catch(0),Bi.create("storage-set",{originalErrorMessage:null===(r=e.t0)||void 0===r?void 0:r.message});case 14:case"end":return e.stop()}}),e,null,[[0,11]])}))),oa.apply(this,arguments)}function sa(e){return"".concat(e.name,"!").concat(e.options.appId)}var ua=function(){function e(t){var n=this;(0,p.Z)(this,e),this.container=t,this._heartbeatsCache=null;var r=this.container.getProvider("app").getImmediate();this._storage=new ha(r),this._heartbeatsCachePromise=this._storage.read().then((function(e){return n._heartbeatsCache=e,e}))}return(0,v.Z)(e,[{key:"triggerHeartbeat",value:function(){var e=Jr(Kr().mark((function e(){var t,n,r;return Kr().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t=this.container.getProvider("platform-logger").getImmediate(),n=t.getPlatformInfoString(),r=ca(),null!==this._heartbeatsCache){e.next=7;break}return e.next=6,this._heartbeatsCachePromise;case 6:this._heartbeatsCache=e.sent;case 7:if(this._heartbeatsCache.lastSentHeartbeatDate!==r&&!this._heartbeatsCache.heartbeats.some((function(e){return e.date===r}))){e.next=11;break}return e.abrupt("return");case 11:this._heartbeatsCache.heartbeats.push({date:r,agent:n});case 12:return this._heartbeatsCache.heartbeats=this._heartbeatsCache.heartbeats.filter((function(e){var t=new Date(e.date).valueOf();return Date.now()-t<=2592e6})),e.abrupt("return",this._storage.overwrite(this._heartbeatsCache));case 14:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"getHeartbeatsHeader",value:function(){var e=Jr(Kr().mark((function e(){var t,n,r,i,a;return Kr().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(null!==this._heartbeatsCache){e.next=3;break}return e.next=3,this._heartbeatsCachePromise;case 3:if(null!==this._heartbeatsCache&&0!==this._heartbeatsCache.heartbeats.length){e.next=5;break}return e.abrupt("return","");case 5:if(t=ca(),n=la(this._heartbeatsCache.heartbeats),r=n.heartbeatsToSend,i=n.unsentEntries,a=hr(JSON.stringify({version:2,heartbeats:r})),this._heartbeatsCache.lastSentHeartbeatDate=t,!(i.length>0)){e.next=15;break}return this._heartbeatsCache.heartbeats=i,e.next=13,this._storage.overwrite(this._heartbeatsCache);case 13:e.next=17;break;case 15:this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache);case 17:return e.abrupt("return",a);case 18:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()}]),e}();function ca(){return(new Date).toISOString().substring(0,10)}function la(e){var t,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1024,r=[],i=e.slice(),a=(0,Z.Z)(e);try{var o=function(){var e=t.value,a=r.find((function(t){return t.agent===e.agent}));if(a){if(a.dates.push(e.date),pa(r)>n)return a.dates.pop(),"break"}else if(r.push({agent:e.agent,dates:[e.date]}),pa(r)>n)return r.pop(),"break";i=i.slice(1)};for(a.s();!(t=a.n()).done;){var s=o();if("break"===s)break}}catch(u){a.e(u)}finally{a.f()}return{heartbeatsToSend:r,unsentEntries:i}}var da,fa,ha=function(){function e(t){(0,p.Z)(this,e),this.app=t,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}return(0,v.Z)(e,[{key:"runIndexedDBEnvironmentCheck",value:function(){var e=Jr(Kr().mark((function e(){return Kr().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(Er()){e.next=4;break}return e.abrupt("return",!1);case 4:return e.abrupt("return",new Promise((function(e,t){try{var n=!0,r="validate-browser-context-for-indexeddb-analytics-module",i=self.indexedDB.open(r);i.onsuccess=function(){i.result.close(),n||self.indexedDB.deleteDatabase(r),e(!0)},i.onupgradeneeded=function(){n=!1},i.onerror=function(){var e;t((null===(e=i.error)||void 0===e?void 0:e.message)||"")}}catch(ja){t(ja)}})).then((function(){return!0})).catch((function(){return!1})));case 5:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}()},{key:"read",value:function(){var e=Jr(Kr().mark((function e(){var t;return Kr().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this._canUseIndexedDBPromise;case 2:if(e.sent){e.next=7;break}return e.abrupt("return",{heartbeats:[]});case 7:return e.next=9,ra(this.app);case 9:return t=e.sent,e.abrupt("return",t||{heartbeats:[]});case 11:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"overwrite",value:function(){var e=Jr(Kr().mark((function e(t){var n,r;return Kr().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this._canUseIndexedDBPromise;case 2:if(e.sent){e.next=7;break}return e.abrupt("return");case 7:return e.next=9,this.read();case 9:return r=e.sent,e.abrupt("return",aa(this.app,{lastSentHeartbeatDate:null!==(n=t.lastSentHeartbeatDate)&&void 0!==n?n:r.lastSentHeartbeatDate,heartbeats:t.heartbeats}));case 11:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"add",value:function(){var e=Jr(Kr().mark((function e(t){var n,r;return Kr().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this._canUseIndexedDBPromise;case 2:if(e.sent){e.next=7;break}return e.abrupt("return");case 7:return e.next=9,this.read();case 9:return r=e.sent,e.abrupt("return",aa(this.app,{lastSentHeartbeatDate:null!==(n=t.lastSentHeartbeatDate)&&void 0!==n?n:r.lastSentHeartbeatDate,heartbeats:[].concat((0,o.Z)(r.heartbeats),(0,o.Z)(t.heartbeats))}));case 11:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()}]),e}();function pa(e){return hr(JSON.stringify({version:2,heartbeats:e})).length}da="",Mi(new Qr("platform-logger",(function(e){return new Ci(e)}),"PRIVATE")),Mi(new Qr("heartbeat",(function(e){return new ua(e)}),"PRIVATE")),Ji(Ni,Ri,da),Ji(Ni,Ri,"esm2017"),Ji("fire-js","");var va=function(){function e(t,n){var r=this;(0,p.Z)(this,e),this._delegate=t,this.firebase=n,Li(t,new Qr("app-compat",(function(){return r}),"PUBLIC")),this.container=t.container}return(0,v.Z)(e,[{key:"automaticDataCollectionEnabled",get:function(){return this._delegate.automaticDataCollectionEnabled},set:function(e){this._delegate.automaticDataCollectionEnabled=e}},{key:"name",get:function(){return this._delegate.name}},{key:"options",get:function(){return this._delegate.options}},{key:"delete",value:function(){var e=this;return new Promise((function(t){e._delegate.checkDestroyed(),t()})).then((function(){return e.firebase.INTERNAL.removeApp(e.name),Ki(e._delegate)}))}},{key:"_getService",value:function(e){var t,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:Oi;this._delegate.checkDestroyed();var r=this._delegate.container.getProvider(e);return r.isInitialized()||"EXPLICIT"!==(null===(t=r.getComponent())||void 0===t?void 0:t.instantiationMode)||r.initialize(),r.getImmediate({identifier:n})}},{key:"_removeServiceInstance",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:Oi;this._delegate.container.getProvider(e).clearInstance(t)}},{key:"_addComponent",value:function(e){Li(this._delegate,e)}},{key:"_addOrOverwriteComponent",value:function(e){Ui(this._delegate,e)}},{key:"toJSON",value:function(){return{name:this.name,automaticDataCollectionEnabled:this.automaticDataCollectionEnabled,options:this.options}}}]),e}(),ma=(fa={},(0,mn.Z)(fa,"no-app","No Firebase App '{$appName}' has been created - call Firebase App.initializeApp()"),(0,mn.Z)(fa,"invalid-app-argument","firebase.{$appName}() takes either no argument or a Firebase App instance."),fa),ga=new Ir("app-compat","Firebase",ma);var ya=function t(){var n=function(t){var n={},r={__esModule:!0,initializeApp:function(e){var i=Hi(e,arguments.length>1&&void 0!==arguments[1]?arguments[1]:{});if(Or(n,i.name))return n[i.name];var a=new t(i,r);return n[i.name]=a,a},app:i,registerVersion:Ji,setLogLevel:Xi,onLog:Qi,apps:null,SDK_VERSION:Gi,INTERNAL:{registerComponent:function(e){var n=e.name,a=n.replace("-compat","");if(Mi(e)&&"PUBLIC"===e.type){var o=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:i();if("function"!==typeof e[a])throw ga.create("invalid-app-argument",{appName:n});return e[a]()};void 0!==e.serviceProps&&vr(o,e.serviceProps),r[a]=o,t.prototype[a]=function(){for(var t=this._getService.bind(this,n),r=arguments.length,i=new Array(r),a=0;a<r;a++)i[a]=arguments[a];return t.apply(this,e.multipleInstances?i:[])}}return"PUBLIC"===e.type?r[a]:null},removeApp:function(e){delete n[e]},useAsService:function(e,t){return"serverAuth"===t?null:t},modularAPIs:e}};function i(e){if(!Or(n,e=e||Oi))throw ga.create("no-app",{appName:e});return n[e]}return r.default=r,Object.defineProperty(r,"apps",{get:function(){return Object.keys(n).map((function(e){return n[e]}))}}),i.App=t,r}(va);return n.INTERNAL=Object.assign(Object.assign({},n.INTERNAL),{createFirebaseNamespace:t,extendNamespace:function(e){vr(n,e)},createSubscribe:zr,ErrorFactory:Ir,deepExtend:vr}),n}(),_a=new ci("@firebase/app-compat");if("object"===typeof self&&self.self===self&&void 0!==self.firebase){_a.warn("\n    Warning: Firebase is already defined in the global scope. Please make sure\n    Firebase library is only loaded once.\n  ");var ba=self.firebase.SDK_VERSION;ba&&ba.indexOf("LITE")>=0&&_a.warn("\n    Warning: You are trying to load Firebase while using Firebase Performance standalone script.\n    You should load Firebase Performance with this instance of Firebase to avoid loading duplicate code.\n    ")}var ka=ya;!function(e){Ji("@firebase/app-compat","0.1.28",e)}();ka.registerVersion("firebase","9.8.4","app-compat");var wa="@firebase/database",Sa="0.13.2",Ea="";var xa=function(){function e(t){(0,p.Z)(this,e),this.domStorage_=t,this.prefix_="firebase:"}return(0,v.Z)(e,[{key:"set",value:function(e,t){null==t?this.domStorage_.removeItem(this.prefixedName_(e)):this.domStorage_.setItem(this.prefixedName_(e),Rr(t))}},{key:"get",value:function(e){var t=this.domStorage_.getItem(this.prefixedName_(e));return null==t?null:Nr(t)}},{key:"remove",value:function(e){this.domStorage_.removeItem(this.prefixedName_(e))}},{key:"prefixedName_",value:function(e){return this.prefix_+e}},{key:"toString",value:function(){return this.domStorage_.toString()}}]),e}(),Ia=function(){function e(){(0,p.Z)(this,e),this.cache_={},this.isInMemoryStorage=!0}return(0,v.Z)(e,[{key:"set",value:function(e,t){null==t?delete this.cache_[e]:this.cache_[e]=t}},{key:"get",value:function(e){return Or(this.cache_,e)?this.cache_[e]:null}},{key:"remove",value:function(e){delete this.cache_[e]}}]),e}(),Ta=function(e){try{if("undefined"!==typeof window&&"undefined"!==typeof window[e]){var t=window[e];return t.setItem("firebase:sentinel","cache"),t.removeItem("firebase:sentinel"),new xa(t)}}catch(n){}return new Ia},Ca=Ta("localStorage"),Na=Ta("sessionStorage"),Ra=new ci("@firebase/database"),Pa=function(){var e=1;return function(){return e++}}(),Oa=function(e){var t=function(e){for(var t=[],n=0,r=0;r<e.length;r++){var i=e.charCodeAt(r);if(i>=55296&&i<=56319){var a=i-55296;r++,ur(r<e.length,"Surrogate pair missing trail surrogate."),i=65536+(a<<10)+(e.charCodeAt(r)-56320)}i<128?t[n++]=i:i<2048?(t[n++]=i>>6|192,t[n++]=63&i|128):i<65536?(t[n++]=i>>12|224,t[n++]=i>>6&63|128,t[n++]=63&i|128):(t[n++]=i>>18|240,t[n++]=i>>12&63|128,t[n++]=i>>6&63|128,t[n++]=63&i|128)}return t}(e),n=new qr;n.update(t);var r=n.digest();return dr.encodeByteArray(r)},Da=function e(){for(var t="",n=0;n<arguments.length;n++){var r=n<0||arguments.length<=n?void 0:arguments[n];Array.isArray(r)||r&&"object"===typeof r&&"number"===typeof r.length?t+=e.apply(null,r):t+="object"===typeof r?Rr(r):r,t+=" "}return t},Aa=null,Za=!0,La=function(e,t){ur(!t||!0===e||!1===e,"Can't turn on custom loggers persistently."),!0===e?(Ra.logLevel=ni.VERBOSE,Aa=Ra.log.bind(Ra),t&&Na.set("logging_enabled",!0)):"function"===typeof e?Aa=e:(Aa=null,Na.remove("logging_enabled"))},Ua=function(){if(!0===Za&&(Za=!1,null===Aa&&!0===Na.get("logging_enabled")&&La(!0)),Aa){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];var r=Da.apply(null,t);Aa(r)}},Ma=function(e){return function(){for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];Ua.apply(void 0,[e].concat(n))}},ja=function(){var e="FIREBASE INTERNAL ERROR: "+Da.apply(void 0,arguments);Ra.error(e)},Fa=function(){var e="FIREBASE FATAL ERROR: ".concat(Da.apply(void 0,arguments));throw Ra.error(e),new Error(e)},qa=function(){var e="FIREBASE WARNING: "+Da.apply(void 0,arguments);Ra.warn(e)},za=function(e){return"number"===typeof e&&(e!==e||e===Number.POSITIVE_INFINITY||e===Number.NEGATIVE_INFINITY)},Ba="[MIN_NAME]",Wa="[MAX_NAME]",Ga=function(e,t){if(e===t)return 0;if(e===Ba||t===Wa)return-1;if(t===Ba||e===Wa)return 1;var n=to(e),r=to(t);return null!==n?null!==r?n-r===0?e.length-t.length:n-r:-1:null!==r?1:e<t?-1:1},Ha=function(e,t){return e===t?0:e<t?-1:1},Va=function(e,t){if(t&&e in t)return t[e];throw new Error("Missing required key ("+e+") in object: "+Rr(t))},Ya=function e(t){if("object"!==typeof t||null===t)return Rr(t);var n=[];for(var r in t)n.push(r);n.sort();for(var i="{",a=0;a<n.length;a++)0!==a&&(i+=","),i+=Rr(n[a]),i+=":",i+=e(t[n[a]]);return i+="}"},Ka=function(e,t){var n=e.length;if(n<=t)return[e];for(var r=[],i=0;i<n;i+=t)i+t>n?r.push(e.substring(i,n)):r.push(e.substring(i,i+t));return r};function $a(e,t){for(var n in e)e.hasOwnProperty(n)&&t(n,e[n])}var Ja=function(e){ur(!za(e),"Invalid JSON number");var t,n,r,i,a,o=1023;0===e?(n=0,r=0,t=1/e===-1/0?1:0):(t=e<0,(e=Math.abs(e))>=Math.pow(2,-1022)?(n=(i=Math.min(Math.floor(Math.log(e)/Math.LN2),o))+o,r=Math.round(e*Math.pow(2,52-i)-Math.pow(2,52))):(n=0,r=Math.round(e/Math.pow(2,-1074))));var s=[];for(a=52;a;a-=1)s.push(r%2?1:0),r=Math.floor(r/2);for(a=11;a;a-=1)s.push(n%2?1:0),n=Math.floor(n/2);s.push(t?1:0),s.reverse();var u=s.join(""),c="";for(a=0;a<64;a+=8){var l=parseInt(u.substr(a,8),2).toString(16);1===l.length&&(l="0"+l),c+=l}return c.toLowerCase()};var Qa=new RegExp("^-?(0*)\\d{1,10}$"),Xa=-2147483648,eo=2147483647,to=function(e){if(Qa.test(e)){var t=Number(e);if(t>=Xa&&t<=eo)return t}return null},no=function(e){try{e()}catch(t){setTimeout((function(){var e=t.stack||"";throw qa("Exception was thrown by user callback.",e),t}),Math.floor(0))}},ro=function(e,t){var n=setTimeout(e,t);return"object"===typeof n&&n.unref&&n.unref(),n},io=function(){function e(t,n){var r=this;(0,p.Z)(this,e),this.appName_=t,this.appCheckProvider=n,this.appCheck=null===n||void 0===n?void 0:n.getImmediate({optional:!0}),this.appCheck||null===n||void 0===n||n.get().then((function(e){return r.appCheck=e}))}return(0,v.Z)(e,[{key:"getToken",value:function(e){var t=this;return this.appCheck?this.appCheck.getToken(e):new Promise((function(n,r){setTimeout((function(){t.appCheck?t.getToken(e).then(n,r):n(null)}),0)}))}},{key:"addTokenChangeListener",value:function(e){var t;null===(t=this.appCheckProvider)||void 0===t||t.get().then((function(t){return t.addTokenListener(e)}))}},{key:"notifyForInvalidToken",value:function(){qa('Provided AppCheck credentials for the app named "'.concat(this.appName_,'" ')+"are invalid. This usually indicates your app was not initialized correctly.")}}]),e}(),ao=function(){function e(t,n,r){var i=this;(0,p.Z)(this,e),this.appName_=t,this.firebaseOptions_=n,this.authProvider_=r,this.auth_=null,this.auth_=r.getImmediate({optional:!0}),this.auth_||r.onInit((function(e){return i.auth_=e}))}return(0,v.Z)(e,[{key:"getToken",value:function(e){var t=this;return this.auth_?this.auth_.getToken(e).catch((function(e){return e&&"auth/token-not-initialized"===e.code?(Ua("Got auth/token-not-initialized error.  Treating as null token."),null):Promise.reject(e)})):new Promise((function(n,r){setTimeout((function(){t.auth_?t.getToken(e).then(n,r):n(null)}),0)}))}},{key:"addTokenChangeListener",value:function(e){this.auth_?this.auth_.addAuthTokenListener(e):this.authProvider_.get().then((function(t){return t.addAuthTokenListener(e)}))}},{key:"removeTokenChangeListener",value:function(e){this.authProvider_.get().then((function(t){return t.removeAuthTokenListener(e)}))}},{key:"notifyForInvalidToken",value:function(){var e='Provided authentication credentials for the app named "'+this.appName_+'" are invalid. This usually indicates your app was not initialized correctly. ';"credential"in this.firebaseOptions_?e+='Make sure the "credential" property provided to initializeApp() is authorized to access the specified "databaseURL" and is from the correct project.':"serviceAccount"in this.firebaseOptions_?e+='Make sure the "serviceAccount" property provided to initializeApp() is authorized to access the specified "databaseURL" and is from the correct project.':e+='Make sure the "apiKey" and "databaseURL" properties provided to initializeApp() match the values provided for your app at https://console.firebase.google.com/.',qa(e)}}]),e}(),oo=function(){function e(t){(0,p.Z)(this,e),this.accessToken=t}return(0,v.Z)(e,[{key:"getToken",value:function(e){return Promise.resolve({accessToken:this.accessToken})}},{key:"addTokenChangeListener",value:function(e){e(this.accessToken)}},{key:"removeTokenChangeListener",value:function(e){}},{key:"notifyForInvalidToken",value:function(){}}]),e}();oo.OWNER="owner";var so="5",uo=/(console\.firebase|firebase-console-\w+\.corp|firebase\.corp)\.google\.com/,co="websocket",lo="long_polling",fo=function(){function e(t,n,r,i){var a=arguments.length>4&&void 0!==arguments[4]&&arguments[4],o=arguments.length>5&&void 0!==arguments[5]?arguments[5]:"",s=arguments.length>6&&void 0!==arguments[6]&&arguments[6];(0,p.Z)(this,e),this.secure=n,this.namespace=r,this.webSocketOnly=i,this.nodeAdmin=a,this.persistenceKey=o,this.includeNamespaceInQueryParams=s,this._host=t.toLowerCase(),this._domain=this._host.substr(this._host.indexOf(".")+1),this.internalHost=Ca.get("host:"+t)||this._host}return(0,v.Z)(e,[{key:"isCacheableHost",value:function(){return"s-"===this.internalHost.substr(0,2)}},{key:"isCustomHost",value:function(){return"firebaseio.com"!==this._domain&&"firebaseio-demo.com"!==this._domain}},{key:"host",get:function(){return this._host},set:function(e){e!==this.internalHost&&(this.internalHost=e,this.isCacheableHost()&&Ca.set("host:"+this._host,this.internalHost))}},{key:"toString",value:function(){var e=this.toURLString();return this.persistenceKey&&(e+="<"+this.persistenceKey+">"),e}},{key:"toURLString",value:function(){var e=this.secure?"https://":"http://",t=this.includeNamespaceInQueryParams?"?ns=".concat(this.namespace):"";return"".concat(e).concat(this.host,"/").concat(t)}}]),e}();function ho(e,t,n){var r;if(ur("string"===typeof t,"typeof type must == string"),ur("object"===typeof n,"typeof params must == object"),t===co)r=(e.secure?"wss://":"ws://")+e.internalHost+"/.ws?";else{if(t!==lo)throw new Error("Unknown connection type: "+t);r=(e.secure?"https://":"http://")+e.internalHost+"/.lp?"}(function(e){return e.host!==e.internalHost||e.isCustomHost()||e.includeNamespaceInQueryParams})(e)&&(n.ns=e.namespace);var i=[];return $a(n,(function(e,t){i.push(e+"="+t)})),r+i.join("&")}var po=function(){function e(){(0,p.Z)(this,e),this.counters_={}}return(0,v.Z)(e,[{key:"incrementCounter",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1;Or(this.counters_,e)||(this.counters_[e]=0),this.counters_[e]+=t}},{key:"get",value:function(){return vr(void 0,this.counters_)}}]),e}(),vo={},mo={};function go(e){var t=e.toString();return vo[t]||(vo[t]=new po),vo[t]}var yo=function(){function e(t){(0,p.Z)(this,e),this.onMessage_=t,this.pendingResponses=[],this.currentResponseNum=0,this.closeAfterResponse=-1,this.onClose=null}return(0,v.Z)(e,[{key:"closeAfter",value:function(e,t){this.closeAfterResponse=e,this.onClose=t,this.closeAfterResponse<this.currentResponseNum&&(this.onClose(),this.onClose=null)}},{key:"handleResponse",value:function(e,t){var n=this;this.pendingResponses[e]=t;for(var r=function(){var e=n.pendingResponses[n.currentResponseNum];delete n.pendingResponses[n.currentResponseNum];for(var t=function(t){e[t]&&no((function(){n.onMessage_(e[t])}))},r=0;r<e.length;++r)t(r);if(n.currentResponseNum===n.closeAfterResponse)return n.onClose&&(n.onClose(),n.onClose=null),"break";n.currentResponseNum++};this.pendingResponses[this.currentResponseNum];){if("break"===r())break}}}]),e}(),_o="start",bo="close",ko=function(){function e(t,n,r,i,a,o,s){var u=this;(0,p.Z)(this,e),this.connId=t,this.repoInfo=n,this.applicationId=r,this.appCheckToken=i,this.authToken=a,this.transportSessionId=o,this.lastSessionId=s,this.bytesSent=0,this.bytesReceived=0,this.everConnected_=!1,this.log_=Ma(t),this.stats_=go(n),this.urlFn=function(e){return u.appCheckToken&&(e.ac=u.appCheckToken),ho(n,lo,e)}}return(0,v.Z)(e,[{key:"open",value:function(e,t){var n=this;this.curSegmentNum=0,this.onDisconnect_=t,this.myPacketOrderer=new yo(e),this.isClosed_=!1,this.connectTimeoutTimer_=setTimeout((function(){n.log_("Timed out trying to connect."),n.onClosed_(),n.connectTimeoutTimer_=null}),Math.floor(3e4)),function(e){if(Sr()||"complete"===document.readyState)e();else{var t=!1,n=function n(){document.body?t||(t=!0,e()):setTimeout(n,Math.floor(10))};document.addEventListener?(document.addEventListener("DOMContentLoaded",n,!1),window.addEventListener("load",n,!1)):document.attachEvent&&(document.attachEvent("onreadystatechange",(function(){"complete"===document.readyState&&n()})),window.attachEvent("onload",n))}}((function(){if(!n.isClosed_){n.scriptTagHolder=new wo((function(){for(var e=arguments.length,t=new Array(e),r=0;r<e;r++)t[r]=arguments[r];var i=t[0],a=t[1],o=t[2];t[3],t[4];if(n.incrementIncomingBytes_(t),n.scriptTagHolder)if(n.connectTimeoutTimer_&&(clearTimeout(n.connectTimeoutTimer_),n.connectTimeoutTimer_=null),n.everConnected_=!0,i===_o)n.id=a,n.password=o;else{if(i!==bo)throw new Error("Unrecognized command received: "+i);a?(n.scriptTagHolder.sendNewPolls=!1,n.myPacketOrderer.closeAfter(a,(function(){n.onClosed_()}))):n.onClosed_()}}),(function(){for(var e=arguments.length,t=new Array(e),r=0;r<e;r++)t[r]=arguments[r];var i=t[0],a=t[1];n.incrementIncomingBytes_(t),n.myPacketOrderer.handleResponse(i,a)}),(function(){n.onClosed_()}),n.urlFn);var e={start:"t"};e.ser=Math.floor(1e8*Math.random()),n.scriptTagHolder.uniqueCallbackIdentifier&&(e.cb=n.scriptTagHolder.uniqueCallbackIdentifier),e.v=so,n.transportSessionId&&(e.s=n.transportSessionId),n.lastSessionId&&(e.ls=n.lastSessionId),n.applicationId&&(e.p=n.applicationId),n.appCheckToken&&(e.ac=n.appCheckToken),"undefined"!==typeof location&&location.hostname&&uo.test(location.hostname)&&(e.r="f");var t=n.urlFn(e);n.log_("Connecting via long-poll to "+t),n.scriptTagHolder.addTag(t,(function(){}))}}))}},{key:"start",value:function(){this.scriptTagHolder.startLongPoll(this.id,this.password),this.addDisconnectPingFrame(this.id,this.password)}},{key:"markConnectionHealthy",value:function(){}},{key:"shutdown_",value:function(){this.isClosed_=!0,this.scriptTagHolder&&(this.scriptTagHolder.close(),this.scriptTagHolder=null),this.myDisconnFrame&&(document.body.removeChild(this.myDisconnFrame),this.myDisconnFrame=null),this.connectTimeoutTimer_&&(clearTimeout(this.connectTimeoutTimer_),this.connectTimeoutTimer_=null)}},{key:"onClosed_",value:function(){this.isClosed_||(this.log_("Longpoll is closing itself"),this.shutdown_(),this.onDisconnect_&&(this.onDisconnect_(this.everConnected_),this.onDisconnect_=null))}},{key:"close",value:function(){this.isClosed_||(this.log_("Longpoll is being closed."),this.shutdown_())}},{key:"send",value:function(e){var t=Rr(e);this.bytesSent+=t.length,this.stats_.incrementCounter("bytes_sent",t.length);for(var n=fr(t),r=Ka(n,1840),i=0;i<r.length;i++)this.scriptTagHolder.enqueueSegment(this.curSegmentNum,r.length,r[i]),this.curSegmentNum++}},{key:"addDisconnectPingFrame",value:function(e,t){if(!Sr()){this.myDisconnFrame=document.createElement("iframe");var n={dframe:"t"};n.id=e,n.pw=t,this.myDisconnFrame.src=this.urlFn(n),this.myDisconnFrame.style.display="none",document.body.appendChild(this.myDisconnFrame)}}},{key:"incrementIncomingBytes_",value:function(e){var t=Rr(e).length;this.bytesReceived+=t,this.stats_.incrementCounter("bytes_received",t)}}],[{key:"forceAllow",value:function(){e.forceAllow_=!0}},{key:"forceDisallow",value:function(){e.forceDisallow_=!0}},{key:"isAvailable",value:function(){return!Sr()&&(!!e.forceAllow_||!e.forceDisallow_&&"undefined"!==typeof document&&null!=document.createElement&&!("object"===typeof window&&window.chrome&&window.chrome.extension&&!/^chrome/.test(window.location.href))&&!("object"===typeof Windows&&"object"===typeof Windows.UI))}}]),e}(),wo=function(){function e(t,n,r,i){if((0,p.Z)(this,e),this.onDisconnect=r,this.urlFn=i,this.outstandingRequests=new Set,this.pendingSegs=[],this.currentSerial=Math.floor(1e8*Math.random()),this.sendNewPolls=!0,Sr())this.commandCB=t,this.onMessageCB=n;else{this.uniqueCallbackIdentifier=Pa(),window["pLPCommand"+this.uniqueCallbackIdentifier]=t,window["pRTLPCB"+this.uniqueCallbackIdentifier]=n,this.myIFrame=e.createIFrame_();var a="";if(this.myIFrame.src&&"javascript:"===this.myIFrame.src.substr(0,"javascript:".length))a='<script>document.domain="'+document.domain+'";<\/script>';var o="<html><body>"+a+"</body></html>";try{this.myIFrame.doc.open(),this.myIFrame.doc.write(o),this.myIFrame.doc.close()}catch(s){Ua("frame writing exception"),s.stack&&Ua(s.stack),Ua(s)}}}return(0,v.Z)(e,[{key:"close",value:function(){var e=this;this.alive=!1,this.myIFrame&&(this.myIFrame.doc.body.innerHTML="",setTimeout((function(){null!==e.myIFrame&&(document.body.removeChild(e.myIFrame),e.myIFrame=null)}),Math.floor(0)));var t=this.onDisconnect;t&&(this.onDisconnect=null,t())}},{key:"startLongPoll",value:function(e,t){for(this.myID=e,this.myPW=t,this.alive=!0;this.newRequest_(););}},{key:"newRequest_",value:function(){if(this.alive&&this.sendNewPolls&&this.outstandingRequests.size<(this.pendingSegs.length>0?2:1)){this.currentSerial++;var e={};e.id=this.myID,e.pw=this.myPW,e.ser=this.currentSerial;for(var t=this.urlFn(e),n="",r=0;this.pendingSegs.length>0;){if(!(this.pendingSegs[0].d.length+30+n.length<=1870))break;var i=this.pendingSegs.shift();n=n+"&seg"+r+"="+i.seg+"&ts"+r+"="+i.ts+"&d"+r+"="+i.d,r++}return t+=n,this.addLongPollTag_(t,this.currentSerial),!0}return!1}},{key:"enqueueSegment",value:function(e,t,n){this.pendingSegs.push({seg:e,ts:t,d:n}),this.alive&&this.newRequest_()}},{key:"addLongPollTag_",value:function(e,t){var n=this;this.outstandingRequests.add(t);var r=function(){n.outstandingRequests.delete(t),n.newRequest_()},i=setTimeout(r,Math.floor(25e3));this.addTag(e,(function(){clearTimeout(i),r()}))}},{key:"addTag",value:function(e,t){var n=this;Sr()?this.doNodeLongPoll(e,t):setTimeout((function(){try{if(!n.sendNewPolls)return;var r=n.myIFrame.doc.createElement("script");r.type="text/javascript",r.async=!0,r.src=e,r.onload=r.onreadystatechange=function(){var e=r.readyState;e&&"loaded"!==e&&"complete"!==e||(r.onload=r.onreadystatechange=null,r.parentNode&&r.parentNode.removeChild(r),t())},r.onerror=function(){Ua("Long-poll script failed to load: "+e),n.sendNewPolls=!1,n.close()},n.myIFrame.doc.body.appendChild(r)}catch(i){}}),Math.floor(1))}}],[{key:"createIFrame_",value:function(){var e=document.createElement("iframe");if(e.style.display="none",!document.body)throw"Document body has not initialized. Wait to initialize Firebase until after the document is ready.";document.body.appendChild(e);try{e.contentWindow.document||Ua("No IE domain setting required")}catch(n){var t=document.domain;e.src="javascript:void((function(){document.open();document.domain='"+t+"';document.close();})())"}return e.contentDocument?e.doc=e.contentDocument:e.contentWindow?e.doc=e.contentWindow.document:e.document&&(e.doc=e.document),e}}]),e}(),So=null;"undefined"!==typeof MozWebSocket?So=MozWebSocket:"undefined"!==typeof WebSocket&&(So=WebSocket);var Eo=function(){function e(t,n,r,i,a,o,s){(0,p.Z)(this,e),this.connId=t,this.applicationId=r,this.appCheckToken=i,this.authToken=a,this.keepaliveTimer=null,this.frames=null,this.totalFrames=0,this.bytesSent=0,this.bytesReceived=0,this.log_=Ma(this.connId),this.stats_=go(n),this.connURL=e.connectionURL_(n,o,s,i,r),this.nodeAdmin=n.nodeAdmin}return(0,v.Z)(e,[{key:"open",value:function(e,t){var n=this;this.onDisconnect=t,this.onMessage=e,this.log_("Websocket connecting to "+this.connURL),this.everConnected_=!1,Ca.set("previous_websocket_failure",!0);try{if(Sr()){var r=this.nodeAdmin?"AdminNode":"Node",i={headers:{"User-Agent":"Firebase/".concat(so,"/").concat(Ea,"/").concat(process.platform,"/").concat(r),"X-Firebase-GMPID":this.applicationId||""}};this.authToken&&(i.headers.Authorization="Bearer ".concat(this.authToken)),this.appCheckToken&&(i.headers["X-Firebase-AppCheck"]=this.appCheckToken);var a={NODE_ENV:"production",PUBLIC_URL:"/want-smth-test",WDS_SOCKET_HOST:void 0,WDS_SOCKET_PATH:void 0,WDS_SOCKET_PORT:void 0,FAST_REFRESH:!0},o=0===this.connURL.indexOf("wss://")?a.HTTPS_PROXY||a.https_proxy:a.HTTP_PROXY||a.http_proxy;o&&(i.proxy={origin:o})}this.mySock=new So(this.connURL,[],undefined)}catch(u){this.log_("Error instantiating WebSocket.");var s=u.message||u.data;return s&&this.log_(s),void this.onClosed_()}this.mySock.onopen=function(){n.log_("Websocket connected."),n.everConnected_=!0},this.mySock.onclose=function(){n.log_("Websocket connection was disconnected."),n.mySock=null,n.onClosed_()},this.mySock.onmessage=function(e){n.handleIncomingFrame(e)},this.mySock.onerror=function(e){n.log_("WebSocket error.  Closing connection.");var t=e.message||e.data;t&&n.log_(t),n.onClosed_()}}},{key:"start",value:function(){}},{key:"markConnectionHealthy",value:function(){Ca.remove("previous_websocket_failure")}},{key:"appendFrame_",value:function(e){if(this.frames.push(e),this.frames.length===this.totalFrames){var t=this.frames.join("");this.frames=null;var n=Nr(t);this.onMessage(n)}}},{key:"handleNewFrameCount_",value:function(e){this.totalFrames=e,this.frames=[]}},{key:"extractFrameCount_",value:function(e){if(ur(null===this.frames,"We already have a frame buffer"),e.length<=6){var t=Number(e);if(!isNaN(t))return this.handleNewFrameCount_(t),null}return this.handleNewFrameCount_(1),e}},{key:"handleIncomingFrame",value:function(e){if(null!==this.mySock){var t=e.data;if(this.bytesReceived+=t.length,this.stats_.incrementCounter("bytes_received",t.length),this.resetKeepAlive(),null!==this.frames)this.appendFrame_(t);else{var n=this.extractFrameCount_(t);null!==n&&this.appendFrame_(n)}}}},{key:"send",value:function(e){this.resetKeepAlive();var t=Rr(e);this.bytesSent+=t.length,this.stats_.incrementCounter("bytes_sent",t.length);var n=Ka(t,16384);n.length>1&&this.sendString_(String(n.length));for(var r=0;r<n.length;r++)this.sendString_(n[r])}},{key:"shutdown_",value:function(){this.isClosed_=!0,this.keepaliveTimer&&(clearInterval(this.keepaliveTimer),this.keepaliveTimer=null),this.mySock&&(this.mySock.close(),this.mySock=null)}},{key:"onClosed_",value:function(){this.isClosed_||(this.log_("WebSocket is closing itself"),this.shutdown_(),this.onDisconnect&&(this.onDisconnect(this.everConnected_),this.onDisconnect=null))}},{key:"close",value:function(){this.isClosed_||(this.log_("WebSocket is being closed"),this.shutdown_())}},{key:"resetKeepAlive",value:function(){var e=this;clearInterval(this.keepaliveTimer),this.keepaliveTimer=setInterval((function(){e.mySock&&e.sendString_("0"),e.resetKeepAlive()}),Math.floor(45e3))}},{key:"sendString_",value:function(e){try{this.mySock.send(e)}catch(t){this.log_("Exception thrown from WebSocket.send():",t.message||t.data,"Closing connection."),setTimeout(this.onClosed_.bind(this),0)}}}],[{key:"connectionURL_",value:function(e,t,n,r,i){var a={};return a.v=so,!Sr()&&"undefined"!==typeof location&&location.hostname&&uo.test(location.hostname)&&(a.r="f"),t&&(a.s=t),n&&(a.ls=n),r&&(a.ac=r),i&&(a.p=i),ho(e,co,a)}},{key:"forceDisallow",value:function(){e.forceDisallow_=!0}},{key:"isAvailable",value:function(){var t=!1;if("undefined"!==typeof navigator&&navigator.userAgent){var n=navigator.userAgent.match(/Android ([0-9]{0,}\.[0-9]{0,})/);n&&n.length>1&&parseFloat(n[1])<4.4&&(t=!0)}return!t&&null!==So&&!e.forceDisallow_}},{key:"previouslyFailed",value:function(){return Ca.isInMemoryStorage||!0===Ca.get("previous_websocket_failure")}}]),e}();Eo.responsesRequiredToBeHealthy=2,Eo.healthyTimeout=3e4;var xo=function(){function e(t){(0,p.Z)(this,e),this.initTransports_(t)}return(0,v.Z)(e,[{key:"initTransports_",value:function(t){var n=Eo&&Eo.isAvailable(),r=n&&!Eo.previouslyFailed();if(t.webSocketOnly&&(n||qa("wss:// URL used, but browser isn't known to support websockets.  Trying anyway."),r=!0),r)this.transports_=[Eo];else{var i,a=this.transports_=[],o=(0,Z.Z)(e.ALL_TRANSPORTS);try{for(o.s();!(i=o.n()).done;){var s=i.value;s&&s.isAvailable()&&a.push(s)}}catch(u){o.e(u)}finally{o.f()}e.globalTransportInitialized_=!0}}},{key:"initialTransport",value:function(){if(this.transports_.length>0)return this.transports_[0];throw new Error("No transports available")}},{key:"upgradeTransport",value:function(){return this.transports_.length>1?this.transports_[1]:null}}],[{key:"ALL_TRANSPORTS",get:function(){return[ko,Eo]}},{key:"IS_TRANSPORT_INITIALIZED",get:function(){return this.globalTransportInitialized_}}]),e}();xo.globalTransportInitialized_=!1;var Io=function(){function e(t,n,r,i,a,o,s,u,c,l){(0,p.Z)(this,e),this.id=t,this.repoInfo_=n,this.applicationId_=r,this.appCheckToken_=i,this.authToken_=a,this.onMessage_=o,this.onReady_=s,this.onDisconnect_=u,this.onKill_=c,this.lastSessionId=l,this.connectionCount=0,this.pendingDataMessages=[],this.state_=0,this.log_=Ma("c:"+this.id+":"),this.transportManager_=new xo(n),this.log_("Connection created"),this.start_()}return(0,v.Z)(e,[{key:"start_",value:function(){var e=this,t=this.transportManager_.initialTransport();this.conn_=new t(this.nextTransportId_(),this.repoInfo_,this.applicationId_,this.appCheckToken_,this.authToken_,null,this.lastSessionId),this.primaryResponsesRequired_=t.responsesRequiredToBeHealthy||0;var n=this.connReceiver_(this.conn_),r=this.disconnReceiver_(this.conn_);this.tx_=this.conn_,this.rx_=this.conn_,this.secondaryConn_=null,this.isHealthy_=!1,setTimeout((function(){e.conn_&&e.conn_.open(n,r)}),Math.floor(0));var i=t.healthyTimeout||0;i>0&&(this.healthyTimeout_=ro((function(){e.healthyTimeout_=null,e.isHealthy_||(e.conn_&&e.conn_.bytesReceived>102400?(e.log_("Connection exceeded healthy timeout but has received "+e.conn_.bytesReceived+" bytes.  Marking connection healthy."),e.isHealthy_=!0,e.conn_.markConnectionHealthy()):e.conn_&&e.conn_.bytesSent>10240?e.log_("Connection exceeded healthy timeout but has sent "+e.conn_.bytesSent+" bytes.  Leaving connection alive."):(e.log_("Closing unhealthy connection after timeout."),e.close()))}),Math.floor(i)))}},{key:"nextTransportId_",value:function(){return"c:"+this.id+":"+this.connectionCount++}},{key:"disconnReceiver_",value:function(e){var t=this;return function(n){e===t.conn_?t.onConnectionLost_(n):e===t.secondaryConn_?(t.log_("Secondary connection lost."),t.onSecondaryConnectionLost_()):t.log_("closing an old connection")}}},{key:"connReceiver_",value:function(e){var t=this;return function(n){2!==t.state_&&(e===t.rx_?t.onPrimaryMessageReceived_(n):e===t.secondaryConn_?t.onSecondaryMessageReceived_(n):t.log_("message on old connection"))}}},{key:"sendRequest",value:function(e){var t={t:"d",d:e};this.sendData_(t)}},{key:"tryCleanupConnection",value:function(){this.tx_===this.secondaryConn_&&this.rx_===this.secondaryConn_&&(this.log_("cleaning up and promoting a connection: "+this.secondaryConn_.connId),this.conn_=this.secondaryConn_,this.secondaryConn_=null)}},{key:"onSecondaryControl_",value:function(e){if("t"in e){var t=e.t;"a"===t?this.upgradeIfSecondaryHealthy_():"r"===t?(this.log_("Got a reset on secondary, closing it"),this.secondaryConn_.close(),this.tx_!==this.secondaryConn_&&this.rx_!==this.secondaryConn_||this.close()):"o"===t&&(this.log_("got pong on secondary."),this.secondaryResponsesRequired_--,this.upgradeIfSecondaryHealthy_())}}},{key:"onSecondaryMessageReceived_",value:function(e){var t=Va("t",e),n=Va("d",e);if("c"===t)this.onSecondaryControl_(n);else{if("d"!==t)throw new Error("Unknown protocol layer: "+t);this.pendingDataMessages.push(n)}}},{key:"upgradeIfSecondaryHealthy_",value:function(){this.secondaryResponsesRequired_<=0?(this.log_("Secondary connection is healthy."),this.isHealthy_=!0,this.secondaryConn_.markConnectionHealthy(),this.proceedWithUpgrade_()):(this.log_("sending ping on secondary."),this.secondaryConn_.send({t:"c",d:{t:"p",d:{}}}))}},{key:"proceedWithUpgrade_",value:function(){this.secondaryConn_.start(),this.log_("sending client ack on secondary"),this.secondaryConn_.send({t:"c",d:{t:"a",d:{}}}),this.log_("Ending transmission on primary"),this.conn_.send({t:"c",d:{t:"n",d:{}}}),this.tx_=this.secondaryConn_,this.tryCleanupConnection()}},{key:"onPrimaryMessageReceived_",value:function(e){var t=Va("t",e),n=Va("d",e);"c"===t?this.onControl_(n):"d"===t&&this.onDataMessage_(n)}},{key:"onDataMessage_",value:function(e){this.onPrimaryResponse_(),this.onMessage_(e)}},{key:"onPrimaryResponse_",value:function(){this.isHealthy_||(this.primaryResponsesRequired_--,this.primaryResponsesRequired_<=0&&(this.log_("Primary connection is healthy."),this.isHealthy_=!0,this.conn_.markConnectionHealthy()))}},{key:"onControl_",value:function(e){var t=Va("t",e);if("d"in e){var n=e.d;if("h"===t)this.onHandshake_(n);else if("n"===t){this.log_("recvd end transmission on primary"),this.rx_=this.secondaryConn_;for(var r=0;r<this.pendingDataMessages.length;++r)this.onDataMessage_(this.pendingDataMessages[r]);this.pendingDataMessages=[],this.tryCleanupConnection()}else"s"===t?this.onConnectionShutdown_(n):"r"===t?this.onReset_(n):"e"===t?ja("Server Error: "+n):"o"===t?(this.log_("got pong on primary."),this.onPrimaryResponse_(),this.sendPingOnPrimaryIfNecessary_()):ja("Unknown control packet command: "+t)}}},{key:"onHandshake_",value:function(e){var t=e.ts,n=e.v,r=e.h;this.sessionId=e.s,this.repoInfo_.host=r,0===this.state_&&(this.conn_.start(),this.onConnectionEstablished_(this.conn_,t),so!==n&&qa("Protocol version mismatch detected"),this.tryStartUpgrade_())}},{key:"tryStartUpgrade_",value:function(){var e=this.transportManager_.upgradeTransport();e&&this.startUpgrade_(e)}},{key:"startUpgrade_",value:function(e){var t=this;this.secondaryConn_=new e(this.nextTransportId_(),this.repoInfo_,this.applicationId_,this.appCheckToken_,this.authToken_,this.sessionId),this.secondaryResponsesRequired_=e.responsesRequiredToBeHealthy||0;var n=this.connReceiver_(this.secondaryConn_),r=this.disconnReceiver_(this.secondaryConn_);this.secondaryConn_.open(n,r),ro((function(){t.secondaryConn_&&(t.log_("Timed out trying to upgrade."),t.secondaryConn_.close())}),Math.floor(6e4))}},{key:"onReset_",value:function(e){this.log_("Reset packet received.  New host: "+e),this.repoInfo_.host=e,1===this.state_?this.close():(this.closeConnections_(),this.start_())}},{key:"onConnectionEstablished_",value:function(e,t){var n=this;this.log_("Realtime connection established."),this.conn_=e,this.state_=1,this.onReady_&&(this.onReady_(t,this.sessionId),this.onReady_=null),0===this.primaryResponsesRequired_?(this.log_("Primary connection is healthy."),this.isHealthy_=!0):ro((function(){n.sendPingOnPrimaryIfNecessary_()}),Math.floor(5e3))}},{key:"sendPingOnPrimaryIfNecessary_",value:function(){this.isHealthy_||1!==this.state_||(this.log_("sending ping on primary."),this.sendData_({t:"c",d:{t:"p",d:{}}}))}},{key:"onSecondaryConnectionLost_",value:function(){var e=this.secondaryConn_;this.secondaryConn_=null,this.tx_!==e&&this.rx_!==e||this.close()}},{key:"onConnectionLost_",value:function(e){this.conn_=null,e||0!==this.state_?1===this.state_&&this.log_("Realtime connection lost."):(this.log_("Realtime connection failed."),this.repoInfo_.isCacheableHost()&&(Ca.remove("host:"+this.repoInfo_.host),this.repoInfo_.internalHost=this.repoInfo_.host)),this.close()}},{key:"onConnectionShutdown_",value:function(e){this.log_("Connection shutdown command received. Shutting down..."),this.onKill_&&(this.onKill_(e),this.onKill_=null),this.onDisconnect_=null,this.close()}},{key:"sendData_",value:function(e){if(1!==this.state_)throw"Connection is not connected";this.tx_.send(e)}},{key:"close",value:function(){2!==this.state_&&(this.log_("Closing realtime connection."),this.state_=2,this.closeConnections_(),this.onDisconnect_&&(this.onDisconnect_(),this.onDisconnect_=null))}},{key:"closeConnections_",value:function(){this.log_("Shutting down all connections"),this.conn_&&(this.conn_.close(),this.conn_=null),this.secondaryConn_&&(this.secondaryConn_.close(),this.secondaryConn_=null),this.healthyTimeout_&&(clearTimeout(this.healthyTimeout_),this.healthyTimeout_=null)}}]),e}(),To=function(){function e(){(0,p.Z)(this,e)}return(0,v.Z)(e,[{key:"put",value:function(e,t,n,r){}},{key:"merge",value:function(e,t,n,r){}},{key:"refreshAuthToken",value:function(e){}},{key:"refreshAppCheckToken",value:function(e){}},{key:"onDisconnectPut",value:function(e,t,n){}},{key:"onDisconnectMerge",value:function(e,t,n){}},{key:"onDisconnectCancel",value:function(e,t){}},{key:"reportStats",value:function(e){}}]),e}(),Co=function(){function e(t){(0,p.Z)(this,e),this.allowedEvents_=t,this.listeners_={},ur(Array.isArray(t)&&t.length>0,"Requires a non-empty array")}return(0,v.Z)(e,[{key:"trigger",value:function(e){if(Array.isArray(this.listeners_[e])){for(var t=(0,o.Z)(this.listeners_[e]),n=arguments.length,r=new Array(n>1?n-1:0),i=1;i<n;i++)r[i-1]=arguments[i];for(var a=0;a<t.length;a++)t[a].callback.apply(t[a].context,r)}}},{key:"on",value:function(e,t,n){this.validateEventType_(e),this.listeners_[e]=this.listeners_[e]||[],this.listeners_[e].push({callback:t,context:n});var r=this.getInitialEvent(e);r&&t.apply(n,r)}},{key:"off",value:function(e,t,n){this.validateEventType_(e);for(var r=this.listeners_[e]||[],i=0;i<r.length;i++)if(r[i].callback===t&&(!n||n===r[i].context))return void r.splice(i,1)}},{key:"validateEventType_",value:function(e){ur(this.allowedEvents_.find((function(t){return t===e})),"Unknown event: "+e)}}]),e}(),No=function(e){(0,R.Z)(n,e);var t=(0,P.Z)(n);function n(){var e;return(0,p.Z)(this,n),(e=t.call(this,["online"])).online_=!0,"undefined"===typeof window||"undefined"===typeof window.addEventListener||yr()||(window.addEventListener("online",(function(){e.online_||(e.online_=!0,e.trigger("online",!0))}),!1),window.addEventListener("offline",(function(){e.online_&&(e.online_=!1,e.trigger("online",!1))}),!1)),e}return(0,v.Z)(n,[{key:"getInitialEvent",value:function(e){return ur("online"===e,"Unknown event type: "+e),[this.online_]}},{key:"currentlyOnline",value:function(){return this.online_}}],[{key:"getInstance",value:function(){return new n}}]),n}(Co),Ro=function(){function e(t,n){if((0,p.Z)(this,e),void 0===n){this.pieces_=t.split("/");for(var r=0,i=0;i<this.pieces_.length;i++)this.pieces_[i].length>0&&(this.pieces_[r]=this.pieces_[i],r++);this.pieces_.length=r,this.pieceNum_=0}else this.pieces_=t,this.pieceNum_=n}return(0,v.Z)(e,[{key:"toString",value:function(){for(var e="",t=this.pieceNum_;t<this.pieces_.length;t++)""!==this.pieces_[t]&&(e+="/"+this.pieces_[t]);return e||"/"}}]),e}();function Po(){return new Ro("")}function Oo(e){return e.pieceNum_>=e.pieces_.length?null:e.pieces_[e.pieceNum_]}function Do(e){return e.pieces_.length-e.pieceNum_}function Ao(e){var t=e.pieceNum_;return t<e.pieces_.length&&t++,new Ro(e.pieces_,t)}function Zo(e){return e.pieceNum_<e.pieces_.length?e.pieces_[e.pieces_.length-1]:null}function Lo(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0;return e.pieces_.slice(e.pieceNum_+t)}function Uo(e){if(e.pieceNum_>=e.pieces_.length)return null;for(var t=[],n=e.pieceNum_;n<e.pieces_.length-1;n++)t.push(e.pieces_[n]);return new Ro(t,0)}function Mo(e,t){for(var n=[],r=e.pieceNum_;r<e.pieces_.length;r++)n.push(e.pieces_[r]);if(t instanceof Ro)for(var i=t.pieceNum_;i<t.pieces_.length;i++)n.push(t.pieces_[i]);else for(var a=t.split("/"),o=0;o<a.length;o++)a[o].length>0&&n.push(a[o]);return new Ro(n,0)}function jo(e){return e.pieceNum_>=e.pieces_.length}function Fo(e,t){var n=Oo(e),r=Oo(t);if(null===n)return t;if(n===r)return Fo(Ao(e),Ao(t));throw new Error("INTERNAL ERROR: innerPath ("+t+") is not within outerPath ("+e+")")}function qo(e,t){if(Do(e)!==Do(t))return!1;for(var n=e.pieceNum_,r=t.pieceNum_;n<=e.pieces_.length;n++,r++)if(e.pieces_[n]!==t.pieces_[r])return!1;return!0}function zo(e,t){var n=e.pieceNum_,r=t.pieceNum_;if(Do(e)>Do(t))return!1;for(;n<e.pieces_.length;){if(e.pieces_[n]!==t.pieces_[r])return!1;++n,++r}return!0}var Bo=(0,v.Z)((function e(t,n){(0,p.Z)(this,e),this.errorPrefix_=n,this.parts_=Lo(t,0),this.byteLength_=Math.max(1,this.parts_.length);for(var r=0;r<this.parts_.length;r++)this.byteLength_+=Hr(this.parts_[r]);Wo(this)}));function Wo(e){if(e.byteLength_>768)throw new Error(e.errorPrefix_+"has a key path longer than 768 bytes ("+e.byteLength_+").");if(e.parts_.length>32)throw new Error(e.errorPrefix_+"path specified exceeds the maximum depth that can be written (32) or object contains a cycle "+Go(e))}function Go(e){return 0===e.parts_.length?"":"in property '"+e.parts_.join(".")+"'"}var Ho=function(e){(0,R.Z)(n,e);var t=(0,P.Z)(n);function n(){var e,r,i;return(0,p.Z)(this,n),e=t.call(this,["visible"]),"undefined"!==typeof document&&"undefined"!==typeof document.addEventListener&&("undefined"!==typeof document.hidden?(i="visibilitychange",r="hidden"):"undefined"!==typeof document.mozHidden?(i="mozvisibilitychange",r="mozHidden"):"undefined"!==typeof document.msHidden?(i="msvisibilitychange",r="msHidden"):"undefined"!==typeof document.webkitHidden&&(i="webkitvisibilitychange",r="webkitHidden")),e.visible_=!0,i&&document.addEventListener(i,(function(){var t=!document[r];t!==e.visible_&&(e.visible_=t,e.trigger("visible",t))}),!1),e}return(0,v.Z)(n,[{key:"getInitialEvent",value:function(e){return ur("visible"===e,"Unknown event type: "+e),[this.visible_]}}],[{key:"getInstance",value:function(){return new n}}]),n}(Co),Vo=1e3,Yo=function(e){(0,R.Z)(n,e);var t=(0,P.Z)(n);function n(e,r,i,a,o,s,u,c){var l;if((0,p.Z)(this,n),(l=t.call(this)).repoInfo_=e,l.applicationId_=r,l.onDataUpdate_=i,l.onConnectStatus_=a,l.onServerInfoUpdate_=o,l.authTokenProvider_=s,l.appCheckTokenProvider_=u,l.authOverride_=c,l.id=n.nextPersistentConnectionId_++,l.log_=Ma("p:"+l.id+":"),l.interruptReasons_={},l.listens=new Map,l.outstandingPuts_=[],l.outstandingGets_=[],l.outstandingPutCount_=0,l.outstandingGetCount_=0,l.onDisconnectRequestQueue_=[],l.connected_=!1,l.reconnectDelay_=Vo,l.maxReconnectDelay_=3e5,l.securityDebugCallback_=null,l.lastSessionId=null,l.establishConnectionTimer_=null,l.visible_=!1,l.requestCBHash_={},l.requestNumber_=0,l.realtime_=null,l.authToken_=null,l.appCheckToken_=null,l.forceTokenRefresh_=!1,l.invalidAuthTokenCount_=0,l.invalidAppCheckTokenCount_=0,l.firstConnection_=!0,l.lastConnectionAttemptTime_=null,l.lastConnectionEstablishedTime_=null,c&&!Sr())throw new Error("Auth override specified in options, but not supported on non Node.js platforms");return Ho.getInstance().on("visible",l.onVisible_,(0,U.Z)(l)),-1===e.host.indexOf("fblocal")&&No.getInstance().on("online",l.onOnline_,(0,U.Z)(l)),l}return(0,v.Z)(n,[{key:"sendRequest",value:function(e,t,n){var r=++this.requestNumber_,i={r:r,a:e,b:t};this.log_(Rr(i)),ur(this.connected_,"sendRequest call when we're not connected not allowed."),this.realtime_.sendRequest(i),n&&(this.requestCBHash_[r]=n)}},{key:"get",value:function(e){var t=this;this.initConnection_();var n=new mr,r={action:"g",request:{p:e._path.toString(),q:e._queryObject},onComplete:function(e){var t=e.d;"ok"===e.s?n.resolve(t):n.reject(t)}};this.outstandingGets_.push(r),this.outstandingGetCount_++;var i=this.outstandingGets_.length-1;return this.connected_||setTimeout((function(){var e=t.outstandingGets_[i];void 0!==e&&r===e&&(delete t.outstandingGets_[i],t.outstandingGetCount_--,0===t.outstandingGetCount_&&(t.outstandingGets_=[]),t.log_("get "+i+" timed out on connection"),n.reject(new Error("Client is offline.")))}),3e3),this.connected_&&this.sendGet_(i),n.promise}},{key:"listen",value:function(e,t,n,r){this.initConnection_();var i=e._queryIdentifier,a=e._path.toString();this.log_("Listen called for "+a+" "+i),this.listens.has(a)||this.listens.set(a,new Map),ur(e._queryParams.isDefault()||!e._queryParams.loadsAllData(),"listen() called for non-default but complete query"),ur(!this.listens.get(a).has(i),"listen() called twice for same path/queryId.");var o={onComplete:r,hashFn:t,query:e,tag:n};this.listens.get(a).set(i,o),this.connected_&&this.sendListen_(o)}},{key:"sendGet_",value:function(e){var t=this,n=this.outstandingGets_[e];this.sendRequest("g",n.request,(function(r){delete t.outstandingGets_[e],t.outstandingGetCount_--,0===t.outstandingGetCount_&&(t.outstandingGets_=[]),n.onComplete&&n.onComplete(r)}))}},{key:"sendListen_",value:function(e){var t=this,r=e.query,i=r._path.toString(),a=r._queryIdentifier;this.log_("Listen on "+i+" for "+a);var o={p:i};e.tag&&(o.q=r._queryObject,o.t=e.tag),o.h=e.hashFn(),this.sendRequest("q",o,(function(o){var s=o.d,u=o.s;n.warnOnListenWarnings_(s,r),(t.listens.get(i)&&t.listens.get(i).get(a))===e&&(t.log_("listen response",o),"ok"!==u&&t.removeListen_(i,a),e.onComplete&&e.onComplete(u,s))}))}},{key:"refreshAuthToken",value:function(e){this.authToken_=e,this.log_("Auth token refreshed"),this.authToken_?this.tryAuth():this.connected_&&this.sendRequest("unauth",{},(function(){})),this.reduceReconnectDelayIfAdminCredential_(e)}},{key:"reduceReconnectDelayIfAdminCredential_",value:function(e){(e&&40===e.length||function(e){var t=Pr(e).claims;return"object"===typeof t&&!0===t.admin}(e))&&(this.log_("Admin auth credential detected.  Reducing max reconnect time."),this.maxReconnectDelay_=3e4)}},{key:"refreshAppCheckToken",value:function(e){this.appCheckToken_=e,this.log_("App check token refreshed"),this.appCheckToken_?this.tryAppCheck():this.connected_&&this.sendRequest("unappeck",{},(function(){}))}},{key:"tryAuth",value:function(){var e=this;if(this.connected_&&this.authToken_){var t=this.authToken_,n=function(e){var t=Pr(e).claims;return!!t&&"object"===typeof t&&t.hasOwnProperty("iat")}(t)?"auth":"gauth",r={cred:t};null===this.authOverride_?r.noauth=!0:"object"===typeof this.authOverride_&&(r.authvar=this.authOverride_),this.sendRequest(n,r,(function(n){var r=n.s,i=n.d||"error";e.authToken_===t&&("ok"===r?e.invalidAuthTokenCount_=0:e.onAuthRevoked_(r,i))}))}}},{key:"tryAppCheck",value:function(){var e=this;this.connected_&&this.appCheckToken_&&this.sendRequest("appcheck",{token:this.appCheckToken_},(function(t){var n=t.s,r=t.d||"error";"ok"===n?e.invalidAppCheckTokenCount_=0:e.onAppCheckRevoked_(n,r)}))}},{key:"unlisten",value:function(e,t){var n=e._path.toString(),r=e._queryIdentifier;this.log_("Unlisten called for "+n+" "+r),ur(e._queryParams.isDefault()||!e._queryParams.loadsAllData(),"unlisten() called for non-default but complete query"),this.removeListen_(n,r)&&this.connected_&&this.sendUnlisten_(n,r,e._queryObject,t)}},{key:"sendUnlisten_",value:function(e,t,n,r){this.log_("Unlisten on "+e+" for "+t);var i={p:e};r&&(i.q=n,i.t=r),this.sendRequest("n",i)}},{key:"onDisconnectPut",value:function(e,t,n){this.initConnection_(),this.connected_?this.sendOnDisconnect_("o",e,t,n):this.onDisconnectRequestQueue_.push({pathString:e,action:"o",data:t,onComplete:n})}},{key:"onDisconnectMerge",value:function(e,t,n){this.initConnection_(),this.connected_?this.sendOnDisconnect_("om",e,t,n):this.onDisconnectRequestQueue_.push({pathString:e,action:"om",data:t,onComplete:n})}},{key:"onDisconnectCancel",value:function(e,t){this.initConnection_(),this.connected_?this.sendOnDisconnect_("oc",e,null,t):this.onDisconnectRequestQueue_.push({pathString:e,action:"oc",data:null,onComplete:t})}},{key:"sendOnDisconnect_",value:function(e,t,n,r){var i={p:t,d:n};this.log_("onDisconnect "+e,i),this.sendRequest(e,i,(function(e){r&&setTimeout((function(){r(e.s,e.d)}),Math.floor(0))}))}},{key:"put",value:function(e,t,n,r){this.putInternal("p",e,t,n,r)}},{key:"merge",value:function(e,t,n,r){this.putInternal("m",e,t,n,r)}},{key:"putInternal",value:function(e,t,n,r,i){this.initConnection_();var a={p:t,d:n};void 0!==i&&(a.h=i),this.outstandingPuts_.push({action:e,request:a,onComplete:r}),this.outstandingPutCount_++;var o=this.outstandingPuts_.length-1;this.connected_?this.sendPut_(o):this.log_("Buffering put: "+t)}},{key:"sendPut_",value:function(e){var t=this,n=this.outstandingPuts_[e].action,r=this.outstandingPuts_[e].request,i=this.outstandingPuts_[e].onComplete;this.outstandingPuts_[e].queued=this.connected_,this.sendRequest(n,r,(function(r){t.log_(n+" response",r),delete t.outstandingPuts_[e],t.outstandingPutCount_--,0===t.outstandingPutCount_&&(t.outstandingPuts_=[]),i&&i(r.s,r.d)}))}},{key:"reportStats",value:function(e){var t=this;if(this.connected_){var n={c:e};this.log_("reportStats",n),this.sendRequest("s",n,(function(e){if("ok"!==e.s){var n=e.d;t.log_("reportStats","Error sending stats: "+n)}}))}}},{key:"onDataMessage_",value:function(e){if("r"in e){this.log_("from server: "+Rr(e));var t=e.r,n=this.requestCBHash_[t];n&&(delete this.requestCBHash_[t],n(e.b))}else{if("error"in e)throw"A server-side error has occurred: "+e.error;"a"in e&&this.onDataPush_(e.a,e.b)}}},{key:"onDataPush_",value:function(e,t){this.log_("handleServerMessage",e,t),"d"===e?this.onDataUpdate_(t.p,t.d,!1,t.t):"m"===e?this.onDataUpdate_(t.p,t.d,!0,t.t):"c"===e?this.onListenRevoked_(t.p,t.q):"ac"===e?this.onAuthRevoked_(t.s,t.d):"apc"===e?this.onAppCheckRevoked_(t.s,t.d):"sd"===e?this.onSecurityDebugPacket_(t):ja("Unrecognized action received from server: "+Rr(e)+"\nAre you using the latest client?")}},{key:"onReady_",value:function(e,t){this.log_("connection ready"),this.connected_=!0,this.lastConnectionEstablishedTime_=(new Date).getTime(),this.handleTimestamp_(e),this.lastSessionId=t,this.firstConnection_&&this.sendConnectStats_(),this.restoreState_(),this.firstConnection_=!1,this.onConnectStatus_(!0)}},{key:"scheduleConnect_",value:function(e){var t=this;ur(!this.realtime_,"Scheduling a connect when we're already connected/ing?"),this.establishConnectionTimer_&&clearTimeout(this.establishConnectionTimer_),this.establishConnectionTimer_=setTimeout((function(){t.establishConnectionTimer_=null,t.establishConnection_()}),Math.floor(e))}},{key:"initConnection_",value:function(){!this.realtime_&&this.firstConnection_&&this.scheduleConnect_(0)}},{key:"onVisible_",value:function(e){e&&!this.visible_&&this.reconnectDelay_===this.maxReconnectDelay_&&(this.log_("Window became visible.  Reducing delay."),this.reconnectDelay_=Vo,this.realtime_||this.scheduleConnect_(0)),this.visible_=e}},{key:"onOnline_",value:function(e){e?(this.log_("Browser went online."),this.reconnectDelay_=Vo,this.realtime_||this.scheduleConnect_(0)):(this.log_("Browser went offline.  Killing connection."),this.realtime_&&this.realtime_.close())}},{key:"onRealtimeDisconnect_",value:function(){if(this.log_("data client disconnected"),this.connected_=!1,this.realtime_=null,this.cancelSentTransactions_(),this.requestCBHash_={},this.shouldReconnect_()){if(this.visible_){if(this.lastConnectionEstablishedTime_){(new Date).getTime()-this.lastConnectionEstablishedTime_>3e4&&(this.reconnectDelay_=Vo),this.lastConnectionEstablishedTime_=null}}else this.log_("Window isn't visible.  Delaying reconnect."),this.reconnectDelay_=this.maxReconnectDelay_,this.lastConnectionAttemptTime_=(new Date).getTime();var e=(new Date).getTime()-this.lastConnectionAttemptTime_,t=Math.max(0,this.reconnectDelay_-e);t=Math.random()*t,this.log_("Trying to reconnect in "+t+"ms"),this.scheduleConnect_(t),this.reconnectDelay_=Math.min(this.maxReconnectDelay_,1.3*this.reconnectDelay_)}this.onConnectStatus_(!1)}},{key:"establishConnection_",value:function(){var e=Jr(Kr().mark((function e(){var t,r,i,a,o,s,u,c,l,d,f,h,p,v,m=this;return Kr().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!this.shouldReconnect_()){e.next=30;break}return this.log_("Making a connection attempt"),this.lastConnectionAttemptTime_=(new Date).getTime(),this.lastConnectionEstablishedTime_=null,t=this.onDataMessage_.bind(this),r=this.onReady_.bind(this),i=this.onRealtimeDisconnect_.bind(this),a=this.id+":"+n.nextConnectionId_++,o=this.lastSessionId,s=!1,u=null,c=function(){u?u.close():(s=!0,i())},l=function(e){ur(u,"sendRequest call when we're not connected not allowed."),u.sendRequest(e)},this.realtime_={close:c,sendRequest:l},d=this.forceTokenRefresh_,this.forceTokenRefresh_=!1,e.prev=16,e.next=19,Promise.all([this.authTokenProvider_.getToken(d),this.appCheckTokenProvider_.getToken(d)]);case 19:f=e.sent,h=(0,A.Z)(f,2),p=h[0],v=h[1],s?Ua("getToken() completed but was canceled"):(Ua("getToken() completed. Creating connection."),this.authToken_=p&&p.accessToken,this.appCheckToken_=v&&v.token,u=new Io(a,this.repoInfo_,this.applicationId_,this.appCheckToken_,this.authToken_,t,r,i,(function(e){qa(e+" ("+m.repoInfo_.toString()+")"),m.interrupt("server_kill")}),o)),e.next=30;break;case 26:e.prev=26,e.t0=e.catch(16),this.log_("Failed to get token: "+e.t0),s||(this.repoInfo_.nodeAdmin&&qa(e.t0),c());case 30:case"end":return e.stop()}}),e,this,[[16,26]])})));return function(){return e.apply(this,arguments)}}()},{key:"interrupt",value:function(e){Ua("Interrupting connection for reason: "+e),this.interruptReasons_[e]=!0,this.realtime_?this.realtime_.close():(this.establishConnectionTimer_&&(clearTimeout(this.establishConnectionTimer_),this.establishConnectionTimer_=null),this.connected_&&this.onRealtimeDisconnect_())}},{key:"resume",value:function(e){Ua("Resuming connection for reason: "+e),delete this.interruptReasons_[e],Ar(this.interruptReasons_)&&(this.reconnectDelay_=Vo,this.realtime_||this.scheduleConnect_(0))}},{key:"handleTimestamp_",value:function(e){var t=e-(new Date).getTime();this.onServerInfoUpdate_({serverTimeOffset:t})}},{key:"cancelSentTransactions_",value:function(){for(var e=0;e<this.outstandingPuts_.length;e++){var t=this.outstandingPuts_[e];t&&"h"in t.request&&t.queued&&(t.onComplete&&t.onComplete("disconnect"),delete this.outstandingPuts_[e],this.outstandingPutCount_--)}0===this.outstandingPutCount_&&(this.outstandingPuts_=[])}},{key:"onListenRevoked_",value:function(e,t){var n;n=t?t.map((function(e){return Ya(e)})).join("$"):"default";var r=this.removeListen_(e,n);r&&r.onComplete&&r.onComplete("permission_denied")}},{key:"removeListen_",value:function(e,t){var n,r=new Ro(e).toString();if(this.listens.has(r)){var i=this.listens.get(r);n=i.get(t),i.delete(t),0===i.size&&this.listens.delete(r)}else n=void 0;return n}},{key:"onAuthRevoked_",value:function(e,t){Ua("Auth token revoked: "+e+"/"+t),this.authToken_=null,this.forceTokenRefresh_=!0,this.realtime_.close(),"invalid_token"!==e&&"permission_denied"!==e||(this.invalidAuthTokenCount_++,this.invalidAuthTokenCount_>=3&&(this.reconnectDelay_=3e4,this.authTokenProvider_.notifyForInvalidToken()))}},{key:"onAppCheckRevoked_",value:function(e,t){Ua("App check token revoked: "+e+"/"+t),this.appCheckToken_=null,this.forceTokenRefresh_=!0,"invalid_token"!==e&&"permission_denied"!==e||(this.invalidAppCheckTokenCount_++,this.invalidAppCheckTokenCount_>=3&&this.appCheckTokenProvider_.notifyForInvalidToken())}},{key:"onSecurityDebugPacket_",value:function(e){this.securityDebugCallback_?this.securityDebugCallback_(e):"msg"in e&&console.log("FIREBASE: "+e.msg.replace("\n","\nFIREBASE: "))}},{key:"restoreState_",value:function(){this.tryAuth(),this.tryAppCheck();var e,t=(0,Z.Z)(this.listens.values());try{for(t.s();!(e=t.n()).done;){var n,r=e.value,i=(0,Z.Z)(r.values());try{for(i.s();!(n=i.n()).done;){var a=n.value;this.sendListen_(a)}}catch(c){i.e(c)}finally{i.f()}}}catch(c){t.e(c)}finally{t.f()}for(var o=0;o<this.outstandingPuts_.length;o++)this.outstandingPuts_[o]&&this.sendPut_(o);for(;this.onDisconnectRequestQueue_.length;){var s=this.onDisconnectRequestQueue_.shift();this.sendOnDisconnect_(s.action,s.pathString,s.data,s.onComplete)}for(var u=0;u<this.outstandingGets_.length;u++)this.outstandingGets_[u]&&this.sendGet_(u)}},{key:"sendConnectStats_",value:function(){var e={},t="js";Sr()&&(t=this.repoInfo_.nodeAdmin?"admin_node":"node"),e["sdk."+t+"."+Ea.replace(/\./g,"-")]=1,yr()?e["framework.cordova"]=1:kr()&&(e["framework.reactnative"]=1),this.reportStats(e)}},{key:"shouldReconnect_",value:function(){var e=No.getInstance().currentlyOnline();return Ar(this.interruptReasons_)&&e}}],[{key:"warnOnListenWarnings_",value:function(e,t){if(e&&"object"===typeof e&&Or(e,"w")){var n=Dr(e,"w");if(Array.isArray(n)&&~n.indexOf("no_index")){var r='".indexOn": "'+t._queryParams.getIndex().toString()+'"',i=t._path.toString();qa("Using an unspecified index. Your data will be downloaded and "+"filtered on the client. Consider adding ".concat(r," at ")+"".concat(i," to your security rules for better performance."))}}}}]),n}(To);Yo.nextPersistentConnectionId_=0,Yo.nextConnectionId_=0;var Ko,$o=function(){function e(t,n){(0,p.Z)(this,e),this.name=t,this.node=n}return(0,v.Z)(e,null,[{key:"Wrap",value:function(t,n){return new e(t,n)}}]),e}(),Jo=function(){function e(){(0,p.Z)(this,e)}return(0,v.Z)(e,[{key:"getCompare",value:function(){return this.compare.bind(this)}},{key:"indexedValueChanged",value:function(e,t){var n=new $o(Ba,e),r=new $o(Ba,t);return 0!==this.compare(n,r)}},{key:"minPost",value:function(){return $o.MIN}}]),e}(),Qo=function(e){(0,R.Z)(n,e);var t=(0,P.Z)(n);function n(){return(0,p.Z)(this,n),t.apply(this,arguments)}return(0,v.Z)(n,[{key:"compare",value:function(e,t){return Ga(e.name,t.name)}},{key:"isDefinedOn",value:function(e){throw cr("KeyIndex.isDefinedOn not expected to be called.")}},{key:"indexedValueChanged",value:function(e,t){return!1}},{key:"minPost",value:function(){return $o.MIN}},{key:"maxPost",value:function(){return new $o(Wa,Ko)}},{key:"makePost",value:function(e,t){return ur("string"===typeof e,"KeyIndex indexValue must always be a string."),new $o(e,Ko)}},{key:"toString",value:function(){return".key"}}],[{key:"__EMPTY_NODE",get:function(){return Ko},set:function(e){Ko=e}}]),n}(Jo),Xo=new Qo,es=function(){function e(t,n,r,i){var a=arguments.length>4&&void 0!==arguments[4]?arguments[4]:null;(0,p.Z)(this,e),this.isReverse_=i,this.resultGenerator_=a,this.nodeStack_=[];for(var o=1;!t.isEmpty();)if(o=n?r(t.key,n):1,i&&(o*=-1),o<0)t=this.isReverse_?t.left:t.right;else{if(0===o){this.nodeStack_.push(t);break}this.nodeStack_.push(t),t=this.isReverse_?t.right:t.left}}return(0,v.Z)(e,[{key:"getNext",value:function(){if(0===this.nodeStack_.length)return null;var e,t=this.nodeStack_.pop();if(e=this.resultGenerator_?this.resultGenerator_(t.key,t.value):{key:t.key,value:t.value},this.isReverse_)for(t=t.left;!t.isEmpty();)this.nodeStack_.push(t),t=t.right;else for(t=t.right;!t.isEmpty();)this.nodeStack_.push(t),t=t.left;return e}},{key:"hasNext",value:function(){return this.nodeStack_.length>0}},{key:"peek",value:function(){if(0===this.nodeStack_.length)return null;var e=this.nodeStack_[this.nodeStack_.length-1];return this.resultGenerator_?this.resultGenerator_(e.key,e.value):{key:e.key,value:e.value}}}]),e}(),ts=function(){function e(t,n,r,i,a){(0,p.Z)(this,e),this.key=t,this.value=n,this.color=null!=r?r:e.RED,this.left=null!=i?i:is.EMPTY_NODE,this.right=null!=a?a:is.EMPTY_NODE}return(0,v.Z)(e,[{key:"copy",value:function(t,n,r,i,a){return new e(null!=t?t:this.key,null!=n?n:this.value,null!=r?r:this.color,null!=i?i:this.left,null!=a?a:this.right)}},{key:"count",value:function(){return this.left.count()+1+this.right.count()}},{key:"isEmpty",value:function(){return!1}},{key:"inorderTraversal",value:function(e){return this.left.inorderTraversal(e)||!!e(this.key,this.value)||this.right.inorderTraversal(e)}},{key:"reverseTraversal",value:function(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}},{key:"min_",value:function(){return this.left.isEmpty()?this:this.left.min_()}},{key:"minKey",value:function(){return this.min_().key}},{key:"maxKey",value:function(){return this.right.isEmpty()?this.key:this.right.maxKey()}},{key:"insert",value:function(e,t,n){var r=this,i=n(e,r.key);return(r=i<0?r.copy(null,null,null,r.left.insert(e,t,n),null):0===i?r.copy(null,t,null,null,null):r.copy(null,null,null,null,r.right.insert(e,t,n))).fixUp_()}},{key:"removeMin_",value:function(){if(this.left.isEmpty())return is.EMPTY_NODE;var e=this;return e.left.isRed_()||e.left.left.isRed_()||(e=e.moveRedLeft_()),(e=e.copy(null,null,null,e.left.removeMin_(),null)).fixUp_()}},{key:"remove",value:function(e,t){var n,r;if(t(e,(n=this).key)<0)n.left.isEmpty()||n.left.isRed_()||n.left.left.isRed_()||(n=n.moveRedLeft_()),n=n.copy(null,null,null,n.left.remove(e,t),null);else{if(n.left.isRed_()&&(n=n.rotateRight_()),n.right.isEmpty()||n.right.isRed_()||n.right.left.isRed_()||(n=n.moveRedRight_()),0===t(e,n.key)){if(n.right.isEmpty())return is.EMPTY_NODE;r=n.right.min_(),n=n.copy(r.key,r.value,null,null,n.right.removeMin_())}n=n.copy(null,null,null,null,n.right.remove(e,t))}return n.fixUp_()}},{key:"isRed_",value:function(){return this.color}},{key:"fixUp_",value:function(){var e=this;return e.right.isRed_()&&!e.left.isRed_()&&(e=e.rotateLeft_()),e.left.isRed_()&&e.left.left.isRed_()&&(e=e.rotateRight_()),e.left.isRed_()&&e.right.isRed_()&&(e=e.colorFlip_()),e}},{key:"moveRedLeft_",value:function(){var e=this.colorFlip_();return e.right.left.isRed_()&&(e=(e=(e=e.copy(null,null,null,null,e.right.rotateRight_())).rotateLeft_()).colorFlip_()),e}},{key:"moveRedRight_",value:function(){var e=this.colorFlip_();return e.left.left.isRed_()&&(e=(e=e.rotateRight_()).colorFlip_()),e}},{key:"rotateLeft_",value:function(){var t=this.copy(null,null,e.RED,null,this.right.left);return this.right.copy(null,null,this.color,t,null)}},{key:"rotateRight_",value:function(){var t=this.copy(null,null,e.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,t)}},{key:"colorFlip_",value:function(){var e=this.left.copy(null,null,!this.left.color,null,null),t=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,t)}},{key:"checkMaxDepth_",value:function(){var e=this.check_();return Math.pow(2,e)<=this.count()+1}},{key:"check_",value:function(){if(this.isRed_()&&this.left.isRed_())throw new Error("Red node has red child("+this.key+","+this.value+")");if(this.right.isRed_())throw new Error("Right child of ("+this.key+","+this.value+") is red");var e=this.left.check_();if(e!==this.right.check_())throw new Error("Black depths differ");return e+(this.isRed_()?0:1)}}]),e}();ts.RED=!0,ts.BLACK=!1;var ns,rs=function(){function e(){(0,p.Z)(this,e)}return(0,v.Z)(e,[{key:"copy",value:function(e,t,n,r,i){return this}},{key:"insert",value:function(e,t,n){return new ts(e,t,null)}},{key:"remove",value:function(e,t){return this}},{key:"count",value:function(){return 0}},{key:"isEmpty",value:function(){return!0}},{key:"inorderTraversal",value:function(e){return!1}},{key:"reverseTraversal",value:function(e){return!1}},{key:"minKey",value:function(){return null}},{key:"maxKey",value:function(){return null}},{key:"check_",value:function(){return 0}},{key:"isRed_",value:function(){return!1}}]),e}(),is=function(){function e(t){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:e.EMPTY_NODE;(0,p.Z)(this,e),this.comparator_=t,this.root_=n}return(0,v.Z)(e,[{key:"insert",value:function(t,n){return new e(this.comparator_,this.root_.insert(t,n,this.comparator_).copy(null,null,ts.BLACK,null,null))}},{key:"remove",value:function(t){return new e(this.comparator_,this.root_.remove(t,this.comparator_).copy(null,null,ts.BLACK,null,null))}},{key:"get",value:function(e){for(var t,n=this.root_;!n.isEmpty();){if(0===(t=this.comparator_(e,n.key)))return n.value;t<0?n=n.left:t>0&&(n=n.right)}return null}},{key:"getPredecessorKey",value:function(e){for(var t,n=this.root_,r=null;!n.isEmpty();){if(0===(t=this.comparator_(e,n.key))){if(n.left.isEmpty())return r?r.key:null;for(n=n.left;!n.right.isEmpty();)n=n.right;return n.key}t<0?n=n.left:t>0&&(r=n,n=n.right)}throw new Error("Attempted to find predecessor key for a nonexistent key.  What gives?")}},{key:"isEmpty",value:function(){return this.root_.isEmpty()}},{key:"count",value:function(){return this.root_.count()}},{key:"minKey",value:function(){return this.root_.minKey()}},{key:"maxKey",value:function(){return this.root_.maxKey()}},{key:"inorderTraversal",value:function(e){return this.root_.inorderTraversal(e)}},{key:"reverseTraversal",value:function(e){return this.root_.reverseTraversal(e)}},{key:"getIterator",value:function(e){return new es(this.root_,null,this.comparator_,!1,e)}},{key:"getIteratorFrom",value:function(e,t){return new es(this.root_,e,this.comparator_,!1,t)}},{key:"getReverseIteratorFrom",value:function(e,t){return new es(this.root_,e,this.comparator_,!0,t)}},{key:"getReverseIterator",value:function(e){return new es(this.root_,null,this.comparator_,!0,e)}}]),e}();function as(e,t){return Ga(e.name,t.name)}function os(e,t){return Ga(e,t)}is.EMPTY_NODE=new rs;var ss,us,cs,ls=function(e){return"number"===typeof e?"number:"+Ja(e):"string:"+e},ds=function(e){if(e.isLeafNode()){var t=e.val();ur("string"===typeof t||"number"===typeof t||"object"===typeof t&&Or(t,".sv"),"Priority must be a string or number.")}else ur(e===ns||e.isEmpty(),"priority of unexpected type.");ur(e===ns||e.getPriority().isEmpty(),"Priority nodes can't have a priority of their own.")},fs=function(){function e(t){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:e.__childrenNodeConstructor.EMPTY_NODE;(0,p.Z)(this,e),this.value_=t,this.priorityNode_=n,this.lazyHash_=null,ur(void 0!==this.value_&&null!==this.value_,"LeafNode shouldn't be created with null/undefined value."),ds(this.priorityNode_)}return(0,v.Z)(e,[{key:"isLeafNode",value:function(){return!0}},{key:"getPriority",value:function(){return this.priorityNode_}},{key:"updatePriority",value:function(t){return new e(this.value_,t)}},{key:"getImmediateChild",value:function(t){return".priority"===t?this.priorityNode_:e.__childrenNodeConstructor.EMPTY_NODE}},{key:"getChild",value:function(t){return jo(t)?this:".priority"===Oo(t)?this.priorityNode_:e.__childrenNodeConstructor.EMPTY_NODE}},{key:"hasChild",value:function(){return!1}},{key:"getPredecessorChildName",value:function(e,t){return null}},{key:"updateImmediateChild",value:function(t,n){return".priority"===t?this.updatePriority(n):n.isEmpty()&&".priority"!==t?this:e.__childrenNodeConstructor.EMPTY_NODE.updateImmediateChild(t,n).updatePriority(this.priorityNode_)}},{key:"updateChild",value:function(t,n){var r=Oo(t);return null===r?n:n.isEmpty()&&".priority"!==r?this:(ur(".priority"!==r||1===Do(t),".priority must be the last token in a path"),this.updateImmediateChild(r,e.__childrenNodeConstructor.EMPTY_NODE.updateChild(Ao(t),n)))}},{key:"isEmpty",value:function(){return!1}},{key:"numChildren",value:function(){return 0}},{key:"forEachChild",value:function(e,t){return!1}},{key:"val",value:function(e){return e&&!this.getPriority().isEmpty()?{".value":this.getValue(),".priority":this.getPriority().val()}:this.getValue()}},{key:"hash",value:function(){if(null===this.lazyHash_){var e="";this.priorityNode_.isEmpty()||(e+="priority:"+ls(this.priorityNode_.val())+":");var t=typeof this.value_;e+=t+":",e+="number"===t?Ja(this.value_):this.value_,this.lazyHash_=Oa(e)}return this.lazyHash_}},{key:"getValue",value:function(){return this.value_}},{key:"compareTo",value:function(t){return t===e.__childrenNodeConstructor.EMPTY_NODE?1:t instanceof e.__childrenNodeConstructor?-1:(ur(t.isLeafNode(),"Unknown node type"),this.compareToLeafNode_(t))}},{key:"compareToLeafNode_",value:function(t){var n=typeof t.value_,r=typeof this.value_,i=e.VALUE_TYPE_ORDER.indexOf(n),a=e.VALUE_TYPE_ORDER.indexOf(r);return ur(i>=0,"Unknown leaf type: "+n),ur(a>=0,"Unknown leaf type: "+r),i===a?"object"===r?0:this.value_<t.value_?-1:this.value_===t.value_?0:1:a-i}},{key:"withIndex",value:function(){return this}},{key:"isIndexed",value:function(){return!0}},{key:"equals",value:function(e){if(e===this)return!0;if(e.isLeafNode()){var t=e;return this.value_===t.value_&&this.priorityNode_.equals(t.priorityNode_)}return!1}}],[{key:"__childrenNodeConstructor",get:function(){return ss},set:function(e){ss=e}}]),e}();fs.VALUE_TYPE_ORDER=["object","boolean","number","string"];var hs,ps,vs=function(e){(0,R.Z)(n,e);var t=(0,P.Z)(n);function n(){return(0,p.Z)(this,n),t.apply(this,arguments)}return(0,v.Z)(n,[{key:"compare",value:function(e,t){var n=e.node.getPriority(),r=t.node.getPriority(),i=n.compareTo(r);return 0===i?Ga(e.name,t.name):i}},{key:"isDefinedOn",value:function(e){return!e.getPriority().isEmpty()}},{key:"indexedValueChanged",value:function(e,t){return!e.getPriority().equals(t.getPriority())}},{key:"minPost",value:function(){return $o.MIN}},{key:"maxPost",value:function(){return new $o(Wa,new fs("[PRIORITY-POST]",cs))}},{key:"makePost",value:function(e,t){var n=us(e);return new $o(t,new fs("[PRIORITY-POST]",n))}},{key:"toString",value:function(){return".priority"}}]),n}(Jo),ms=new vs,gs=Math.log(2),ys=function(){function e(t){(0,p.Z)(this,e);var n;this.count=(n=t+1,parseInt(Math.log(n)/gs,10)),this.current_=this.count-1;var r,i=(r=this.count,parseInt(Array(r+1).join("1"),2));this.bits_=t+1&i}return(0,v.Z)(e,[{key:"nextBitIsOne",value:function(){var e=!(this.bits_&1<<this.current_);return this.current_--,e}}]),e}(),_s=function(e,t,n,r){e.sort(t);var i=function t(r,i){var a,o,s=i-r;if(0===s)return null;if(1===s)return a=e[r],o=n?n(a):a,new ts(o,a.node,ts.BLACK,null,null);var u=parseInt(s/2,10)+r,c=t(r,u),l=t(u+1,i);return a=e[u],o=n?n(a):a,new ts(o,a.node,ts.BLACK,c,l)},a=function(t){for(var r=null,a=null,o=e.length,s=function(t,r){var a=o-t,s=o;o-=t;var c=i(a+1,s),l=e[a],d=n?n(l):l;u(new ts(d,l.node,r,null,c))},u=function(e){r?(r.left=e,r=e):(a=e,r=e)},c=0;c<t.count;++c){var l=t.nextBitIsOne(),d=Math.pow(2,t.count-(c+1));l?s(d,ts.BLACK):(s(d,ts.BLACK),s(d,ts.RED))}return a}(new ys(e.length));return new is(r||t,a)},bs={},ks=function(){function e(t,n){(0,p.Z)(this,e),this.indexes_=t,this.indexSet_=n}return(0,v.Z)(e,[{key:"get",value:function(e){var t=Dr(this.indexes_,e);if(!t)throw new Error("No index defined for "+e);return t instanceof is?t:null}},{key:"hasIndex",value:function(e){return Or(this.indexSet_,e.toString())}},{key:"addIndex",value:function(t,n){ur(t!==Xo,"KeyIndex always exists and isn't meant to be added to the IndexMap.");for(var r,i=[],a=!1,o=n.getIterator($o.Wrap),s=o.getNext();s;)a=a||t.isDefinedOn(s.node),i.push(s),s=o.getNext();r=a?_s(i,t.getCompare()):bs;var u=t.toString(),c=Object.assign({},this.indexSet_);c[u]=t;var l=Object.assign({},this.indexes_);return l[u]=r,new e(l,c)}},{key:"addToIndexes",value:function(t,n){var r=this;return new e(Zr(this.indexes_,(function(e,i){var a=Dr(r.indexSet_,i);if(ur(a,"Missing index implementation for "+i),e===bs){if(a.isDefinedOn(t.node)){for(var o=[],s=n.getIterator($o.Wrap),u=s.getNext();u;)u.name!==t.name&&o.push(u),u=s.getNext();return o.push(t),_s(o,a.getCompare())}return bs}var c=n.get(t.name),l=e;return c&&(l=l.remove(new $o(t.name,c))),l.insert(t,t.node)})),this.indexSet_)}},{key:"removeFromIndexes",value:function(t,n){return new e(Zr(this.indexes_,(function(e){if(e===bs)return e;var r=n.get(t.name);return r?e.remove(new $o(t.name,r)):e})),this.indexSet_)}}],[{key:"Default",get:function(){return ur(bs&&ms,"ChildrenNode.ts has not been loaded"),hs=hs||new e({".priority":bs},{".priority":ms})}}]),e}(),ws=function(){function e(t,n,r){(0,p.Z)(this,e),this.children_=t,this.priorityNode_=n,this.indexMap_=r,this.lazyHash_=null,this.priorityNode_&&ds(this.priorityNode_),this.children_.isEmpty()&&ur(!this.priorityNode_||this.priorityNode_.isEmpty(),"An empty node cannot have a priority")}return(0,v.Z)(e,[{key:"isLeafNode",value:function(){return!1}},{key:"getPriority",value:function(){return this.priorityNode_||ps}},{key:"updatePriority",value:function(t){return this.children_.isEmpty()?this:new e(this.children_,t,this.indexMap_)}},{key:"getImmediateChild",value:function(e){if(".priority"===e)return this.getPriority();var t=this.children_.get(e);return null===t?ps:t}},{key:"getChild",value:function(e){var t=Oo(e);return null===t?this:this.getImmediateChild(t).getChild(Ao(e))}},{key:"hasChild",value:function(e){return null!==this.children_.get(e)}},{key:"updateImmediateChild",value:function(t,n){if(ur(n,"We should always be passing snapshot nodes"),".priority"===t)return this.updatePriority(n);var r,i,a=new $o(t,n);n.isEmpty()?(r=this.children_.remove(t),i=this.indexMap_.removeFromIndexes(a,this.children_)):(r=this.children_.insert(t,n),i=this.indexMap_.addToIndexes(a,this.children_));var o=r.isEmpty()?ps:this.priorityNode_;return new e(r,o,i)}},{key:"updateChild",value:function(e,t){var n=Oo(e);if(null===n)return t;ur(".priority"!==Oo(e)||1===Do(e),".priority must be the last token in a path");var r=this.getImmediateChild(n).updateChild(Ao(e),t);return this.updateImmediateChild(n,r)}},{key:"isEmpty",value:function(){return this.children_.isEmpty()}},{key:"numChildren",value:function(){return this.children_.count()}},{key:"val",value:function(t){if(this.isEmpty())return null;var n={},r=0,i=0,a=!0;if(this.forEachChild(ms,(function(o,s){n[o]=s.val(t),r++,a&&e.INTEGER_REGEXP_.test(o)?i=Math.max(i,Number(o)):a=!1})),!t&&a&&i<2*r){var o=[];for(var s in n)o[s]=n[s];return o}return t&&!this.getPriority().isEmpty()&&(n[".priority"]=this.getPriority().val()),n}},{key:"hash",value:function(){if(null===this.lazyHash_){var e="";this.getPriority().isEmpty()||(e+="priority:"+ls(this.getPriority().val())+":"),this.forEachChild(ms,(function(t,n){var r=n.hash();""!==r&&(e+=":"+t+":"+r)})),this.lazyHash_=""===e?"":Oa(e)}return this.lazyHash_}},{key:"getPredecessorChildName",value:function(e,t,n){var r=this.resolveIndex_(n);if(r){var i=r.getPredecessorKey(new $o(e,t));return i?i.name:null}return this.children_.getPredecessorKey(e)}},{key:"getFirstChildName",value:function(e){var t=this.resolveIndex_(e);if(t){var n=t.minKey();return n&&n.name}return this.children_.minKey()}},{key:"getFirstChild",value:function(e){var t=this.getFirstChildName(e);return t?new $o(t,this.children_.get(t)):null}},{key:"getLastChildName",value:function(e){var t=this.resolveIndex_(e);if(t){var n=t.maxKey();return n&&n.name}return this.children_.maxKey()}},{key:"getLastChild",value:function(e){var t=this.getLastChildName(e);return t?new $o(t,this.children_.get(t)):null}},{key:"forEachChild",value:function(e,t){var n=this.resolveIndex_(e);return n?n.inorderTraversal((function(e){return t(e.name,e.node)})):this.children_.inorderTraversal(t)}},{key:"getIterator",value:function(e){return this.getIteratorFrom(e.minPost(),e)}},{key:"getIteratorFrom",value:function(e,t){var n=this.resolveIndex_(t);if(n)return n.getIteratorFrom(e,(function(e){return e}));for(var r=this.children_.getIteratorFrom(e.name,$o.Wrap),i=r.peek();null!=i&&t.compare(i,e)<0;)r.getNext(),i=r.peek();return r}},{key:"getReverseIterator",value:function(e){return this.getReverseIteratorFrom(e.maxPost(),e)}},{key:"getReverseIteratorFrom",value:function(e,t){var n=this.resolveIndex_(t);if(n)return n.getReverseIteratorFrom(e,(function(e){return e}));for(var r=this.children_.getReverseIteratorFrom(e.name,$o.Wrap),i=r.peek();null!=i&&t.compare(i,e)>0;)r.getNext(),i=r.peek();return r}},{key:"compareTo",value:function(e){return this.isEmpty()?e.isEmpty()?0:-1:e.isLeafNode()||e.isEmpty()?1:e===Ss?-1:0}},{key:"withIndex",value:function(t){if(t===Xo||this.indexMap_.hasIndex(t))return this;var n=this.indexMap_.addIndex(t,this.children_);return new e(this.children_,this.priorityNode_,n)}},{key:"isIndexed",value:function(e){return e===Xo||this.indexMap_.hasIndex(e)}},{key:"equals",value:function(e){if(e===this)return!0;if(e.isLeafNode())return!1;var t=e;if(this.getPriority().equals(t.getPriority())){if(this.children_.count()===t.children_.count()){for(var n=this.getIterator(ms),r=t.getIterator(ms),i=n.getNext(),a=r.getNext();i&&a;){if(i.name!==a.name||!i.node.equals(a.node))return!1;i=n.getNext(),a=r.getNext()}return null===i&&null===a}return!1}return!1}},{key:"resolveIndex_",value:function(e){return e===Xo?null:this.indexMap_.get(e.toString())}}],[{key:"EMPTY_NODE",get:function(){return ps||(ps=new e(new is(os),null,ks.Default))}}]),e}();ws.INTEGER_REGEXP_=/^(0|[1-9]\d*)$/;var Ss=new(function(e){(0,R.Z)(n,e);var t=(0,P.Z)(n);function n(){return(0,p.Z)(this,n),t.call(this,new is(os),ws.EMPTY_NODE,ks.Default)}return(0,v.Z)(n,[{key:"compareTo",value:function(e){return e===this?0:1}},{key:"equals",value:function(e){return e===this}},{key:"getPriority",value:function(){return this}},{key:"getImmediateChild",value:function(e){return ws.EMPTY_NODE}},{key:"isEmpty",value:function(){return!1}}]),n}(ws));Object.defineProperties($o,{MIN:{value:new $o(Ba,ws.EMPTY_NODE)},MAX:{value:new $o(Wa,Ss)}}),Qo.__EMPTY_NODE=ws.EMPTY_NODE,fs.__childrenNodeConstructor=ws,ns=Ss,function(e){cs=e}(Ss);function Es(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null;if(null===e)return ws.EMPTY_NODE;if("object"===typeof e&&".priority"in e&&(t=e[".priority"]),ur(null===t||"string"===typeof t||"number"===typeof t||"object"===typeof t&&".sv"in t,"Invalid priority type found: "+typeof t),"object"===typeof e&&".value"in e&&null!==e[".value"]&&(e=e[".value"]),"object"!==typeof e||".sv"in e){var n=e;return new fs(n,Es(t))}if(e instanceof Array){var r=ws.EMPTY_NODE;return $a(e,(function(t,n){if(Or(e,t)&&"."!==t.substring(0,1)){var i=Es(n);!i.isLeafNode()&&i.isEmpty()||(r=r.updateImmediateChild(t,i))}})),r.updatePriority(Es(t))}var i=[],a=!1,o=e;if($a(o,(function(e,t){if("."!==e.substring(0,1)){var n=Es(t);n.isEmpty()||(a=a||!n.getPriority().isEmpty(),i.push(new $o(e,n)))}})),0===i.length)return ws.EMPTY_NODE;var s=_s(i,as,(function(e){return e.name}),os);if(a){var u=_s(i,ms.getCompare());return new ws(s,Es(t),new ks({".priority":u},{".priority":ms}))}return new ws(s,Es(t),ks.Default)}!function(e){us=e}(Es);var xs=function(e){(0,R.Z)(n,e);var t=(0,P.Z)(n);function n(e){var r;return(0,p.Z)(this,n),(r=t.call(this)).indexPath_=e,ur(!jo(e)&&".priority"!==Oo(e),"Can't create PathIndex with empty path or .priority key"),r}return(0,v.Z)(n,[{key:"extractChild",value:function(e){return e.getChild(this.indexPath_)}},{key:"isDefinedOn",value:function(e){return!e.getChild(this.indexPath_).isEmpty()}},{key:"compare",value:function(e,t){var n=this.extractChild(e.node),r=this.extractChild(t.node),i=n.compareTo(r);return 0===i?Ga(e.name,t.name):i}},{key:"makePost",value:function(e,t){var n=Es(e),r=ws.EMPTY_NODE.updateChild(this.indexPath_,n);return new $o(t,r)}},{key:"maxPost",value:function(){var e=ws.EMPTY_NODE.updateChild(this.indexPath_,Ss);return new $o(Wa,e)}},{key:"toString",value:function(){return Lo(this.indexPath_,0).join("/")}}]),n}(Jo),Is=function(e){(0,R.Z)(n,e);var t=(0,P.Z)(n);function n(){return(0,p.Z)(this,n),t.apply(this,arguments)}return(0,v.Z)(n,[{key:"compare",value:function(e,t){var n=e.node.compareTo(t.node);return 0===n?Ga(e.name,t.name):n}},{key:"isDefinedOn",value:function(e){return!0}},{key:"indexedValueChanged",value:function(e,t){return!e.equals(t)}},{key:"minPost",value:function(){return $o.MIN}},{key:"maxPost",value:function(){return $o.MAX}},{key:"makePost",value:function(e,t){var n=Es(e);return new $o(t,n)}},{key:"toString",value:function(){return".value"}}]),n}(Jo),Ts=new Is,Cs="-0123456789ABCDEFGHIJKLMNOPQRSTUVWXYZ_abcdefghijklmnopqrstuvwxyz";!function(){var e=0,t=[]}();function Ns(e){return{type:"value",snapshotNode:e}}function Rs(e,t){return{type:"child_added",snapshotNode:t,childName:e}}function Ps(e,t){return{type:"child_removed",snapshotNode:t,childName:e}}function Os(e,t,n){return{type:"child_changed",snapshotNode:t,childName:e,oldSnap:n}}var Ds=function(){function e(t){(0,p.Z)(this,e),this.index_=t}return(0,v.Z)(e,[{key:"updateChild",value:function(e,t,n,r,i,a){ur(e.isIndexed(this.index_),"A node must be indexed if only a child is updated");var o=e.getImmediateChild(t);return o.getChild(r).equals(n.getChild(r))&&o.isEmpty()===n.isEmpty()?e:(null!=a&&(n.isEmpty()?e.hasChild(t)?a.trackChildChange(Ps(t,o)):ur(e.isLeafNode(),"A child remove without an old child only makes sense on a leaf node"):o.isEmpty()?a.trackChildChange(Rs(t,n)):a.trackChildChange(Os(t,n,o))),e.isLeafNode()&&n.isEmpty()?e:e.updateImmediateChild(t,n).withIndex(this.index_))}},{key:"updateFullNode",value:function(e,t,n){return null!=n&&(e.isLeafNode()||e.forEachChild(ms,(function(e,r){t.hasChild(e)||n.trackChildChange(Ps(e,r))})),t.isLeafNode()||t.forEachChild(ms,(function(t,r){if(e.hasChild(t)){var i=e.getImmediateChild(t);i.equals(r)||n.trackChildChange(Os(t,r,i))}else n.trackChildChange(Rs(t,r))}))),t.withIndex(this.index_)}},{key:"updatePriority",value:function(e,t){return e.isEmpty()?ws.EMPTY_NODE:e.updatePriority(t)}},{key:"filtersNodes",value:function(){return!1}},{key:"getIndexedFilter",value:function(){return this}},{key:"getIndex",value:function(){return this.index_}}]),e}(),As=function(){function e(t){(0,p.Z)(this,e),this.indexedFilter_=new Ds(t.getIndex()),this.index_=t.getIndex(),this.startPost_=e.getStartPost_(t),this.endPost_=e.getEndPost_(t)}return(0,v.Z)(e,[{key:"getStartPost",value:function(){return this.startPost_}},{key:"getEndPost",value:function(){return this.endPost_}},{key:"matches",value:function(e){return this.index_.compare(this.getStartPost(),e)<=0&&this.index_.compare(e,this.getEndPost())<=0}},{key:"updateChild",value:function(e,t,n,r,i,a){return this.matches(new $o(t,n))||(n=ws.EMPTY_NODE),this.indexedFilter_.updateChild(e,t,n,r,i,a)}},{key:"updateFullNode",value:function(e,t,n){t.isLeafNode()&&(t=ws.EMPTY_NODE);var r=t.withIndex(this.index_);r=r.updatePriority(ws.EMPTY_NODE);var i=this;return t.forEachChild(ms,(function(e,t){i.matches(new $o(e,t))||(r=r.updateImmediateChild(e,ws.EMPTY_NODE))})),this.indexedFilter_.updateFullNode(e,r,n)}},{key:"updatePriority",value:function(e,t){return e}},{key:"filtersNodes",value:function(){return!0}},{key:"getIndexedFilter",value:function(){return this.indexedFilter_}},{key:"getIndex",value:function(){return this.index_}}],[{key:"getStartPost_",value:function(e){if(e.hasStart()){var t=e.getIndexStartName();return e.getIndex().makePost(e.getIndexStartValue(),t)}return e.getIndex().minPost()}},{key:"getEndPost_",value:function(e){if(e.hasEnd()){var t=e.getIndexEndName();return e.getIndex().makePost(e.getIndexEndValue(),t)}return e.getIndex().maxPost()}}]),e}(),Zs=function(){function e(t){(0,p.Z)(this,e),this.rangedFilter_=new As(t),this.index_=t.getIndex(),this.limit_=t.getLimit(),this.reverse_=!t.isViewFromLeft()}return(0,v.Z)(e,[{key:"updateChild",value:function(e,t,n,r,i,a){return this.rangedFilter_.matches(new $o(t,n))||(n=ws.EMPTY_NODE),e.getImmediateChild(t).equals(n)?e:e.numChildren()<this.limit_?this.rangedFilter_.getIndexedFilter().updateChild(e,t,n,r,i,a):this.fullLimitUpdateChild_(e,t,n,i,a)}},{key:"updateFullNode",value:function(e,t,n){var r;if(t.isLeafNode()||t.isEmpty())r=ws.EMPTY_NODE.withIndex(this.index_);else if(2*this.limit_<t.numChildren()&&t.isIndexed(this.index_)){var i;r=ws.EMPTY_NODE.withIndex(this.index_),i=this.reverse_?t.getReverseIteratorFrom(this.rangedFilter_.getEndPost(),this.index_):t.getIteratorFrom(this.rangedFilter_.getStartPost(),this.index_);for(var a=0;i.hasNext()&&a<this.limit_;){var o=i.getNext();if(!(this.reverse_?this.index_.compare(this.rangedFilter_.getStartPost(),o)<=0:this.index_.compare(o,this.rangedFilter_.getEndPost())<=0))break;r=r.updateImmediateChild(o.name,o.node),a++}}else{var s,u,c,l;if(r=(r=t.withIndex(this.index_)).updatePriority(ws.EMPTY_NODE),this.reverse_){l=r.getReverseIterator(this.index_),s=this.rangedFilter_.getEndPost(),u=this.rangedFilter_.getStartPost();var d=this.index_.getCompare();c=function(e,t){return d(t,e)}}else l=r.getIterator(this.index_),s=this.rangedFilter_.getStartPost(),u=this.rangedFilter_.getEndPost(),c=this.index_.getCompare();for(var f=0,h=!1;l.hasNext();){var p=l.getNext();!h&&c(s,p)<=0&&(h=!0),h&&f<this.limit_&&c(p,u)<=0?f++:r=r.updateImmediateChild(p.name,ws.EMPTY_NODE)}}return this.rangedFilter_.getIndexedFilter().updateFullNode(e,r,n)}},{key:"updatePriority",value:function(e,t){return e}},{key:"filtersNodes",value:function(){return!0}},{key:"getIndexedFilter",value:function(){return this.rangedFilter_.getIndexedFilter()}},{key:"getIndex",value:function(){return this.index_}},{key:"fullLimitUpdateChild_",value:function(e,t,n,r,i){var a;if(this.reverse_){var o=this.index_.getCompare();a=function(e,t){return o(t,e)}}else a=this.index_.getCompare();var s=e;ur(s.numChildren()===this.limit_,"");var u=new $o(t,n),c=this.reverse_?s.getFirstChild(this.index_):s.getLastChild(this.index_),l=this.rangedFilter_.matches(u);if(s.hasChild(t)){for(var d=s.getImmediateChild(t),f=r.getChildAfterChild(this.index_,c,this.reverse_);null!=f&&(f.name===t||s.hasChild(f.name));)f=r.getChildAfterChild(this.index_,f,this.reverse_);var h=null==f?1:a(f,u);if(l&&!n.isEmpty()&&h>=0)return null!=i&&i.trackChildChange(Os(t,n,d)),s.updateImmediateChild(t,n);null!=i&&i.trackChildChange(Ps(t,d));var p=s.updateImmediateChild(t,ws.EMPTY_NODE);return null!=f&&this.rangedFilter_.matches(f)?(null!=i&&i.trackChildChange(Rs(f.name,f.node)),p.updateImmediateChild(f.name,f.node)):p}return n.isEmpty()?e:l&&a(c,u)>=0?(null!=i&&(i.trackChildChange(Ps(c.name,c.node)),i.trackChildChange(Rs(t,n))),s.updateImmediateChild(t,n).updateImmediateChild(c.name,ws.EMPTY_NODE)):e}}]),e}(),Ls=function(){function e(){(0,p.Z)(this,e),this.limitSet_=!1,this.startSet_=!1,this.startNameSet_=!1,this.startAfterSet_=!1,this.endSet_=!1,this.endNameSet_=!1,this.endBeforeSet_=!1,this.limit_=0,this.viewFrom_="",this.indexStartValue_=null,this.indexStartName_="",this.indexEndValue_=null,this.indexEndName_="",this.index_=ms}return(0,v.Z)(e,[{key:"hasStart",value:function(){return this.startSet_}},{key:"hasStartAfter",value:function(){return this.startAfterSet_}},{key:"hasEndBefore",value:function(){return this.endBeforeSet_}},{key:"isViewFromLeft",value:function(){return""===this.viewFrom_?this.startSet_:"l"===this.viewFrom_}},{key:"getIndexStartValue",value:function(){return ur(this.startSet_,"Only valid if start has been set"),this.indexStartValue_}},{key:"getIndexStartName",value:function(){return ur(this.startSet_,"Only valid if start has been set"),this.startNameSet_?this.indexStartName_:Ba}},{key:"hasEnd",value:function(){return this.endSet_}},{key:"getIndexEndValue",value:function(){return ur(this.endSet_,"Only valid if end has been set"),this.indexEndValue_}},{key:"getIndexEndName",value:function(){return ur(this.endSet_,"Only valid if end has been set"),this.endNameSet_?this.indexEndName_:Wa}},{key:"hasLimit",value:function(){return this.limitSet_}},{key:"hasAnchoredLimit",value:function(){return this.limitSet_&&""!==this.viewFrom_}},{key:"getLimit",value:function(){return ur(this.limitSet_,"Only valid if limit has been set"),this.limit_}},{key:"getIndex",value:function(){return this.index_}},{key:"loadsAllData",value:function(){return!(this.startSet_||this.endSet_||this.limitSet_)}},{key:"isDefault",value:function(){return this.loadsAllData()&&this.index_===ms}},{key:"copy",value:function(){var t=new e;return t.limitSet_=this.limitSet_,t.limit_=this.limit_,t.startSet_=this.startSet_,t.indexStartValue_=this.indexStartValue_,t.startNameSet_=this.startNameSet_,t.indexStartName_=this.indexStartName_,t.endSet_=this.endSet_,t.indexEndValue_=this.indexEndValue_,t.endNameSet_=this.endNameSet_,t.indexEndName_=this.indexEndName_,t.index_=this.index_,t.viewFrom_=this.viewFrom_,t}}]),e}();function Us(e){var t,n={};return e.isDefault()||(e.index_===ms?t="$priority":e.index_===Ts?t="$value":e.index_===Xo?t="$key":(ur(e.index_ instanceof xs,"Unrecognized index type!"),t=e.index_.toString()),n.orderBy=Rr(t),e.startSet_&&(n.startAt=Rr(e.indexStartValue_),e.startNameSet_&&(n.startAt+=","+Rr(e.indexStartName_))),e.endSet_&&(n.endAt=Rr(e.indexEndValue_),e.endNameSet_&&(n.endAt+=","+Rr(e.indexEndName_))),e.limitSet_&&(e.isViewFromLeft()?n.limitToFirst=e.limit_:n.limitToLast=e.limit_)),n}function Ms(e){var t={};if(e.startSet_&&(t.sp=e.indexStartValue_,e.startNameSet_&&(t.sn=e.indexStartName_)),e.endSet_&&(t.ep=e.indexEndValue_,e.endNameSet_&&(t.en=e.indexEndName_)),e.limitSet_){t.l=e.limit_;var n=e.viewFrom_;""===n&&(n=e.isViewFromLeft()?"l":"r"),t.vf=n}return e.index_!==ms&&(t.i=e.index_.toString()),t}var js=function(e){(0,R.Z)(n,e);var t=(0,P.Z)(n);function n(e,r,i,a){var o;return(0,p.Z)(this,n),(o=t.call(this)).repoInfo_=e,o.onDataUpdate_=r,o.authTokenProvider_=i,o.appCheckTokenProvider_=a,o.log_=Ma("p:rest:"),o.listens_={},o}return(0,v.Z)(n,[{key:"reportStats",value:function(e){throw new Error("Method not implemented.")}},{key:"listen",value:function(e,t,r,i){var a=this,o=e._path.toString();this.log_("Listen called for "+o+" "+e._queryIdentifier);var s=n.getListenId_(e,r),u={};this.listens_[s]=u;var c=Us(e._queryParams);this.restRequest_(o+".json",c,(function(e,t){var n=t;(404===e&&(n=null,e=null),null===e&&a.onDataUpdate_(o,n,!1,r),Dr(a.listens_,s)===u)&&i(e?401===e?"permission_denied":"rest_error:"+e:"ok",null)}))}},{key:"unlisten",value:function(e,t){var r=n.getListenId_(e,t);delete this.listens_[r]}},{key:"get",value:function(e){var t=this,n=Us(e._queryParams),r=e._path.toString(),i=new mr;return this.restRequest_(r+".json",n,(function(e,n){var a=n;404===e&&(a=null,e=null),null===e?(t.onDataUpdate_(r,a,!1,null),i.resolve(a)):i.reject(new Error(a))})),i.promise}},{key:"refreshAuthToken",value:function(e){}},{key:"restRequest_",value:function(e){var t=this,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},r=arguments.length>2?arguments[2]:void 0;return n.format="export",Promise.all([this.authTokenProvider_.getToken(!1),this.appCheckTokenProvider_.getToken(!1)]).then((function(i){var a=(0,A.Z)(i,2),o=a[0],s=a[1];o&&o.accessToken&&(n.auth=o.accessToken),s&&s.token&&(n.ac=s.token);var u=(t.repoInfo_.secure?"https://":"http://")+t.repoInfo_.host+e+"?ns="+t.repoInfo_.namespace+Mr(n);t.log_("Sending REST request for "+u);var c=new XMLHttpRequest;c.onreadystatechange=function(){if(r&&4===c.readyState){t.log_("REST Response for "+u+" received. status:",c.status,"response:",c.responseText);var e=null;if(c.status>=200&&c.status<300){try{e=Nr(c.responseText)}catch(n){qa("Failed to parse JSON response for "+u+": "+c.responseText)}r(null,e)}else 401!==c.status&&404!==c.status&&qa("Got unsuccessful REST response for "+u+" Status: "+c.status),r(c.status);r=null}},c.open("GET",u,!0),c.send()}))}}],[{key:"getListenId_",value:function(e,t){return void 0!==t?"tag$"+t:(ur(e._queryParams.isDefault(),"should have a tag if it's not a default query."),e._path.toString())}}]),n}(To),Fs=function(){function e(){(0,p.Z)(this,e),this.rootNode_=ws.EMPTY_NODE}return(0,v.Z)(e,[{key:"getNode",value:function(e){return this.rootNode_.getChild(e)}},{key:"updateSnapshot",value:function(e,t){this.rootNode_=this.rootNode_.updateChild(e,t)}}]),e}();function qs(){return{value:null,children:new Map}}function zs(e,t,n){if(jo(t))e.value=n,e.children.clear();else if(null!==e.value)e.value=e.value.updateChild(t,n);else{var r=Oo(t);e.children.has(r)||e.children.set(r,qs()),zs(e.children.get(r),t=Ao(t),n)}}function Bs(e,t,n){null!==e.value?n(t,e.value):function(e,t){e.children.forEach((function(e,n){t(n,e)}))}(e,(function(e,r){Bs(r,new Ro(t.toString()+"/"+e),n)}))}var Ws,Gs=function(){function e(t){(0,p.Z)(this,e),this.collection_=t,this.last_=null}return(0,v.Z)(e,[{key:"get",value:function(){var e=this.collection_.get(),t=Object.assign({},e);return this.last_&&$a(this.last_,(function(e,n){t[e]=t[e]-n})),this.last_=e,t}}]),e}(),Hs=function(){function e(t,n){(0,p.Z)(this,e),this.server_=n,this.statsToReport_={},this.statsListener_=new Gs(t);var r=1e4+2e4*Math.random();ro(this.reportStats_.bind(this),Math.floor(r))}return(0,v.Z)(e,[{key:"reportStats_",value:function(){var e=this,t=this.statsListener_.get(),n={},r=!1;$a(t,(function(t,i){i>0&&Or(e.statsToReport_,t)&&(n[t]=i,r=!0)})),r&&this.server_.reportStats(n),ro(this.reportStats_.bind(this),Math.floor(2*Math.random()*3e5))}}]),e}();function Vs(e){return{fromUser:!1,fromServer:!0,queryId:e,tagged:!0}}!function(e){e[e.OVERWRITE=0]="OVERWRITE",e[e.MERGE=1]="MERGE",e[e.ACK_USER_WRITE=2]="ACK_USER_WRITE",e[e.LISTEN_COMPLETE=3]="LISTEN_COMPLETE"}(Ws||(Ws={}));var Ys,Ks=function(){function e(t,n,r){(0,p.Z)(this,e),this.path=t,this.affectedTree=n,this.revert=r,this.type=Ws.ACK_USER_WRITE,this.source={fromUser:!0,fromServer:!1,queryId:null,tagged:!1}}return(0,v.Z)(e,[{key:"operationForChild",value:function(t){if(jo(this.path)){if(null!=this.affectedTree.value)return ur(this.affectedTree.children.isEmpty(),"affectedTree should not have overlapping affected paths."),this;var n=this.affectedTree.subtree(new Ro(t));return new e(Po(),n,this.revert)}return ur(Oo(this.path)===t,"operationForChild called for unrelated child."),new e(Ao(this.path),this.affectedTree,this.revert)}}]),e}(),$s=function(){function e(t,n){(0,p.Z)(this,e),this.source=t,this.path=n,this.type=Ws.LISTEN_COMPLETE}return(0,v.Z)(e,[{key:"operationForChild",value:function(t){return jo(this.path)?new e(this.source,Po()):new e(this.source,Ao(this.path))}}]),e}(),Js=function(){function e(t,n,r){(0,p.Z)(this,e),this.source=t,this.path=n,this.snap=r,this.type=Ws.OVERWRITE}return(0,v.Z)(e,[{key:"operationForChild",value:function(t){return jo(this.path)?new e(this.source,Po(),this.snap.getImmediateChild(t)):new e(this.source,Ao(this.path),this.snap)}}]),e}(),Qs=function(){function e(t,n,r){(0,p.Z)(this,e),this.source=t,this.path=n,this.children=r,this.type=Ws.MERGE}return(0,v.Z)(e,[{key:"operationForChild",value:function(t){if(jo(this.path)){var n=this.children.subtree(new Ro(t));return n.isEmpty()?null:n.value?new Js(this.source,Po(),n.value):new e(this.source,Po(),n)}return ur(Oo(this.path)===t,"Can't get a merge for a child not on the path of the operation"),new e(this.source,Ao(this.path),this.children)}},{key:"toString",value:function(){return"Operation("+this.path+": "+this.source.toString()+" merge: "+this.children.toString()+")"}}]),e}(),Xs=function(){function e(t,n,r){(0,p.Z)(this,e),this.node_=t,this.fullyInitialized_=n,this.filtered_=r}return(0,v.Z)(e,[{key:"isFullyInitialized",value:function(){return this.fullyInitialized_}},{key:"isFiltered",value:function(){return this.filtered_}},{key:"isCompleteForPath",value:function(e){if(jo(e))return this.isFullyInitialized()&&!this.filtered_;var t=Oo(e);return this.isCompleteForChild(t)}},{key:"isCompleteForChild",value:function(e){return this.isFullyInitialized()&&!this.filtered_||this.node_.hasChild(e)}},{key:"getNode",value:function(){return this.node_}}]),e}(),eu=(0,v.Z)((function e(t){(0,p.Z)(this,e),this.query_=t,this.index_=this.query_._queryParams.getIndex()}));function tu(e,t,n,r,i,a){var o=r.filter((function(e){return e.type===n}));o.sort((function(t,n){return function(e,t,n){if(null==t.childName||null==n.childName)throw cr("Should only compare child_ events.");var r=new $o(t.childName,t.snapshotNode),i=new $o(n.childName,n.snapshotNode);return e.index_.compare(r,i)}(e,t,n)})),o.forEach((function(n){var r=function(e,t,n){return"value"===t.type||"child_removed"===t.type||(t.prevName=n.getPredecessorChildName(t.childName,t.snapshotNode,e.index_)),t}(e,n,a);i.forEach((function(i){i.respondsTo(n.type)&&t.push(i.createEvent(r,e.query_))}))}))}function nu(e,t){return{eventCache:e,serverCache:t}}function ru(e,t,n,r){return nu(new Xs(t,n,r),e.serverCache)}function iu(e,t,n,r){return nu(e.eventCache,new Xs(t,n,r))}function au(e){return e.eventCache.isFullyInitialized()?e.eventCache.getNode():null}function ou(e){return e.serverCache.isFullyInitialized()?e.serverCache.getNode():null}var su=function(){return Ys||(Ys=new is(Ha)),Ys},uu=function(){function e(t){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:su();(0,p.Z)(this,e),this.value=t,this.children=n}return(0,v.Z)(e,[{key:"isEmpty",value:function(){return null===this.value&&this.children.isEmpty()}},{key:"findRootMostMatchingPathAndValue",value:function(e,t){if(null!=this.value&&t(this.value))return{path:Po(),value:this.value};if(jo(e))return null;var n=Oo(e),r=this.children.get(n);if(null!==r){var i=r.findRootMostMatchingPathAndValue(Ao(e),t);return null!=i?{path:Mo(new Ro(n),i.path),value:i.value}:null}return null}},{key:"findRootMostValueAndPath",value:function(e){return this.findRootMostMatchingPathAndValue(e,(function(){return!0}))}},{key:"subtree",value:function(t){if(jo(t))return this;var n=Oo(t),r=this.children.get(n);return null!==r?r.subtree(Ao(t)):new e(null)}},{key:"set",value:function(t,n){if(jo(t))return new e(n,this.children);var r=Oo(t),i=(this.children.get(r)||new e(null)).set(Ao(t),n),a=this.children.insert(r,i);return new e(this.value,a)}},{key:"remove",value:function(t){if(jo(t))return this.children.isEmpty()?new e(null):new e(null,this.children);var n=Oo(t),r=this.children.get(n);if(r){var i,a=r.remove(Ao(t));return i=a.isEmpty()?this.children.remove(n):this.children.insert(n,a),null===this.value&&i.isEmpty()?new e(null):new e(this.value,i)}return this}},{key:"get",value:function(e){if(jo(e))return this.value;var t=Oo(e),n=this.children.get(t);return n?n.get(Ao(e)):null}},{key:"setTree",value:function(t,n){if(jo(t))return n;var r,i=Oo(t),a=(this.children.get(i)||new e(null)).setTree(Ao(t),n);return r=a.isEmpty()?this.children.remove(i):this.children.insert(i,a),new e(this.value,r)}},{key:"fold",value:function(e){return this.fold_(Po(),e)}},{key:"fold_",value:function(e,t){var n={};return this.children.inorderTraversal((function(r,i){n[r]=i.fold_(Mo(e,r),t)})),t(e,this.value,n)}},{key:"findOnPath",value:function(e,t){return this.findOnPath_(e,Po(),t)}},{key:"findOnPath_",value:function(e,t,n){var r=!!this.value&&n(t,this.value);if(r)return r;if(jo(e))return null;var i=Oo(e),a=this.children.get(i);return a?a.findOnPath_(Ao(e),Mo(t,i),n):null}},{key:"foreachOnPath",value:function(e,t){return this.foreachOnPath_(e,Po(),t)}},{key:"foreachOnPath_",value:function(t,n,r){if(jo(t))return this;this.value&&r(n,this.value);var i=Oo(t),a=this.children.get(i);return a?a.foreachOnPath_(Ao(t),Mo(n,i),r):new e(null)}},{key:"foreach",value:function(e){this.foreach_(Po(),e)}},{key:"foreach_",value:function(e,t){this.children.inorderTraversal((function(n,r){r.foreach_(Mo(e,n),t)})),this.value&&t(e,this.value)}},{key:"foreachChild",value:function(e){this.children.inorderTraversal((function(t,n){n.value&&e(t,n.value)}))}}],[{key:"fromObject",value:function(t){var n=new e(null);return $a(t,(function(e,t){n=n.set(new Ro(e),t)})),n}}]),e}(),cu=function(){function e(t){(0,p.Z)(this,e),this.writeTree_=t}return(0,v.Z)(e,null,[{key:"empty",value:function(){return new e(new uu(null))}}]),e}();function lu(e,t,n){if(jo(t))return new cu(new uu(n));var r=e.writeTree_.findRootMostValueAndPath(t);if(null!=r){var i=r.path,a=r.value,o=Fo(i,t);return a=a.updateChild(o,n),new cu(e.writeTree_.set(i,a))}var s=new uu(n),u=e.writeTree_.setTree(t,s);return new cu(u)}function du(e,t,n){var r=e;return $a(n,(function(e,n){r=lu(r,Mo(t,e),n)})),r}function fu(e,t){if(jo(t))return cu.empty();var n=e.writeTree_.setTree(t,new uu(null));return new cu(n)}function hu(e,t){return null!=pu(e,t)}function pu(e,t){var n=e.writeTree_.findRootMostValueAndPath(t);return null!=n?e.writeTree_.get(n.path).getChild(Fo(n.path,t)):null}function vu(e){var t=[],n=e.writeTree_.value;return null!=n?n.isLeafNode()||n.forEachChild(ms,(function(e,n){t.push(new $o(e,n))})):e.writeTree_.children.inorderTraversal((function(e,n){null!=n.value&&t.push(new $o(e,n.value))})),t}function mu(e,t){if(jo(t))return e;var n=pu(e,t);return new cu(null!=n?new uu(n):e.writeTree_.subtree(t))}function gu(e){return e.writeTree_.isEmpty()}function yu(e,t){return _u(Po(),e.writeTree_,t)}function _u(e,t,n){if(null!=t.value)return n.updateChild(e,t.value);var r=null;return t.children.inorderTraversal((function(t,i){".priority"===t?(ur(null!==i.value,"Priority writes must always be leaf nodes"),r=i.value):n=_u(Mo(e,t),i,n)})),n.getChild(e).isEmpty()||null===r||(n=n.updateChild(Mo(e,".priority"),r)),n}function bu(e,t){return Au(t,e)}function ku(e,t){for(var n=0;n<e.allWrites.length;n++){var r=e.allWrites[n];if(r.writeId===t)return r}return null}function wu(e,t){var n=e.allWrites.findIndex((function(e){return e.writeId===t}));ur(n>=0,"removeWrite called with nonexistent writeId.");var r=e.allWrites[n];e.allWrites.splice(n,1);for(var i=r.visible,a=!1,o=e.allWrites.length-1;i&&o>=0;){var s=e.allWrites[o];s.visible&&(o>=n&&Su(s,r.path)?i=!1:zo(r.path,s.path)&&(a=!0)),o--}if(i){if(a)return function(e){e.visibleWrites=xu(e.allWrites,Eu,Po()),e.allWrites.length>0?e.lastWriteId=e.allWrites[e.allWrites.length-1].writeId:e.lastWriteId=-1}(e),!0;r.snap?e.visibleWrites=fu(e.visibleWrites,r.path):$a(r.children,(function(t){e.visibleWrites=fu(e.visibleWrites,Mo(r.path,t))}));return!0}return!1}function Su(e,t){if(e.snap)return zo(e.path,t);for(var n in e.children)if(e.children.hasOwnProperty(n)&&zo(Mo(e.path,n),t))return!0;return!1}function Eu(e){return e.visible}function xu(e,t,n){for(var r=cu.empty(),i=0;i<e.length;++i){var a=e[i];if(t(a)){var o=a.path,s=void 0;if(a.snap)zo(n,o)?r=lu(r,s=Fo(n,o),a.snap):zo(o,n)&&(s=Fo(o,n),r=lu(r,Po(),a.snap.getChild(s)));else{if(!a.children)throw cr("WriteRecord should have .snap or .children");if(zo(n,o))r=du(r,s=Fo(n,o),a.children);else if(zo(o,n))if(jo(s=Fo(o,n)))r=du(r,Po(),a.children);else{var u=Dr(a.children,Oo(s));if(u){var c=u.getChild(Ao(s));r=lu(r,Po(),c)}}}}}return r}function Iu(e,t,n,r,i){if(r||i){var a=mu(e.visibleWrites,t);if(!i&&gu(a))return n;if(i||null!=n||hu(a,Po())){return yu(xu(e.allWrites,(function(e){return(e.visible||i)&&(!r||!~r.indexOf(e.writeId))&&(zo(e.path,t)||zo(t,e.path))}),t),n||ws.EMPTY_NODE)}return null}var o=pu(e.visibleWrites,t);if(null!=o)return o;var s=mu(e.visibleWrites,t);return gu(s)?n:null!=n||hu(s,Po())?yu(s,n||ws.EMPTY_NODE):null}function Tu(e,t,n,r){return Iu(e.writeTree,e.treePath,t,n,r)}function Cu(e,t){return function(e,t,n){var r=ws.EMPTY_NODE,i=pu(e.visibleWrites,t);if(i)return i.isLeafNode()||i.forEachChild(ms,(function(e,t){r=r.updateImmediateChild(e,t)})),r;if(n){var a=mu(e.visibleWrites,t);return n.forEachChild(ms,(function(e,t){var n=yu(mu(a,new Ro(e)),t);r=r.updateImmediateChild(e,n)})),vu(a).forEach((function(e){r=r.updateImmediateChild(e.name,e.node)})),r}return vu(mu(e.visibleWrites,t)).forEach((function(e){r=r.updateImmediateChild(e.name,e.node)})),r}(e.writeTree,e.treePath,t)}function Nu(e,t,n,r){return function(e,t,n,r,i){ur(r||i,"Either existingEventSnap or existingServerSnap must exist");var a=Mo(t,n);if(hu(e.visibleWrites,a))return null;var o=mu(e.visibleWrites,a);return gu(o)?i.getChild(n):yu(o,i.getChild(n))}(e.writeTree,e.treePath,t,n,r)}function Ru(e,t){return function(e,t){return pu(e.visibleWrites,t)}(e.writeTree,Mo(e.treePath,t))}function Pu(e,t,n,r,i,a){return function(e,t,n,r,i,a,o){var s,u=mu(e.visibleWrites,t),c=pu(u,Po());if(null!=c)s=c;else{if(null==n)return[];s=yu(u,n)}if((s=s.withIndex(o)).isEmpty()||s.isLeafNode())return[];for(var l=[],d=o.getCompare(),f=a?s.getReverseIteratorFrom(r,o):s.getIteratorFrom(r,o),h=f.getNext();h&&l.length<i;)0!==d(h,r)&&l.push(h),h=f.getNext();return l}(e.writeTree,e.treePath,t,n,r,i,a)}function Ou(e,t,n){return function(e,t,n,r){var i=Mo(t,n),a=pu(e.visibleWrites,i);return null!=a?a:r.isCompleteForChild(n)?yu(mu(e.visibleWrites,i),r.getNode().getImmediateChild(n)):null}(e.writeTree,e.treePath,t,n)}function Du(e,t){return Au(Mo(e.treePath,t),e.writeTree)}function Au(e,t){return{treePath:e,writeTree:t}}var Zu=function(){function e(){(0,p.Z)(this,e),this.changeMap=new Map}return(0,v.Z)(e,[{key:"trackChildChange",value:function(e){var t=e.type,n=e.childName;ur("child_added"===t||"child_changed"===t||"child_removed"===t,"Only child changes supported for tracking"),ur(".priority"!==n,"Only non-priority child changes can be tracked.");var r=this.changeMap.get(n);if(r){var i=r.type;if("child_added"===t&&"child_removed"===i)this.changeMap.set(n,Os(n,e.snapshotNode,r.snapshotNode));else if("child_removed"===t&&"child_added"===i)this.changeMap.delete(n);else if("child_removed"===t&&"child_changed"===i)this.changeMap.set(n,Ps(n,r.oldSnap));else if("child_changed"===t&&"child_added"===i)this.changeMap.set(n,Rs(n,e.snapshotNode));else{if("child_changed"!==t||"child_changed"!==i)throw cr("Illegal combination of changes: "+e+" occurred after "+r);this.changeMap.set(n,Os(n,e.snapshotNode,r.oldSnap))}}else this.changeMap.set(n,e)}},{key:"getChanges",value:function(){return Array.from(this.changeMap.values())}}]),e}(),Lu=new(function(){function e(){(0,p.Z)(this,e)}return(0,v.Z)(e,[{key:"getCompleteChild",value:function(e){return null}},{key:"getChildAfterChild",value:function(e,t,n){return null}}]),e}()),Uu=function(){function e(t,n){var r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null;(0,p.Z)(this,e),this.writes_=t,this.viewCache_=n,this.optCompleteServerCache_=r}return(0,v.Z)(e,[{key:"getCompleteChild",value:function(e){var t=this.viewCache_.eventCache;if(t.isCompleteForChild(e))return t.getNode().getImmediateChild(e);var n=null!=this.optCompleteServerCache_?new Xs(this.optCompleteServerCache_,!0,!1):this.viewCache_.serverCache;return Ou(this.writes_,e,n)}},{key:"getChildAfterChild",value:function(e,t,n){var r=null!=this.optCompleteServerCache_?this.optCompleteServerCache_:ou(this.viewCache_),i=Pu(this.writes_,r,t,1,n,e);return 0===i.length?null:i[0]}}]),e}();function Mu(e,t,n,r,i){var a,o,s=new Zu;if(n.type===Ws.OVERWRITE){var u=n;u.source.fromUser?a=qu(e,t,u.path,u.snap,r,i,s):(ur(u.source.fromServer,"Unknown source."),o=u.source.tagged||t.serverCache.isFiltered()&&!jo(u.path),a=Fu(e,t,u.path,u.snap,r,i,o,s))}else if(n.type===Ws.MERGE){var c=n;c.source.fromUser?a=function(e,t,n,r,i,a,o){var s=t;return r.foreach((function(r,u){var c=Mo(n,r);zu(t,Oo(c))&&(s=qu(e,s,c,u,i,a,o))})),r.foreach((function(r,u){var c=Mo(n,r);zu(t,Oo(c))||(s=qu(e,s,c,u,i,a,o))})),s}(e,t,c.path,c.children,r,i,s):(ur(c.source.fromServer,"Unknown source."),o=c.source.tagged||t.serverCache.isFiltered(),a=Wu(e,t,c.path,c.children,r,i,o,s))}else if(n.type===Ws.ACK_USER_WRITE){var l=n;a=l.revert?function(e,t,n,r,i,a){var o;if(null!=Ru(r,n))return t;var s,u=new Uu(r,t,i),c=t.eventCache.getNode();if(jo(n)||".priority"===Oo(n)){var l;if(t.serverCache.isFullyInitialized())l=Tu(r,ou(t));else{var d=t.serverCache.getNode();ur(d instanceof ws,"serverChildren would be complete if leaf node"),l=Cu(r,d)}s=e.filter.updateFullNode(c,l,a)}else{var f=Oo(n),h=Ou(r,f,t.serverCache);null==h&&t.serverCache.isCompleteForChild(f)&&(h=c.getImmediateChild(f)),(s=null!=h?e.filter.updateChild(c,f,h,Ao(n),u,a):t.eventCache.getNode().hasChild(f)?e.filter.updateChild(c,f,ws.EMPTY_NODE,Ao(n),u,a):c).isEmpty()&&t.serverCache.isFullyInitialized()&&(o=Tu(r,ou(t))).isLeafNode()&&(s=e.filter.updateFullNode(s,o,a))}return o=t.serverCache.isFullyInitialized()||null!=Ru(r,Po()),ru(t,s,o,e.filter.filtersNodes())}(e,t,l.path,r,i,s):function(e,t,n,r,i,a,o){if(null!=Ru(i,n))return t;var s=t.serverCache.isFiltered(),u=t.serverCache;if(null!=r.value){if(jo(n)&&u.isFullyInitialized()||u.isCompleteForPath(n))return Fu(e,t,n,u.getNode().getChild(n),i,a,s,o);if(jo(n)){var c=new uu(null);return u.getNode().forEachChild(Xo,(function(e,t){c=c.set(new Ro(e),t)})),Wu(e,t,n,c,i,a,s,o)}return t}var l=new uu(null);return r.foreach((function(e,t){var r=Mo(n,e);u.isCompleteForPath(r)&&(l=l.set(e,u.getNode().getChild(r)))})),Wu(e,t,n,l,i,a,s,o)}(e,t,l.path,l.affectedTree,r,i,s)}else{if(n.type!==Ws.LISTEN_COMPLETE)throw cr("Unknown operation type: "+n.type);a=function(e,t,n,r,i){var a=t.serverCache,o=iu(t,a.getNode(),a.isFullyInitialized()||jo(n),a.isFiltered());return ju(e,o,n,r,Lu,i)}(e,t,n.path,r,s)}var d=s.getChanges();return function(e,t,n){var r=t.eventCache;if(r.isFullyInitialized()){var i=r.getNode().isLeafNode()||r.getNode().isEmpty(),a=au(e);(n.length>0||!e.eventCache.isFullyInitialized()||i&&!r.getNode().equals(a)||!r.getNode().getPriority().equals(a.getPriority()))&&n.push(Ns(au(t)))}}(t,a,d),{viewCache:a,changes:d}}function ju(e,t,n,r,i,a){var o,s,u=t.eventCache;if(null!=Ru(r,n))return t;if(jo(n))if(ur(t.serverCache.isFullyInitialized(),"If change path is empty, we must have complete server data"),t.serverCache.isFiltered()){var c=ou(t),l=Cu(r,c instanceof ws?c:ws.EMPTY_NODE);o=e.filter.updateFullNode(t.eventCache.getNode(),l,a)}else{var d=Tu(r,ou(t));o=e.filter.updateFullNode(t.eventCache.getNode(),d,a)}else{var f=Oo(n);if(".priority"===f){ur(1===Do(n),"Can't have a priority with additional path components");var h=u.getNode(),p=Nu(r,n,h,s=t.serverCache.getNode());o=null!=p?e.filter.updatePriority(h,p):u.getNode()}else{var v,m=Ao(n);if(u.isCompleteForChild(f)){s=t.serverCache.getNode();var g=Nu(r,n,u.getNode(),s);v=null!=g?u.getNode().getImmediateChild(f).updateChild(m,g):u.getNode().getImmediateChild(f)}else v=Ou(r,f,t.serverCache);o=null!=v?e.filter.updateChild(u.getNode(),f,v,m,i,a):u.getNode()}}return ru(t,o,u.isFullyInitialized()||jo(n),e.filter.filtersNodes())}function Fu(e,t,n,r,i,a,o,s){var u,c=t.serverCache,l=o?e.filter:e.filter.getIndexedFilter();if(jo(n))u=l.updateFullNode(c.getNode(),r,null);else if(l.filtersNodes()&&!c.isFiltered()){var d=c.getNode().updateChild(n,r);u=l.updateFullNode(c.getNode(),d,null)}else{var f=Oo(n);if(!c.isCompleteForPath(n)&&Do(n)>1)return t;var h=Ao(n),p=c.getNode().getImmediateChild(f).updateChild(h,r);u=".priority"===f?l.updatePriority(c.getNode(),p):l.updateChild(c.getNode(),f,p,h,Lu,null)}var v=iu(t,u,c.isFullyInitialized()||jo(n),l.filtersNodes());return ju(e,v,n,i,new Uu(i,v,a),s)}function qu(e,t,n,r,i,a,o){var s,u,c=t.eventCache,l=new Uu(i,t,a);if(jo(n))u=e.filter.updateFullNode(t.eventCache.getNode(),r,o),s=ru(t,u,!0,e.filter.filtersNodes());else{var d=Oo(n);if(".priority"===d)u=e.filter.updatePriority(t.eventCache.getNode(),r),s=ru(t,u,c.isFullyInitialized(),c.isFiltered());else{var f,h=Ao(n),p=c.getNode().getImmediateChild(d);if(jo(h))f=r;else{var v=l.getCompleteChild(d);f=null!=v?".priority"===Zo(h)&&v.getChild(Uo(h)).isEmpty()?v:v.updateChild(h,r):ws.EMPTY_NODE}if(p.equals(f))s=t;else s=ru(t,e.filter.updateChild(c.getNode(),d,f,h,l,o),c.isFullyInitialized(),e.filter.filtersNodes())}}return s}function zu(e,t){return e.eventCache.isCompleteForChild(t)}function Bu(e,t,n){return n.foreach((function(e,n){t=t.updateChild(e,n)})),t}function Wu(e,t,n,r,i,a,o,s){if(t.serverCache.getNode().isEmpty()&&!t.serverCache.isFullyInitialized())return t;var u,c=t;u=jo(n)?r:new uu(null).setTree(n,r);var l=t.serverCache.getNode();return u.children.inorderTraversal((function(n,r){if(l.hasChild(n)){var u=Bu(0,t.serverCache.getNode().getImmediateChild(n),r);c=Fu(e,c,new Ro(n),u,i,a,o,s)}})),u.children.inorderTraversal((function(n,r){var u=!t.serverCache.isCompleteForChild(n)&&void 0===r.value;if(!l.hasChild(n)&&!u){var d=Bu(0,t.serverCache.getNode().getImmediateChild(n),r);c=Fu(e,c,new Ro(n),d,i,a,o,s)}})),c}var Gu,Hu=function(){function e(t,n){(0,p.Z)(this,e),this.query_=t,this.eventRegistrations_=[];var r,i=this.query_._queryParams,a=new Ds(i.getIndex()),o=(r=i).loadsAllData()?new Ds(r.getIndex()):r.hasLimit()?new Zs(r):new As(r);this.processor_=function(e){return{filter:e}}(o);var s=n.serverCache,u=n.eventCache,c=a.updateFullNode(ws.EMPTY_NODE,s.getNode(),null),l=o.updateFullNode(ws.EMPTY_NODE,u.getNode(),null),d=new Xs(c,s.isFullyInitialized(),a.filtersNodes()),f=new Xs(l,u.isFullyInitialized(),o.filtersNodes());this.viewCache_=nu(f,d),this.eventGenerator_=new eu(this.query_)}return(0,v.Z)(e,[{key:"query",get:function(){return this.query_}}]),e}();function Vu(e,t){var n=ou(e.viewCache_);return n&&(e.query._queryParams.loadsAllData()||!jo(t)&&!n.getImmediateChild(Oo(t)).isEmpty())?n.getChild(t):null}function Yu(e){return 0===e.eventRegistrations_.length}function Ku(e,t,n){var r=[];if(n){ur(null==t,"A cancel should cancel all event registrations.");var i=e.query._path;e.eventRegistrations_.forEach((function(e){var t=e.createCancelEvent(n,i);t&&r.push(t)}))}if(t){for(var a=[],o=0;o<e.eventRegistrations_.length;++o){var s=e.eventRegistrations_[o];if(s.matches(t)){if(t.hasAnyCallback()){a=a.concat(e.eventRegistrations_.slice(o+1));break}}else a.push(s)}e.eventRegistrations_=a}else e.eventRegistrations_=[];return r}function $u(e,t,n,r){t.type===Ws.MERGE&&null!==t.source.queryId&&(ur(ou(e.viewCache_),"We should always have a full cache before handling merges"),ur(au(e.viewCache_),"Missing event cache, even though we have a server cache"));var i,a,o=e.viewCache_,s=Mu(e.processor_,o,t,n,r);return i=e.processor_,a=s.viewCache,ur(a.eventCache.getNode().isIndexed(i.filter.getIndex()),"Event snap not indexed"),ur(a.serverCache.getNode().isIndexed(i.filter.getIndex()),"Server snap not indexed"),ur(s.viewCache.serverCache.isFullyInitialized()||!o.serverCache.isFullyInitialized(),"Once a server snap is complete, it should never go back"),e.viewCache_=s.viewCache,Ju(e,s.changes,s.viewCache.eventCache.getNode(),null)}function Ju(e,t,n,r){var i=r?[r]:e.eventRegistrations_;return function(e,t,n,r){var i=[],a=[];return t.forEach((function(t){var n;"child_changed"===t.type&&e.index_.indexedValueChanged(t.oldSnap,t.snapshotNode)&&a.push((n=t.childName,{type:"child_moved",snapshotNode:t.snapshotNode,childName:n}))})),tu(e,i,"child_removed",t,r,n),tu(e,i,"child_added",t,r,n),tu(e,i,"child_moved",a,r,n),tu(e,i,"child_changed",t,r,n),tu(e,i,"value",t,r,n),i}(e.eventGenerator_,t,n,i)}var Qu,Xu=(0,v.Z)((function e(){(0,p.Z)(this,e),this.views=new Map}));function ec(e,t,n,r){var i=t.source.queryId;if(null!==i){var a=e.views.get(i);return ur(null!=a,"SyncTree gave us an op for an invalid query."),$u(a,t,n,r)}var o,s=[],u=(0,Z.Z)(e.views.values());try{for(u.s();!(o=u.n()).done;){var c=o.value;s=s.concat($u(c,t,n,r))}}catch(l){u.e(l)}finally{u.f()}return s}function tc(e,t,n,r,i){var a=t._queryIdentifier,o=e.views.get(a);if(!o){var s=Tu(n,i?r:null),u=!1;s?u=!0:r instanceof ws?(s=Cu(n,r),u=!1):(s=ws.EMPTY_NODE,u=!1);var c=nu(new Xs(s,u,!1),new Xs(r,i,!1));return new Hu(t,c)}return o}function nc(e,t,n,r){var i=t._queryIdentifier,a=[],o=[],s=sc(e);if("default"===i){var u,c=(0,Z.Z)(e.views.entries());try{for(c.s();!(u=c.n()).done;){var l=(0,A.Z)(u.value,2),d=l[0],f=l[1];o=o.concat(Ku(f,n,r)),Yu(f)&&(e.views.delete(d),f.query._queryParams.loadsAllData()||a.push(f.query))}}catch(p){c.e(p)}finally{c.f()}}else{var h=e.views.get(i);h&&(o=o.concat(Ku(h,n,r)),Yu(h)&&(e.views.delete(i),h.query._queryParams.loadsAllData()||a.push(h.query)))}return s&&!sc(e)&&a.push(new(ur(Gu,"Reference.ts has not been loaded"),Gu)(t._repo,t._path)),{removed:a,events:o}}function rc(e){var t,n=[],r=(0,Z.Z)(e.views.values());try{for(r.s();!(t=r.n()).done;){var i=t.value;i.query._queryParams.loadsAllData()||n.push(i)}}catch(a){r.e(a)}finally{r.f()}return n}function ic(e,t){var n,r=null,i=(0,Z.Z)(e.views.values());try{for(i.s();!(n=i.n()).done;){var a=n.value;r=r||Vu(a,t)}}catch(o){i.e(o)}finally{i.f()}return r}function ac(e,t){if(t._queryParams.loadsAllData())return uc(e);var n=t._queryIdentifier;return e.views.get(n)}function oc(e,t){return null!=ac(e,t)}function sc(e){return null!=uc(e)}function uc(e){var t,n=(0,Z.Z)(e.views.values());try{for(n.s();!(t=n.n()).done;){var r=t.value;if(r.query._queryParams.loadsAllData())return r}}catch(i){n.e(i)}finally{n.f()}return null}var cc=1,lc=(0,v.Z)((function e(t){(0,p.Z)(this,e),this.listenProvider_=t,this.syncPointTree_=new uu(null),this.pendingWriteTree_={visibleWrites:cu.empty(),allWrites:[],lastWriteId:-1},this.tagToQueryMap=new Map,this.queryToTagMap=new Map}));function dc(e,t,n,r,i){return function(e,t,n,r,i){ur(r>e.lastWriteId,"Stacking an older write on top of newer ones"),void 0===i&&(i=!0),e.allWrites.push({path:t,snap:n,writeId:r,visible:i}),i&&(e.visibleWrites=lu(e.visibleWrites,t,n)),e.lastWriteId=r}(e.pendingWriteTree_,t,n,r,i),i?_c(e,new Js({fromUser:!0,fromServer:!1,queryId:null,tagged:!1},t,n)):[]}function fc(e,t){var n=arguments.length>2&&void 0!==arguments[2]&&arguments[2],r=ku(e.pendingWriteTree_,t),i=wu(e.pendingWriteTree_,t);if(i){var a=new uu(null);return null!=r.snap?a=a.set(Po(),!0):$a(r.children,(function(e){a=a.set(new Ro(e),!0)})),_c(e,new Ks(r.path,a,n))}return[]}function hc(e,t,n){return _c(e,new Js({fromUser:!1,fromServer:!0,queryId:null,tagged:!1},t,n))}function pc(e,t,n,r){var i=t._path,a=e.syncPointTree_.get(i),o=[];if(a&&("default"===t._queryIdentifier||oc(a,t))){var s=nc(a,t,n,r);0===a.views.size&&(e.syncPointTree_=e.syncPointTree_.remove(i));var u=s.removed;o=s.events;var c=-1!==u.findIndex((function(e){return e._queryParams.loadsAllData()})),l=e.syncPointTree_.findOnPath(i,(function(e,t){return sc(t)}));if(c&&!l){var d=e.syncPointTree_.subtree(i);if(!d.isEmpty())for(var f=function(e){return e.fold((function(e,t,n){if(t&&sc(t))return[uc(t)];var r=[];return t&&(r=rc(t)),$a(n,(function(e,t){r=r.concat(t)})),r}))}(d),h=0;h<f.length;++h){var p=f[h],v=p.query,m=wc(e,p);e.listenProvider_.startListening(Cc(v),Sc(e,v),m.hashFn,m.onComplete)}}if(!l&&u.length>0&&!r)if(c){e.listenProvider_.stopListening(Cc(t),null)}else u.forEach((function(t){var n=e.queryToTagMap.get(Ec(t));e.listenProvider_.stopListening(Cc(t),n)}));!function(e,t){for(var n=0;n<t.length;++n){var r=t[n];if(!r._queryParams.loadsAllData()){var i=Ec(r),a=e.queryToTagMap.get(i);e.queryToTagMap.delete(i),e.tagToQueryMap.delete(a)}}}(e,u)}return o}function vc(e,t,n,r){var i=xc(e,r);if(null!=i){var a=Ic(i),o=a.path,s=a.queryId,u=Fo(o,t);return Tc(e,o,new Js(Vs(s),u,n))}return[]}function mc(e,t){var n=e._path,r=null,i=!1;t.syncPointTree_.foreachOnPath(n,(function(e,t){var a=Fo(e,n);r=r||ic(t,a),i=i||sc(t)}));var a,o=t.syncPointTree_.get(n);(o?(i=i||sc(o),r=r||ic(o,Po())):(o=new Xu,t.syncPointTree_=t.syncPointTree_.set(n,o)),null!=r)?a=!0:(a=!1,r=ws.EMPTY_NODE,t.syncPointTree_.subtree(n).foreachChild((function(e,t){var n=ic(t,Po());n&&(r=r.updateImmediateChild(e,n))})));var s=oc(o,e);if(!s&&!e._queryParams.loadsAllData()){var u=Ec(e);ur(!t.queryToTagMap.has(u),"View does not exist, but we have a tag");var c=cc++;t.queryToTagMap.set(u,c),t.tagToQueryMap.set(c,u)}return{syncPoint:o,writesCache:bu(t.pendingWriteTree_,n),serverCache:r,serverCacheComplete:a,foundAncestorDefaultView:i,viewAlreadyExists:s}}function gc(e,t,n){var r=e.pendingWriteTree_,i=e.syncPointTree_.findOnPath(t,(function(e,n){var r=ic(n,Fo(e,t));if(r)return r}));return Iu(r,t,i,n,!0)}function yc(e,t){var n=t._path,r=null;e.syncPointTree_.foreachOnPath(n,(function(e,t){var i=Fo(e,n);r=r||ic(t,i)}));var i=e.syncPointTree_.get(n);i?r=r||ic(i,Po()):(i=new Xu,e.syncPointTree_=e.syncPointTree_.set(n,i));var a=null!=r,o=a?new Xs(r,!0,!1):null;return function(e){return au(e.viewCache_)}(tc(i,t,bu(e.pendingWriteTree_,t._path),a?o.getNode():ws.EMPTY_NODE,a))}function _c(e,t){return bc(t,e.syncPointTree_,null,bu(e.pendingWriteTree_,Po()))}function bc(e,t,n,r){if(jo(e.path))return kc(e,t,n,r);var i=t.get(Po());null==n&&null!=i&&(n=ic(i,Po()));var a=[],o=Oo(e.path),s=e.operationForChild(o),u=t.children.get(o);if(u&&s){var c=n?n.getImmediateChild(o):null,l=Du(r,o);a=a.concat(bc(s,u,c,l))}return i&&(a=a.concat(ec(i,e,r,n))),a}function kc(e,t,n,r){var i=t.get(Po());null==n&&null!=i&&(n=ic(i,Po()));var a=[];return t.children.inorderTraversal((function(t,i){var o=n?n.getImmediateChild(t):null,s=Du(r,t),u=e.operationForChild(t);u&&(a=a.concat(kc(u,i,o,s)))})),i&&(a=a.concat(ec(i,e,r,n))),a}function wc(e,t){var n=t.query,r=Sc(e,n);return{hashFn:function(){var e=function(e){return e.viewCache_.serverCache.getNode()}(t)||ws.EMPTY_NODE;return e.hash()},onComplete:function(t){if("ok"===t)return r?function(e,t,n){var r=xc(e,n);if(r){var i=Ic(r),a=i.path,o=i.queryId,s=Fo(a,t);return Tc(e,a,new $s(Vs(o),s))}return[]}(e,n._path,r):function(e,t){return _c(e,new $s({fromUser:!1,fromServer:!0,queryId:null,tagged:!1},t))}(e,n._path);var i=function(e,t){var n="Unknown Error";"too_big"===e?n="The data requested exceeds the maximum size that can be accessed with a single request.":"permission_denied"===e?n="Client doesn't have permission to access the desired data.":"unavailable"===e&&(n="The service is unavailable");var r=new Error(e+" at "+t._path.toString()+": "+n);return r.code=e.toUpperCase(),r}(t,n);return pc(e,n,null,i)}}}function Sc(e,t){var n=Ec(t);return e.queryToTagMap.get(n)}function Ec(e){return e._path.toString()+"$"+e._queryIdentifier}function xc(e,t){return e.tagToQueryMap.get(t)}function Ic(e){var t=e.indexOf("$");return ur(-1!==t&&t<e.length-1,"Bad queryKey."),{queryId:e.substr(t+1),path:new Ro(e.substr(0,t))}}function Tc(e,t,n){var r=e.syncPointTree_.get(t);return ur(r,"Missing sync point for query tag that we're tracking"),ec(r,n,bu(e.pendingWriteTree_,t),null)}function Cc(e){return e._queryParams.loadsAllData()&&!e._queryParams.isDefault()?new(ur(Qu,"Reference.ts has not been loaded"),Qu)(e._repo,e._path):e}var Nc=function(){function e(t){(0,p.Z)(this,e),this.node_=t}return(0,v.Z)(e,[{key:"getImmediateChild",value:function(t){return new e(this.node_.getImmediateChild(t))}},{key:"node",value:function(){return this.node_}}]),e}(),Rc=function(){function e(t,n){(0,p.Z)(this,e),this.syncTree_=t,this.path_=n}return(0,v.Z)(e,[{key:"getImmediateChild",value:function(t){var n=Mo(this.path_,t);return new e(this.syncTree_,n)}},{key:"node",value:function(){return gc(this.syncTree_,this.path_)}}]),e}(),Pc=function(e,t,n){return e&&"object"===typeof e?(ur(".sv"in e,"Unexpected leaf node or priority contents"),"string"===typeof e[".sv"]?Oc(e[".sv"],t,n):"object"===typeof e[".sv"]?Dc(e[".sv"],t):void ur(!1,"Unexpected server value: "+JSON.stringify(e,null,2))):e},Oc=function(e,t,n){if("timestamp"===e)return n.timestamp;ur(!1,"Unexpected server value: "+e)},Dc=function(e,t,n){e.hasOwnProperty("increment")||ur(!1,"Unexpected server value: "+JSON.stringify(e,null,2));var r=e.increment;"number"!==typeof r&&ur(!1,"Unexpected increment value: "+r);var i=t.node();if(ur(null!==i&&"undefined"!==typeof i,"Expected ChildrenNode.EMPTY_NODE for nulls"),!i.isLeafNode())return r;var a=i.getValue();return"number"!==typeof a?r:a+r},Ac=function(e,t,n,r){return Lc(t,new Rc(n,e),r)},Zc=function(e,t,n){return Lc(e,new Nc(t),n)};function Lc(e,t,n){var r,i=e.getPriority().val(),a=Pc(i,t.getImmediateChild(".priority"),n);if(e.isLeafNode()){var o=e,s=Pc(o.getValue(),t,n);return s!==o.getValue()||a!==o.getPriority().val()?new fs(s,Es(a)):e}var u=e;return r=u,a!==u.getPriority().val()&&(r=r.updatePriority(new fs(a))),u.forEachChild(ms,(function(e,i){var a=Lc(i,t.getImmediateChild(e),n);a!==i&&(r=r.updateImmediateChild(e,a))})),r}var Uc=(0,v.Z)((function e(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"",n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null,r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{children:{},childCount:0};(0,p.Z)(this,e),this.name=t,this.parent=n,this.node=r}));function Mc(e,t){for(var n=t instanceof Ro?t:new Ro(t),r=e,i=Oo(n);null!==i;){var a=Dr(r.node.children,i)||{children:{},childCount:0};r=new Uc(i,r,a),i=Oo(n=Ao(n))}return r}function jc(e){return e.node.value}function Fc(e,t){e.node.value=t,Gc(e)}function qc(e){return e.node.childCount>0}function zc(e,t){$a(e.node.children,(function(n,r){t(new Uc(n,e,r))}))}function Bc(e,t,n,r){n&&!r&&t(e),zc(e,(function(e){Bc(e,t,!0,r)})),n&&r&&t(e)}function Wc(e){return new Ro(null===e.parent?e.name:Wc(e.parent)+"/"+e.name)}function Gc(e){null!==e.parent&&function(e,t,n){var r=function(e){return void 0===jc(e)&&!qc(e)}(n),i=Or(e.node.children,t);r&&i?(delete e.node.children[t],e.node.childCount--,Gc(e)):r||i||(e.node.children[t]=n.node,e.node.childCount++,Gc(e))}(e.parent,e.name,e)}var Hc=/[\[\].#$\/\u0000-\u001F\u007F]/,Vc=/[\[\].#$\u0000-\u001F\u007F]/,Yc=10485760,Kc=function(e){return"string"===typeof e&&0!==e.length&&!Hc.test(e)},$c=function(e){return"string"===typeof e&&0!==e.length&&!Vc.test(e)},Jc=function(e,t,n,r){r&&void 0===t||Qc(Gr(e,"value"),t,n)},Qc=function e(t,n,r){var i=r instanceof Ro?new Bo(r,t):r;if(void 0===n)throw new Error(t+"contains undefined "+Go(i));if("function"===typeof n)throw new Error(t+"contains a function "+Go(i)+" with contents = "+n.toString());if(za(n))throw new Error(t+"contains "+n.toString()+" "+Go(i));if("string"===typeof n&&n.length>Yc/3&&Hr(n)>Yc)throw new Error(t+"contains a string greater than "+"10485760 utf8 bytes "+Go(i)+" ('"+n.substring(0,50)+"...')");if(n&&"object"===typeof n){var a=!1,o=!1;if($a(n,(function(n,r){if(".value"===n)a=!0;else if(".priority"!==n&&".sv"!==n&&(o=!0,!Kc(n)))throw new Error(t+" contains an invalid key ("+n+") "+Go(i)+'.  Keys must be non-empty strings and can\'t contain ".", "#", "$", "/", "[", or "]"');var s,u;u=n,(s=i).parts_.length>0&&(s.byteLength_+=1),s.parts_.push(u),s.byteLength_+=Hr(u),Wo(s),e(t,r,i),function(e){var t=e.parts_.pop();e.byteLength_-=Hr(t),e.parts_.length>0&&(e.byteLength_-=1)}(i)})),a&&o)throw new Error(t+' contains ".value" child '+Go(i)+" in addition to actual children.")}},Xc=function(e,t,n,r){if((!r||void 0!==n)&&!$c(n))throw new Error(Gr(e,t)+'was an invalid path = "'+n+'". Paths must be non-empty strings and can\'t contain ".", "#", "$", "[", or "]"')},el=function(e,t){if(".info"===Oo(t))throw new Error(e+" failed = Can't modify data under /.info/")},tl=function(e,t){var n=t.path.toString();if("string"!==typeof t.repoInfo.host||0===t.repoInfo.host.length||!Kc(t.repoInfo.namespace)&&"localhost"!==t.repoInfo.host.split(":")[0]||0!==n.length&&!function(e){return e&&(e=e.replace(/^\/*\.info(\/|$)/,"/")),$c(e)}(n))throw new Error(Gr(e,"url")+'must be a valid firebase URL and the path can\'t contain ".", "#", "$", "[", or "]".')},nl=(0,v.Z)((function e(){(0,p.Z)(this,e),this.eventLists_=[],this.recursionDepth_=0}));function rl(e,t){for(var n=null,r=0;r<t.length;r++){var i=t[r],a=i.getPath();null===n||qo(a,n.path)||(e.eventLists_.push(n),n=null),null===n&&(n={events:[],path:a}),n.events.push(i)}n&&e.eventLists_.push(n)}function il(e,t,n){rl(e,n),al(e,(function(e){return zo(e,t)||zo(t,e)}))}function al(e,t){e.recursionDepth_++;for(var n=!0,r=0;r<e.eventLists_.length;r++){var i=e.eventLists_[r];if(i)t(i.path)?(ol(e.eventLists_[r]),e.eventLists_[r]=null):n=!1}n&&(e.eventLists_=[]),e.recursionDepth_--}function ol(e){for(var t=0;t<e.events.length;t++){var n=e.events[t];if(null!==n){e.events[t]=null;var r=n.getEventRunner();Aa&&Ua("event: "+n.toString()),no(r)}}}var sl="repo_interrupt",ul=function(){function e(t,n,r,i){(0,p.Z)(this,e),this.repoInfo_=t,this.forceRestClient_=n,this.authTokenProvider_=r,this.appCheckProvider_=i,this.dataUpdateCount=0,this.statsListener_=null,this.eventQueue_=new nl,this.nextWriteId_=1,this.interceptServerDataCallback_=null,this.onDisconnect_=qs(),this.transactionQueueTree_=new Uc,this.persistentConnection_=null,this.key=this.repoInfo_.toURLString()}return(0,v.Z)(e,[{key:"toString",value:function(){return(this.repoInfo_.secure?"https://":"http://")+this.repoInfo_.host}}]),e}();function cl(e,t,n){if(e.stats_=go(e.repoInfo_),e.forceRestClient_||("object"===typeof window&&window.navigator&&window.navigator.userAgent||"").search(/googlebot|google webmaster tools|bingbot|yahoo! slurp|baiduspider|yandexbot|duckduckbot/i)>=0)e.server_=new js(e.repoInfo_,(function(t,n,r,i){fl(e,t,n,r,i)}),e.authTokenProvider_,e.appCheckProvider_),setTimeout((function(){return hl(e,!0)}),0);else{if("undefined"!==typeof n&&null!==n){if("object"!==typeof n)throw new Error("Only objects are supported for option databaseAuthVariableOverride");try{Rr(n)}catch(r){throw new Error("Invalid authOverride provided: "+r)}}e.persistentConnection_=new Yo(e.repoInfo_,t,(function(t,n,r,i){fl(e,t,n,r,i)}),(function(t){hl(e,t)}),(function(t){!function(e,t){$a(t,(function(t,n){pl(e,t,n)}))}(e,t)}),e.authTokenProvider_,e.appCheckProvider_,n),e.server_=e.persistentConnection_}e.authTokenProvider_.addTokenChangeListener((function(t){e.server_.refreshAuthToken(t)})),e.appCheckProvider_.addTokenChangeListener((function(t){e.server_.refreshAppCheckToken(t.token)})),e.statsReporter_=function(e,t){var n=e.toString();return mo[n]||(mo[n]=t()),mo[n]}(e.repoInfo_,(function(){return new Hs(e.stats_,e.server_)})),e.infoData_=new Fs,e.infoSyncTree_=new lc({startListening:function(t,n,r,i){var a=[],o=e.infoData_.getNode(t._path);return o.isEmpty()||(a=hc(e.infoSyncTree_,t._path,o),setTimeout((function(){i("ok")}),0)),a},stopListening:function(){}}),pl(e,"connected",!1),e.serverSyncTree_=new lc({startListening:function(t,n,r,i){return e.server_.listen(t,r,n,(function(n,r){var a=i(n,r);il(e.eventQueue_,t._path,a)})),[]},stopListening:function(t,n){e.server_.unlisten(t,n)}})}function ll(e){var t=e.infoData_.getNode(new Ro(".info/serverTimeOffset")).val()||0;return(new Date).getTime()+t}function dl(e){return function(e){return(e=e||{}).timestamp=e.timestamp||(new Date).getTime(),e}({timestamp:ll(e)})}function fl(e,t,n,r,i){e.dataUpdateCount++;var a=new Ro(t);n=e.interceptServerDataCallback_?e.interceptServerDataCallback_(t,n):n;var o=[];if(i)if(r){var s=Zr(n,(function(e){return Es(e)}));o=function(e,t,n,r){var i=xc(e,r);if(i){var a=Ic(i),o=a.path,s=a.queryId,u=Fo(o,t),c=uu.fromObject(n);return Tc(e,o,new Qs(Vs(s),u,c))}return[]}(e.serverSyncTree_,a,s,i)}else{var u=Es(n);o=vc(e.serverSyncTree_,a,u,i)}else if(r){var c=Zr(n,(function(e){return Es(e)}));o=function(e,t,n){var r=uu.fromObject(n);return _c(e,new Qs({fromUser:!1,fromServer:!0,queryId:null,tagged:!1},t,r))}(e.serverSyncTree_,a,c)}else{var l=Es(n);o=hc(e.serverSyncTree_,a,l)}var d=a;o.length>0&&(d=El(e,a)),il(e.eventQueue_,d,o)}function hl(e,t){pl(e,"connected",t),!1===t&&function(e){_l(e,"onDisconnectEvents");var t=dl(e),n=qs();Bs(e.onDisconnect_,Po(),(function(r,i){var a=Ac(r,i,e.serverSyncTree_,t);zs(n,r,a)}));var r=[];Bs(n,Po(),(function(t,n){r=r.concat(hc(e.serverSyncTree_,t,n));var i=Nl(e,t);El(e,i)})),e.onDisconnect_=qs(),il(e.eventQueue_,Po(),r)}(e)}function pl(e,t,n){var r=new Ro("/.info/"+t),i=Es(n);e.infoData_.updateSnapshot(r,i);var a=hc(e.infoSyncTree_,r,i);il(e.eventQueue_,r,a)}function vl(e){return e.nextWriteId_++}function ml(e,t){var n=yc(e.serverSyncTree_,t);return null!=n?Promise.resolve(n):e.server_.get(t).then((function(n){var r=Es(n).withIndex(t._queryParams.getIndex());if(t._queryParams.loadsAllData())hc(e.serverSyncTree_,t._path,r);else{var i=function(e,t){var n=mc(t,e),r=n.syncPoint,i=n.serverCache,a=tc(r,t,n.writesCache,i,n.serverCacheComplete);return r.views.has(t._queryIdentifier)||r.views.set(t._queryIdentifier,a),t._queryParams.loadsAllData()?null:Sc(e,t)}(e.serverSyncTree_,t);vc(e.serverSyncTree_,t._path,r,i)}return pc(e.serverSyncTree_,t,null).length>0&&_l(e,"unexpected cancel events in repoGetValue"),r}),(function(n){return _l(e,"get for query "+Rr(t)+" failed: "+n),Promise.reject(new Error(n))}))}function gl(e,t,n,r,i){_l(e,"set",{path:t.toString(),value:n,priority:r});var a=dl(e),o=Es(n,r),s=gc(e.serverSyncTree_,t),u=Zc(o,s,a),c=vl(e),l=dc(e.serverSyncTree_,t,u,c,!0);rl(e.eventQueue_,l),e.server_.put(t.toString(),o.val(!0),(function(n,r){var a="ok"===n;a||qa("set at "+t+" failed: "+n);var o=fc(e.serverSyncTree_,c,!a);il(e.eventQueue_,t,o),bl(e,i,n,r)}));var d=Nl(e,t);El(e,d),il(e.eventQueue_,d,[])}function yl(e){e.persistentConnection_&&e.persistentConnection_.interrupt(sl)}function _l(e){var t="";e.persistentConnection_&&(t=e.persistentConnection_.id+":");for(var n=arguments.length,r=new Array(n>1?n-1:0),i=1;i<n;i++)r[i-1]=arguments[i];Ua.apply(void 0,[t].concat(r))}function bl(e,t,n,r){t&&no((function(){if("ok"===n)t(null);else{var e=(n||"error").toUpperCase(),i=e;r&&(i+=": "+r);var a=new Error(i);a.code=e,t(a)}}))}function kl(e,t,n){return gc(e.serverSyncTree_,t,n)||ws.EMPTY_NODE}function wl(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:e.transactionQueueTree_;if(t||Cl(e,t),jc(t)){var n=Il(e,t);ur(n.length>0,"Sending zero length transaction queue");var r=n.every((function(e){return 0===e.status}));r&&Sl(e,Wc(t),n)}else qc(t)&&zc(t,(function(t){wl(e,t)}))}function Sl(e,t,n){for(var r=n.map((function(e){return e.currentWriteId})),i=kl(e,t,r),a=i,o=i.hash(),s=0;s<n.length;s++){var u=n[s];ur(0===u.status,"tryToSendTransactionQueue_: items in queue should all be run."),u.status=1,u.retryCount++;var c=Fo(t,u.path);a=a.updateChild(c,u.currentOutputSnapshotRaw)}var l=a.val(!0),d=t;e.server_.put(d.toString(),l,(function(r){_l(e,"transaction put response",{path:d.toString(),status:r});var i=[];if("ok"===r){for(var a=[],o=function(t){n[t].status=2,i=i.concat(fc(e.serverSyncTree_,n[t].currentWriteId)),n[t].onComplete&&a.push((function(){return n[t].onComplete(null,!0,n[t].currentOutputSnapshotResolved)})),n[t].unwatcher()},s=0;s<n.length;s++)o(s);Cl(e,Mc(e.transactionQueueTree_,t)),wl(e,e.transactionQueueTree_),il(e.eventQueue_,t,i);for(var u=0;u<a.length;u++)no(a[u])}else{if("datastale"===r)for(var c=0;c<n.length;c++)3===n[c].status?n[c].status=4:n[c].status=0;else{qa("transaction at "+d.toString()+" failed: "+r);for(var l=0;l<n.length;l++)n[l].status=4,n[l].abortReason=r}El(e,t)}}),o)}function El(e,t){var n=xl(e,t),r=Wc(n);return function(e,t,n){if(0===t.length)return;for(var r=[],i=[],a=t.filter((function(e){return 0===e.status})).map((function(e){return e.currentWriteId})),o=function(o){var s,u=t[o],c=Fo(n,u.path),l=!1,d=void 0;if(ur(null!==c,"rerunTransactionsUnderNode_: relativePath should not be null."),4===u.status)l=!0,d=u.abortReason,i=i.concat(fc(e.serverSyncTree_,u.currentWriteId,!0));else if(0===u.status)if(u.retryCount>=25)l=!0,d="maxretry",i=i.concat(fc(e.serverSyncTree_,u.currentWriteId,!0));else{var f=kl(e,u.path,a);u.currentInputSnapshot=f;var h=t[o].update(f.val());if(void 0!==h){Qc("transaction failed: Data returned ",h,u.path);var p=Es(h);"object"===typeof h&&null!=h&&Or(h,".priority")||(p=p.updatePriority(f.getPriority()));var v=u.currentWriteId,m=dl(e),g=Zc(p,f,m);u.currentOutputSnapshotRaw=p,u.currentOutputSnapshotResolved=g,u.currentWriteId=vl(e),a.splice(a.indexOf(v),1),i=(i=i.concat(dc(e.serverSyncTree_,u.path,g,u.currentWriteId,u.applyLocally))).concat(fc(e.serverSyncTree_,v,!0))}else l=!0,d="nodata",i=i.concat(fc(e.serverSyncTree_,u.currentWriteId,!0))}il(e.eventQueue_,n,i),i=[],l&&(t[o].status=2,s=t[o].unwatcher,setTimeout(s,Math.floor(0)),t[o].onComplete&&("nodata"===d?r.push((function(){return t[o].onComplete(null,!1,t[o].currentInputSnapshot)})):r.push((function(){return t[o].onComplete(new Error(d),!1,null)}))))},s=0;s<t.length;s++)o(s);Cl(e,e.transactionQueueTree_);for(var u=0;u<r.length;u++)no(r[u]);wl(e,e.transactionQueueTree_)}(e,Il(e,n),r),r}function xl(e,t){var n,r=e.transactionQueueTree_;for(n=Oo(t);null!==n&&void 0===jc(r);)r=Mc(r,n),n=Oo(t=Ao(t));return r}function Il(e,t){var n=[];return Tl(e,t,n),n.sort((function(e,t){return e.order-t.order})),n}function Tl(e,t,n){var r=jc(t);if(r)for(var i=0;i<r.length;i++)n.push(r[i]);zc(t,(function(t){Tl(e,t,n)}))}function Cl(e,t){var n=jc(t);if(n){for(var r=0,i=0;i<n.length;i++)2!==n[i].status&&(n[r]=n[i],r++);n.length=r,Fc(t,n.length>0?n:void 0)}zc(t,(function(t){Cl(e,t)}))}function Nl(e,t){var n=Wc(xl(e,t)),r=Mc(e.transactionQueueTree_,t);return function(e,t,n){for(var r=n?e:e.parent;null!==r;){if(t(r))return!0;r=r.parent}}(r,(function(t){Rl(e,t)})),Rl(e,r),Bc(r,(function(t){Rl(e,t)})),n}function Rl(e,t){var n=jc(t);if(n){for(var r=[],i=[],a=-1,o=0;o<n.length;o++)3===n[o].status||(1===n[o].status?(ur(a===o-1,"All SENT items should be at beginning of queue."),a=o,n[o].status=3,n[o].abortReason="set"):(ur(0===n[o].status,"Unexpected transaction status in abort"),n[o].unwatcher(),i=i.concat(fc(e.serverSyncTree_,n[o].currentWriteId,!0)),n[o].onComplete&&r.push(n[o].onComplete.bind(null,new Error("set"),!1,null))));-1===a?Fc(t,void 0):n.length=a+1,il(e.eventQueue_,Wc(t),i);for(var s=0;s<r.length;s++)no(r[s])}}var Pl=function(e,t){var n=Ol(e),r=n.namespace;"firebase.com"===n.domain&&Fa(n.host+" is no longer supported. Please use <YOUR FIREBASE>.firebaseio.com instead"),r&&"undefined"!==r||"localhost"===n.domain||Fa("Cannot parse Firebase url. Please use https://<YOUR FIREBASE>.firebaseio.com"),n.secure||"undefined"!==typeof window&&window.location&&window.location.protocol&&-1!==window.location.protocol.indexOf("https:")&&qa("Insecure Firebase access from a secure page. Please use https in calls to new Firebase().");var i="ws"===n.scheme||"wss"===n.scheme;return{repoInfo:new fo(n.host,n.secure,r,i,t,"",r!==n.subdomain),path:new Ro(n.pathString)}},Ol=function(e){var t="",n="",r="",i="",a="",o=!0,s="https",u=443;if("string"===typeof e){var c=e.indexOf("//");c>=0&&(s=e.substring(0,c-1),e=e.substring(c+2));var l=e.indexOf("/");-1===l&&(l=e.length);var d=e.indexOf("?");-1===d&&(d=e.length),t=e.substring(0,Math.min(l,d)),l<d&&(i=function(e){for(var t="",n=e.split("/"),r=0;r<n.length;r++)if(n[r].length>0){var i=n[r];try{i=decodeURIComponent(i.replace(/\+/g," "))}catch(a){}t+="/"+i}return t}(e.substring(l,d)));var f=function(e){var t={};"?"===e.charAt(0)&&(e=e.substring(1));var n,r=(0,Z.Z)(e.split("&"));try{for(r.s();!(n=r.n()).done;){var i=n.value;if(0!==i.length){var a=i.split("=");2===a.length?t[decodeURIComponent(a[0])]=decodeURIComponent(a[1]):qa("Invalid query segment '".concat(i,"' in query '").concat(e,"'"))}}}catch(o){r.e(o)}finally{r.f()}return t}(e.substring(Math.min(e.length,d)));(c=t.indexOf(":"))>=0?(o="https"===s||"wss"===s,u=parseInt(t.substring(c+1),10)):c=t.length;var h=t.slice(0,c);if("localhost"===h.toLowerCase())n="localhost";else if(h.split(".").length<=2)n=h;else{var p=t.indexOf(".");r=t.substring(0,p).toLowerCase(),n=t.substring(p+1),a=r}"ns"in f&&(a=f.ns)}return{host:t,port:u,domain:n,subdomain:r,secure:o,scheme:s,pathString:i,namespace:a}},Dl=function(){function e(t,n,r,i){(0,p.Z)(this,e),this._repo=t,this._path=n,this._queryParams=r,this._orderByCalled=i}return(0,v.Z)(e,[{key:"key",get:function(){return jo(this._path)?null:Zo(this._path)}},{key:"ref",get:function(){return new Al(this._repo,this._path)}},{key:"_queryIdentifier",get:function(){var e=Ms(this._queryParams),t=Ya(e);return"{}"===t?"default":t}},{key:"_queryObject",get:function(){return Ms(this._queryParams)}},{key:"isEqual",value:function(t){if(!((t=Vr(t))instanceof e))return!1;var n=this._repo===t._repo,r=qo(this._path,t._path),i=this._queryIdentifier===t._queryIdentifier;return n&&r&&i}},{key:"toJSON",value:function(){return this.toString()}},{key:"toString",value:function(){return this._repo.toString()+function(e){for(var t="",n=e.pieceNum_;n<e.pieces_.length;n++)""!==e.pieces_[n]&&(t+="/"+encodeURIComponent(String(e.pieces_[n])));return t||"/"}(this._path)}}]),e}();var Al=function(e){(0,R.Z)(n,e);var t=(0,P.Z)(n);function n(e,r){return(0,p.Z)(this,n),t.call(this,e,r,new Ls,!1)}return(0,v.Z)(n,[{key:"parent",get:function(){var e=Uo(this._path);return null===e?null:new n(this._repo,e)}},{key:"root",get:function(){for(var e=this;null!==e.parent;)e=e.parent;return e}}]),n}(Dl),Zl=function(){function e(t,n,r){(0,p.Z)(this,e),this._node=t,this.ref=n,this._index=r}return(0,v.Z)(e,[{key:"priority",get:function(){return this._node.getPriority().val()}},{key:"key",get:function(){return this.ref.key}},{key:"size",get:function(){return this._node.numChildren()}},{key:"child",value:function(t){var n=new Ro(t),r=Ul(this.ref,t);return new e(this._node.getChild(n),r,ms)}},{key:"exists",value:function(){return!this._node.isEmpty()}},{key:"exportVal",value:function(){return this._node.val(!0)}},{key:"forEach",value:function(t){var n=this;return!this._node.isLeafNode()&&!!this._node.forEachChild(this._index,(function(r,i){return t(new e(i,Ul(n.ref,r),ms))}))}},{key:"hasChild",value:function(e){var t=new Ro(e);return!this._node.getChild(t).isEmpty()}},{key:"hasChildren",value:function(){return!this._node.isLeafNode()&&!this._node.isEmpty()}},{key:"toJSON",value:function(){return this.exportVal()}},{key:"val",value:function(){return this._node.val()}}]),e}();function Ll(e,t){return(e=Vr(e))._checkNotDeleted("ref"),void 0!==t?Ul(e._root,t):e._root}function Ul(e,t){var n,r,i,a;return null===Oo((e=Vr(e))._path)?(n="child",r="path",a=!1,(i=t)&&(i=i.replace(/^\/*\.info(\/|$)/,"/")),Xc(n,r,i,a)):Xc("child","path",t,!1),new Al(e._repo,Mo(e._path,t))}function Ml(e,t){e=Vr(e),el("set",e._path),Jc("set",t,e._path,!1);var n=new mr;return gl(e._repo,e._path,t,null,n.wrapCallback((function(){}))),n.promise}function jl(e){return ml((e=Vr(e))._repo,e).then((function(t){return new Zl(t,new Al(e._repo,e._path),e._queryParams.getIndex())}))}!function(e){ur(!Gu,"__referenceConstructor has already been defined"),Gu=e}(Al),function(e){ur(!Qu,"__referenceConstructor has already been defined"),Qu=e}(Al);var Fl={},ql=!1;function zl(e,t,n,r,i){var a=r||e.options.databaseURL;void 0===a&&(e.options.projectId||Fa("Can't determine Firebase Database URL. Be sure to include  a Project ID when calling firebase.initializeApp()."),Ua("Using default host for project ",e.options.projectId),a="".concat(e.options.projectId,"-default-rtdb.firebaseio.com"));var o,s=Pl(a,i),u=s.repoInfo,c=void 0;"undefined"!==typeof process&&(c={NODE_ENV:"production",PUBLIC_URL:"/want-smth-test",WDS_SOCKET_HOST:void 0,WDS_SOCKET_PATH:void 0,WDS_SOCKET_PORT:void 0,FAST_REFRESH:!0}.FIREBASE_DATABASE_EMULATOR_HOST),c?(o=!0,a="http://".concat(c,"?ns=").concat(u.namespace),u=(s=Pl(a,i)).repoInfo):o=!s.repoInfo.secure;var l=i&&o?new oo(oo.OWNER):new ao(e.name,e.options,t);tl("Invalid Firebase Database URL",s),jo(s.path)||Fa("Database URL must point to the root of a Firebase Database (not including a child path).");var d=function(e,t,n,r){var i=Fl[t.name];i||(i={},Fl[t.name]=i);var a=i[e.toURLString()];a&&Fa("Database initialized multiple times. Please make sure the format of the database URL matches with each database() call.");return a=new ul(e,ql,n,r),i[e.toURLString()]=a,a}(u,e,l,new io(e.name,n));return new Bl(d,e)}var Bl=function(){function e(t,n){(0,p.Z)(this,e),this._repoInternal=t,this.app=n,this.type="database",this._instanceStarted=!1}return(0,v.Z)(e,[{key:"_repo",get:function(){return this._instanceStarted||(cl(this._repoInternal,this.app.options.appId,this.app.options.databaseAuthVariableOverride),this._instanceStarted=!0),this._repoInternal}},{key:"_root",get:function(){return this._rootInternal||(this._rootInternal=new Al(this._repo,Po())),this._rootInternal}},{key:"_delete",value:function(){return null!==this._rootInternal&&(!function(e,t){var n=Fl[t];n&&n[e.key]===e||Fa("Database ".concat(t,"(").concat(e.repoInfo_,") has already been deleted.")),yl(e),delete n[e.key]}(this._repo,this.app.name),this._repoInternal=null,this._rootInternal=null),Promise.resolve()}},{key:"_checkNotDeleted",value:function(e){null===this._rootInternal&&Fa("Cannot call "+e+" on a deleted database.")}}]),e}();Yo.prototype.simpleListen=function(e,t){this.sendRequest("q",{p:e},t)},Yo.prototype.echo=function(e,t){this.sendRequest("echo",{d:e},t)};!function(e){!function(e){Ea=e}(Gi),Mi(new Qr("database",(function(e,t){var n=t.instanceIdentifier;return zl(e.getProvider("app").getImmediate(),e.getProvider("auth-internal"),e.getProvider("app-check-internal"),n)}),"PUBLIC").setMultipleInstances(!0)),Ji(wa,Sa,e),Ji(wa,Sa,"esm2017")}();function Wl(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(null!=e&&"function"===typeof Object.getOwnPropertySymbols){var i=0;for(r=Object.getOwnPropertySymbols(e);i<r.length;i++)t.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(e,r[i])&&(n[r[i]]=e[r[i]])}return n}Object.create;var Gl;Object.create;var Hl="facebook.com",Vl="github.com",Yl="google.com",Kl="password",$l="twitter.com",Jl="EMAIL_SIGNIN",Ql="PASSWORD_RESET",Xl="RECOVER_EMAIL",ed="REVERT_SECOND_FACTOR_ADDITION",td="VERIFY_AND_CHANGE_EMAIL",nd="VERIFY_EMAIL";function rd(){return(0,mn.Z)({},"dependent-sdk-initialized-before-auth","Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK.")}var id=function(){var e;return e={},(0,mn.Z)(e,"admin-restricted-operation","This operation is restricted to administrators only."),(0,mn.Z)(e,"argument-error",""),(0,mn.Z)(e,"app-not-authorized","This app, identified by the domain where it's hosted, is not authorized to use Firebase Authentication with the provided API key. Review your key configuration in the Google API console."),(0,mn.Z)(e,"app-not-installed","The requested mobile application corresponding to the identifier (Android package name or iOS bundle ID) provided is not installed on this device."),(0,mn.Z)(e,"captcha-check-failed","The reCAPTCHA response token provided is either invalid, expired, already used or the domain associated with it does not match the list of whitelisted domains."),(0,mn.Z)(e,"code-expired","The SMS code has expired. Please re-send the verification code to try again."),(0,mn.Z)(e,"cordova-not-ready","Cordova framework is not ready."),(0,mn.Z)(e,"cors-unsupported","This browser is not supported."),(0,mn.Z)(e,"credential-already-in-use","This credential is already associated with a different user account."),(0,mn.Z)(e,"custom-token-mismatch","The custom token corresponds to a different audience."),(0,mn.Z)(e,"requires-recent-login","This operation is sensitive and requires recent authentication. Log in again before retrying this request."),(0,mn.Z)(e,"dependent-sdk-initialized-before-auth","Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."),(0,mn.Z)(e,"dynamic-link-not-activated","Please activate Dynamic Links in the Firebase Console and agree to the terms and conditions."),(0,mn.Z)(e,"email-change-needs-verification","Multi-factor users must always have a verified email."),(0,mn.Z)(e,"email-already-in-use","The email address is already in use by another account."),(0,mn.Z)(e,"emulator-config-failed",'Auth instance has already been used to make a network call. Auth can no longer be configured to use the emulator. Try calling "connectAuthEmulator()" sooner.'),(0,mn.Z)(e,"expired-action-code","The action code has expired."),(0,mn.Z)(e,"cancelled-popup-request","This operation has been cancelled due to another conflicting popup being opened."),(0,mn.Z)(e,"internal-error","An internal AuthError has occurred."),(0,mn.Z)(e,"invalid-app-credential","The phone verification request contains an invalid application verifier. The reCAPTCHA token response is either invalid or expired."),(0,mn.Z)(e,"invalid-app-id","The mobile app identifier is not registed for the current project."),(0,mn.Z)(e,"invalid-user-token","This user's credential isn't valid for this project. This can happen if the user's token has been tampered with, or if the user isn't for the project associated with this API key."),(0,mn.Z)(e,"invalid-auth-event","An internal AuthError has occurred."),(0,mn.Z)(e,"invalid-verification-code","The SMS verification code used to create the phone auth credential is invalid. Please resend the verification code sms and be sure to use the verification code provided by the user."),(0,mn.Z)(e,"invalid-continue-uri","The continue URL provided in the request is invalid."),(0,mn.Z)(e,"invalid-cordova-configuration","The following Cordova plugins must be installed to enable OAuth sign-in: cordova-plugin-buildinfo, cordova-universal-links-plugin, cordova-plugin-browsertab, cordova-plugin-inappbrowser and cordova-plugin-customurlscheme."),(0,mn.Z)(e,"invalid-custom-token","The custom token format is incorrect. Please check the documentation."),(0,mn.Z)(e,"invalid-dynamic-link-domain","The provided dynamic link domain is not configured or authorized for the current project."),(0,mn.Z)(e,"invalid-email","The email address is badly formatted."),(0,mn.Z)(e,"invalid-emulator-scheme","Emulator URL must start with a valid scheme (http:// or https://)."),(0,mn.Z)(e,"invalid-api-key","Your API key is invalid, please check you have copied it correctly."),(0,mn.Z)(e,"invalid-cert-hash","The SHA-1 certificate hash provided is invalid."),(0,mn.Z)(e,"invalid-credential","The supplied auth credential is malformed or has expired."),(0,mn.Z)(e,"invalid-message-payload","The email template corresponding to this action contains invalid characters in its message. Please fix by going to the Auth email templates section in the Firebase Console."),(0,mn.Z)(e,"invalid-multi-factor-session","The request does not contain a valid proof of first factor successful sign-in."),(0,mn.Z)(e,"invalid-oauth-provider","EmailAuthProvider is not supported for this operation. This operation only supports OAuth providers."),(0,mn.Z)(e,"invalid-oauth-client-id","The OAuth client ID provided is either invalid or does not match the specified API key."),(0,mn.Z)(e,"unauthorized-domain","This domain is not authorized for OAuth operations for your Firebase project. Edit the list of authorized domains from the Firebase console."),(0,mn.Z)(e,"invalid-action-code","The action code is invalid. This can happen if the code is malformed, expired, or has already been used."),(0,mn.Z)(e,"wrong-password","The password is invalid or the user does not have a password."),(0,mn.Z)(e,"invalid-persistence-type","The specified persistence type is invalid. It can only be local, session or none."),(0,mn.Z)(e,"invalid-phone-number","The format of the phone number provided is incorrect. Please enter the phone number in a format that can be parsed into E.164 format. E.164 phone numbers are written in the format [+][country code][subscriber number including area code]."),(0,mn.Z)(e,"invalid-provider-id","The specified provider ID is invalid."),(0,mn.Z)(e,"invalid-recipient-email","The email corresponding to this action failed to send as the provided recipient email address is invalid."),(0,mn.Z)(e,"invalid-sender","The email template corresponding to this action contains an invalid sender email or name. Please fix by going to the Auth email templates section in the Firebase Console."),(0,mn.Z)(e,"invalid-verification-id","The verification ID used to create the phone auth credential is invalid."),(0,mn.Z)(e,"invalid-tenant-id","The Auth instance's tenant ID is invalid."),(0,mn.Z)(e,"login-blocked","Login blocked by user-provided method: {$originalMessage}"),(0,mn.Z)(e,"missing-android-pkg-name","An Android Package Name must be provided if the Android App is required to be installed."),(0,mn.Z)(e,"auth-domain-config-required","Be sure to include authDomain when calling firebase.initializeApp(), by following the instructions in the Firebase console."),(0,mn.Z)(e,"missing-app-credential","The phone verification request is missing an application verifier assertion. A reCAPTCHA response token needs to be provided."),(0,mn.Z)(e,"missing-verification-code","The phone auth credential was created with an empty SMS verification code."),(0,mn.Z)(e,"missing-continue-uri","A continue URL must be provided in the request."),(0,mn.Z)(e,"missing-iframe-start","An internal AuthError has occurred."),(0,mn.Z)(e,"missing-ios-bundle-id","An iOS Bundle ID must be provided if an App Store ID is provided."),(0,mn.Z)(e,"missing-or-invalid-nonce","The request does not contain a valid nonce. This can occur if the SHA-256 hash of the provided raw nonce does not match the hashed nonce in the ID token payload."),(0,mn.Z)(e,"missing-multi-factor-info","No second factor identifier is provided."),(0,mn.Z)(e,"missing-multi-factor-session","The request is missing proof of first factor successful sign-in."),(0,mn.Z)(e,"missing-phone-number","To send verification codes, provide a phone number for the recipient."),(0,mn.Z)(e,"missing-verification-id","The phone auth credential was created with an empty verification ID."),(0,mn.Z)(e,"app-deleted","This instance of FirebaseApp has been deleted."),(0,mn.Z)(e,"multi-factor-info-not-found","The user does not have a second factor matching the identifier provided."),(0,mn.Z)(e,"multi-factor-auth-required","Proof of ownership of a second factor is required to complete sign-in."),(0,mn.Z)(e,"account-exists-with-different-credential","An account already exists with the same email address but different sign-in credentials. Sign in using a provider associated with this email address."),(0,mn.Z)(e,"network-request-failed","A network AuthError (such as timeout, interrupted connection or unreachable host) has occurred."),(0,mn.Z)(e,"no-auth-event","An internal AuthError has occurred."),(0,mn.Z)(e,"no-such-provider","User was not linked to an account with the given provider."),(0,mn.Z)(e,"null-user","A null user object was provided as the argument for an operation which requires a non-null user object."),(0,mn.Z)(e,"operation-not-allowed","The given sign-in provider is disabled for this Firebase project. Enable it in the Firebase console, under the sign-in method tab of the Auth section."),(0,mn.Z)(e,"operation-not-supported-in-this-environment",'This operation is not supported in the environment this application is running on. "location.protocol" must be http, https or chrome-extension and web storage must be enabled.'),(0,mn.Z)(e,"popup-blocked","Unable to establish a connection with the popup. It may have been blocked by the browser."),(0,mn.Z)(e,"popup-closed-by-user","The popup has been closed by the user before finalizing the operation."),(0,mn.Z)(e,"provider-already-linked","User can only be linked to one identity for the given provider."),(0,mn.Z)(e,"quota-exceeded","The project's quota for this operation has been exceeded."),(0,mn.Z)(e,"redirect-cancelled-by-user","The redirect operation has been cancelled by the user before finalizing."),(0,mn.Z)(e,"redirect-operation-pending","A redirect sign-in operation is already pending."),(0,mn.Z)(e,"rejected-credential","The request contains malformed or mismatching credentials."),(0,mn.Z)(e,"second-factor-already-in-use","The second factor is already enrolled on this account."),(0,mn.Z)(e,"maximum-second-factor-count-exceeded","The maximum allowed number of second factors on a user has been exceeded."),(0,mn.Z)(e,"tenant-id-mismatch","The provided tenant ID does not match the Auth instance's tenant ID"),(0,mn.Z)(e,"timeout","The operation has timed out."),(0,mn.Z)(e,"user-token-expired","The user's credential is no longer valid. The user must sign in again."),(0,mn.Z)(e,"too-many-requests","We have blocked all requests from this device due to unusual activity. Try again later."),(0,mn.Z)(e,"unauthorized-continue-uri","The domain of the continue URL is not whitelisted.  Please whitelist the domain in the Firebase console."),(0,mn.Z)(e,"unsupported-first-factor","Enrolling a second factor or signing in with a multi-factor account requires sign-in with a supported first factor."),(0,mn.Z)(e,"unsupported-persistence-type","The current environment does not support the specified persistence type."),(0,mn.Z)(e,"unsupported-tenant-operation","This operation is not supported in a multi-tenant context."),(0,mn.Z)(e,"unverified-email","The operation requires a verified email."),(0,mn.Z)(e,"user-cancelled","The user did not grant your application the permissions it requested."),(0,mn.Z)(e,"user-not-found","There is no user record corresponding to this identifier. The user may have been deleted."),(0,mn.Z)(e,"user-disabled","The user account has been disabled by an administrator."),(0,mn.Z)(e,"user-mismatch","The supplied credentials do not correspond to the previously signed in user."),(0,mn.Z)(e,"user-signed-out",""),(0,mn.Z)(e,"weak-password","The password must be 6 characters long or more."),(0,mn.Z)(e,"web-storage-unsupported","This browser is not supported or 3rd party cookies and data may be disabled."),(0,mn.Z)(e,"already-initialized","initializeAuth() has already been called with different options. To avoid this error, call initializeAuth() with the same options as when it was originally called, or call getAuth() to return the already initialized instance."),e},ad=rd,od=new Ir("auth","Firebase",rd()),sd=new ci("@firebase/auth");function ud(e){if(sd.logLevel<=ni.ERROR){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];sd.error.apply(sd,["Auth (".concat(Gi,"): ").concat(e)].concat(n))}}function cd(e){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];throw hd.apply(void 0,[e].concat(n))}function ld(e){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];return hd.apply(void 0,[e].concat(n))}function dd(e,t,n){var r=Object.assign(Object.assign({},ad()),(0,mn.Z)({},t,n));return new Ir("auth","Firebase",r).create(t,{appName:e.name})}function fd(e,t,n){if(!(t instanceof n))throw n.name!==t.constructor.name&&cd(e,"argument-error"),dd(e,"argument-error","Type of ".concat(t.constructor.name," does not match expected instance.")+"Did you pass a reference from a different Auth SDK?")}function hd(e){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];if("string"!==typeof e){var i,a=n[0],s=(0,o.Z)(n.slice(1));return s[0]&&(s[0].appName=e.name),(i=e._errorFactory).create.apply(i,[a].concat((0,o.Z)(s)))}return od.create.apply(od,[e].concat(n))}function pd(e,t){if(!e){for(var n=arguments.length,r=new Array(n>2?n-2:0),i=2;i<n;i++)r[i-2]=arguments[i];throw hd.apply(void 0,[t].concat(r))}}function vd(e){var t="INTERNAL ASSERTION FAILED: "+e;throw ud(t),new Error(t)}function md(e,t){e||vd(t)}var gd=new Map;function yd(e){md(e instanceof Function,"Expected a class definition");var t=gd.get(e);return t?(md(t instanceof e,"Instance stored in cache mismatched with class"),t):(t=new e,gd.set(e,t),t)}function _d(e,t){var n=ji(e,"auth");if(n.isInitialized()){var r=n.getImmediate();if(Lr(n.getOptions(),null!==t&&void 0!==t?t:{}))return r;cd(r,"already-initialized")}return n.initialize({options:t})}function bd(){var e;return"undefined"!==typeof self&&(null===(e=self.location)||void 0===e?void 0:e.href)||""}function kd(){return"http:"===wd()||"https:"===wd()}function wd(){var e;return"undefined"!==typeof self&&(null===(e=self.location)||void 0===e?void 0:e.protocol)||null}var Sd=function(){function e(t,n){(0,p.Z)(this,e),this.shortDelay=t,this.longDelay=n,md(n>t,"Short delay should be less than long delay!"),this.isMobile=yr()||kr()}return(0,v.Z)(e,[{key:"get",value:function(){return"undefined"!==typeof navigator&&navigator&&"onLine"in navigator&&"boolean"===typeof navigator.onLine&&(kd()||br()||"connection"in navigator)&&!navigator.onLine?Math.min(5e3,this.shortDelay):this.isMobile?this.longDelay:this.shortDelay}}]),e}();function Ed(e,t){md(e.emulator,"Emulator should always be set here");var n=e.emulator.url;return t?"".concat(n).concat(t.startsWith("/")?t.slice(1):t):n}var xd=function(){function e(){(0,p.Z)(this,e)}return(0,v.Z)(e,null,[{key:"initialize",value:function(e,t,n){this.fetchImpl=e,t&&(this.headersImpl=t),n&&(this.responseImpl=n)}},{key:"fetch",value:function(){return this.fetchImpl?this.fetchImpl:"undefined"!==typeof self&&"fetch"in self?self.fetch:void vd("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}},{key:"headers",value:function(){return this.headersImpl?this.headersImpl:"undefined"!==typeof self&&"Headers"in self?self.Headers:void vd("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}},{key:"response",value:function(){return this.responseImpl?this.responseImpl:"undefined"!==typeof self&&"Response"in self?self.Response:void vd("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}}]),e}(),Id=(Gl={},(0,mn.Z)(Gl,"CREDENTIAL_MISMATCH","custom-token-mismatch"),(0,mn.Z)(Gl,"MISSING_CUSTOM_TOKEN","internal-error"),(0,mn.Z)(Gl,"INVALID_IDENTIFIER","invalid-email"),(0,mn.Z)(Gl,"MISSING_CONTINUE_URI","internal-error"),(0,mn.Z)(Gl,"INVALID_PASSWORD","wrong-password"),(0,mn.Z)(Gl,"MISSING_PASSWORD","internal-error"),(0,mn.Z)(Gl,"EMAIL_EXISTS","email-already-in-use"),(0,mn.Z)(Gl,"PASSWORD_LOGIN_DISABLED","operation-not-allowed"),(0,mn.Z)(Gl,"INVALID_IDP_RESPONSE","invalid-credential"),(0,mn.Z)(Gl,"INVALID_PENDING_TOKEN","invalid-credential"),(0,mn.Z)(Gl,"FEDERATED_USER_ID_ALREADY_LINKED","credential-already-in-use"),(0,mn.Z)(Gl,"MISSING_REQ_TYPE","internal-error"),(0,mn.Z)(Gl,"EMAIL_NOT_FOUND","user-not-found"),(0,mn.Z)(Gl,"RESET_PASSWORD_EXCEED_LIMIT","too-many-requests"),(0,mn.Z)(Gl,"EXPIRED_OOB_CODE","expired-action-code"),(0,mn.Z)(Gl,"INVALID_OOB_CODE","invalid-action-code"),(0,mn.Z)(Gl,"MISSING_OOB_CODE","internal-error"),(0,mn.Z)(Gl,"CREDENTIAL_TOO_OLD_LOGIN_AGAIN","requires-recent-login"),(0,mn.Z)(Gl,"INVALID_ID_TOKEN","invalid-user-token"),(0,mn.Z)(Gl,"TOKEN_EXPIRED","user-token-expired"),(0,mn.Z)(Gl,"USER_NOT_FOUND","user-token-expired"),(0,mn.Z)(Gl,"TOO_MANY_ATTEMPTS_TRY_LATER","too-many-requests"),(0,mn.Z)(Gl,"INVALID_CODE","invalid-verification-code"),(0,mn.Z)(Gl,"INVALID_SESSION_INFO","invalid-verification-id"),(0,mn.Z)(Gl,"INVALID_TEMPORARY_PROOF","invalid-credential"),(0,mn.Z)(Gl,"MISSING_SESSION_INFO","missing-verification-id"),(0,mn.Z)(Gl,"SESSION_EXPIRED","code-expired"),(0,mn.Z)(Gl,"MISSING_ANDROID_PACKAGE_NAME","missing-android-pkg-name"),(0,mn.Z)(Gl,"UNAUTHORIZED_DOMAIN","unauthorized-continue-uri"),(0,mn.Z)(Gl,"INVALID_OAUTH_CLIENT_ID","invalid-oauth-client-id"),(0,mn.Z)(Gl,"ADMIN_ONLY_OPERATION","admin-restricted-operation"),(0,mn.Z)(Gl,"INVALID_MFA_PENDING_CREDENTIAL","invalid-multi-factor-session"),(0,mn.Z)(Gl,"MFA_ENROLLMENT_NOT_FOUND","multi-factor-info-not-found"),(0,mn.Z)(Gl,"MISSING_MFA_ENROLLMENT_ID","missing-multi-factor-info"),(0,mn.Z)(Gl,"MISSING_MFA_PENDING_CREDENTIAL","missing-multi-factor-session"),(0,mn.Z)(Gl,"SECOND_FACTOR_EXISTS","second-factor-already-in-use"),(0,mn.Z)(Gl,"SECOND_FACTOR_LIMIT_EXCEEDED","maximum-second-factor-count-exceeded"),(0,mn.Z)(Gl,"BLOCKING_FUNCTION_ERROR_RESPONSE","internal-error"),Gl),Td=new Sd(3e4,6e4);function Cd(e,t){return e.tenantId&&!t.tenantId?Object.assign(Object.assign({},t),{tenantId:e.tenantId}):t}function Nd(e,t,n,r){return Rd.apply(this,arguments)}function Rd(){return Rd=Jr(Kr().mark((function e(t,n,r,i){var a,o=arguments;return Kr().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a=o.length>4&&void 0!==o[4]?o[4]:{},e.abrupt("return",Pd(t,a,Jr(Kr().mark((function e(){var a,o,s,u;return Kr().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a={},o={},i&&("GET"===n?o=i:a={body:JSON.stringify(i)}),s=Mr(Object.assign({key:t.config.apiKey},o)).slice(1),e.next=6,t._getAdditionalHeaders();case 6:return(u=e.sent)["Content-Type"]="application/json",t.languageCode&&(u["X-Firebase-Locale"]=t.languageCode),e.abrupt("return",xd.fetch()(Zd(t,t.config.apiHost,r,s),Object.assign({method:n,headers:u,referrerPolicy:"no-referrer"},a)));case 10:case"end":return e.stop()}}),e)})))));case 2:case"end":return e.stop()}}),e)}))),Rd.apply(this,arguments)}function Pd(e,t,n){return Od.apply(this,arguments)}function Od(){return Od=Jr(Kr().mark((function e(t,n,r){var i,a,o,s,u,c,l,d,f,h;return Kr().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t._canInitEmulator=!1,i=Object.assign(Object.assign({},Id),n),e.prev=2,a=new Ld(t),e.next=6,Promise.race([r(),a.promise]);case 6:return o=e.sent,a.clearNetworkTimeout(),e.next=10,o.json();case 10:if(!("needConfirmation"in(s=e.sent))){e.next=13;break}throw Ud(t,"account-exists-with-different-credential",s);case 13:if(!o.ok||"errorMessage"in s){e.next=17;break}return e.abrupt("return",s);case 17:if(u=o.ok?s.errorMessage:s.error.message,c=u.split(" : "),l=(0,A.Z)(c,2),d=l[0],f=l[1],"FEDERATED_USER_ID_ALREADY_LINKED"!==d){e.next=23;break}throw Ud(t,"credential-already-in-use",s);case 23:if("EMAIL_EXISTS"!==d){e.next=27;break}throw Ud(t,"email-already-in-use",s);case 27:if("USER_DISABLED"!==d){e.next=29;break}throw Ud(t,"user-disabled",s);case 29:if(h=i[d]||d.toLowerCase().replace(/[_\s]+/g,"-"),!f){e.next=34;break}throw dd(t,h,f);case 34:cd(t,h);case 35:e.next=42;break;case 37:if(e.prev=37,e.t0=e.catch(2),!(e.t0 instanceof xr)){e.next=41;break}throw e.t0;case 41:cd(t,"network-request-failed");case 42:case"end":return e.stop()}}),e,null,[[2,37]])}))),Od.apply(this,arguments)}function Dd(e,t,n,r){return Ad.apply(this,arguments)}function Ad(){return Ad=Jr(Kr().mark((function e(t,n,r,i){var a,o,s=arguments;return Kr().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a=s.length>4&&void 0!==s[4]?s[4]:{},e.next=3,Nd(t,n,r,i,a);case 3:return"mfaPendingCredential"in(o=e.sent)&&cd(t,"multi-factor-auth-required",{_serverResponse:o}),e.abrupt("return",o);case 6:case"end":return e.stop()}}),e)}))),Ad.apply(this,arguments)}function Zd(e,t,n,r){var i="".concat(t).concat(n,"?").concat(r);return e.config.emulator?Ed(e.config,i):"".concat(e.config.apiScheme,"://").concat(i)}var Ld=function(){function e(t){var n=this;(0,p.Z)(this,e),this.auth=t,this.timer=null,this.promise=new Promise((function(e,t){n.timer=setTimeout((function(){return t(ld(n.auth,"network-request-failed"))}),Td.get())}))}return(0,v.Z)(e,[{key:"clearNetworkTimeout",value:function(){clearTimeout(this.timer)}}]),e}();function Ud(e,t,n){var r={appName:e.name};n.email&&(r.email=n.email),n.phoneNumber&&(r.phoneNumber=n.phoneNumber);var i=ld(e,t,r);return i.customData._tokenResponse=n,i}function Md(e,t){return jd.apply(this,arguments)}function jd(){return jd=Jr(Kr().mark((function e(t,n){return Kr().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",Nd(t,"POST","/v1/accounts:delete",n));case 1:case"end":return e.stop()}}),e)}))),jd.apply(this,arguments)}function Fd(e,t){return qd.apply(this,arguments)}function qd(){return qd=Jr(Kr().mark((function e(t,n){return Kr().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",Nd(t,"POST","/v1/accounts:update",n));case 1:case"end":return e.stop()}}),e)}))),qd.apply(this,arguments)}function zd(e,t){return Bd.apply(this,arguments)}function Bd(){return Bd=Jr(Kr().mark((function e(t,n){return Kr().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",Nd(t,"POST","/v1/accounts:lookup",n));case 1:case"end":return e.stop()}}),e)}))),Bd.apply(this,arguments)}function Wd(e){if(e)try{var t=new Date(Number(e));if(!isNaN(t.getTime()))return t.toUTCString()}catch(n){}}function Gd(){return Gd=Jr(Kr().mark((function e(t){var n,r,i,a,o,s,u=arguments;return Kr().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=u.length>1&&void 0!==u[1]&&u[1],r=Vr(t),e.next=4,r.getIdToken(n);case 4:return i=e.sent,pd((a=Vd(i))&&a.exp&&a.auth_time&&a.iat,r.auth,"internal-error"),o="object"===typeof a.firebase?a.firebase:void 0,s=null===o||void 0===o?void 0:o.sign_in_provider,e.abrupt("return",{claims:a,token:i,authTime:Wd(Hd(a.auth_time)),issuedAtTime:Wd(Hd(a.iat)),expirationTime:Wd(Hd(a.exp)),signInProvider:s||null,signInSecondFactor:(null===o||void 0===o?void 0:o.sign_in_second_factor)||null});case 10:case"end":return e.stop()}}),e)}))),Gd.apply(this,arguments)}function Hd(e){return 1e3*Number(e)}function Vd(e){var t,n=e.split("."),r=(0,A.Z)(n,3),i=r[0],a=r[1],o=r[2];if(void 0===i||void 0===a||void 0===o)return ud("JWT malformed, contained fewer than 3 sections"),null;try{var s=pr(a);return s?JSON.parse(s):(ud("Failed to decode base64 JWT payload"),null)}catch(u){return ud("Caught error parsing JWT payload as JSON",null===(t=u)||void 0===t?void 0:t.toString()),null}}function Yd(e,t){return Kd.apply(this,arguments)}function Kd(){return Kd=Jr(Kr().mark((function e(t,n){var r=arguments;return Kr().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!(r.length>2&&void 0!==r[2]&&r[2])){e.next=3;break}return e.abrupt("return",n);case 3:return e.prev=3,e.next=6,n;case 6:return e.abrupt("return",e.sent);case 9:if(e.prev=9,e.t0=e.catch(3),!(e.t0 instanceof xr&&$d(e.t0))){e.next=15;break}if(t.auth.currentUser!==t){e.next=15;break}return e.next=15,t.auth.signOut();case 15:throw e.t0;case 16:case"end":return e.stop()}}),e,null,[[3,9]])}))),Kd.apply(this,arguments)}function $d(e){var t=e.code;return t==="auth/".concat("user-disabled")||t==="auth/".concat("user-token-expired")}var Jd=function(){function e(t){(0,p.Z)(this,e),this.user=t,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}return(0,v.Z)(e,[{key:"_start",value:function(){this.isRunning||(this.isRunning=!0,this.schedule())}},{key:"_stop",value:function(){this.isRunning&&(this.isRunning=!1,null!==this.timerId&&clearTimeout(this.timerId))}},{key:"getInterval",value:function(e){var t;if(e){var n=this.errorBackoff;return this.errorBackoff=Math.min(2*this.errorBackoff,96e4),n}this.errorBackoff=3e4;var r=(null!==(t=this.user.stsTokenManager.expirationTime)&&void 0!==t?t:0)-Date.now()-3e5;return Math.max(0,r)}},{key:"schedule",value:function(){var e=this,t=arguments.length>0&&void 0!==arguments[0]&&arguments[0];if(this.isRunning){var n=this.getInterval(t);this.timerId=setTimeout(Jr(Kr().mark((function t(){return Kr().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,e.iteration();case 2:case"end":return t.stop()}}),t)}))),n)}}},{key:"iteration",value:function(){var e=Jr(Kr().mark((function e(){var t;return Kr().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,this.user.getIdToken(!0);case 3:e.next=9;break;case 5:return e.prev=5,e.t0=e.catch(0),(null===(t=e.t0)||void 0===t?void 0:t.code)==="auth/".concat("network-request-failed")&&this.schedule(!0),e.abrupt("return");case 9:this.schedule();case 10:case"end":return e.stop()}}),e,this,[[0,5]])})));return function(){return e.apply(this,arguments)}}()}]),e}(),Qd=function(){function e(t,n){(0,p.Z)(this,e),this.createdAt=t,this.lastLoginAt=n,this._initializeTime()}return(0,v.Z)(e,[{key:"_initializeTime",value:function(){this.lastSignInTime=Wd(this.lastLoginAt),this.creationTime=Wd(this.createdAt)}},{key:"_copy",value:function(e){this.createdAt=e.createdAt,this.lastLoginAt=e.lastLoginAt,this._initializeTime()}},{key:"toJSON",value:function(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}}]),e}();function Xd(e){return ef.apply(this,arguments)}function ef(){return ef=Jr(Kr().mark((function e(t){var n,r,i,a,o,s,u,c,l,d,f;return Kr().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=t.auth,e.next=3,t.getIdToken();case 3:return i=e.sent,e.next=6,Yd(t,zd(r,{idToken:i}));case 6:pd(null===(a=e.sent)||void 0===a?void 0:a.users.length,r,"internal-error"),o=a.users[0],t._notifyReloadListener(o),s=(null===(n=o.providerUserInfo)||void 0===n?void 0:n.length)?rf(o.providerUserInfo):[],u=nf(t.providerData,s),c=t.isAnonymous,l=!(t.email&&o.passwordHash)&&!(null===u||void 0===u?void 0:u.length),d=!!c&&l,f={uid:o.localId,displayName:o.displayName||null,photoURL:o.photoUrl||null,email:o.email||null,emailVerified:o.emailVerified||!1,phoneNumber:o.phoneNumber||null,tenantId:o.tenantId||null,providerData:u,metadata:new Qd(o.createdAt,o.lastLoginAt),isAnonymous:d},Object.assign(t,f);case 17:case"end":return e.stop()}}),e)}))),ef.apply(this,arguments)}function tf(){return(tf=Jr(Kr().mark((function e(t){var n;return Kr().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=Vr(t),e.next=3,Xd(n);case 3:return e.next=5,n.auth._persistUserIfCurrent(n);case 5:n.auth._notifyListenersIfCurrent(n);case 6:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function nf(e,t){var n=e.filter((function(e){return!t.some((function(t){return t.providerId===e.providerId}))}));return[].concat((0,o.Z)(n),(0,o.Z)(t))}function rf(e){return e.map((function(e){var t=e.providerId,n=Wl(e,["providerId"]);return{providerId:t,uid:n.rawId||"",displayName:n.displayName||null,email:n.email||null,phoneNumber:n.phoneNumber||null,photoURL:n.photoUrl||null}}))}function af(e,t){return of.apply(this,arguments)}function of(){return of=Jr(Kr().mark((function e(t,n){var r;return Kr().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Pd(t,{},Jr(Kr().mark((function e(){var r,i,a,o,s,u;return Kr().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=Mr({grant_type:"refresh_token",refresh_token:n}).slice(1),i=t.config,a=i.tokenApiHost,o=i.apiKey,s=Zd(t,a,"/v1/token","key=".concat(o)),e.next=5,t._getAdditionalHeaders();case 5:return(u=e.sent)["Content-Type"]="application/x-www-form-urlencoded",e.abrupt("return",xd.fetch()(s,{method:"POST",headers:u,body:r}));case 8:case"end":return e.stop()}}),e)}))));case 2:return r=e.sent,e.abrupt("return",{accessToken:r.access_token,expiresIn:r.expires_in,refreshToken:r.refresh_token});case 4:case"end":return e.stop()}}),e)}))),of.apply(this,arguments)}var sf=function(){function e(){(0,p.Z)(this,e),this.refreshToken=null,this.accessToken=null,this.expirationTime=null}return(0,v.Z)(e,[{key:"isExpired",get:function(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}},{key:"updateFromServerResponse",value:function(e){pd(e.idToken,"internal-error"),pd("undefined"!==typeof e.idToken,"internal-error"),pd("undefined"!==typeof e.refreshToken,"internal-error");var t="expiresIn"in e&&"undefined"!==typeof e.expiresIn?Number(e.expiresIn):function(e){var t=Vd(e);return pd(t,"internal-error"),pd("undefined"!==typeof t.exp,"internal-error"),pd("undefined"!==typeof t.iat,"internal-error"),Number(t.exp)-Number(t.iat)}(e.idToken);this.updateTokensAndExpiration(e.idToken,e.refreshToken,t)}},{key:"getToken",value:function(){var e=Jr(Kr().mark((function e(t){var n,r=arguments;return Kr().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(n=r.length>1&&void 0!==r[1]&&r[1],pd(!this.accessToken||this.refreshToken,t,"user-token-expired"),n||!this.accessToken||this.isExpired){e.next=4;break}return e.abrupt("return",this.accessToken);case 4:if(!this.refreshToken){e.next=8;break}return e.next=7,this.refresh(t,this.refreshToken);case 7:return e.abrupt("return",this.accessToken);case 8:return e.abrupt("return",null);case 9:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"clearRefreshToken",value:function(){this.refreshToken=null}},{key:"refresh",value:function(){var e=Jr(Kr().mark((function e(t,n){var r,i,a,o;return Kr().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,af(t,n);case 2:r=e.sent,i=r.accessToken,a=r.refreshToken,o=r.expiresIn,this.updateTokensAndExpiration(i,a,Number(o));case 7:case"end":return e.stop()}}),e,this)})));return function(t,n){return e.apply(this,arguments)}}()},{key:"updateTokensAndExpiration",value:function(e,t,n){this.refreshToken=t||null,this.accessToken=e||null,this.expirationTime=Date.now()+1e3*n}},{key:"toJSON",value:function(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}},{key:"_assign",value:function(e){this.accessToken=e.accessToken,this.refreshToken=e.refreshToken,this.expirationTime=e.expirationTime}},{key:"_clone",value:function(){return Object.assign(new e,this.toJSON())}},{key:"_performRefresh",value:function(){return vd("not implemented")}}],[{key:"fromJSON",value:function(t,n){var r=n.refreshToken,i=n.accessToken,a=n.expirationTime,o=new e;return r&&(pd("string"===typeof r,"internal-error",{appName:t}),o.refreshToken=r),i&&(pd("string"===typeof i,"internal-error",{appName:t}),o.accessToken=i),a&&(pd("number"===typeof a,"internal-error",{appName:t}),o.expirationTime=a),o}}]),e}();function uf(e,t){pd("string"===typeof e||"undefined"===typeof e,"internal-error",{appName:t})}var cf=function(){function e(t){(0,p.Z)(this,e);var n=t.uid,r=t.auth,i=t.stsTokenManager,a=Wl(t,["uid","auth","stsTokenManager"]);this.providerId="firebase",this.proactiveRefresh=new Jd(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=n,this.auth=r,this.stsTokenManager=i,this.accessToken=i.accessToken,this.displayName=a.displayName||null,this.email=a.email||null,this.emailVerified=a.emailVerified||!1,this.phoneNumber=a.phoneNumber||null,this.photoURL=a.photoURL||null,this.isAnonymous=a.isAnonymous||!1,this.tenantId=a.tenantId||null,this.providerData=a.providerData?(0,o.Z)(a.providerData):[],this.metadata=new Qd(a.createdAt||void 0,a.lastLoginAt||void 0)}return(0,v.Z)(e,[{key:"getIdToken",value:function(){var e=Jr(Kr().mark((function e(t){var n;return Kr().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Yd(this,this.stsTokenManager.getToken(this.auth,t));case 2:if(pd(n=e.sent,this.auth,"internal-error"),this.accessToken===n){e.next=9;break}return this.accessToken=n,e.next=8,this.auth._persistUserIfCurrent(this);case 8:this.auth._notifyListenersIfCurrent(this);case 9:return e.abrupt("return",n);case 10:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"getIdTokenResult",value:function(e){return function(e){return Gd.apply(this,arguments)}(this,e)}},{key:"reload",value:function(){return function(e){return tf.apply(this,arguments)}(this)}},{key:"_assign",value:function(e){this!==e&&(pd(this.uid===e.uid,this.auth,"internal-error"),this.displayName=e.displayName,this.photoURL=e.photoURL,this.email=e.email,this.emailVerified=e.emailVerified,this.phoneNumber=e.phoneNumber,this.isAnonymous=e.isAnonymous,this.tenantId=e.tenantId,this.providerData=e.providerData.map((function(e){return Object.assign({},e)})),this.metadata._copy(e.metadata),this.stsTokenManager._assign(e.stsTokenManager))}},{key:"_clone",value:function(t){return new e(Object.assign(Object.assign({},this),{auth:t,stsTokenManager:this.stsTokenManager._clone()}))}},{key:"_onReload",value:function(e){pd(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=e,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}},{key:"_notifyReloadListener",value:function(e){this.reloadListener?this.reloadListener(e):this.reloadUserInfo=e}},{key:"_startProactiveRefresh",value:function(){this.proactiveRefresh._start()}},{key:"_stopProactiveRefresh",value:function(){this.proactiveRefresh._stop()}},{key:"_updateTokensIfNecessary",value:function(){var e=Jr(Kr().mark((function e(t){var n,r,i=arguments;return Kr().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(n=i.length>1&&void 0!==i[1]&&i[1],r=!1,t.idToken&&t.idToken!==this.stsTokenManager.accessToken&&(this.stsTokenManager.updateFromServerResponse(t),r=!0),!n){e.next=6;break}return e.next=6,Xd(this);case 6:return e.next=8,this.auth._persistUserIfCurrent(this);case 8:r&&this.auth._notifyListenersIfCurrent(this);case 9:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"delete",value:function(){var e=Jr(Kr().mark((function e(){var t;return Kr().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.getIdToken();case 2:return t=e.sent,e.next=5,Yd(this,Md(this.auth,{idToken:t}));case 5:return this.stsTokenManager.clearRefreshToken(),e.abrupt("return",this.auth.signOut());case 7:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"toJSON",value:function(){return Object.assign(Object.assign({uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map((function(e){return Object.assign({},e)})),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId},this.metadata.toJSON()),{apiKey:this.auth.config.apiKey,appName:this.auth.name})}},{key:"refreshToken",get:function(){return this.stsTokenManager.refreshToken||""}}],[{key:"_fromJSON",value:function(t,n){var r,i,a,o,s,u,c,l,d=null!==(r=n.displayName)&&void 0!==r?r:void 0,f=null!==(i=n.email)&&void 0!==i?i:void 0,h=null!==(a=n.phoneNumber)&&void 0!==a?a:void 0,p=null!==(o=n.photoURL)&&void 0!==o?o:void 0,v=null!==(s=n.tenantId)&&void 0!==s?s:void 0,m=null!==(u=n._redirectEventId)&&void 0!==u?u:void 0,g=null!==(c=n.createdAt)&&void 0!==c?c:void 0,y=null!==(l=n.lastLoginAt)&&void 0!==l?l:void 0,_=n.uid,b=n.emailVerified,k=n.isAnonymous,w=n.providerData,S=n.stsTokenManager;pd(_&&S,t,"internal-error");var E=sf.fromJSON(this.name,S);pd("string"===typeof _,t,"internal-error"),uf(d,t.name),uf(f,t.name),pd("boolean"===typeof b,t,"internal-error"),pd("boolean"===typeof k,t,"internal-error"),uf(h,t.name),uf(p,t.name),uf(v,t.name),uf(m,t.name),uf(g,t.name),uf(y,t.name);var x=new e({uid:_,auth:t,email:f,emailVerified:b,displayName:d,isAnonymous:k,photoURL:p,phoneNumber:h,tenantId:v,stsTokenManager:E,createdAt:g,lastLoginAt:y});return w&&Array.isArray(w)&&(x.providerData=w.map((function(e){return Object.assign({},e)}))),m&&(x._redirectEventId=m),x}},{key:"_fromIdTokenResponse",value:function(){var t=Jr(Kr().mark((function t(n,r){var i,a,o,s=arguments;return Kr().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return i=s.length>2&&void 0!==s[2]&&s[2],(a=new sf).updateFromServerResponse(r),o=new e({uid:r.localId,auth:n,stsTokenManager:a,isAnonymous:i}),t.next=6,Xd(o);case 6:return t.abrupt("return",o);case 7:case"end":return t.stop()}}),t)})));return function(e,n){return t.apply(this,arguments)}}()}]),e}(),lf=function(){function e(){(0,p.Z)(this,e),this.type="NONE",this.storage={}}return(0,v.Z)(e,[{key:"_isAvailable",value:function(){var e=Jr(Kr().mark((function e(){return Kr().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",!0);case 1:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}()},{key:"_set",value:function(){var e=Jr(Kr().mark((function e(t,n){return Kr().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:this.storage[t]=n;case 1:case"end":return e.stop()}}),e,this)})));return function(t,n){return e.apply(this,arguments)}}()},{key:"_get",value:function(){var e=Jr(Kr().mark((function e(t){var n;return Kr().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=this.storage[t],e.abrupt("return",void 0===n?null:n);case 2:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"_remove",value:function(){var e=Jr(Kr().mark((function e(t){return Kr().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:delete this.storage[t];case 1:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"_addListener",value:function(e,t){}},{key:"_removeListener",value:function(e,t){}}]),e}();lf.type="NONE";var df=lf;function ff(e,t,n){return"firebase".concat(":",e,":").concat(t,":").concat(n)}var hf=function(){function e(t,n,r){(0,p.Z)(this,e),this.persistence=t,this.auth=n,this.userKey=r;var i=this.auth,a=i.config,o=i.name;this.fullUserKey=ff(this.userKey,a.apiKey,o),this.fullPersistenceKey=ff("persistence",a.apiKey,o),this.boundEventHandler=n._onStorageEvent.bind(n),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}return(0,v.Z)(e,[{key:"setCurrentUser",value:function(e){return this.persistence._set(this.fullUserKey,e.toJSON())}},{key:"getCurrentUser",value:function(){var e=Jr(Kr().mark((function e(){var t;return Kr().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.persistence._get(this.fullUserKey);case 2:return t=e.sent,e.abrupt("return",t?cf._fromJSON(this.auth,t):null);case 4:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"removeCurrentUser",value:function(){return this.persistence._remove(this.fullUserKey)}},{key:"savePersistenceForRedirect",value:function(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}},{key:"setPersistence",value:function(){var e=Jr(Kr().mark((function e(t){var n;return Kr().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(this.persistence!==t){e.next=2;break}return e.abrupt("return");case 2:return e.next=4,this.getCurrentUser();case 4:return n=e.sent,e.next=7,this.removeCurrentUser();case 7:if(this.persistence=t,!n){e.next=10;break}return e.abrupt("return",this.setCurrentUser(n));case 10:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"delete",value:function(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}}],[{key:"create",value:function(){var t=Jr(Kr().mark((function t(n,r){var i,a,o,s,u,c,l,d,f,h,p,v=arguments;return Kr().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(i=v.length>2&&void 0!==v[2]?v[2]:"authUser",r.length){t.next=3;break}return t.abrupt("return",new e(yd(df),n,i));case 3:return t.next=5,Promise.all(r.map(function(){var e=Jr(Kr().mark((function e(t){return Kr().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,t._isAvailable();case 2:if(!e.sent){e.next=4;break}return e.abrupt("return",t);case 4:return e.abrupt("return",void 0);case 5:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()));case 5:a=t.sent.filter((function(e){return e})),o=a[0]||yd(df),s=ff(i,n.config.apiKey,n.name),u=null,c=(0,Z.Z)(r),t.prev=10,c.s();case 12:if((l=c.n()).done){t.next=29;break}return d=l.value,t.prev=14,t.next=17,d._get(s);case 17:if(!(f=t.sent)){t.next=23;break}return h=cf._fromJSON(n,f),d!==o&&(u=h),o=d,t.abrupt("break",29);case 23:t.next=27;break;case 25:t.prev=25,t.t0=t.catch(14);case 27:t.next=12;break;case 29:t.next=34;break;case 31:t.prev=31,t.t1=t.catch(10),c.e(t.t1);case 34:return t.prev=34,c.f(),t.finish(34);case 37:if(p=a.filter((function(e){return e._shouldAllowMigration})),o._shouldAllowMigration&&p.length){t.next=40;break}return t.abrupt("return",new e(o,n,i));case 40:if(o=p[0],!u){t.next=44;break}return t.next=44,o._set(s,u.toJSON());case 44:return t.next=46,Promise.all(r.map(function(){var e=Jr(Kr().mark((function e(t){return Kr().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t===o){e.next=8;break}return e.prev=1,e.next=4,t._remove(s);case 4:e.next=8;break;case 6:e.prev=6,e.t0=e.catch(1);case 8:case"end":return e.stop()}}),e,null,[[1,6]])})));return function(t){return e.apply(this,arguments)}}()));case 46:return t.abrupt("return",new e(o,n,i));case 47:case"end":return t.stop()}}),t,null,[[10,31,34,37],[14,25]])})));return function(e,n){return t.apply(this,arguments)}}()}]),e}();function pf(e){var t=e.toLowerCase();if(t.includes("opera/")||t.includes("opr/")||t.includes("opios/"))return"Opera";if(yf(t))return"IEMobile";if(t.includes("msie")||t.includes("trident/"))return"IE";if(t.includes("edge/"))return"Edge";if(vf(t))return"Firefox";if(t.includes("silk/"))return"Silk";if(bf(t))return"Blackberry";if(kf(t))return"Webos";if(mf(t))return"Safari";if((t.includes("chrome/")||gf(t))&&!t.includes("edge/"))return"Chrome";if(_f(t))return"Android";var n=e.match(/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/);return 2===(null===n||void 0===n?void 0:n.length)?n[1]:"Other"}function vf(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:gr();return/firefox\//i.test(e)}function mf(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:gr(),t=e.toLowerCase();return t.includes("safari/")&&!t.includes("chrome/")&&!t.includes("crios/")&&!t.includes("android")}function gf(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:gr();return/crios\//i.test(e)}function yf(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:gr();return/iemobile/i.test(e)}function _f(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:gr();return/android/i.test(e)}function bf(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:gr();return/blackberry/i.test(e)}function kf(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:gr();return/webos/i.test(e)}function wf(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:gr();return/iphone|ipad|ipod/i.test(e)}function Sf(){var e,t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:gr();return wf(t)&&!!(null===(e=window.navigator)||void 0===e?void 0:e.standalone)}function Ef(){return wr()&&10===document.documentMode}function xf(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:gr();return wf(e)||_f(e)||kf(e)||bf(e)||/windows phone/i.test(e)||yf(e)}function If(e){var t,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[];switch(e){case"Browser":t=pf(gr());break;case"Worker":t="".concat(pf(gr()),"-").concat(e);break;default:t=e}var r=n.length?n.join(","):"FirebaseCore-web";return"".concat(t,"/","JsCore","/").concat(Gi,"/").concat(r)}var Tf=function(){function e(t){(0,p.Z)(this,e),this.auth=t,this.queue=[]}return(0,v.Z)(e,[{key:"pushCallback",value:function(e,t){var n=this,r=function(t){return new Promise((function(n,r){try{n(e(t))}catch(i){r(i)}}))};r.onAbort=t,this.queue.push(r);var i=this.queue.length-1;return function(){n.queue[i]=function(){return Promise.resolve()}}}},{key:"runMiddleware",value:function(){var e=Jr(Kr().mark((function e(t){var n,r,i,a,o,s,u,c;return Kr().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(this.auth.currentUser!==t){e.next=2;break}return e.abrupt("return");case 2:r=[],e.prev=3,i=(0,Z.Z)(this.queue),e.prev=5,i.s();case 7:if((a=i.n()).done){e.next=14;break}return o=a.value,e.next=11,o(t);case 11:o.onAbort&&r.push(o.onAbort);case 12:e.next=7;break;case 14:e.next=19;break;case 16:e.prev=16,e.t0=e.catch(5),i.e(e.t0);case 19:return e.prev=19,i.f(),e.finish(19);case 22:e.next=30;break;case 24:e.prev=24,e.t1=e.catch(3),r.reverse(),s=(0,Z.Z)(r);try{for(s.s();!(u=s.n()).done;){c=u.value;try{c()}catch(l){}}}catch(d){s.e(d)}finally{s.f()}throw this.auth._errorFactory.create("login-blocked",{originalMessage:null===(n=e.t1)||void 0===n?void 0:n.message});case 30:case"end":return e.stop()}}),e,this,[[3,24],[5,16,19,22]])})));return function(t){return e.apply(this,arguments)}}()}]),e}(),Cf=function(){function e(t,n,r){(0,p.Z)(this,e),this.app=t,this.heartbeatServiceProvider=n,this.config=r,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new Rf(this),this.idTokenSubscription=new Rf(this),this.beforeStateQueue=new Tf(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=od,this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=t.name,this.clientVersion=r.sdkClientVersion}return(0,v.Z)(e,[{key:"_initializeWithPersistence",value:function(e,t){var n=this;return t&&(this._popupRedirectResolver=yd(t)),this._initializationPromise=this.queue(Jr(Kr().mark((function r(){var i,a;return Kr().wrap((function(r){for(;;)switch(r.prev=r.next){case 0:if(!n._deleted){r.next=2;break}return r.abrupt("return");case 2:return r.next=4,hf.create(n,e);case 4:if(n.persistenceManager=r.sent,!n._deleted){r.next=7;break}return r.abrupt("return");case 7:if(!(null===(i=n._popupRedirectResolver)||void 0===i?void 0:i._shouldInitProactively)){r.next=15;break}return r.prev=8,r.next=11,n._popupRedirectResolver._initialize(n);case 11:r.next=15;break;case 13:r.prev=13,r.t0=r.catch(8);case 15:return r.next=17,n.initializeCurrentUser(t);case 17:if(n.lastNotifiedUid=(null===(a=n.currentUser)||void 0===a?void 0:a.uid)||null,!n._deleted){r.next=20;break}return r.abrupt("return");case 20:n._isInitialized=!0;case 21:case"end":return r.stop()}}),r,null,[[8,13]])})))),this._initializationPromise}},{key:"_onStorageEvent",value:function(){var e=Jr(Kr().mark((function e(){var t;return Kr().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!this._deleted){e.next=2;break}return e.abrupt("return");case 2:return e.next=4,this.assertedPersistence.getCurrentUser();case 4:if(t=e.sent,this.currentUser||t){e.next=7;break}return e.abrupt("return");case 7:if(!this.currentUser||!t||this.currentUser.uid!==t.uid){e.next=12;break}return this._currentUser._assign(t),e.next=11,this.currentUser.getIdToken();case 11:return e.abrupt("return");case 12:return e.next=14,this._updateCurrentUser(t,!0);case 14:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"initializeCurrentUser",value:function(){var e=Jr(Kr().mark((function e(t){var n,r,i,a,o,s,u;return Kr().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.assertedPersistence.getCurrentUser();case 2:if(r=e.sent,i=r,a=!1,!t||!this.config.authDomain){e.next=14;break}return e.next=8,this.getOrInitRedirectPersistenceManager();case 8:return o=null===(n=this.redirectUser)||void 0===n?void 0:n._redirectEventId,s=null===i||void 0===i?void 0:i._redirectEventId,e.next=12,this.tryRedirectSignIn(t);case 12:u=e.sent,o&&o!==s||!(null===u||void 0===u?void 0:u.user)||(i=u.user,a=!0);case 14:if(i){e.next=16;break}return e.abrupt("return",this.directlySetCurrentUser(null));case 16:if(i._redirectEventId){e.next=32;break}if(!a){e.next=27;break}return e.prev=18,e.next=21,this.beforeStateQueue.runMiddleware(i);case 21:e.next=27;break;case 23:e.prev=23,e.t0=e.catch(18),i=r,this._popupRedirectResolver._overrideRedirectResult(this,(function(){return Promise.reject(e.t0)}));case 27:if(!i){e.next=31;break}return e.abrupt("return",this.reloadAndSetCurrentUserOrClear(i));case 31:return e.abrupt("return",this.directlySetCurrentUser(null));case 32:return pd(this._popupRedirectResolver,this,"argument-error"),e.next=35,this.getOrInitRedirectPersistenceManager();case 35:if(!this.redirectUser||this.redirectUser._redirectEventId!==i._redirectEventId){e.next=37;break}return e.abrupt("return",this.directlySetCurrentUser(i));case 37:return e.abrupt("return",this.reloadAndSetCurrentUserOrClear(i));case 38:case"end":return e.stop()}}),e,this,[[18,23]])})));return function(t){return e.apply(this,arguments)}}()},{key:"tryRedirectSignIn",value:function(){var e=Jr(Kr().mark((function e(t){var n;return Kr().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=null,e.prev=1,e.next=4,this._popupRedirectResolver._completeRedirectFn(this,t,!0);case 4:n=e.sent,e.next=11;break;case 7:return e.prev=7,e.t0=e.catch(1),e.next=11,this._setRedirectUser(null);case 11:return e.abrupt("return",n);case 12:case"end":return e.stop()}}),e,this,[[1,7]])})));return function(t){return e.apply(this,arguments)}}()},{key:"reloadAndSetCurrentUserOrClear",value:function(){var e=Jr(Kr().mark((function e(t){var n;return Kr().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,Xd(t);case 3:e.next=9;break;case 5:if(e.prev=5,e.t0=e.catch(0),(null===(n=e.t0)||void 0===n?void 0:n.code)==="auth/".concat("network-request-failed")){e.next=9;break}return e.abrupt("return",this.directlySetCurrentUser(null));case 9:return e.abrupt("return",this.directlySetCurrentUser(t));case 10:case"end":return e.stop()}}),e,this,[[0,5]])})));return function(t){return e.apply(this,arguments)}}()},{key:"useDeviceLanguage",value:function(){this.languageCode=function(){if("undefined"===typeof navigator)return null;var e=navigator;return e.languages&&e.languages[0]||e.language||null}()}},{key:"_delete",value:function(){var e=Jr(Kr().mark((function e(){return Kr().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:this._deleted=!0;case 1:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"updateCurrentUser",value:function(){var e=Jr(Kr().mark((function e(t){var n;return Kr().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return(n=t?Vr(t):null)&&pd(n.auth.config.apiKey===this.config.apiKey,this,"invalid-user-token"),e.abrupt("return",this._updateCurrentUser(n&&n._clone(this)));case 3:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"_updateCurrentUser",value:function(){var e=Jr(Kr().mark((function e(t){var n,r=this,i=arguments;return Kr().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(n=i.length>1&&void 0!==i[1]&&i[1],!this._deleted){e.next=3;break}return e.abrupt("return");case 3:if(t&&pd(this.tenantId===t.tenantId,this,"tenant-id-mismatch"),n){e.next=7;break}return e.next=7,this.beforeStateQueue.runMiddleware(t);case 7:return e.abrupt("return",this.queue(Jr(Kr().mark((function e(){return Kr().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,r.directlySetCurrentUser(t);case 2:r.notifyAuthListeners();case 3:case"end":return e.stop()}}),e)})))));case 8:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"signOut",value:function(){var e=Jr(Kr().mark((function e(){return Kr().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.beforeStateQueue.runMiddleware(null);case 2:if(!this.redirectPersistenceManager&&!this._popupRedirectResolver){e.next=5;break}return e.next=5,this._setRedirectUser(null);case 5:return e.abrupt("return",this._updateCurrentUser(null,!0));case 6:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"setPersistence",value:function(e){var t=this;return this.queue(Jr(Kr().mark((function n(){return Kr().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,t.assertedPersistence.setPersistence(yd(e));case 2:case"end":return n.stop()}}),n)}))))}},{key:"_getPersistence",value:function(){return this.assertedPersistence.persistence.type}},{key:"_updateErrorMap",value:function(e){this._errorFactory=new Ir("auth","Firebase",e())}},{key:"onAuthStateChanged",value:function(e,t,n){return this.registerStateListener(this.authStateSubscription,e,t,n)}},{key:"beforeAuthStateChanged",value:function(e,t){return this.beforeStateQueue.pushCallback(e,t)}},{key:"onIdTokenChanged",value:function(e,t,n){return this.registerStateListener(this.idTokenSubscription,e,t,n)}},{key:"toJSON",value:function(){var e;return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:null===(e=this._currentUser)||void 0===e?void 0:e.toJSON()}}},{key:"_setRedirectUser",value:function(){var e=Jr(Kr().mark((function e(t,n){var r;return Kr().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.getOrInitRedirectPersistenceManager(n);case 2:return r=e.sent,e.abrupt("return",null===t?r.removeCurrentUser():r.setCurrentUser(t));case 4:case"end":return e.stop()}}),e,this)})));return function(t,n){return e.apply(this,arguments)}}()},{key:"getOrInitRedirectPersistenceManager",value:function(){var e=Jr(Kr().mark((function e(t){var n;return Kr().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(this.redirectPersistenceManager){e.next=9;break}return pd(n=t&&yd(t)||this._popupRedirectResolver,this,"argument-error"),e.next=5,hf.create(this,[yd(n._redirectPersistence)],"redirectUser");case 5:return this.redirectPersistenceManager=e.sent,e.next=8,this.redirectPersistenceManager.getCurrentUser();case 8:this.redirectUser=e.sent;case 9:return e.abrupt("return",this.redirectPersistenceManager);case 10:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"_redirectUserForId",value:function(){var e=Jr(Kr().mark((function e(t){var n,r;return Kr().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!this._isInitialized){e.next=3;break}return e.next=3,this.queue(Jr(Kr().mark((function e(){return Kr().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:case"end":return e.stop()}}),e)}))));case 3:if((null===(n=this._currentUser)||void 0===n?void 0:n._redirectEventId)!==t){e.next=5;break}return e.abrupt("return",this._currentUser);case 5:if((null===(r=this.redirectUser)||void 0===r?void 0:r._redirectEventId)!==t){e.next=7;break}return e.abrupt("return",this.redirectUser);case 7:return e.abrupt("return",null);case 8:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"_persistUserIfCurrent",value:function(){var e=Jr(Kr().mark((function e(t){var n=this;return Kr().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t!==this.currentUser){e.next=2;break}return e.abrupt("return",this.queue(Jr(Kr().mark((function e(){return Kr().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",n.directlySetCurrentUser(t));case 1:case"end":return e.stop()}}),e)})))));case 2:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"_notifyListenersIfCurrent",value:function(e){e===this.currentUser&&this.notifyAuthListeners()}},{key:"_key",value:function(){return"".concat(this.config.authDomain,":").concat(this.config.apiKey,":").concat(this.name)}},{key:"_startProactiveRefresh",value:function(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}},{key:"_stopProactiveRefresh",value:function(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}},{key:"_currentUser",get:function(){return this.currentUser}},{key:"notifyAuthListeners",value:function(){var e,t;if(this._isInitialized){this.idTokenSubscription.next(this.currentUser);var n=null!==(t=null===(e=this.currentUser)||void 0===e?void 0:e.uid)&&void 0!==t?t:null;this.lastNotifiedUid!==n&&(this.lastNotifiedUid=n,this.authStateSubscription.next(this.currentUser))}}},{key:"registerStateListener",value:function(e,t,n,r){var i=this;if(this._deleted)return function(){};var a="function"===typeof t?t:t.next.bind(t),o=this._isInitialized?Promise.resolve():this._initializationPromise;return pd(o,this,"internal-error"),o.then((function(){return a(i.currentUser)})),"function"===typeof t?e.addObserver(t,n,r):e.addObserver(t)}},{key:"directlySetCurrentUser",value:function(){var e=Jr(Kr().mark((function e(t){return Kr().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(this.currentUser&&this.currentUser!==t&&(this._currentUser._stopProactiveRefresh(),t&&this.isProactiveRefreshEnabled&&t._startProactiveRefresh()),this.currentUser=t,!t){e.next=7;break}return e.next=5,this.assertedPersistence.setCurrentUser(t);case 5:e.next=9;break;case 7:return e.next=9,this.assertedPersistence.removeCurrentUser();case 9:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"queue",value:function(e){return this.operations=this.operations.then(e,e),this.operations}},{key:"assertedPersistence",get:function(){return pd(this.persistenceManager,this,"internal-error"),this.persistenceManager}},{key:"_logFramework",value:function(e){e&&!this.frameworks.includes(e)&&(this.frameworks.push(e),this.frameworks.sort(),this.clientVersion=If(this.config.clientPlatform,this._getFrameworks()))}},{key:"_getFrameworks",value:function(){return this.frameworks}},{key:"_getAdditionalHeaders",value:function(){var e=Jr(Kr().mark((function e(){var t,n,r;return Kr().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=(0,mn.Z)({},"X-Client-Version",this.clientVersion),this.app.options.appId&&(n["X-Firebase-gmpid"]=this.app.options.appId),e.next=4,null===(t=this.heartbeatServiceProvider.getImmediate({optional:!0}))||void 0===t?void 0:t.getHeartbeatsHeader();case 4:return(r=e.sent)&&(n["X-Firebase-Client"]=r),e.abrupt("return",n);case 7:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()}]),e}();function Nf(e){return Vr(e)}var Rf=function(){function e(t){var n=this;(0,p.Z)(this,e),this.auth=t,this.observer=null,this.addObserver=zr((function(e){return n.observer=e}))}return(0,v.Z)(e,[{key:"next",get:function(){return pd(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}}]),e}();function Pf(e,t,n){var r=Nf(e);pd(r._canInitEmulator,r,"emulator-config-failed"),pd(/^https?:\/\//.test(t),r,"invalid-emulator-scheme");var i=!!(null===n||void 0===n?void 0:n.disableWarnings),a=Of(t),o=function(e){var t=Of(e),n=/(\/\/)?([^?#/]+)/.exec(e.substr(t.length));if(!n)return{host:"",port:null};var r=n[2].split("@").pop()||"",i=/^(\[[^\]]+\])(:|$)/.exec(r);if(i){var a=i[1];return{host:a,port:Df(r.substr(a.length+1))}}var o=r.split(":"),s=(0,A.Z)(o,2);return{host:s[0],port:Df(s[1])}}(t),s=o.host,u=o.port,c=null===u?"":":".concat(u);r.config.emulator={url:"".concat(a,"//").concat(s).concat(c,"/")},r.settings.appVerificationDisabledForTesting=!0,r.emulatorConfig=Object.freeze({host:s,port:u,protocol:a.replace(":",""),options:Object.freeze({disableWarnings:i})}),i||function(){function e(){var e=document.createElement("p"),t=e.style;e.innerText="Running in emulator mode. Do not use with production credentials.",t.position="fixed",t.width="100%",t.backgroundColor="#ffffff",t.border=".1em solid #000000",t.color="#b50000",t.bottom="0px",t.left="0px",t.margin="0px",t.zIndex="10000",t.textAlign="center",e.classList.add("firebase-emulator-warning"),document.body.appendChild(e)}"undefined"!==typeof console&&"function"===typeof console.info&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials.");"undefined"!==typeof window&&"undefined"!==typeof document&&("loading"===document.readyState?window.addEventListener("DOMContentLoaded",e):e())}()}function Of(e){var t=e.indexOf(":");return t<0?"":e.substr(0,t+1)}function Df(e){if(!e)return null;var t=Number(e);return isNaN(t)?null:t}var Af=function(){function e(t,n){(0,p.Z)(this,e),this.providerId=t,this.signInMethod=n}return(0,v.Z)(e,[{key:"toJSON",value:function(){return vd("not implemented")}},{key:"_getIdTokenResponse",value:function(e){return vd("not implemented")}},{key:"_linkToIdToken",value:function(e,t){return vd("not implemented")}},{key:"_getReauthenticationResolver",value:function(e){return vd("not implemented")}}]),e}();function Zf(e,t){return Lf.apply(this,arguments)}function Lf(){return Lf=Jr(Kr().mark((function e(t,n){return Kr().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",Nd(t,"POST","/v1/accounts:resetPassword",Cd(t,n)));case 1:case"end":return e.stop()}}),e)}))),Lf.apply(this,arguments)}function Uf(e,t){return Mf.apply(this,arguments)}function Mf(){return Mf=Jr(Kr().mark((function e(t,n){return Kr().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",Nd(t,"POST","/v1/accounts:update",n));case 1:case"end":return e.stop()}}),e)}))),Mf.apply(this,arguments)}function jf(e,t){return Ff.apply(this,arguments)}function Ff(){return Ff=Jr(Kr().mark((function e(t,n){return Kr().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",Nd(t,"POST","/v1/accounts:update",Cd(t,n)));case 1:case"end":return e.stop()}}),e)}))),Ff.apply(this,arguments)}function qf(e,t){return zf.apply(this,arguments)}function zf(){return zf=Jr(Kr().mark((function e(t,n){return Kr().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",Dd(t,"POST","/v1/accounts:signInWithPassword",Cd(t,n)));case 1:case"end":return e.stop()}}),e)}))),zf.apply(this,arguments)}function Bf(e,t){return Wf.apply(this,arguments)}function Wf(){return Wf=Jr(Kr().mark((function e(t,n){return Kr().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",Nd(t,"POST","/v1/accounts:sendOobCode",Cd(t,n)));case 1:case"end":return e.stop()}}),e)}))),Wf.apply(this,arguments)}function Gf(e,t){return Hf.apply(this,arguments)}function Hf(){return Hf=Jr(Kr().mark((function e(t,n){return Kr().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",Bf(t,n));case 1:case"end":return e.stop()}}),e)}))),Hf.apply(this,arguments)}function Vf(e,t){return Yf.apply(this,arguments)}function Yf(){return Yf=Jr(Kr().mark((function e(t,n){return Kr().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",Bf(t,n));case 1:case"end":return e.stop()}}),e)}))),Yf.apply(this,arguments)}function Kf(e,t){return $f.apply(this,arguments)}function $f(){return $f=Jr(Kr().mark((function e(t,n){return Kr().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",Bf(t,n));case 1:case"end":return e.stop()}}),e)}))),$f.apply(this,arguments)}function Jf(e,t){return Qf.apply(this,arguments)}function Qf(){return Qf=Jr(Kr().mark((function e(t,n){return Kr().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",Bf(t,n));case 1:case"end":return e.stop()}}),e)}))),Qf.apply(this,arguments)}function Xf(e,t){return eh.apply(this,arguments)}function eh(){return eh=Jr(Kr().mark((function e(t,n){return Kr().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",Dd(t,"POST","/v1/accounts:signInWithEmailLink",Cd(t,n)));case 1:case"end":return e.stop()}}),e)}))),eh.apply(this,arguments)}function th(e,t){return nh.apply(this,arguments)}function nh(){return nh=Jr(Kr().mark((function e(t,n){return Kr().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",Dd(t,"POST","/v1/accounts:signInWithEmailLink",Cd(t,n)));case 1:case"end":return e.stop()}}),e)}))),nh.apply(this,arguments)}var rh=function(e){(0,R.Z)(n,e);var t=(0,P.Z)(n);function n(e,r,i){var a,o=arguments.length>3&&void 0!==arguments[3]?arguments[3]:null;return(0,p.Z)(this,n),(a=t.call(this,"password",i))._email=e,a._password=r,a._tenantId=o,a}return(0,v.Z)(n,[{key:"toJSON",value:function(){return{email:this._email,password:this._password,signInMethod:this.signInMethod,tenantId:this._tenantId}}},{key:"_getIdTokenResponse",value:function(){var e=Jr(Kr().mark((function e(t){return Kr().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:e.t0=this.signInMethod,e.next="password"===e.t0?3:"emailLink"===e.t0?4:5;break;case 3:return e.abrupt("return",qf(t,{returnSecureToken:!0,email:this._email,password:this._password}));case 4:return e.abrupt("return",Xf(t,{email:this._email,oobCode:this._password}));case 5:cd(t,"internal-error");case 6:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"_linkToIdToken",value:function(){var e=Jr(Kr().mark((function e(t,n){return Kr().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:e.t0=this.signInMethod,e.next="password"===e.t0?3:"emailLink"===e.t0?4:5;break;case 3:return e.abrupt("return",Uf(t,{idToken:n,returnSecureToken:!0,email:this._email,password:this._password}));case 4:return e.abrupt("return",th(t,{idToken:n,email:this._email,oobCode:this._password}));case 5:cd(t,"internal-error");case 6:case"end":return e.stop()}}),e,this)})));return function(t,n){return e.apply(this,arguments)}}()},{key:"_getReauthenticationResolver",value:function(e){return this._getIdTokenResponse(e)}}],[{key:"_fromEmailAndPassword",value:function(e,t){return new n(e,t,"password")}},{key:"_fromEmailAndCode",value:function(e,t){var r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null;return new n(e,t,"emailLink",r)}},{key:"fromJSON",value:function(e){var t="string"===typeof e?JSON.parse(e):e;if((null===t||void 0===t?void 0:t.email)&&(null===t||void 0===t?void 0:t.password)){if("password"===t.signInMethod)return this._fromEmailAndPassword(t.email,t.password);if("emailLink"===t.signInMethod)return this._fromEmailAndCode(t.email,t.password,t.tenantId)}return null}}]),n}(Af);function ih(e,t){return ah.apply(this,arguments)}function ah(){return ah=Jr(Kr().mark((function e(t,n){return Kr().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",Dd(t,"POST","/v1/accounts:signInWithIdp",Cd(t,n)));case 1:case"end":return e.stop()}}),e)}))),ah.apply(this,arguments)}var oh=function(e){(0,R.Z)(n,e);var t=(0,P.Z)(n);function n(){var e;return(0,p.Z)(this,n),(e=t.apply(this,arguments)).pendingToken=null,e}return(0,v.Z)(n,[{key:"toJSON",value:function(){return{idToken:this.idToken,accessToken:this.accessToken,secret:this.secret,nonce:this.nonce,pendingToken:this.pendingToken,providerId:this.providerId,signInMethod:this.signInMethod}}},{key:"_getIdTokenResponse",value:function(e){return ih(e,this.buildRequest())}},{key:"_linkToIdToken",value:function(e,t){var n=this.buildRequest();return n.idToken=t,ih(e,n)}},{key:"_getReauthenticationResolver",value:function(e){var t=this.buildRequest();return t.autoCreate=!1,ih(e,t)}},{key:"buildRequest",value:function(){var e={requestUri:"http://localhost",returnSecureToken:!0};if(this.pendingToken)e.pendingToken=this.pendingToken;else{var t={};this.idToken&&(t.id_token=this.idToken),this.accessToken&&(t.access_token=this.accessToken),this.secret&&(t.oauth_token_secret=this.secret),t.providerId=this.providerId,this.nonce&&!this.pendingToken&&(t.nonce=this.nonce),e.postBody=Mr(t)}return e}}],[{key:"_fromParams",value:function(e){var t=new n(e.providerId,e.signInMethod);return e.idToken||e.accessToken?(e.idToken&&(t.idToken=e.idToken),e.accessToken&&(t.accessToken=e.accessToken),e.nonce&&!e.pendingToken&&(t.nonce=e.nonce),e.pendingToken&&(t.pendingToken=e.pendingToken)):e.oauthToken&&e.oauthTokenSecret?(t.accessToken=e.oauthToken,t.secret=e.oauthTokenSecret):cd("argument-error"),t}},{key:"fromJSON",value:function(e){var t="string"===typeof e?JSON.parse(e):e,r=t.providerId,i=t.signInMethod,a=Wl(t,["providerId","signInMethod"]);if(!r||!i)return null;var o=new n(r,i);return o.idToken=a.idToken||void 0,o.accessToken=a.accessToken||void 0,o.secret=a.secret,o.nonce=a.nonce,o.pendingToken=a.pendingToken||null,o}}]),n}(Af);function sh(e,t){return uh.apply(this,arguments)}function uh(){return uh=Jr(Kr().mark((function e(t,n){return Kr().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",Nd(t,"POST","/v1/accounts:sendVerificationCode",Cd(t,n)));case 1:case"end":return e.stop()}}),e)}))),uh.apply(this,arguments)}function ch(){return ch=Jr(Kr().mark((function e(t,n){return Kr().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",Dd(t,"POST","/v1/accounts:signInWithPhoneNumber",Cd(t,n)));case 1:case"end":return e.stop()}}),e)}))),ch.apply(this,arguments)}function lh(){return lh=Jr(Kr().mark((function e(t,n){var r;return Kr().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Dd(t,"POST","/v1/accounts:signInWithPhoneNumber",Cd(t,n));case 2:if(!(r=e.sent).temporaryProof){e.next=5;break}throw Ud(t,"account-exists-with-different-credential",r);case 5:return e.abrupt("return",r);case 6:case"end":return e.stop()}}),e)}))),lh.apply(this,arguments)}var dh=(0,mn.Z)({},"USER_NOT_FOUND","user-not-found");function fh(){return fh=Jr(Kr().mark((function e(t,n){var r;return Kr().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=Object.assign(Object.assign({},n),{operation:"REAUTH"}),e.abrupt("return",Dd(t,"POST","/v1/accounts:signInWithPhoneNumber",Cd(t,r),dh));case 2:case"end":return e.stop()}}),e)}))),fh.apply(this,arguments)}var hh=function(e){(0,R.Z)(n,e);var t=(0,P.Z)(n);function n(e){var r;return(0,p.Z)(this,n),(r=t.call(this,"phone","phone")).params=e,r}return(0,v.Z)(n,[{key:"_getIdTokenResponse",value:function(e){return function(e,t){return ch.apply(this,arguments)}(e,this._makeVerificationRequest())}},{key:"_linkToIdToken",value:function(e,t){return function(e,t){return lh.apply(this,arguments)}(e,Object.assign({idToken:t},this._makeVerificationRequest()))}},{key:"_getReauthenticationResolver",value:function(e){return function(e,t){return fh.apply(this,arguments)}(e,this._makeVerificationRequest())}},{key:"_makeVerificationRequest",value:function(){var e=this.params,t=e.temporaryProof,n=e.phoneNumber,r=e.verificationId,i=e.verificationCode;return t&&n?{temporaryProof:t,phoneNumber:n}:{sessionInfo:r,code:i}}},{key:"toJSON",value:function(){var e={providerId:this.providerId};return this.params.phoneNumber&&(e.phoneNumber=this.params.phoneNumber),this.params.temporaryProof&&(e.temporaryProof=this.params.temporaryProof),this.params.verificationCode&&(e.verificationCode=this.params.verificationCode),this.params.verificationId&&(e.verificationId=this.params.verificationId),e}}],[{key:"_fromVerification",value:function(e,t){return new n({verificationId:e,verificationCode:t})}},{key:"_fromTokenResponse",value:function(e,t){return new n({phoneNumber:e,temporaryProof:t})}},{key:"fromJSON",value:function(e){"string"===typeof e&&(e=JSON.parse(e));var t=e,r=t.verificationId,i=t.verificationCode,a=t.phoneNumber,o=t.temporaryProof;return i||r||a||o?new n({verificationId:r,verificationCode:i,phoneNumber:a,temporaryProof:o}):null}}]),n}(Af);var ph=function(){function e(t){var n,r,i,a,o,s;(0,p.Z)(this,e);var u=jr(Fr(t)),c=null!==(n=u.apiKey)&&void 0!==n?n:null,l=null!==(r=u.oobCode)&&void 0!==r?r:null,d=function(e){switch(e){case"recoverEmail":return"RECOVER_EMAIL";case"resetPassword":return"PASSWORD_RESET";case"signIn":return"EMAIL_SIGNIN";case"verifyEmail":return"VERIFY_EMAIL";case"verifyAndChangeEmail":return"VERIFY_AND_CHANGE_EMAIL";case"revertSecondFactorAddition":return"REVERT_SECOND_FACTOR_ADDITION";default:return null}}(null!==(i=u.mode)&&void 0!==i?i:null);pd(c&&l&&d,"argument-error"),this.apiKey=c,this.operation=d,this.code=l,this.continueUrl=null!==(a=u.continueUrl)&&void 0!==a?a:null,this.languageCode=null!==(o=u.languageCode)&&void 0!==o?o:null,this.tenantId=null!==(s=u.tenantId)&&void 0!==s?s:null}return(0,v.Z)(e,null,[{key:"parseLink",value:function(t){var n=function(e){var t=jr(Fr(e)).link,n=t?jr(Fr(t)).deep_link_id:null,r=jr(Fr(e)).deep_link_id;return(r?jr(Fr(r)).link:null)||r||n||t||e}(t);try{return new e(n)}catch(r){return null}}}]),e}();var vh=function(){function e(){(0,p.Z)(this,e),this.providerId=e.PROVIDER_ID}return(0,v.Z)(e,null,[{key:"credential",value:function(e,t){return rh._fromEmailAndPassword(e,t)}},{key:"credentialWithLink",value:function(e,t){var n=ph.parseLink(t);return pd(n,"argument-error"),rh._fromEmailAndCode(e,n.code,n.tenantId)}}]),e}();vh.PROVIDER_ID="password",vh.EMAIL_PASSWORD_SIGN_IN_METHOD="password",vh.EMAIL_LINK_SIGN_IN_METHOD="emailLink";var mh=function(){function e(t){(0,p.Z)(this,e),this.providerId=t,this.defaultLanguageCode=null,this.customParameters={}}return(0,v.Z)(e,[{key:"setDefaultLanguage",value:function(e){this.defaultLanguageCode=e}},{key:"setCustomParameters",value:function(e){return this.customParameters=e,this}},{key:"getCustomParameters",value:function(){return this.customParameters}}]),e}(),gh=function(e){(0,R.Z)(n,e);var t=(0,P.Z)(n);function n(){var e;return(0,p.Z)(this,n),(e=t.apply(this,arguments)).scopes=[],e}return(0,v.Z)(n,[{key:"addScope",value:function(e){return this.scopes.includes(e)||this.scopes.push(e),this}},{key:"getScopes",value:function(){return(0,o.Z)(this.scopes)}}]),n}(mh),yh=function(e){(0,R.Z)(n,e);var t=(0,P.Z)(n);function n(){return(0,p.Z)(this,n),t.apply(this,arguments)}return(0,v.Z)(n,[{key:"credential",value:function(e){return this._credential(Object.assign(Object.assign({},e),{nonce:e.rawNonce}))}},{key:"_credential",value:function(e){return pd(e.idToken||e.accessToken,"argument-error"),oh._fromParams(Object.assign(Object.assign({},e),{providerId:this.providerId,signInMethod:this.providerId}))}}],[{key:"credentialFromJSON",value:function(e){var t="string"===typeof e?JSON.parse(e):e;return pd("providerId"in t&&"signInMethod"in t,"argument-error"),oh._fromParams(t)}},{key:"credentialFromResult",value:function(e){return n.oauthCredentialFromTaggedObject(e)}},{key:"credentialFromError",value:function(e){return n.oauthCredentialFromTaggedObject(e.customData||{})}},{key:"oauthCredentialFromTaggedObject",value:function(e){var t=e._tokenResponse;if(!t)return null;var r=t.oauthIdToken,i=t.oauthAccessToken,a=t.oauthTokenSecret,o=t.pendingToken,s=t.nonce,u=t.providerId;if(!i&&!a&&!r&&!o)return null;if(!u)return null;try{return new n(u)._credential({idToken:r,accessToken:i,nonce:s,pendingToken:o})}catch(c){return null}}}]),n}(gh),_h=function(e){(0,R.Z)(n,e);var t=(0,P.Z)(n);function n(){return(0,p.Z)(this,n),t.call(this,"facebook.com")}return(0,v.Z)(n,null,[{key:"credential",value:function(e){return oh._fromParams({providerId:n.PROVIDER_ID,signInMethod:n.FACEBOOK_SIGN_IN_METHOD,accessToken:e})}},{key:"credentialFromResult",value:function(e){return n.credentialFromTaggedObject(e)}},{key:"credentialFromError",value:function(e){return n.credentialFromTaggedObject(e.customData||{})}},{key:"credentialFromTaggedObject",value:function(e){var t=e._tokenResponse;if(!t||!("oauthAccessToken"in t))return null;if(!t.oauthAccessToken)return null;try{return n.credential(t.oauthAccessToken)}catch(r){return null}}}]),n}(gh);_h.FACEBOOK_SIGN_IN_METHOD="facebook.com",_h.PROVIDER_ID="facebook.com";var bh=function(e){(0,R.Z)(n,e);var t=(0,P.Z)(n);function n(){var e;return(0,p.Z)(this,n),(e=t.call(this,"google.com")).addScope("profile"),e}return(0,v.Z)(n,null,[{key:"credential",value:function(e,t){return oh._fromParams({providerId:n.PROVIDER_ID,signInMethod:n.GOOGLE_SIGN_IN_METHOD,idToken:e,accessToken:t})}},{key:"credentialFromResult",value:function(e){return n.credentialFromTaggedObject(e)}},{key:"credentialFromError",value:function(e){return n.credentialFromTaggedObject(e.customData||{})}},{key:"credentialFromTaggedObject",value:function(e){var t=e._tokenResponse;if(!t)return null;var r=t.oauthIdToken,i=t.oauthAccessToken;if(!r&&!i)return null;try{return n.credential(r,i)}catch(a){return null}}}]),n}(gh);bh.GOOGLE_SIGN_IN_METHOD="google.com",bh.PROVIDER_ID="google.com";var kh=function(e){(0,R.Z)(n,e);var t=(0,P.Z)(n);function n(){return(0,p.Z)(this,n),t.call(this,"github.com")}return(0,v.Z)(n,null,[{key:"credential",value:function(e){return oh._fromParams({providerId:n.PROVIDER_ID,signInMethod:n.GITHUB_SIGN_IN_METHOD,accessToken:e})}},{key:"credentialFromResult",value:function(e){return n.credentialFromTaggedObject(e)}},{key:"credentialFromError",value:function(e){return n.credentialFromTaggedObject(e.customData||{})}},{key:"credentialFromTaggedObject",value:function(e){var t=e._tokenResponse;if(!t||!("oauthAccessToken"in t))return null;if(!t.oauthAccessToken)return null;try{return n.credential(t.oauthAccessToken)}catch(r){return null}}}]),n}(gh);kh.GITHUB_SIGN_IN_METHOD="github.com",kh.PROVIDER_ID="github.com";var wh=function(e){(0,R.Z)(n,e);var t=(0,P.Z)(n);function n(e,r){var i;return(0,p.Z)(this,n),(i=t.call(this,e,e)).pendingToken=r,i}return(0,v.Z)(n,[{key:"_getIdTokenResponse",value:function(e){return ih(e,this.buildRequest())}},{key:"_linkToIdToken",value:function(e,t){var n=this.buildRequest();return n.idToken=t,ih(e,n)}},{key:"_getReauthenticationResolver",value:function(e){var t=this.buildRequest();return t.autoCreate=!1,ih(e,t)}},{key:"toJSON",value:function(){return{signInMethod:this.signInMethod,providerId:this.providerId,pendingToken:this.pendingToken}}},{key:"buildRequest",value:function(){return{requestUri:"http://localhost",returnSecureToken:!0,pendingToken:this.pendingToken}}}],[{key:"fromJSON",value:function(e){var t="string"===typeof e?JSON.parse(e):e,r=t.providerId,i=t.signInMethod,a=t.pendingToken;return r&&i&&a&&r===i?new n(r,a):null}},{key:"_create",value:function(e,t){return new n(e,t)}}]),n}(Af),Sh=function(e){(0,R.Z)(n,e);var t=(0,P.Z)(n);function n(e){return(0,p.Z)(this,n),pd(e.startsWith("saml."),"argument-error"),t.call(this,e)}return(0,v.Z)(n,null,[{key:"credentialFromResult",value:function(e){return n.samlCredentialFromTaggedObject(e)}},{key:"credentialFromError",value:function(e){return n.samlCredentialFromTaggedObject(e.customData||{})}},{key:"credentialFromJSON",value:function(e){var t=wh.fromJSON(e);return pd(t,"argument-error"),t}},{key:"samlCredentialFromTaggedObject",value:function(e){var t=e._tokenResponse;if(!t)return null;var n=t.pendingToken,r=t.providerId;if(!n||!r)return null;try{return wh._create(r,n)}catch(i){return null}}}]),n}(mh),Eh=function(e){(0,R.Z)(n,e);var t=(0,P.Z)(n);function n(){return(0,p.Z)(this,n),t.call(this,"twitter.com")}return(0,v.Z)(n,null,[{key:"credential",value:function(e,t){return oh._fromParams({providerId:n.PROVIDER_ID,signInMethod:n.TWITTER_SIGN_IN_METHOD,oauthToken:e,oauthTokenSecret:t})}},{key:"credentialFromResult",value:function(e){return n.credentialFromTaggedObject(e)}},{key:"credentialFromError",value:function(e){return n.credentialFromTaggedObject(e.customData||{})}},{key:"credentialFromTaggedObject",value:function(e){var t=e._tokenResponse;if(!t)return null;var r=t.oauthAccessToken,i=t.oauthTokenSecret;if(!r||!i)return null;try{return n.credential(r,i)}catch(a){return null}}}]),n}(gh);function xh(e,t){return Ih.apply(this,arguments)}function Ih(){return Ih=Jr(Kr().mark((function e(t,n){return Kr().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",Dd(t,"POST","/v1/accounts:signUp",Cd(t,n)));case 1:case"end":return e.stop()}}),e)}))),Ih.apply(this,arguments)}Eh.TWITTER_SIGN_IN_METHOD="twitter.com",Eh.PROVIDER_ID="twitter.com";var Th=function(){function e(t){(0,p.Z)(this,e),this.user=t.user,this.providerId=t.providerId,this._tokenResponse=t._tokenResponse,this.operationType=t.operationType}return(0,v.Z)(e,null,[{key:"_fromIdTokenResponse",value:function(){var t=Jr(Kr().mark((function t(n,r,i){var a,o,s,u,c=arguments;return Kr().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return a=c.length>3&&void 0!==c[3]&&c[3],t.next=3,cf._fromIdTokenResponse(n,i,a);case 3:return o=t.sent,s=Ch(i),u=new e({user:o,providerId:s,_tokenResponse:i,operationType:r}),t.abrupt("return",u);case 7:case"end":return t.stop()}}),t)})));return function(e,n,r){return t.apply(this,arguments)}}()},{key:"_forOperation",value:function(){var t=Jr(Kr().mark((function t(n,r,i){var a;return Kr().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,n._updateTokensIfNecessary(i,!0);case 2:return a=Ch(i),t.abrupt("return",new e({user:n,providerId:a,_tokenResponse:i,operationType:r}));case 4:case"end":return t.stop()}}),t)})));return function(e,n,r){return t.apply(this,arguments)}}()}]),e}();function Ch(e){return e.providerId?e.providerId:"phoneNumber"in e?"phone":null}function Nh(){return Nh=Jr(Kr().mark((function e(t){var n,r,i,a;return Kr().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=Nf(t),e.next=3,r._initializationPromise;case 3:if(!(null===(n=r.currentUser)||void 0===n?void 0:n.isAnonymous)){e.next=5;break}return e.abrupt("return",new Th({user:r.currentUser,providerId:null,operationType:"signIn"}));case 5:return e.next=7,xh(r,{returnSecureToken:!0});case 7:return i=e.sent,e.next=10,Th._fromIdTokenResponse(r,"signIn",i,!0);case 10:return a=e.sent,e.next=13,r._updateCurrentUser(a.user);case 13:return e.abrupt("return",a);case 14:case"end":return e.stop()}}),e)}))),Nh.apply(this,arguments)}var Rh=function(e){(0,R.Z)(n,e);var t=(0,P.Z)(n);function n(e,r,i,a){var o,s;return(0,p.Z)(this,n),(o=t.call(this,r.code,r.message)).operationType=i,o.user=a,Object.setPrototypeOf((0,U.Z)(o),n.prototype),o.customData={appName:e.name,tenantId:null!==(s=e.tenantId)&&void 0!==s?s:void 0,_serverResponse:r.customData._serverResponse,operationType:i},o}return(0,v.Z)(n,null,[{key:"_fromErrorAndOperation",value:function(e,t,r,i){return new n(e,t,r,i)}}]),n}(xr);function Ph(e,t,n,r){return("reauthenticate"===t?n._getReauthenticationResolver(e):n._getIdTokenResponse(e)).catch((function(n){if(n.code==="auth/".concat("multi-factor-auth-required"))throw Rh._fromErrorAndOperation(e,n,t,r);throw n}))}function Oh(e){return new Set(e.map((function(e){return e.providerId})).filter((function(e){return!!e})))}function Dh(e,t){return Ah.apply(this,arguments)}function Ah(){return(Ah=Jr(Kr().mark((function e(t,n){var r,i,a,o;return Kr().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=Vr(t),e.next=3,Uh(!0,r,n);case 3:return e.t0=Fd,e.t1=r.auth,e.next=7,r.getIdToken();case 7:return e.t2=e.sent,e.t3=[n],e.t4={idToken:e.t2,deleteProvider:e.t3},e.next=12,(0,e.t0)(e.t1,e.t4);case 12:return i=e.sent,a=i.providerUserInfo,o=Oh(a||[]),r.providerData=r.providerData.filter((function(e){return o.has(e.providerId)})),o.has("phone")||(r.phoneNumber=null),e.next=19,r.auth._persistUserIfCurrent(r);case 19:return e.abrupt("return",r);case 20:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function Zh(e,t){return Lh.apply(this,arguments)}function Lh(){return Lh=Jr(Kr().mark((function e(t,n){var r,i,a=arguments;return Kr().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=a.length>2&&void 0!==a[2]&&a[2],e.t0=Yd,e.t1=t,e.t2=n,e.t3=t.auth,e.next=7,t.getIdToken();case 7:return e.t4=e.sent,e.t5=e.t2._linkToIdToken.call(e.t2,e.t3,e.t4),e.t6=r,e.next=12,(0,e.t0)(e.t1,e.t5,e.t6);case 12:return i=e.sent,e.abrupt("return",Th._forOperation(t,"link",i));case 14:case"end":return e.stop()}}),e)}))),Lh.apply(this,arguments)}function Uh(e,t,n){return Mh.apply(this,arguments)}function Mh(){return Mh=Jr(Kr().mark((function e(t,n,r){var i,a;return Kr().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Xd(n);case 2:i=Oh(n.providerData),a=!1===t?"provider-already-linked":"no-such-provider",pd(i.has(r)===t,n.auth,a);case 5:case"end":return e.stop()}}),e)}))),Mh.apply(this,arguments)}function jh(e,t){return Fh.apply(this,arguments)}function Fh(){return Fh=Jr(Kr().mark((function e(t,n){var r,i,a,o,s,u,c,l=arguments;return Kr().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=l.length>2&&void 0!==l[2]&&l[2],a=t.auth,o="reauthenticate",e.prev=3,e.next=6,Yd(t,Ph(a,o,n,t),r);case 6:return pd((s=e.sent).idToken,a,"internal-error"),pd(u=Vd(s.idToken),a,"internal-error"),c=u.sub,pd(t.uid===c,a,"user-mismatch"),e.abrupt("return",Th._forOperation(t,o,s));case 15:throw e.prev=15,e.t0=e.catch(3),(null===(i=e.t0)||void 0===i?void 0:i.code)==="auth/".concat("user-not-found")&&cd(a,"user-mismatch"),e.t0;case 19:case"end":return e.stop()}}),e,null,[[3,15]])}))),Fh.apply(this,arguments)}function qh(e,t){return zh.apply(this,arguments)}function zh(){return zh=Jr(Kr().mark((function e(t,n){var r,i,a,o,s=arguments;return Kr().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=s.length>2&&void 0!==s[2]&&s[2],i="signIn",e.next=4,Ph(t,i,n);case 4:return a=e.sent,e.next=7,Th._fromIdTokenResponse(t,i,a);case 7:if(o=e.sent,r){e.next=11;break}return e.next=11,t._updateCurrentUser(o.user);case 11:return e.abrupt("return",o);case 12:case"end":return e.stop()}}),e)}))),zh.apply(this,arguments)}function Bh(e,t){return Wh.apply(this,arguments)}function Wh(){return Wh=Jr(Kr().mark((function e(t,n){return Kr().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",qh(Nf(t),n));case 1:case"end":return e.stop()}}),e)}))),Wh.apply(this,arguments)}function Gh(e,t){return Hh.apply(this,arguments)}function Hh(){return(Hh=Jr(Kr().mark((function e(t,n){var r;return Kr().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=Vr(t),e.next=3,Uh(!1,r,n.providerId);case 3:return e.abrupt("return",Zh(r,n));case 4:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function Vh(e,t){return Yh.apply(this,arguments)}function Yh(){return(Yh=Jr(Kr().mark((function e(t,n){return Kr().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",jh(Vr(t),n));case 1:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function Kh(e,t){return $h.apply(this,arguments)}function $h(){return $h=Jr(Kr().mark((function e(t,n){return Kr().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",Dd(t,"POST","/v1/accounts:signInWithCustomToken",Cd(t,n)));case 1:case"end":return e.stop()}}),e)}))),$h.apply(this,arguments)}function Jh(){return Jh=Jr(Kr().mark((function e(t,n){var r,i,a;return Kr().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=Nf(t),e.next=3,Kh(r,{token:n,returnSecureToken:!0});case 3:return i=e.sent,e.next=6,Th._fromIdTokenResponse(r,"signIn",i);case 6:return a=e.sent,e.next=9,r._updateCurrentUser(a.user);case 9:return e.abrupt("return",a);case 10:case"end":return e.stop()}}),e)}))),Jh.apply(this,arguments)}var Qh=function(){function e(t,n){(0,p.Z)(this,e),this.factorId=t,this.uid=n.mfaEnrollmentId,this.enrollmentTime=new Date(n.enrolledAt).toUTCString(),this.displayName=n.displayName}return(0,v.Z)(e,null,[{key:"_fromServerResponse",value:function(e,t){return"phoneInfo"in t?Xh._fromServerResponse(e,t):cd(e,"internal-error")}}]),e}(),Xh=function(e){(0,R.Z)(n,e);var t=(0,P.Z)(n);function n(e){var r;return(0,p.Z)(this,n),(r=t.call(this,"phone",e)).phoneNumber=e.phoneInfo,r}return(0,v.Z)(n,null,[{key:"_fromServerResponse",value:function(e,t){return new n(t)}}]),n}(Qh);function ep(e,t,n){var r;pd((null===(r=n.url)||void 0===r?void 0:r.length)>0,e,"invalid-continue-uri"),pd("undefined"===typeof n.dynamicLinkDomain||n.dynamicLinkDomain.length>0,e,"invalid-dynamic-link-domain"),t.continueUrl=n.url,t.dynamicLinkDomain=n.dynamicLinkDomain,t.canHandleCodeInApp=n.handleCodeInApp,n.iOS&&(pd(n.iOS.bundleId.length>0,e,"missing-ios-bundle-id"),t.iOSBundleId=n.iOS.bundleId),n.android&&(pd(n.android.packageName.length>0,e,"missing-android-pkg-name"),t.androidInstallApp=n.android.installApp,t.androidMinimumVersionCode=n.android.minimumVersion,t.androidPackageName=n.android.packageName)}function tp(){return tp=Jr(Kr().mark((function e(t,n,r){var i,a;return Kr().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return i=Vr(t),a={requestType:"PASSWORD_RESET",email:n},r&&ep(i,a,r),e.next=5,Vf(i,a);case 5:case"end":return e.stop()}}),e)}))),tp.apply(this,arguments)}function np(){return np=Jr(Kr().mark((function e(t,n,r){return Kr().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Zf(Vr(t),{oobCode:n,newPassword:r});case 2:case"end":return e.stop()}}),e)}))),np.apply(this,arguments)}function rp(){return rp=Jr(Kr().mark((function e(t,n){return Kr().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,jf(Vr(t),{oobCode:n});case 2:case"end":return e.stop()}}),e)}))),rp.apply(this,arguments)}function ip(e,t){return ap.apply(this,arguments)}function ap(){return ap=Jr(Kr().mark((function e(t,n){var r,i,a,o;return Kr().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=Vr(t),e.next=3,Zf(r,{oobCode:n});case 3:i=e.sent,pd(a=i.requestType,r,"internal-error"),e.t0=a,e.next="EMAIL_SIGNIN"===e.t0?9:"VERIFY_AND_CHANGE_EMAIL"===e.t0?10:"REVERT_SECOND_FACTOR_ADDITION"===e.t0?12:13;break;case 9:return e.abrupt("break",14);case 10:return pd(i.newEmail,r,"internal-error"),e.abrupt("break",14);case 12:pd(i.mfaInfo,r,"internal-error");case 13:pd(i.email,r,"internal-error");case 14:return o=null,i.mfaInfo&&(o=Qh._fromServerResponse(Nf(r),i.mfaInfo)),e.abrupt("return",{data:{email:("VERIFY_AND_CHANGE_EMAIL"===i.requestType?i.newEmail:i.email)||null,previousEmail:("VERIFY_AND_CHANGE_EMAIL"===i.requestType?i.email:i.newEmail)||null,multiFactorInfo:o},operation:a});case 17:case"end":return e.stop()}}),e)}))),ap.apply(this,arguments)}function op(){return op=Jr(Kr().mark((function e(t,n){var r,i;return Kr().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,ip(Vr(t),n);case 2:return r=e.sent,i=r.data,e.abrupt("return",i.email);case 5:case"end":return e.stop()}}),e)}))),op.apply(this,arguments)}function sp(e,t,n){return up.apply(this,arguments)}function up(){return up=Jr(Kr().mark((function e(t,n,r){var i,a,o;return Kr().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return i=Nf(t),e.next=3,xh(i,{returnSecureToken:!0,email:n,password:r});case 3:return a=e.sent,e.next=6,Th._fromIdTokenResponse(i,"signIn",a);case 6:return o=e.sent,e.next=9,i._updateCurrentUser(o.user);case 9:return e.abrupt("return",o);case 10:case"end":return e.stop()}}),e)}))),up.apply(this,arguments)}function cp(){return cp=Jr(Kr().mark((function e(t,n,r){var i,a;return Kr().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return i=Vr(t),a={requestType:"EMAIL_SIGNIN",email:n},pd(r.handleCodeInApp,i,"argument-error"),r&&ep(i,a,r),e.next=6,Kf(i,a);case 6:case"end":return e.stop()}}),e)}))),cp.apply(this,arguments)}function lp(){return lp=Jr(Kr().mark((function e(t,n,r){var i,a;return Kr().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return i=Vr(t),pd((a=vh.credentialWithLink(n,r||bd()))._tenantId===(i.tenantId||null),i,"tenant-id-mismatch"),e.abrupt("return",Bh(i,a));case 4:case"end":return e.stop()}}),e)}))),lp.apply(this,arguments)}function dp(e,t){return fp.apply(this,arguments)}function fp(){return fp=Jr(Kr().mark((function e(t,n){return Kr().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",Nd(t,"POST","/v1/accounts:createAuthUri",Cd(t,n)));case 1:case"end":return e.stop()}}),e)}))),fp.apply(this,arguments)}function hp(){return hp=Jr(Kr().mark((function e(t,n){var r,i,a,o;return Kr().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=kd()?bd():"http://localhost",i={identifier:n,continueUri:r},e.next=4,dp(Vr(t),i);case 4:return a=e.sent,o=a.signinMethods,e.abrupt("return",o||[]);case 7:case"end":return e.stop()}}),e)}))),hp.apply(this,arguments)}function pp(){return(pp=Jr(Kr().mark((function e(t,n){var r,i,a,o;return Kr().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=Vr(t),e.next=3,t.getIdToken();case 3:return i=e.sent,a={requestType:"VERIFY_EMAIL",idToken:i},n&&ep(r.auth,a,n),e.next=8,Gf(r.auth,a);case 8:if(o=e.sent,o.email===t.email){e.next=13;break}return e.next=13,t.reload();case 13:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function vp(){return(vp=Jr(Kr().mark((function e(t,n,r){var i,a,o,s;return Kr().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return i=Vr(t),e.next=3,t.getIdToken();case 3:return a=e.sent,o={requestType:"VERIFY_AND_CHANGE_EMAIL",idToken:a,newEmail:n},r&&ep(i.auth,o,r),e.next=8,Jf(i.auth,o);case 8:if(s=e.sent,s.email===t.email){e.next=13;break}return e.next=13,t.reload();case 13:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function mp(e,t){return gp.apply(this,arguments)}function gp(){return gp=Jr(Kr().mark((function e(t,n){return Kr().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",Nd(t,"POST","/v1/accounts:update",n));case 1:case"end":return e.stop()}}),e)}))),gp.apply(this,arguments)}function yp(){return(yp=Jr(Kr().mark((function e(t,n){var r,i,a,o,s,u,c;return Kr().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(r=n.displayName,i=n.photoURL,void 0!==r||void 0!==i){e.next=3;break}return e.abrupt("return");case 3:return a=Vr(t),e.next=6,a.getIdToken();case 6:return o=e.sent,s={idToken:o,displayName:r,photoUrl:i,returnSecureToken:!0},e.next=10,Yd(a,mp(a.auth,s));case 10:return u=e.sent,a.displayName=u.displayName||null,a.photoURL=u.photoUrl||null,(c=a.providerData.find((function(e){return"password"===e.providerId})))&&(c.displayName=a.displayName,c.photoURL=a.photoURL),e.next=17,a._updateTokensIfNecessary(u);case 17:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function _p(e,t,n){return bp.apply(this,arguments)}function bp(){return bp=Jr(Kr().mark((function e(t,n,r){var i,a,o,s;return Kr().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return i=t.auth,e.next=3,t.getIdToken();case 3:return a=e.sent,o={idToken:a,returnSecureToken:!0},n&&(o.email=n),r&&(o.password=r),e.next=9,Yd(t,Uf(i,o));case 9:return s=e.sent,e.next=12,t._updateTokensIfNecessary(s,!0);case 12:case"end":return e.stop()}}),e)}))),bp.apply(this,arguments)}var kp=(0,v.Z)((function e(t,n){var r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};(0,p.Z)(this,e),this.isNewUser=t,this.providerId=n,this.profile=r})),wp=function(e){(0,R.Z)(n,e);var t=(0,P.Z)(n);function n(e,r,i,a){var o;return(0,p.Z)(this,n),(o=t.call(this,e,r,i)).username=a,o}return(0,v.Z)(n)}(kp),Sp=function(e){(0,R.Z)(n,e);var t=(0,P.Z)(n);function n(e,r){return(0,p.Z)(this,n),t.call(this,e,"facebook.com",r)}return(0,v.Z)(n)}(kp),Ep=function(e){(0,R.Z)(n,e);var t=(0,P.Z)(n);function n(e,r){return(0,p.Z)(this,n),t.call(this,e,"github.com",r,"string"===typeof(null===r||void 0===r?void 0:r.login)?null===r||void 0===r?void 0:r.login:null)}return(0,v.Z)(n)}(wp),xp=function(e){(0,R.Z)(n,e);var t=(0,P.Z)(n);function n(e,r){return(0,p.Z)(this,n),t.call(this,e,"google.com",r)}return(0,v.Z)(n)}(kp),Ip=function(e){(0,R.Z)(n,e);var t=(0,P.Z)(n);function n(e,r,i){return(0,p.Z)(this,n),t.call(this,e,"twitter.com",r,i)}return(0,v.Z)(n)}(wp);function Tp(e){var t=e.user,n=e._tokenResponse;return t.isAnonymous&&!n?{providerId:null,isNewUser:!1,profile:null}:function(e){var t,n;if(!e)return null;var r=e.providerId,i=e.rawUserInfo?JSON.parse(e.rawUserInfo):{},a=e.isNewUser||"identitytoolkit#SignupNewUserResponse"===e.kind;if(!r&&(null===e||void 0===e?void 0:e.idToken)){var o=null===(n=null===(t=Vd(e.idToken))||void 0===t?void 0:t.firebase)||void 0===n?void 0:n.sign_in_provider;if(o)return new kp(a,"anonymous"!==o&&"custom"!==o?o:null)}if(!r)return null;switch(r){case"facebook.com":return new Sp(a,i);case"github.com":return new Ep(a,i);case"google.com":return new xp(a,i);case"twitter.com":return new Ip(a,i,e.screenName||null);case"custom":case"anonymous":return new kp(a,null);default:return new kp(a,r,i)}}(n)}var Cp=function(){function e(t,n){(0,p.Z)(this,e),this.type=t,this.credential=n}return(0,v.Z)(e,[{key:"toJSON",value:function(){var e="enroll"===this.type?"idToken":"pendingCredential";return{multiFactorSession:(0,mn.Z)({},e,this.credential)}}}],[{key:"_fromIdtoken",value:function(t){return new e("enroll",t)}},{key:"_fromMfaPendingCredential",value:function(t){return new e("signin",t)}},{key:"fromJSON",value:function(t){var n,r;if(null===t||void 0===t?void 0:t.multiFactorSession){if(null===(n=t.multiFactorSession)||void 0===n?void 0:n.pendingCredential)return e._fromMfaPendingCredential(t.multiFactorSession.pendingCredential);if(null===(r=t.multiFactorSession)||void 0===r?void 0:r.idToken)return e._fromIdtoken(t.multiFactorSession.idToken)}return null}}]),e}(),Np=function(){function e(t,n,r){(0,p.Z)(this,e),this.session=t,this.hints=n,this.signInResolver=r}return(0,v.Z)(e,[{key:"resolveSignIn",value:function(){var e=Jr(Kr().mark((function e(t){var n;return Kr().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=t,e.abrupt("return",this.signInResolver(n));case 2:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()}],[{key:"_fromError",value:function(t,n){var r=Nf(t),i=n.customData._serverResponse,a=(i.mfaInfo||[]).map((function(e){return Qh._fromServerResponse(r,e)}));pd(i.mfaPendingCredential,r,"internal-error");var o=Cp._fromMfaPendingCredential(i.mfaPendingCredential);return new e(o,a,function(){var e=Jr(Kr().mark((function e(t){var a,s,u;return Kr().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,t._process(r,o);case 2:a=e.sent,delete i.mfaInfo,delete i.mfaPendingCredential,s=Object.assign(Object.assign({},i),{idToken:a.idToken,refreshToken:a.refreshToken}),e.t0=n.operationType,e.next="signIn"===e.t0?9:"reauthenticate"===e.t0?15:17;break;case 9:return e.next=11,Th._fromIdTokenResponse(r,n.operationType,s);case 11:return u=e.sent,e.next=14,r._updateCurrentUser(u.user);case 14:return e.abrupt("return",u);case 15:return pd(n.user,r,"internal-error"),e.abrupt("return",Th._forOperation(n.user,n.operationType,s));case 17:cd(r,"internal-error");case 18:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}())}}]),e}();function Rp(e,t){return Nd(e,"POST","/v2/accounts/mfaEnrollment:start",Cd(e,t))}function Pp(e,t){return Nd(e,"POST","/v2/accounts/mfaEnrollment:withdraw",Cd(e,t))}var Op=function(){function e(t){var n=this;(0,p.Z)(this,e),this.user=t,this.enrolledFactors=[],t._onReload((function(e){e.mfaInfo&&(n.enrolledFactors=e.mfaInfo.map((function(e){return Qh._fromServerResponse(t.auth,e)})))}))}return(0,v.Z)(e,[{key:"getSession",value:function(){var e=Jr(Kr().mark((function e(){return Kr().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.t0=Cp,e.next=3,this.user.getIdToken();case 3:return e.t1=e.sent,e.abrupt("return",e.t0._fromIdtoken.call(e.t0,e.t1));case 5:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"enroll",value:function(){var e=Jr(Kr().mark((function e(t,n){var r,i,a;return Kr().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=t,e.next=3,this.getSession();case 3:return i=e.sent,e.next=6,Yd(this.user,r._process(this.user.auth,i,n));case 6:return a=e.sent,e.next=9,this.user._updateTokensIfNecessary(a);case 9:return e.abrupt("return",this.user.reload());case 10:case"end":return e.stop()}}),e,this)})));return function(t,n){return e.apply(this,arguments)}}()},{key:"unenroll",value:function(){var e=Jr(Kr().mark((function e(t){var n,r,i,a;return Kr().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r="string"===typeof t?t:t.uid,e.next=3,this.user.getIdToken();case 3:return i=e.sent,e.next=6,Yd(this.user,Pp(this.user.auth,{idToken:i,mfaEnrollmentId:r}));case 6:return a=e.sent,this.enrolledFactors=this.enrolledFactors.filter((function(e){return e.uid!==r})),e.next=10,this.user._updateTokensIfNecessary(a);case 10:return e.prev=10,e.next=13,this.user.reload();case 13:e.next=19;break;case 15:if(e.prev=15,e.t0=e.catch(10),(null===(n=e.t0)||void 0===n?void 0:n.code)==="auth/".concat("user-token-expired")){e.next=19;break}throw e.t0;case 19:case"end":return e.stop()}}),e,this,[[10,15]])})));return function(t){return e.apply(this,arguments)}}()}],[{key:"_fromUser",value:function(t){return new e(t)}}]),e}(),Dp=new WeakMap;var Ap="__sak",Zp=function(){function e(t,n){(0,p.Z)(this,e),this.storageRetriever=t,this.type=n}return(0,v.Z)(e,[{key:"_isAvailable",value:function(){try{return this.storage?(this.storage.setItem(Ap,"1"),this.storage.removeItem(Ap),Promise.resolve(!0)):Promise.resolve(!1)}catch(e){return Promise.resolve(!1)}}},{key:"_set",value:function(e,t){return this.storage.setItem(e,JSON.stringify(t)),Promise.resolve()}},{key:"_get",value:function(e){var t=this.storage.getItem(e);return Promise.resolve(t?JSON.parse(t):null)}},{key:"_remove",value:function(e){return this.storage.removeItem(e),Promise.resolve()}},{key:"storage",get:function(){return this.storageRetriever()}}]),e}();var Lp=function(e){(0,R.Z)(n,e);var t=(0,P.Z)(n);function n(){var e;return(0,p.Z)(this,n),(e=t.call(this,(function(){return window.localStorage}),"LOCAL")).boundEventHandler=function(t,n){return e.onStorageEvent(t,n)},e.listeners={},e.localCache={},e.pollTimer=null,e.safariLocalStorageNotSynced=function(){var e=gr();return mf(e)||wf(e)}()&&function(){try{return!(!window||window===window.top)}catch(e){return!1}}(),e.fallbackToPolling=xf(),e._shouldAllowMigration=!0,e}return(0,v.Z)(n,[{key:"forAllChangedKeys",value:function(e){for(var t=0,n=Object.keys(this.listeners);t<n.length;t++){var r=n[t],i=this.storage.getItem(r),a=this.localCache[r];i!==a&&e(r,a,i)}}},{key:"onStorageEvent",value:function(e){var t=this,n=arguments.length>1&&void 0!==arguments[1]&&arguments[1];if(e.key){var r=e.key;if(n?this.detachListener():this.stopPolling(),this.safariLocalStorageNotSynced){var i=this.storage.getItem(r);if(e.newValue!==i)null!==e.newValue?this.storage.setItem(r,e.newValue):this.storage.removeItem(r);else if(this.localCache[r]===e.newValue&&!n)return}var a=function(){var e=t.storage.getItem(r);(n||t.localCache[r]!==e)&&t.notifyListeners(r,e)},o=this.storage.getItem(r);Ef()&&o!==e.newValue&&e.newValue!==e.oldValue?setTimeout(a,10):a()}else this.forAllChangedKeys((function(e,n,r){t.notifyListeners(e,r)}))}},{key:"notifyListeners",value:function(e,t){this.localCache[e]=t;var n=this.listeners[e];if(n)for(var r=0,i=Array.from(n);r<i.length;r++){(0,i[r])(t?JSON.parse(t):t)}}},{key:"startPolling",value:function(){var e=this;this.stopPolling(),this.pollTimer=setInterval((function(){e.forAllChangedKeys((function(t,n,r){e.onStorageEvent(new StorageEvent("storage",{key:t,oldValue:n,newValue:r}),!0)}))}),1e3)}},{key:"stopPolling",value:function(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}},{key:"attachListener",value:function(){window.addEventListener("storage",this.boundEventHandler)}},{key:"detachListener",value:function(){window.removeEventListener("storage",this.boundEventHandler)}},{key:"_addListener",value:function(e,t){0===Object.keys(this.listeners).length&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[e]||(this.listeners[e]=new Set,this.localCache[e]=this.storage.getItem(e)),this.listeners[e].add(t)}},{key:"_removeListener",value:function(e,t){this.listeners[e]&&(this.listeners[e].delete(t),0===this.listeners[e].size&&delete this.listeners[e]),0===Object.keys(this.listeners).length&&(this.detachListener(),this.stopPolling())}},{key:"_set",value:function(){var e=Jr(Kr().mark((function e(t,r){return Kr().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,(0,C.Z)((0,N.Z)(n.prototype),"_set",this).call(this,t,r);case 2:this.localCache[t]=JSON.stringify(r);case 3:case"end":return e.stop()}}),e,this)})));return function(t,n){return e.apply(this,arguments)}}()},{key:"_get",value:function(){var e=Jr(Kr().mark((function e(t){var r;return Kr().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,(0,C.Z)((0,N.Z)(n.prototype),"_get",this).call(this,t);case 2:return r=e.sent,this.localCache[t]=JSON.stringify(r),e.abrupt("return",r);case 5:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"_remove",value:function(){var e=Jr(Kr().mark((function e(t){return Kr().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,(0,C.Z)((0,N.Z)(n.prototype),"_remove",this).call(this,t);case 2:delete this.localCache[t];case 3:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()}]),n}(Zp);Lp.type="LOCAL";var Up=Lp,Mp=function(e){(0,R.Z)(n,e);var t=(0,P.Z)(n);function n(){return(0,p.Z)(this,n),t.call(this,(function(){return window.sessionStorage}),"SESSION")}return(0,v.Z)(n,[{key:"_addListener",value:function(e,t){}},{key:"_removeListener",value:function(e,t){}}]),n}(Zp);Mp.type="SESSION";var jp=Mp;function Fp(e){return Promise.all(e.map(function(){var e=Jr(Kr().mark((function e(t){var n;return Kr().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,t;case 3:return n=e.sent,e.abrupt("return",{fulfilled:!0,value:n});case 7:return e.prev=7,e.t0=e.catch(0),e.abrupt("return",{fulfilled:!1,reason:e.t0});case 10:case"end":return e.stop()}}),e,null,[[0,7]])})));return function(t){return e.apply(this,arguments)}}()))}var qp=function(){function e(t){(0,p.Z)(this,e),this.eventTarget=t,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}return(0,v.Z)(e,[{key:"isListeningto",value:function(e){return this.eventTarget===e}},{key:"handleEvent",value:function(){var e=Jr(Kr().mark((function e(t){var n,r,i,a,o,s,u,c;return Kr().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(r=(n=t).data,i=r.eventId,a=r.eventType,o=r.data,null===(s=this.handlersMap[a])||void 0===s?void 0:s.size){e.next=5;break}return e.abrupt("return");case 5:return n.ports[0].postMessage({status:"ack",eventId:i,eventType:a}),u=Array.from(s).map(function(){var e=Jr(Kr().mark((function e(t){return Kr().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",t(n.origin,o));case 1:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()),e.next=9,Fp(u);case 9:c=e.sent,n.ports[0].postMessage({status:"done",eventId:i,eventType:a,response:c});case 11:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"_subscribe",value:function(e,t){0===Object.keys(this.handlersMap).length&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[e]||(this.handlersMap[e]=new Set),this.handlersMap[e].add(t)}},{key:"_unsubscribe",value:function(e,t){this.handlersMap[e]&&t&&this.handlersMap[e].delete(t),t&&0!==this.handlersMap[e].size||delete this.handlersMap[e],0===Object.keys(this.handlersMap).length&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}],[{key:"_getInstance",value:function(t){var n=this.receivers.find((function(e){return e.isListeningto(t)}));if(n)return n;var r=new e(t);return this.receivers.push(r),r}}]),e}();function zp(){for(var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"",t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:10,n="",r=0;r<t;r++)n+=Math.floor(10*Math.random());return e+n}qp.receivers=[];var Bp=function(){function e(t){(0,p.Z)(this,e),this.target=t,this.handlers=new Set}return(0,v.Z)(e,[{key:"removeMessageHandler",value:function(e){e.messageChannel&&(e.messageChannel.port1.removeEventListener("message",e.onMessage),e.messageChannel.port1.close()),this.handlers.delete(e)}},{key:"_send",value:function(){var e=Jr(Kr().mark((function e(t,n){var r,i,a,o,s=this,u=arguments;return Kr().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(r=u.length>2&&void 0!==u[2]?u[2]:50,i="undefined"!==typeof MessageChannel?new MessageChannel:null){e.next=4;break}throw new Error("connection_unavailable");case 4:return e.abrupt("return",new Promise((function(e,u){var c=zp("",20);i.port1.start();var l=setTimeout((function(){u(new Error("unsupported_event"))}),r);o={messageChannel:i,onMessage:function(t){var n=t;if(n.data.eventId===c)switch(n.data.status){case"ack":clearTimeout(l),a=setTimeout((function(){u(new Error("timeout"))}),3e3);break;case"done":clearTimeout(a),e(n.data.response);break;default:clearTimeout(l),clearTimeout(a),u(new Error("invalid_response"))}}},s.handlers.add(o),i.port1.addEventListener("message",o.onMessage),s.target.postMessage({eventType:t,eventId:c,data:n},[i.port2])})).finally((function(){o&&s.removeMessageHandler(o)})));case 5:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}()}]),e}();function Wp(){return window}function Gp(){return"undefined"!==typeof Wp().WorkerGlobalScope&&"function"===typeof Wp().importScripts}function Hp(){return Vp.apply(this,arguments)}function Vp(){return(Vp=Jr(Kr().mark((function e(){var t;return Kr().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(null===navigator||void 0===navigator?void 0:navigator.serviceWorker){e.next=2;break}return e.abrupt("return",null);case 2:return e.prev=2,e.next=5,navigator.serviceWorker.ready;case 5:return t=e.sent,e.abrupt("return",t.active);case 9:return e.prev=9,e.t0=e.catch(2),e.abrupt("return",null);case 12:case"end":return e.stop()}}),e,null,[[2,9]])})))).apply(this,arguments)}function Yp(){var e;return(null===(e=null===navigator||void 0===navigator?void 0:navigator.serviceWorker)||void 0===e?void 0:e.controller)||null}var Kp="firebaseLocalStorageDb",$p="firebaseLocalStorage",Jp="fbase_key",Qp=function(){function e(t){(0,p.Z)(this,e),this.request=t}return(0,v.Z)(e,[{key:"toPromise",value:function(){var e=this;return new Promise((function(t,n){e.request.addEventListener("success",(function(){t(e.request.result)})),e.request.addEventListener("error",(function(){n(e.request.error)}))}))}}]),e}();function Xp(e,t){return e.transaction([$p],t?"readwrite":"readonly").objectStore($p)}function ev(){var e=indexedDB.deleteDatabase(Kp);return new Qp(e).toPromise()}function tv(){var e=indexedDB.open(Kp,1);return new Promise((function(t,n){e.addEventListener("error",(function(){n(e.error)})),e.addEventListener("upgradeneeded",(function(){var t=e.result;try{t.createObjectStore($p,{keyPath:Jp})}catch(r){n(r)}})),e.addEventListener("success",Jr(Kr().mark((function n(){var r;return Kr().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:if((r=e.result).objectStoreNames.contains($p)){n.next=12;break}return r.close(),n.next=5,ev();case 5:return n.t0=t,n.next=8,tv();case 8:n.t1=n.sent,(0,n.t0)(n.t1),n.next=13;break;case 12:t(r);case 13:case"end":return n.stop()}}),n)}))))}))}function nv(e,t,n){return rv.apply(this,arguments)}function rv(){return rv=Jr(Kr().mark((function e(t,n,r){var i,a;return Kr().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a=Xp(t,!0).put((i={},(0,mn.Z)(i,Jp,n),(0,mn.Z)(i,"value",r),i)),e.abrupt("return",new Qp(a).toPromise());case 2:case"end":return e.stop()}}),e)}))),rv.apply(this,arguments)}function iv(e,t){return av.apply(this,arguments)}function av(){return av=Jr(Kr().mark((function e(t,n){var r,i;return Kr().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=Xp(t,!1).get(n),e.next=3,new Qp(r).toPromise();case 3:return i=e.sent,e.abrupt("return",void 0===i?null:i.value);case 5:case"end":return e.stop()}}),e)}))),av.apply(this,arguments)}function ov(e,t){var n=Xp(e,!0).delete(t);return new Qp(n).toPromise()}var sv=function(){function e(){(0,p.Z)(this,e),this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then((function(){}),(function(){}))}return(0,v.Z)(e,[{key:"_openDb",value:function(){var e=Jr(Kr().mark((function e(){return Kr().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!this.db){e.next=2;break}return e.abrupt("return",this.db);case 2:return e.next=4,tv();case 4:return this.db=e.sent,e.abrupt("return",this.db);case 6:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"_withRetries",value:function(){var e=Jr(Kr().mark((function e(t){var n,r;return Kr().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:n=0;case 1:return e.prev=2,e.next=5,this._openDb();case 5:return r=e.sent,e.next=8,t(r);case 8:return e.abrupt("return",e.sent);case 11:if(e.prev=11,e.t0=e.catch(2),!(n++>3)){e.next=15;break}throw e.t0;case 15:this.db&&(this.db.close(),this.db=void 0);case 16:e.next=1;break;case 18:case"end":return e.stop()}}),e,this,[[2,11]])})));return function(t){return e.apply(this,arguments)}}()},{key:"initializeServiceWorkerMessaging",value:function(){var e=Jr(Kr().mark((function e(){return Kr().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",Gp()?this.initializeReceiver():this.initializeSender());case 1:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"initializeReceiver",value:function(){var e=Jr(Kr().mark((function e(){var t=this;return Kr().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:this.receiver=qp._getInstance(Gp()?self:null),this.receiver._subscribe("keyChanged",function(){var e=Jr(Kr().mark((function e(n,r){var i;return Kr().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,t._poll();case 2:return i=e.sent,e.abrupt("return",{keyProcessed:i.includes(r.key)});case 4:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}()),this.receiver._subscribe("ping",function(){var e=Jr(Kr().mark((function e(t,n){return Kr().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",["keyChanged"]);case 1:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}());case 3:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"initializeSender",value:function(){var e=Jr(Kr().mark((function e(){var t,n,r;return Kr().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Hp();case 2:if(this.activeServiceWorker=e.sent,this.activeServiceWorker){e.next=5;break}return e.abrupt("return");case 5:return this.sender=new Bp(this.activeServiceWorker),e.next=8,this.sender._send("ping",{},800);case 8:if(r=e.sent){e.next=11;break}return e.abrupt("return");case 11:(null===(t=r[0])||void 0===t?void 0:t.fulfilled)&&(null===(n=r[0])||void 0===n?void 0:n.value.includes("keyChanged"))&&(this.serviceWorkerReceiverAvailable=!0);case 12:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"notifyServiceWorker",value:function(){var e=Jr(Kr().mark((function e(t){return Kr().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(this.sender&&this.activeServiceWorker&&Yp()===this.activeServiceWorker){e.next=2;break}return e.abrupt("return");case 2:return e.prev=2,e.next=5,this.sender._send("keyChanged",{key:t},this.serviceWorkerReceiverAvailable?800:50);case 5:e.next=9;break;case 7:e.prev=7,e.t0=e.catch(2);case 9:case"end":return e.stop()}}),e,this,[[2,7]])})));return function(t){return e.apply(this,arguments)}}()},{key:"_isAvailable",value:function(){var e=Jr(Kr().mark((function e(){var t;return Kr().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(e.prev=0,indexedDB){e.next=3;break}return e.abrupt("return",!1);case 3:return e.next=5,tv();case 5:return t=e.sent,e.next=8,nv(t,Ap,"1");case 8:return e.next=10,ov(t,Ap);case 10:return e.abrupt("return",!0);case 13:e.prev=13,e.t0=e.catch(0);case 15:return e.abrupt("return",!1);case 16:case"end":return e.stop()}}),e,null,[[0,13]])})));return function(){return e.apply(this,arguments)}}()},{key:"_withPendingWrite",value:function(){var e=Jr(Kr().mark((function e(t){return Kr().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return this.pendingWrites++,e.prev=1,e.next=4,t();case 4:return e.prev=4,this.pendingWrites--,e.finish(4);case 7:case"end":return e.stop()}}),e,this,[[1,,4,7]])})));return function(t){return e.apply(this,arguments)}}()},{key:"_set",value:function(){var e=Jr(Kr().mark((function e(t,n){var r=this;return Kr().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",this._withPendingWrite(Jr(Kr().mark((function e(){return Kr().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,r._withRetries((function(e){return nv(e,t,n)}));case 2:return r.localCache[t]=n,e.abrupt("return",r.notifyServiceWorker(t));case 4:case"end":return e.stop()}}),e)})))));case 1:case"end":return e.stop()}}),e,this)})));return function(t,n){return e.apply(this,arguments)}}()},{key:"_get",value:function(){var e=Jr(Kr().mark((function e(t){var n;return Kr().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this._withRetries((function(e){return iv(e,t)}));case 2:return n=e.sent,this.localCache[t]=n,e.abrupt("return",n);case 5:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"_remove",value:function(){var e=Jr(Kr().mark((function e(t){var n=this;return Kr().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",this._withPendingWrite(Jr(Kr().mark((function e(){return Kr().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,n._withRetries((function(e){return ov(e,t)}));case 2:return delete n.localCache[t],e.abrupt("return",n.notifyServiceWorker(t));case 4:case"end":return e.stop()}}),e)})))));case 1:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"_poll",value:function(){var e=Jr(Kr().mark((function e(){var t,n,r,i,a,o,s,u,c,l,d;return Kr().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this._withRetries((function(e){var t=Xp(e,!1).getAll();return new Qp(t).toPromise()}));case 2:if(t=e.sent){e.next=5;break}return e.abrupt("return",[]);case 5:if(0===this.pendingWrites){e.next=7;break}return e.abrupt("return",[]);case 7:n=[],r=new Set,i=(0,Z.Z)(t);try{for(i.s();!(a=i.n()).done;)o=a.value,s=o.fbase_key,u=o.value,r.add(s),JSON.stringify(this.localCache[s])!==JSON.stringify(u)&&(this.notifyListeners(s,u),n.push(s))}catch(f){i.e(f)}finally{i.f()}for(c=0,l=Object.keys(this.localCache);c<l.length;c++)d=l[c],this.localCache[d]&&!r.has(d)&&(this.notifyListeners(d,null),n.push(d));return e.abrupt("return",n);case 13:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"notifyListeners",value:function(e,t){this.localCache[e]=t;var n=this.listeners[e];if(n)for(var r=0,i=Array.from(n);r<i.length;r++){(0,i[r])(t)}}},{key:"startPolling",value:function(){var e=this;this.stopPolling(),this.pollTimer=setInterval(Jr(Kr().mark((function t(){return Kr().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.abrupt("return",e._poll());case 1:case"end":return t.stop()}}),t)}))),800)}},{key:"stopPolling",value:function(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}},{key:"_addListener",value:function(e,t){0===Object.keys(this.listeners).length&&this.startPolling(),this.listeners[e]||(this.listeners[e]=new Set,this._get(e)),this.listeners[e].add(t)}},{key:"_removeListener",value:function(e,t){this.listeners[e]&&(this.listeners[e].delete(t),0===this.listeners[e].size&&delete this.listeners[e]),0===Object.keys(this.listeners).length&&this.stopPolling()}}]),e}();sv.type="LOCAL";var uv=sv;function cv(e,t){return Nd(e,"POST","/v2/accounts/mfaSignIn:start",Cd(e,t))}function lv(e){return dv.apply(this,arguments)}function dv(){return dv=Jr(Kr().mark((function e(t){return Kr().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Nd(t,"GET","/v1/recaptchaParams");case 2:if(e.t0=e.sent.recaptchaSiteKey,e.t0){e.next=5;break}e.t0="";case 5:return e.abrupt("return",e.t0);case 6:case"end":return e.stop()}}),e)}))),dv.apply(this,arguments)}function fv(e){return new Promise((function(t,n){var r=document.createElement("script");r.setAttribute("src",e),r.onload=t,r.onerror=function(e){var t=ld("internal-error");t.customData=e,n(t)},r.type="text/javascript",r.charset="UTF-8",function(){var e,t;return null!==(t=null===(e=document.getElementsByTagName("head"))||void 0===e?void 0:e[0])&&void 0!==t?t:document}().appendChild(r)}))}function hv(e){return"__".concat(e).concat(Math.floor(1e6*Math.random()))}var pv=1e12,vv=function(){function e(t){(0,p.Z)(this,e),this.auth=t,this.counter=pv,this._widgets=new Map}return(0,v.Z)(e,[{key:"render",value:function(e,t){var n=this.counter;return this._widgets.set(n,new mv(e,this.auth.name,t||{})),this.counter++,n}},{key:"reset",value:function(e){var t,n=e||pv;null===(t=this._widgets.get(n))||void 0===t||t.delete(),this._widgets.delete(n)}},{key:"getResponse",value:function(e){var t,n=e||pv;return(null===(t=this._widgets.get(n))||void 0===t?void 0:t.getResponse())||""}},{key:"execute",value:function(){var e=Jr(Kr().mark((function e(t){var n,r;return Kr().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=t||pv,null===(n=this._widgets.get(r))||void 0===n||n.execute(),e.abrupt("return","");case 3:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()}]),e}(),mv=function(){function e(t,n,r){var i=this;(0,p.Z)(this,e),this.params=r,this.timerId=null,this.deleted=!1,this.responseToken=null,this.clickHandler=function(){i.execute()};var a="string"===typeof t?document.getElementById(t):t;pd(a,"argument-error",{appName:n}),this.container=a,this.isVisible="invisible"!==this.params.size,this.isVisible?this.execute():this.container.addEventListener("click",this.clickHandler)}return(0,v.Z)(e,[{key:"getResponse",value:function(){return this.checkIfDeleted(),this.responseToken}},{key:"delete",value:function(){this.checkIfDeleted(),this.deleted=!0,this.timerId&&(clearTimeout(this.timerId),this.timerId=null),this.container.removeEventListener("click",this.clickHandler)}},{key:"execute",value:function(){var e=this;this.checkIfDeleted(),this.timerId||(this.timerId=window.setTimeout((function(){e.responseToken=function(e){for(var t=[],n="1234567890abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ",r=0;r<e;r++)t.push(n.charAt(Math.floor(Math.random()*n.length)));return t.join("")}(50);var t=e.params,n=t.callback,r=t["expired-callback"];if(n)try{n(e.responseToken)}catch(i){}e.timerId=window.setTimeout((function(){if(e.timerId=null,e.responseToken=null,r)try{r()}catch(i){}e.isVisible&&e.execute()}),6e4)}),500))}},{key:"checkIfDeleted",value:function(){if(this.deleted)throw new Error("reCAPTCHA mock was already deleted!")}}]),e}();var gv=hv("rcb"),yv=new Sd(3e4,6e4),_v="https://www.google.com/recaptcha/api.js?",bv=function(){function e(){(0,p.Z)(this,e),this.hostLanguage="",this.counter=0,this.librarySeparatelyLoaded=!!Wp().grecaptcha}return(0,v.Z)(e,[{key:"load",value:function(e){var t=this,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"";return pd(kv(n),e,"argument-error"),this.shouldResolveImmediately(n)?Promise.resolve(Wp().grecaptcha):new Promise((function(r,i){var a=Wp().setTimeout((function(){i(ld(e,"network-request-failed"))}),yv.get());Wp()[gv]=function(){Wp().clearTimeout(a),delete Wp()[gv];var o=Wp().grecaptcha;if(o){var s=o.render;o.render=function(e,n){var r=s(e,n);return t.counter++,r},t.hostLanguage=n,r(o)}else i(ld(e,"internal-error"))},fv("".concat(_v,"?").concat(Mr({onload:gv,render:"explicit",hl:n}))).catch((function(){clearTimeout(a),i(ld(e,"internal-error"))}))}))}},{key:"clearedOneInstance",value:function(){this.counter--}},{key:"shouldResolveImmediately",value:function(e){return!!Wp().grecaptcha&&(e===this.hostLanguage||this.counter>0||this.librarySeparatelyLoaded)}}]),e}();function kv(e){return e.length<=6&&/^\s*[a-zA-Z0-9\-]*\s*$/.test(e)}var wv=function(){function e(){(0,p.Z)(this,e)}return(0,v.Z)(e,[{key:"load",value:function(){var e=Jr(Kr().mark((function e(t){return Kr().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",new vv(t));case 1:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()},{key:"clearedOneInstance",value:function(){}}]),e}(),Sv="recaptcha",Ev={theme:"light",type:"image"},xv=function(){function e(t){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:Object.assign({},Ev),r=arguments.length>2?arguments[2]:void 0;(0,p.Z)(this,e),this.parameters=n,this.type=Sv,this.destroyed=!1,this.widgetId=null,this.tokenChangeListeners=new Set,this.renderPromise=null,this.recaptcha=null,this.auth=Nf(r),this.isInvisible="invisible"===this.parameters.size,pd("undefined"!==typeof document,this.auth,"operation-not-supported-in-this-environment");var i="string"===typeof t?document.getElementById(t):t;pd(i,this.auth,"argument-error"),this.container=i,this.parameters.callback=this.makeTokenCallback(this.parameters.callback),this._recaptchaLoader=this.auth.settings.appVerificationDisabledForTesting?new wv:new bv,this.validateStartingState()}return(0,v.Z)(e,[{key:"verify",value:function(){var e=Jr(Kr().mark((function e(){var t,n,r,i=this;return Kr().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return this.assertNotDestroyed(),e.next=3,this.render();case 3:if(t=e.sent,n=this.getAssertedRecaptcha(),!(r=n.getResponse(t))){e.next=8;break}return e.abrupt("return",r);case 8:return e.abrupt("return",new Promise((function(e){i.tokenChangeListeners.add((function t(n){n&&(i.tokenChangeListeners.delete(t),e(n))})),i.isInvisible&&n.execute(t)})));case 9:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"render",value:function(){var e=this;try{this.assertNotDestroyed()}catch(t){return Promise.reject(t)}return this.renderPromise||(this.renderPromise=this.makeRenderPromise().catch((function(t){throw e.renderPromise=null,t}))),this.renderPromise}},{key:"_reset",value:function(){this.assertNotDestroyed(),null!==this.widgetId&&this.getAssertedRecaptcha().reset(this.widgetId)}},{key:"clear",value:function(){var e=this;this.assertNotDestroyed(),this.destroyed=!0,this._recaptchaLoader.clearedOneInstance(),this.isInvisible||this.container.childNodes.forEach((function(t){e.container.removeChild(t)}))}},{key:"validateStartingState",value:function(){pd(!this.parameters.sitekey,this.auth,"argument-error"),pd(this.isInvisible||!this.container.hasChildNodes(),this.auth,"argument-error"),pd("undefined"!==typeof document,this.auth,"operation-not-supported-in-this-environment")}},{key:"makeTokenCallback",value:function(e){var t=this;return function(n){if(t.tokenChangeListeners.forEach((function(e){return e(n)})),"function"===typeof e)e(n);else if("string"===typeof e){var r=Wp()[e];"function"===typeof r&&r(n)}}}},{key:"assertNotDestroyed",value:function(){pd(!this.destroyed,this.auth,"internal-error")}},{key:"makeRenderPromise",value:function(){var e=Jr(Kr().mark((function e(){var t,n;return Kr().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.init();case 2:return this.widgetId||(t=this.container,this.isInvisible||(n=document.createElement("div"),t.appendChild(n),t=n),this.widgetId=this.getAssertedRecaptcha().render(t,this.parameters)),e.abrupt("return",this.widgetId);case 4:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"init",value:function(){var e=Jr(Kr().mark((function e(){var t;return Kr().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return pd(kd()&&!Gp(),this.auth,"internal-error"),e.next=3,Iv();case 3:return e.next=5,this._recaptchaLoader.load(this.auth,this.auth.languageCode||void 0);case 5:return this.recaptcha=e.sent,e.next=8,lv(this.auth);case 8:pd(t=e.sent,this.auth,"internal-error"),this.parameters.sitekey=t;case 11:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"getAssertedRecaptcha",value:function(){return pd(this.recaptcha,this.auth,"internal-error"),this.recaptcha}}]),e}();function Iv(){var e=null;return new Promise((function(t){"complete"!==document.readyState?(e=function(){return t()},window.addEventListener("load",e)):t()})).catch((function(t){throw e&&window.removeEventListener("load",e),t}))}var Tv=function(){function e(t,n){(0,p.Z)(this,e),this.verificationId=t,this.onConfirmation=n}return(0,v.Z)(e,[{key:"confirm",value:function(e){var t=hh._fromVerification(this.verificationId,e);return this.onConfirmation(t)}}]),e}();function Cv(){return Cv=Jr(Kr().mark((function e(t,n,r){var i,a;return Kr().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return i=Nf(t),e.next=3,Ov(i,n,Vr(r));case 3:return a=e.sent,e.abrupt("return",new Tv(a,(function(e){return Bh(i,e)})));case 5:case"end":return e.stop()}}),e)}))),Cv.apply(this,arguments)}function Nv(e,t,n){return Rv.apply(this,arguments)}function Rv(){return(Rv=Jr(Kr().mark((function e(t,n,r){var i,a;return Kr().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return i=Vr(t),e.next=3,Uh(!1,i,"phone");case 3:return e.next=5,Ov(i.auth,n,Vr(r));case 5:return a=e.sent,e.abrupt("return",new Tv(a,(function(e){return Gh(i,e)})));case 7:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function Pv(){return(Pv=Jr(Kr().mark((function e(t,n,r){var i,a;return Kr().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return i=Vr(t),e.next=3,Ov(i.auth,n,Vr(r));case 3:return a=e.sent,e.abrupt("return",new Tv(a,(function(e){return Vh(i,e)})));case 5:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function Ov(e,t,n){return Dv.apply(this,arguments)}function Dv(){return Dv=Jr(Kr().mark((function e(t,n,r){var i,a,o,s,u,c,l,d,f;return Kr().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,r.verify();case 2:if(a=e.sent,e.prev=3,pd("string"===typeof a,t,"argument-error"),pd(r.type===Sv,t,"argument-error"),!("session"in(o="string"===typeof n?{phoneNumber:n}:n))){e.next=26;break}if(s=o.session,!("phoneNumber"in o)){e.next=17;break}return pd("enroll"===s.type,t,"internal-error"),e.next=13,Rp(t,{idToken:s.credential,phoneEnrollmentInfo:{phoneNumber:o.phoneNumber,recaptchaToken:a}});case 13:return u=e.sent,e.abrupt("return",u.phoneSessionInfo.sessionInfo);case 17:return pd("signin"===s.type,t,"internal-error"),pd(c=(null===(i=o.multiFactorHint)||void 0===i?void 0:i.uid)||o.multiFactorUid,t,"missing-multi-factor-info"),e.next=22,cv(t,{mfaPendingCredential:s.credential,mfaEnrollmentId:c,phoneSignInInfo:{recaptchaToken:a}});case 22:return l=e.sent,e.abrupt("return",l.phoneResponseInfo.sessionInfo);case 24:e.next=31;break;case 26:return e.next=28,sh(t,{phoneNumber:o.phoneNumber,recaptchaToken:a});case 28:return d=e.sent,f=d.sessionInfo,e.abrupt("return",f);case 31:return e.prev=31,r._reset(),e.finish(31);case 34:case"end":return e.stop()}}),e,null,[[3,,31,34]])}))),Dv.apply(this,arguments)}function Av(){return(Av=Jr(Kr().mark((function e(t,n){return Kr().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Zh(Vr(t),n);case 2:case"end":return e.stop()}}),e)})))).apply(this,arguments)}var Zv=function(){function e(t){(0,p.Z)(this,e),this.providerId=e.PROVIDER_ID,this.auth=Nf(t)}return(0,v.Z)(e,[{key:"verifyPhoneNumber",value:function(e,t){return Ov(this.auth,e,Vr(t))}}],[{key:"credential",value:function(e,t){return hh._fromVerification(e,t)}},{key:"credentialFromResult",value:function(t){var n=t;return e.credentialFromTaggedObject(n)}},{key:"credentialFromError",value:function(t){return e.credentialFromTaggedObject(t.customData||{})}},{key:"credentialFromTaggedObject",value:function(e){var t=e._tokenResponse;if(!t)return null;var n=t.phoneNumber,r=t.temporaryProof;return n&&r?hh._fromTokenResponse(n,r):null}}]),e}();function Lv(e,t){return t?yd(t):(pd(e._popupRedirectResolver,e,"argument-error"),e._popupRedirectResolver)}Zv.PROVIDER_ID="phone",Zv.PHONE_SIGN_IN_METHOD="phone";var Uv=function(e){(0,R.Z)(n,e);var t=(0,P.Z)(n);function n(e){var r;return(0,p.Z)(this,n),(r=t.call(this,"custom","custom")).params=e,r}return(0,v.Z)(n,[{key:"_getIdTokenResponse",value:function(e){return ih(e,this._buildIdpRequest())}},{key:"_linkToIdToken",value:function(e,t){return ih(e,this._buildIdpRequest(t))}},{key:"_getReauthenticationResolver",value:function(e){return ih(e,this._buildIdpRequest())}},{key:"_buildIdpRequest",value:function(e){var t={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return e&&(t.idToken=e),t}}]),n}(Af);function Mv(e){return qh(e.auth,new Uv(e),e.bypassAuthState)}function jv(e){var t=e.auth,n=e.user;return pd(n,t,"internal-error"),jh(n,new Uv(e),e.bypassAuthState)}function Fv(e){return qv.apply(this,arguments)}function qv(){return qv=Jr(Kr().mark((function e(t){var n,r;return Kr().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=t.auth,pd(r=t.user,n,"internal-error"),e.abrupt("return",Zh(r,new Uv(t),t.bypassAuthState));case 3:case"end":return e.stop()}}),e)}))),qv.apply(this,arguments)}var zv=function(){function e(t,n,r,i){var a=arguments.length>4&&void 0!==arguments[4]&&arguments[4];(0,p.Z)(this,e),this.auth=t,this.resolver=r,this.user=i,this.bypassAuthState=a,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(n)?n:[n]}return(0,v.Z)(e,[{key:"execute",value:function(){var e=this;return new Promise(function(){var t=Jr(Kr().mark((function t(n,r){return Kr().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return e.pendingPromise={resolve:n,reject:r},t.prev=1,t.next=4,e.resolver._initialize(e.auth);case 4:return e.eventManager=t.sent,t.next=7,e.onExecution();case 7:e.eventManager.registerConsumer(e),t.next=13;break;case 10:t.prev=10,t.t0=t.catch(1),e.reject(t.t0);case 13:case"end":return t.stop()}}),t,null,[[1,10]])})));return function(e,n){return t.apply(this,arguments)}}())}},{key:"onAuthEvent",value:function(){var e=Jr(Kr().mark((function e(t){var n,r,i,a,o,s,u;return Kr().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(n=t.urlResponse,r=t.sessionId,i=t.postBody,a=t.tenantId,o=t.error,s=t.type,!o){e.next=4;break}return this.reject(o),e.abrupt("return");case 4:return u={auth:this.auth,requestUri:n,sessionId:r,tenantId:a||void 0,postBody:i||void 0,user:this.user,bypassAuthState:this.bypassAuthState},e.prev=5,e.t0=this,e.next=9,this.getIdpTask(s)(u);case 9:e.t1=e.sent,e.t0.resolve.call(e.t0,e.t1),e.next=16;break;case 13:e.prev=13,e.t2=e.catch(5),this.reject(e.t2);case 16:case"end":return e.stop()}}),e,this,[[5,13]])})));return function(t){return e.apply(this,arguments)}}()},{key:"onError",value:function(e){this.reject(e)}},{key:"getIdpTask",value:function(e){switch(e){case"signInViaPopup":case"signInViaRedirect":return Mv;case"linkViaPopup":case"linkViaRedirect":return Fv;case"reauthViaPopup":case"reauthViaRedirect":return jv;default:cd(this.auth,"internal-error")}}},{key:"resolve",value:function(e){md(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(e),this.unregisterAndCleanUp()}},{key:"reject",value:function(e){md(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(e),this.unregisterAndCleanUp()}},{key:"unregisterAndCleanUp",value:function(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}}]),e}(),Bv=new Sd(2e3,1e4);function Wv(e,t,n){return Gv.apply(this,arguments)}function Gv(){return Gv=Jr(Kr().mark((function e(t,n,r){var i,a,o;return Kr().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return i=Nf(t),fd(t,n,mh),a=Lv(i,r),o=new Kv(i,"signInViaPopup",n,a),e.abrupt("return",o.executeNotNull());case 5:case"end":return e.stop()}}),e)}))),Gv.apply(this,arguments)}function Hv(){return Hv=Jr(Kr().mark((function e(t,n,r){var i,a,o;return Kr().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return fd((i=Vr(t)).auth,n,mh),a=Lv(i.auth,r),o=new Kv(i.auth,"reauthViaPopup",n,a,i),e.abrupt("return",o.executeNotNull());case 5:case"end":return e.stop()}}),e)}))),Hv.apply(this,arguments)}function Vv(e,t,n){return Yv.apply(this,arguments)}function Yv(){return Yv=Jr(Kr().mark((function e(t,n,r){var i,a,o;return Kr().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return fd((i=Vr(t)).auth,n,mh),a=Lv(i.auth,r),o=new Kv(i.auth,"linkViaPopup",n,a,i),e.abrupt("return",o.executeNotNull());case 5:case"end":return e.stop()}}),e)}))),Yv.apply(this,arguments)}var Kv=function(e){(0,R.Z)(n,e);var t=(0,P.Z)(n);function n(e,r,i,a,o){var s;return(0,p.Z)(this,n),(s=t.call(this,e,r,a,o)).provider=i,s.authWindow=null,s.pollId=null,n.currentPopupAction&&n.currentPopupAction.cancel(),n.currentPopupAction=(0,U.Z)(s),s}return(0,v.Z)(n,[{key:"executeNotNull",value:function(){var e=Jr(Kr().mark((function e(){var t;return Kr().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.execute();case 2:return pd(t=e.sent,this.auth,"internal-error"),e.abrupt("return",t);case 5:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"onExecution",value:function(){var e=Jr(Kr().mark((function e(){var t,n=this;return Kr().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return md(1===this.filter.length,"Popup operations only handle one event"),t=zp(),e.next=4,this.resolver._openPopup(this.auth,this.provider,this.filter[0],t);case 4:this.authWindow=e.sent,this.authWindow.associatedEvent=t,this.resolver._originValidation(this.auth).catch((function(e){n.reject(e)})),this.resolver._isIframeWebStorageSupported(this.auth,(function(e){e||n.reject(ld(n.auth,"web-storage-unsupported"))})),this.pollUserCancellation();case 9:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"eventId",get:function(){var e;return(null===(e=this.authWindow)||void 0===e?void 0:e.associatedEvent)||null}},{key:"cancel",value:function(){this.reject(ld(this.auth,"cancelled-popup-request"))}},{key:"cleanUp",value:function(){this.authWindow&&this.authWindow.close(),this.pollId&&window.clearTimeout(this.pollId),this.authWindow=null,this.pollId=null,n.currentPopupAction=null}},{key:"pollUserCancellation",value:function(){var e=this;!function t(){var n,r;(null===(r=null===(n=e.authWindow)||void 0===n?void 0:n.window)||void 0===r?void 0:r.closed)?e.pollId=window.setTimeout((function(){e.pollId=null,e.reject(ld(e.auth,"popup-closed-by-user"))}),2e3):e.pollId=window.setTimeout(t,Bv.get())}()}}]),n}(zv);Kv.currentPopupAction=null;var $v=new Map,Jv=function(e){(0,R.Z)(n,e);var t=(0,P.Z)(n);function n(e,r){var i,a=arguments.length>2&&void 0!==arguments[2]&&arguments[2];return(0,p.Z)(this,n),(i=t.call(this,e,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],r,void 0,a)).eventId=null,i}return(0,v.Z)(n,[{key:"execute",value:function(){var e=Jr(Kr().mark((function e(){var t,r;return Kr().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t=$v.get(this.auth._key())){e.next=21;break}return e.prev=2,e.next=5,Qv(this.resolver,this.auth);case 5:if(!e.sent){e.next=12;break}return e.next=9,(0,C.Z)((0,N.Z)(n.prototype),"execute",this).call(this);case 9:e.t0=e.sent,e.next=13;break;case 12:e.t0=null;case 13:r=e.t0,t=function(){return Promise.resolve(r)},e.next=20;break;case 17:e.prev=17,e.t1=e.catch(2),t=function(){return Promise.reject(e.t1)};case 20:$v.set(this.auth._key(),t);case 21:return this.bypassAuthState||$v.set(this.auth._key(),(function(){return Promise.resolve(null)})),e.abrupt("return",t());case 23:case"end":return e.stop()}}),e,this,[[2,17]])})));return function(){return e.apply(this,arguments)}}()},{key:"onAuthEvent",value:function(){var e=Jr(Kr().mark((function e(t){var r;return Kr().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if("signInViaRedirect"!==t.type){e.next=4;break}return e.abrupt("return",(0,C.Z)((0,N.Z)(n.prototype),"onAuthEvent",this).call(this,t));case 4:if("unknown"!==t.type){e.next=7;break}return this.resolve(null),e.abrupt("return");case 7:if(!t.eventId){e.next=17;break}return e.next=10,this.auth._redirectUserForId(t.eventId);case 10:if(!(r=e.sent)){e.next=16;break}return this.user=r,e.abrupt("return",(0,C.Z)((0,N.Z)(n.prototype),"onAuthEvent",this).call(this,t));case 16:this.resolve(null);case 17:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"onExecution",value:function(){var e=Jr(Kr().mark((function e(){return Kr().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}()},{key:"cleanUp",value:function(){}}]),n}(zv);function Qv(e,t){return Xv.apply(this,arguments)}function Xv(){return Xv=Jr(Kr().mark((function e(t,n){var r,i,a;return Kr().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=im(n),i=rm(t),e.next=4,i._isAvailable();case 4:if(e.sent){e.next=6;break}return e.abrupt("return",!1);case 6:return e.next=8,i._get(r);case 8:return e.t0=e.sent,a="true"===e.t0,e.next=12,i._remove(r);case 12:return e.abrupt("return",a);case 13:case"end":return e.stop()}}),e)}))),Xv.apply(this,arguments)}function em(e,t){return tm.apply(this,arguments)}function tm(){return tm=Jr(Kr().mark((function e(t,n){return Kr().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",rm(t)._set(im(n),"true"));case 1:case"end":return e.stop()}}),e)}))),tm.apply(this,arguments)}function nm(e,t){$v.set(e._key(),t)}function rm(e){return yd(e._redirectPersistence)}function im(e){return ff("pendingRedirect",e.config.apiKey,e.name)}function am(e,t,n){return function(e,t,n){return om.apply(this,arguments)}(e,t,n)}function om(){return om=Jr(Kr().mark((function e(t,n,r){var i,a;return Kr().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return i=Nf(t),fd(t,n,mh),a=Lv(i,r),e.next=5,em(a,i);case 5:return e.abrupt("return",a._openRedirect(i,n,"signInViaRedirect"));case 6:case"end":return e.stop()}}),e)}))),om.apply(this,arguments)}function sm(e,t,n){return function(e,t,n){return um.apply(this,arguments)}(e,t,n)}function um(){return um=Jr(Kr().mark((function e(t,n,r){var i,a,o;return Kr().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return fd((i=Vr(t)).auth,n,mh),a=Lv(i.auth,r),e.next=5,em(a,i.auth);case 5:return e.next=7,vm(i);case 7:return o=e.sent,e.abrupt("return",a._openRedirect(i.auth,n,"reauthViaRedirect",o));case 9:case"end":return e.stop()}}),e)}))),um.apply(this,arguments)}function cm(e,t,n){return function(e,t,n){return lm.apply(this,arguments)}(e,t,n)}function lm(){return lm=Jr(Kr().mark((function e(t,n,r){var i,a,o;return Kr().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return fd((i=Vr(t)).auth,n,mh),a=Lv(i.auth,r),e.next=5,Uh(!1,i,n.providerId);case 5:return e.next=7,em(a,i.auth);case 7:return e.next=9,vm(i);case 9:return o=e.sent,e.abrupt("return",a._openRedirect(i.auth,n,"linkViaRedirect",o));case 11:case"end":return e.stop()}}),e)}))),lm.apply(this,arguments)}function dm(e,t){return fm.apply(this,arguments)}function fm(){return fm=Jr(Kr().mark((function e(t,n){return Kr().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Nf(t)._initializationPromise;case 2:return e.abrupt("return",hm(t,n,!1));case 3:case"end":return e.stop()}}),e)}))),fm.apply(this,arguments)}function hm(e,t){return pm.apply(this,arguments)}function pm(){return pm=Jr(Kr().mark((function e(t,n){var r,i,a,o,s,u=arguments;return Kr().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=u.length>2&&void 0!==u[2]&&u[2],i=Nf(t),a=Lv(i,n),o=new Jv(i,a,r),e.next=6,o.execute();case 6:if(!(s=e.sent)||r){e.next=13;break}return delete s.user._redirectEventId,e.next=11,i._persistUserIfCurrent(s.user);case 11:return e.next=13,i._setRedirectUser(null,n);case 13:return e.abrupt("return",s);case 14:case"end":return e.stop()}}),e)}))),pm.apply(this,arguments)}function vm(e){return mm.apply(this,arguments)}function mm(){return(mm=Jr(Kr().mark((function e(t){var n;return Kr().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=zp("".concat(t.uid,":::")),t._redirectEventId=n,e.next=4,t.auth._setRedirectUser(t);case 4:return e.next=6,t.auth._persistUserIfCurrent(t);case 6:return e.abrupt("return",n);case 7:case"end":return e.stop()}}),e)})))).apply(this,arguments)}var gm=function(){function e(t){(0,p.Z)(this,e),this.auth=t,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}return(0,v.Z)(e,[{key:"registerConsumer",value:function(e){this.consumers.add(e),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,e)&&(this.sendToConsumer(this.queuedRedirectEvent,e),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}},{key:"unregisterConsumer",value:function(e){this.consumers.delete(e)}},{key:"onEvent",value:function(e){var t=this;if(this.hasEventBeenHandled(e))return!1;var n=!1;return this.consumers.forEach((function(r){t.isEventForConsumer(e,r)&&(n=!0,t.sendToConsumer(e,r),t.saveEventToCache(e))})),this.hasHandledPotentialRedirect||!function(e){switch(e.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return _m(e);default:return!1}}(e)||(this.hasHandledPotentialRedirect=!0,n||(this.queuedRedirectEvent=e,n=!0)),n}},{key:"sendToConsumer",value:function(e,t){var n;if(e.error&&!_m(e)){var r=(null===(n=e.error.code)||void 0===n?void 0:n.split("auth/")[1])||"internal-error";t.onError(ld(this.auth,r))}else t.onAuthEvent(e)}},{key:"isEventForConsumer",value:function(e,t){var n=null===t.eventId||!!e.eventId&&e.eventId===t.eventId;return t.filter.includes(e.type)&&n}},{key:"hasEventBeenHandled",value:function(e){return Date.now()-this.lastProcessedEventTime>=6e5&&this.cachedEventUids.clear(),this.cachedEventUids.has(ym(e))}},{key:"saveEventToCache",value:function(e){this.cachedEventUids.add(ym(e)),this.lastProcessedEventTime=Date.now()}}]),e}();function ym(e){return[e.type,e.eventId,e.sessionId,e.tenantId].filter((function(e){return e})).join("-")}function _m(e){var t=e.type,n=e.error;return"unknown"===t&&(null===n||void 0===n?void 0:n.code)==="auth/".concat("no-auth-event")}function bm(e){return km.apply(this,arguments)}function km(){return km=Jr(Kr().mark((function e(t){var n,r=arguments;return Kr().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=r.length>1&&void 0!==r[1]?r[1]:{},e.abrupt("return",Nd(t,"GET","/v1/projects",n));case 2:case"end":return e.stop()}}),e)}))),km.apply(this,arguments)}var wm=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,Sm=/^https?/;function Em(){return Em=Jr(Kr().mark((function e(t){var n,r,i,a,o;return Kr().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!t.config.emulator){e.next=2;break}return e.abrupt("return");case 2:return e.next=4,bm(t);case 4:n=e.sent,r=n.authorizedDomains,i=(0,Z.Z)(r),e.prev=7,i.s();case 9:if((a=i.n()).done){e.next=20;break}if(o=a.value,e.prev=11,!xm(o)){e.next=14;break}return e.abrupt("return");case 14:e.next=18;break;case 16:e.prev=16,e.t0=e.catch(11);case 18:e.next=9;break;case 20:e.next=25;break;case 22:e.prev=22,e.t1=e.catch(7),i.e(e.t1);case 25:return e.prev=25,i.f(),e.finish(25);case 28:cd(t,"unauthorized-domain");case 29:case"end":return e.stop()}}),e,null,[[7,22,25,28],[11,16]])}))),Em.apply(this,arguments)}function xm(e){var t=bd(),n=new URL(t),r=n.protocol,i=n.hostname;if(e.startsWith("chrome-extension://")){var a=new URL(e);return""===a.hostname&&""===i?"chrome-extension:"===r&&e.replace("chrome-extension://","")===t.replace("chrome-extension://",""):"chrome-extension:"===r&&a.hostname===i}if(!Sm.test(r))return!1;if(wm.test(e))return i===e;var o=e.replace(/\./g,"\\.");return new RegExp("^(.+\\."+o+"|"+o+")$","i").test(i)}var Im=new Sd(3e4,6e4);function Tm(){var e=Wp().___jsl;if(null===e||void 0===e?void 0:e.H)for(var t=0,n=Object.keys(e.H);t<n.length;t++){var r=n[t];if(e.H[r].r=e.H[r].r||[],e.H[r].L=e.H[r].L||[],e.H[r].r=(0,o.Z)(e.H[r].L),e.CP)for(var i=0;i<e.CP.length;i++)e.CP[i]=null}}var Cm=null;function Nm(e){return Cm=Cm||function(e){return new Promise((function(t,n){var r,i,a;function o(){Tm(),gapi.load("gapi.iframes",{callback:function(){t(gapi.iframes.getContext())},ontimeout:function(){Tm(),n(ld(e,"network-request-failed"))},timeout:Im.get()})}if(null===(i=null===(r=Wp().gapi)||void 0===r?void 0:r.iframes)||void 0===i?void 0:i.Iframe)t(gapi.iframes.getContext());else{if(!(null===(a=Wp().gapi)||void 0===a?void 0:a.load)){var s=hv("iframefcb");return Wp()[s]=function(){gapi.load?o():n(ld(e,"network-request-failed"))},fv("https://apis.google.com/js/api.js?onload=".concat(s)).catch((function(e){return n(e)}))}o()}})).catch((function(e){throw Cm=null,e}))}(e),Cm}var Rm=new Sd(5e3,15e3),Pm={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},Om=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function Dm(e){var t=e.config;pd(t.authDomain,e,"auth-domain-config-required");var n=t.emulator?Ed(t,"emulator/auth/iframe"):"https://".concat(e.config.authDomain,"/").concat("__/auth/iframe"),r={apiKey:t.apiKey,appName:e.name,v:Gi},i=Om.get(e.config.apiHost);i&&(r.eid=i);var a=e._getFrameworks();return a.length&&(r.fw=a.join(",")),"".concat(n,"?").concat(Mr(r).slice(1))}function Am(e){return Zm.apply(this,arguments)}function Zm(){return Zm=Jr(Kr().mark((function e(t){var n,r;return Kr().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Nm(t);case 2:return n=e.sent,pd(r=Wp().gapi,t,"internal-error"),e.abrupt("return",n.open({where:document.body,url:Dm(t),messageHandlersFilter:r.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:Pm,dontclear:!0},(function(e){return new Promise(function(){var n=Jr(Kr().mark((function n(r,i){var a,o,s;return Kr().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return s=function(){Wp().clearTimeout(o),r(e)},n.next=3,e.restyle({setHideOnLeave:!1});case 3:a=ld(t,"network-request-failed"),o=Wp().setTimeout((function(){i(a)}),Rm.get()),e.ping(s).then(s,(function(){i(a)}));case 6:case"end":return n.stop()}}),n)})));return function(e,t){return n.apply(this,arguments)}}())})));case 6:case"end":return e.stop()}}),e)}))),Zm.apply(this,arguments)}var Lm={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"},Um="_blank",Mm="http://localhost",jm=function(){function e(t){(0,p.Z)(this,e),this.window=t,this.associatedEvent=null}return(0,v.Z)(e,[{key:"close",value:function(){if(this.window)try{this.window.close()}catch(e){}}}]),e}();function Fm(e,t,n){var r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:500,i=arguments.length>4&&void 0!==arguments[4]?arguments[4]:600,a=Math.max((window.screen.availHeight-i)/2,0).toString(),o=Math.max((window.screen.availWidth-r)/2,0).toString(),s="",u=Object.assign(Object.assign({},Lm),{width:r.toString(),height:i.toString(),top:a,left:o}),c=gr().toLowerCase();n&&(s=gf(c)?Um:n),vf(c)&&(t=t||Mm,u.scrollbars="yes");var l=Object.entries(u).reduce((function(e,t){var n=(0,A.Z)(t,2),r=n[0],i=n[1];return"".concat(e).concat(r,"=").concat(i,",")}),"");if(Sf(c)&&"_self"!==s)return qm(t||"",s),new jm(null);var d=window.open(t||"",s,l);pd(d,e,"popup-blocked");try{d.focus()}catch(f){}return new jm(d)}function qm(e,t){var n=document.createElement("a");n.href=e,n.target=t;var r=document.createEvent("MouseEvent");r.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),n.dispatchEvent(r)}var zm="__/auth/handler",Bm="emulator/auth/handler";function Wm(e,t,n,r,i,a){pd(e.config.authDomain,e,"auth-domain-config-required"),pd(e.config.apiKey,e,"invalid-api-key");var o={apiKey:e.config.apiKey,appName:e.name,authType:n,redirectUrl:r,v:Gi,eventId:i};if(t instanceof mh){t.setDefaultLanguage(e.languageCode),o.providerId=t.providerId||"",Ar(t.getCustomParameters())||(o.customParameters=JSON.stringify(t.getCustomParameters()));for(var s=0,u=Object.entries(a||{});s<u.length;s++){var c=(0,A.Z)(u[s],2),l=c[0],d=c[1];o[l]=d}}if(t instanceof gh){var f=t.getScopes().filter((function(e){return""!==e}));f.length>0&&(o.scopes=f.join(","))}e.tenantId&&(o.tid=e.tenantId);for(var h=o,p=0,v=Object.keys(h);p<v.length;p++){var m=v[p];void 0===h[m]&&delete h[m]}return"".concat(function(e){var t=e.config;if(!t.emulator)return"https://".concat(t.authDomain,"/").concat(zm);return Ed(t,Bm)}(e),"?").concat(Mr(h).slice(1))}var Gm="webStorageSupport",Hm=function(){function e(){(0,p.Z)(this,e),this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=jp,this._completeRedirectFn=hm,this._overrideRedirectResult=nm}return(0,v.Z)(e,[{key:"_openPopup",value:function(){var e=Jr(Kr().mark((function e(t,n,r,i){var a,o;return Kr().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return md(null===(a=this.eventManagers[t._key()])||void 0===a?void 0:a.manager,"_initialize() not called before _openPopup()"),o=Wm(t,n,r,bd(),i),e.abrupt("return",Fm(t,o,zp()));case 3:case"end":return e.stop()}}),e,this)})));return function(t,n,r,i){return e.apply(this,arguments)}}()},{key:"_openRedirect",value:function(){var e=Jr(Kr().mark((function e(t,n,r,i){return Kr().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this._originValidation(t);case 2:return a=Wm(t,n,r,bd(),i),Wp().location.href=a,e.abrupt("return",new Promise((function(){})));case 4:case"end":return e.stop()}var a}),e,this)})));return function(t,n,r,i){return e.apply(this,arguments)}}()},{key:"_initialize",value:function(e){var t=this,n=e._key();if(this.eventManagers[n]){var r=this.eventManagers[n],i=r.manager,a=r.promise;return i?Promise.resolve(i):(md(a,"If manager is not set, promise should be"),a)}var o=this.initAndGetManager(e);return this.eventManagers[n]={promise:o},o.catch((function(){delete t.eventManagers[n]})),o}},{key:"initAndGetManager",value:function(){var e=Jr(Kr().mark((function e(t){var n,r;return Kr().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Am(t);case 2:return n=e.sent,r=new gm(t),n.register("authEvent",(function(e){return pd(null===e||void 0===e?void 0:e.authEvent,t,"invalid-auth-event"),{status:r.onEvent(e.authEvent)?"ACK":"ERROR"}}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),this.eventManagers[t._key()]={manager:r},this.iframes[t._key()]=n,e.abrupt("return",r);case 8:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"_isIframeWebStorageSupported",value:function(e,t){this.iframes[e._key()].send(Gm,{type:Gm},(function(n){var r,i=null===(r=null===n||void 0===n?void 0:n[0])||void 0===r?void 0:r.webStorageSupport;void 0!==i&&t(!!i),cd(e,"internal-error")}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}},{key:"_originValidation",value:function(e){var t=e._key();return this.originValidationPromises[t]||(this.originValidationPromises[t]=function(e){return Em.apply(this,arguments)}(e)),this.originValidationPromises[t]}},{key:"_shouldInitProactively",get:function(){return xf()||mf()||wf()}}]),e}(),Vm=Hm,Ym=function(){function e(t){(0,p.Z)(this,e),this.factorId=t}return(0,v.Z)(e,[{key:"_process",value:function(e,t,n){switch(t.type){case"enroll":return this._finalizeEnroll(e,t.credential,n);case"signin":return this._finalizeSignIn(e,t.credential);default:return vd("unexpected MultiFactorSessionType")}}}]),e}(),Km=function(e){(0,R.Z)(n,e);var t=(0,P.Z)(n);function n(e){var r;return(0,p.Z)(this,n),(r=t.call(this,"phone")).credential=e,r}return(0,v.Z)(n,[{key:"_finalizeEnroll",value:function(e,t,n){return function(e,t){return Nd(e,"POST","/v2/accounts/mfaEnrollment:finalize",Cd(e,t))}(e,{idToken:t,displayName:n,phoneVerificationInfo:this.credential._makeVerificationRequest()})}},{key:"_finalizeSignIn",value:function(e,t){return function(e,t){return Nd(e,"POST","/v2/accounts/mfaSignIn:finalize",Cd(e,t))}(e,{mfaPendingCredential:t,phoneVerificationInfo:this.credential._makeVerificationRequest()})}}],[{key:"_fromCredential",value:function(e){return new n(e)}}]),n}(Ym),$m=function(){function e(){(0,p.Z)(this,e)}return(0,v.Z)(e,null,[{key:"assertion",value:function(e){return Km._fromCredential(e)}}]),e}();$m.FACTOR_ID="phone";var Jm,Qm="@firebase/auth",Xm="0.20.4",eg=function(){function e(t){(0,p.Z)(this,e),this.auth=t,this.internalListeners=new Map}return(0,v.Z)(e,[{key:"getUid",value:function(){var e;return this.assertAuthConfigured(),(null===(e=this.auth.currentUser)||void 0===e?void 0:e.uid)||null}},{key:"getToken",value:function(){var e=Jr(Kr().mark((function e(t){var n;return Kr().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return this.assertAuthConfigured(),e.next=3,this.auth._initializationPromise;case 3:if(this.auth.currentUser){e.next=5;break}return e.abrupt("return",null);case 5:return e.next=7,this.auth.currentUser.getIdToken(t);case 7:return n=e.sent,e.abrupt("return",{accessToken:n});case 9:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"addAuthTokenListener",value:function(e){if(this.assertAuthConfigured(),!this.internalListeners.has(e)){var t=this.auth.onIdTokenChanged((function(t){var n;e((null===(n=t)||void 0===n?void 0:n.stsTokenManager.accessToken)||null)}));this.internalListeners.set(e,t),this.updateProactiveRefresh()}}},{key:"removeAuthTokenListener",value:function(e){this.assertAuthConfigured();var t=this.internalListeners.get(e);t&&(this.internalListeners.delete(e),t(),this.updateProactiveRefresh())}},{key:"assertAuthConfigured",value:function(){pd(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}},{key:"updateProactiveRefresh",value:function(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}}]),e}();Jm="Browser",Mi(new Qr("auth",(function(e,t){var n=t.options,r=e.getProvider("app").getImmediate(),i=e.getProvider("heartbeat"),a=r.options,o=a.apiKey,s=a.authDomain;return function(e,t){pd(o&&!o.includes(":"),"invalid-api-key",{appName:e.name}),pd(!(null===s||void 0===s?void 0:s.includes(":")),"argument-error",{appName:e.name});var r={apiKey:o,authDomain:s,clientPlatform:Jm,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:If(Jm)},i=new Cf(e,t,r);return function(e,t){var n=(null===t||void 0===t?void 0:t.persistence)||[],r=(Array.isArray(n)?n:[n]).map(yd);(null===t||void 0===t?void 0:t.errorMap)&&e._updateErrorMap(t.errorMap),e._initializeWithPersistence(r,null===t||void 0===t?void 0:t.popupRedirectResolver)}(i,n),i}(r,i)}),"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((function(e,t,n){e.getProvider("auth-internal").initialize()}))),Mi(new Qr("auth-internal",(function(e){return function(e){return new eg(e)}(Nf(e.getProvider("auth").getImmediate()))}),"PRIVATE").setInstantiationMode("EXPLICIT")),Ji(Qm,Xm,function(e){switch(e){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";default:return}}(Jm)),Ji(Qm,Xm,"esm2017");var tg=n(3878),ng=n(9199),rg=n(181),ig=n(5267);function ag(){return window}function og(e,t,n){return sg.apply(this,arguments)}function sg(){return sg=Jr(Kr().mark((function e(t,n,r){var i,a,o,s,u;return Kr().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a=ag(),o=a.BuildInfo,md(n.sessionId,"AuthEvent did not contain a session ID"),e.next=4,hg(n.sessionId);case 4:return s=e.sent,u={},wf()?u.ibi=o.packageName:_f()?u.apn=o.packageName:cd(t,"operation-not-supported-in-this-environment"),o.displayName&&(u.appDisplayName=o.displayName),u.sessionId=s,e.abrupt("return",Wm(t,r,n.type,void 0,null!==(i=n.eventId)&&void 0!==i?i:void 0,u));case 10:case"end":return e.stop()}}),e)}))),sg.apply(this,arguments)}function ug(){return ug=Jr(Kr().mark((function e(t){var n,r,i;return Kr().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=ag(),r=n.BuildInfo,i={},wf()?i.iosBundleId=r.packageName:_f()?i.androidPackageName=r.packageName:cd(t,"operation-not-supported-in-this-environment"),e.next=5,bm(t,i);case 5:case"end":return e.stop()}}),e)}))),ug.apply(this,arguments)}function cg(e){var t=ag().cordova;return new Promise((function(n){t.plugins.browsertab.isAvailable((function(r){var i=null;r?t.plugins.browsertab.openUrl(e):i=t.InAppBrowser.open(e,function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:gr();return/(iPad|iPhone|iPod).*OS 7_\d/i.test(e)||/(iPad|iPhone|iPod).*OS 8_\d/i.test(e)}()?"_blank":"_system","location=yes"),n(i)}))}))}function lg(e,t,n){return dg.apply(this,arguments)}function dg(){return dg=Jr(Kr().mark((function e(t,n,r){var i,a,o;return Kr().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return i=ag(),a=i.cordova,o=function(){},e.prev=2,e.next=5,new Promise((function(e,i){var s=null;function u(){var t;e();var n=null===(t=a.plugins.browsertab)||void 0===t?void 0:t.close;"function"===typeof n&&n(),"function"===typeof(null===r||void 0===r?void 0:r.close)&&r.close()}function c(){s||(s=window.setTimeout((function(){i(ld(t,"redirect-cancelled-by-user"))}),2e3))}function l(){"visible"===(null===document||void 0===document?void 0:document.visibilityState)&&c()}n.addPassiveListener(u),document.addEventListener("resume",c,!1),_f()&&document.addEventListener("visibilitychange",l,!1),o=function(){n.removePassiveListener(u),document.removeEventListener("resume",c,!1),document.removeEventListener("visibilitychange",l,!1),s&&window.clearTimeout(s)}}));case 5:return e.prev=5,o(),e.finish(5);case 8:case"end":return e.stop()}}),e,null,[[2,,5,8]])}))),dg.apply(this,arguments)}function fg(e){var t,n,r,i,a,o,s,u,c,l,d=ag();pd("function"===typeof(null===(t=null===d||void 0===d?void 0:d.universalLinks)||void 0===t?void 0:t.subscribe),e,"invalid-cordova-configuration",{missingPlugin:"cordova-universal-links-plugin-fix"}),pd("undefined"!==typeof(null===(n=null===d||void 0===d?void 0:d.BuildInfo)||void 0===n?void 0:n.packageName),e,"invalid-cordova-configuration",{missingPlugin:"cordova-plugin-buildInfo"}),pd("function"===typeof(null===(a=null===(i=null===(r=null===d||void 0===d?void 0:d.cordova)||void 0===r?void 0:r.plugins)||void 0===i?void 0:i.browsertab)||void 0===a?void 0:a.openUrl),e,"invalid-cordova-configuration",{missingPlugin:"cordova-plugin-browsertab"}),pd("function"===typeof(null===(u=null===(s=null===(o=null===d||void 0===d?void 0:d.cordova)||void 0===o?void 0:o.plugins)||void 0===s?void 0:s.browsertab)||void 0===u?void 0:u.isAvailable),e,"invalid-cordova-configuration",{missingPlugin:"cordova-plugin-browsertab"}),pd("function"===typeof(null===(l=null===(c=null===d||void 0===d?void 0:d.cordova)||void 0===c?void 0:c.InAppBrowser)||void 0===l?void 0:l.open),e,"invalid-cordova-configuration",{missingPlugin:"cordova-plugin-inappbrowser"})}function hg(e){return pg.apply(this,arguments)}function pg(){return(pg=Jr(Kr().mark((function e(t){var n,r,i;return Kr().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=vg(t),e.next=3,crypto.subtle.digest("SHA-256",n);case 3:return r=e.sent,i=Array.from(new Uint8Array(r)),e.abrupt("return",i.map((function(e){return e.toString(16).padStart(2,"0")})).join(""));case 6:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function vg(e){if(md(/[0-9a-zA-Z]+/.test(e),"Can only convert alpha-numeric strings"),"undefined"!==typeof TextEncoder)return(new TextEncoder).encode(e);for(var t=new ArrayBuffer(e.length),n=new Uint8Array(t),r=0;r<e.length;r++)n[r]=e.charCodeAt(r);return n}var mg=function(e){(0,R.Z)(n,e);var t=(0,P.Z)(n);function n(){var e;return(0,p.Z)(this,n),(e=t.apply(this,arguments)).passiveListeners=new Set,e.initPromise=new Promise((function(t){e.resolveInialized=t})),e}return(0,v.Z)(n,[{key:"addPassiveListener",value:function(e){this.passiveListeners.add(e)}},{key:"removePassiveListener",value:function(e){this.passiveListeners.delete(e)}},{key:"resetRedirect",value:function(){this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1}},{key:"onEvent",value:function(e){return this.resolveInialized(),this.passiveListeners.forEach((function(t){return t(e)})),(0,C.Z)((0,N.Z)(n.prototype),"onEvent",this).call(this,e)}},{key:"initialized",value:function(){var e=Jr(Kr().mark((function e(){return Kr().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.initPromise;case 2:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()}]),n}(gm);function gg(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null;return{type:t,eventId:n,urlResponse:null,sessionId:wg(),postBody:null,tenantId:e.tenantId,error:ld(e,"no-auth-event")}}function yg(e,t){return Sg()._set(Eg(e),t)}function _g(e){return bg.apply(this,arguments)}function bg(){return bg=Jr(Kr().mark((function e(t){var n;return Kr().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Sg()._get(Eg(t));case 2:if(!(n=e.sent)){e.next=6;break}return e.next=6,Sg()._remove(Eg(t));case 6:return e.abrupt("return",n);case 7:case"end":return e.stop()}}),e)}))),bg.apply(this,arguments)}function kg(e,t){var n,r,i=function(e){var t=xg(e),n=t.link?decodeURIComponent(t.link):void 0,r=xg(n).link,i=t.deep_link_id?decodeURIComponent(t.deep_link_id):void 0;return xg(i).link||i||r||n||e}(t);if(i.includes("/__/auth/callback")){var a=xg(i),o=a.firebaseError?function(e){try{return JSON.parse(e)}catch(t){return null}}(decodeURIComponent(a.firebaseError)):null,s=null===(r=null===(n=null===o||void 0===o?void 0:o.code)||void 0===n?void 0:n.split("auth/"))||void 0===r?void 0:r[1],u=s?ld(s):null;return u?{type:e.type,eventId:e.eventId,tenantId:e.tenantId,error:u,urlResponse:null,sessionId:null,postBody:null}:{type:e.type,eventId:e.eventId,tenantId:e.tenantId,sessionId:e.sessionId,urlResponse:i,postBody:null}}return null}function wg(){for(var e=[],t="1234567890abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ",n=0;n<20;n++){var r=Math.floor(Math.random()*t.length);e.push(t.charAt(r))}return e.join("")}function Sg(){return yd(Up)}function Eg(e){return ff("authEvent",e.config.apiKey,e.name)}function xg(e){if(!(null===e||void 0===e?void 0:e.includes("?")))return{};var t,n=e.split("?"),r=(t=n,(0,tg.Z)(t)||(0,ng.Z)(t)||(0,rg.Z)(t)||(0,ig.Z)());r[0];return jr(r.slice(1).join("?"))}var Ig=function(){function e(){(0,p.Z)(this,e),this._redirectPersistence=jp,this._shouldInitProactively=!0,this.eventManagers=new Map,this.originValidationPromises={},this._completeRedirectFn=hm,this._overrideRedirectResult=nm}return(0,v.Z)(e,[{key:"_initialize",value:function(){var e=Jr(Kr().mark((function e(t){var n,r;return Kr().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=t._key(),(r=this.eventManagers.get(n))||(r=new mg(t),this.eventManagers.set(n,r),this.attachCallbackListeners(t,r)),e.abrupt("return",r);case 4:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"_openPopup",value:function(e){cd(e,"operation-not-supported-in-this-environment")}},{key:"_openRedirect",value:function(){var e=Jr(Kr().mark((function e(t,n,r,i){var a,o,s,u;return Kr().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return fg(t),e.next=3,this._initialize(t);case 3:return a=e.sent,e.next=6,a.initialized();case 6:return a.resetRedirect(),$v.clear(),e.next=10,this._originValidation(t);case 10:return o=gg(t,r,i),e.next=13,yg(t,o);case 13:return e.next=15,og(t,o,n);case 15:return s=e.sent,e.next=18,cg(s);case 18:return u=e.sent,e.abrupt("return",lg(t,a,u));case 20:case"end":return e.stop()}}),e,this)})));return function(t,n,r,i){return e.apply(this,arguments)}}()},{key:"_isIframeWebStorageSupported",value:function(e,t){throw new Error("Method not implemented.")}},{key:"_originValidation",value:function(e){var t=e._key();return this.originValidationPromises[t]||(this.originValidationPromises[t]=function(e){return ug.apply(this,arguments)}(e)),this.originValidationPromises[t]}},{key:"attachCallbackListeners",value:function(e,t){var n=ag(),r=n.universalLinks,i=n.handleOpenURL,a=n.BuildInfo,o=setTimeout(Jr(Kr().mark((function n(){return Kr().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,_g(e);case 2:t.onEvent(Cg());case 3:case"end":return n.stop()}}),n)}))),500),s=function(){var n=Jr(Kr().mark((function n(r){var i,a;return Kr().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return clearTimeout(o),n.next=3,_g(e);case 3:i=n.sent,a=null,i&&(null===r||void 0===r?void 0:r.url)&&(a=kg(i,r.url)),t.onEvent(a||Cg());case 7:case"end":return n.stop()}}),n)})));return function(e){return n.apply(this,arguments)}}();"undefined"!==typeof r&&"function"===typeof r.subscribe&&r.subscribe(null,s);var u=i,c="".concat(a.packageName.toLowerCase(),"://");ag().handleOpenURL=function(){var e=Jr(Kr().mark((function e(t){return Kr().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t.toLowerCase().startsWith(c)&&s({url:t}),"function"===typeof u)try{u(t)}catch(n){console.error(n)}case 2:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()}}]),e}(),Tg=Ig;function Cg(){return{type:"unknown",eventId:null,sessionId:null,urlResponse:null,postBody:null,tenantId:null,error:ld("no-auth-event")}}function Ng(){var e;return(null===(e=null===self||void 0===self?void 0:self.location)||void 0===e?void 0:e.protocol)||null}function Rg(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:gr();return!("file:"!==Ng()&&"ionic:"!==Ng()&&"capacitor:"!==Ng()||!e.toLowerCase().match(/iphone|ipad|ipod|android/))}function Pg(){return wr()&&11===(null===document||void 0===document?void 0:document.documentMode)}function Og(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:gr();return/Edge\/\d+/.test(e)}function Dg(){try{var e=self.localStorage,t=zp();if(e)return e.setItem(t,"1"),e.removeItem(t),!function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:gr();return Pg()||Og(e)}()||Er()}catch(n){return Ag()&&Er()}return!1}function Ag(){return"undefined"!==typeof n.g&&"WorkerGlobalScope"in n.g&&"importScripts"in n.g}function Zg(){return("http:"===Ng()||"https:"===Ng()||br()||Rg())&&!(kr()||_r())&&Dg()&&!Ag()}function Lg(){return Rg()&&"undefined"!==typeof document}function Ug(){return Mg.apply(this,arguments)}function Mg(){return(Mg=Jr(Kr().mark((function e(){return Kr().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(Lg()){e.next=2;break}return e.abrupt("return",!1);case 2:return e.abrupt("return",new Promise((function(e){var t=setTimeout((function(){e(!1)}),1e3);document.addEventListener("deviceready",(function(){clearTimeout(t),e(!0)}))})));case 3:case"end":return e.stop()}}),e)})))).apply(this,arguments)}var jg={LOCAL:"local",NONE:"none",SESSION:"session"},Fg=pd,qg="persistence";function zg(e,t){Fg(Object.values(jg).includes(t),e,"invalid-persistence-type"),kr()?Fg(t!==jg.SESSION,e,"unsupported-persistence-type"):_r()?Fg(t===jg.NONE,e,"unsupported-persistence-type"):Ag()?Fg(t===jg.NONE||t===jg.LOCAL&&Er(),e,"unsupported-persistence-type"):Fg(t===jg.NONE||Dg(),e,"unsupported-persistence-type")}function Bg(e){return Wg.apply(this,arguments)}function Wg(){return Wg=Jr(Kr().mark((function e(t){var n,r;return Kr().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,t._initializationPromise;case 2:n=Gg(),r=ff(qg,t.config.apiKey,t.name),n&&n.setItem(r,t._getPersistence());case 5:case"end":return e.stop()}}),e)}))),Wg.apply(this,arguments)}function Gg(){var e;try{return(null===(e="undefined"!==typeof window?window:null)||void 0===e?void 0:e.sessionStorage)||null}catch(t){return null}}var Hg=pd,Vg=function(){function e(){(0,p.Z)(this,e),this.browserResolver=yd(Vm),this.cordovaResolver=yd(Tg),this.underlyingResolver=null,this._redirectPersistence=jp,this._completeRedirectFn=hm,this._overrideRedirectResult=nm}return(0,v.Z)(e,[{key:"_initialize",value:function(){var e=Jr(Kr().mark((function e(t){return Kr().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.selectUnderlyingResolver();case 2:return e.abrupt("return",this.assertedUnderlyingResolver._initialize(t));case 3:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"_openPopup",value:function(){var e=Jr(Kr().mark((function e(t,n,r,i){return Kr().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.selectUnderlyingResolver();case 2:return e.abrupt("return",this.assertedUnderlyingResolver._openPopup(t,n,r,i));case 3:case"end":return e.stop()}}),e,this)})));return function(t,n,r,i){return e.apply(this,arguments)}}()},{key:"_openRedirect",value:function(){var e=Jr(Kr().mark((function e(t,n,r,i){return Kr().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.selectUnderlyingResolver();case 2:return e.abrupt("return",this.assertedUnderlyingResolver._openRedirect(t,n,r,i));case 3:case"end":return e.stop()}}),e,this)})));return function(t,n,r,i){return e.apply(this,arguments)}}()},{key:"_isIframeWebStorageSupported",value:function(e,t){this.assertedUnderlyingResolver._isIframeWebStorageSupported(e,t)}},{key:"_originValidation",value:function(e){return this.assertedUnderlyingResolver._originValidation(e)}},{key:"_shouldInitProactively",get:function(){return Lg()||this.browserResolver._shouldInitProactively}},{key:"assertedUnderlyingResolver",get:function(){return Hg(this.underlyingResolver,"internal-error"),this.underlyingResolver}},{key:"selectUnderlyingResolver",value:function(){var e=Jr(Kr().mark((function e(){var t;return Kr().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!this.underlyingResolver){e.next=2;break}return e.abrupt("return");case 2:return e.next=4,Ug();case 4:t=e.sent,this.underlyingResolver=t?this.cordovaResolver:this.browserResolver;case 6:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()}]),e}();function Yg(e){return e.unwrap()}function Kg(e,t){var n,r,i=null===(n=t.customData)||void 0===n?void 0:n._tokenResponse;if("auth/multi-factor-auth-required"===(null===(r=t)||void 0===r?void 0:r.code))t.resolver=new ey(e,function(e,t){var n,r=Vr(e),i=t;return pd(t.customData.operationType,r,"argument-error"),pd(null===(n=i.customData._serverResponse)||void 0===n?void 0:n.mfaPendingCredential,r,"argument-error"),Np._fromError(r,i)}(e,t));else if(i){var a=$g(t),o=t;a&&(o.credential=a,o.tenantId=i.tenantId||void 0,o.email=i.email||void 0,o.phoneNumber=i.phoneNumber||void 0)}}function $g(e){var t=(e instanceof xr?e.customData:e)._tokenResponse;if(!t)return null;if(!(e instanceof xr)&&"temporaryProof"in t&&"phoneNumber"in t)return Zv.credentialFromResult(e);var n,r=t.providerId;if(!r||r===Kl)return null;switch(r){case Yl:n=bh;break;case Hl:n=_h;break;case Vl:n=kh;break;case $l:n=Eh;break;default:var i=t.oauthIdToken,a=t.oauthAccessToken,o=t.oauthTokenSecret,s=t.pendingToken,u=t.nonce;return a||o||i||s?s?r.startsWith("saml.")?wh._create(r,s):oh._fromParams({providerId:r,signInMethod:r,pendingToken:s,idToken:i,accessToken:a}):new yh(r).credential({idToken:i,accessToken:a,rawNonce:u}):null}return e instanceof xr?n.credentialFromError(e):n.credentialFromResult(e)}function Jg(e,t){return t.catch((function(t){throw t instanceof xr&&Kg(e,t),t})).then((function(e){var t,n=e.operationType,r=e.user;return{operationType:n,credential:(t=e,$g(t)),additionalUserInfo:Tp(e),user:ty.getOrCreate(r)}}))}function Qg(e,t){return Xg.apply(this,arguments)}function Xg(){return Xg=Jr(Kr().mark((function e(t,n){var r;return Kr().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,n;case 2:return r=e.sent,e.abrupt("return",{verificationId:r.verificationId,confirm:function(e){return Jg(t,r.confirm(e))}});case 4:case"end":return e.stop()}}),e)}))),Xg.apply(this,arguments)}var ey=function(){function e(t,n){(0,p.Z)(this,e),this.resolver=n,this.auth=function(e){return e.wrapped()}(t)}return(0,v.Z)(e,[{key:"session",get:function(){return this.resolver.session}},{key:"hints",get:function(){return this.resolver.hints}},{key:"resolveSignIn",value:function(e){return Jg(Yg(this.auth),this.resolver.resolveSignIn(e))}}]),e}(),ty=function(){function e(t){(0,p.Z)(this,e),this._delegate=t,this.multiFactor=function(e){var t=Vr(e);return Dp.has(t)||Dp.set(t,Op._fromUser(t)),Dp.get(t)}(t)}return(0,v.Z)(e,[{key:"delete",value:function(){return this._delegate.delete()}},{key:"reload",value:function(){return this._delegate.reload()}},{key:"toJSON",value:function(){return this._delegate.toJSON()}},{key:"getIdTokenResult",value:function(e){return this._delegate.getIdTokenResult(e)}},{key:"getIdToken",value:function(e){return this._delegate.getIdToken(e)}},{key:"linkAndRetrieveDataWithCredential",value:function(e){return this.linkWithCredential(e)}},{key:"linkWithCredential",value:function(){var e=Jr(Kr().mark((function e(t){return Kr().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",Jg(this.auth,Gh(this._delegate,t)));case 1:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"linkWithPhoneNumber",value:function(){var e=Jr(Kr().mark((function e(t,n){return Kr().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",Qg(this.auth,Nv(this._delegate,t,n)));case 1:case"end":return e.stop()}}),e,this)})));return function(t,n){return e.apply(this,arguments)}}()},{key:"linkWithPopup",value:function(){var e=Jr(Kr().mark((function e(t){return Kr().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",Jg(this.auth,Vv(this._delegate,t,Vg)));case 1:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"linkWithRedirect",value:function(){var e=Jr(Kr().mark((function e(t){return Kr().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Bg(Nf(this.auth));case 2:return e.abrupt("return",cm(this._delegate,t,Vg));case 3:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"reauthenticateAndRetrieveDataWithCredential",value:function(e){return this.reauthenticateWithCredential(e)}},{key:"reauthenticateWithCredential",value:function(){var e=Jr(Kr().mark((function e(t){return Kr().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",Jg(this.auth,Vh(this._delegate,t)));case 1:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"reauthenticateWithPhoneNumber",value:function(e,t){return Qg(this.auth,function(e,t,n){return Pv.apply(this,arguments)}(this._delegate,e,t))}},{key:"reauthenticateWithPopup",value:function(e){return Jg(this.auth,function(e,t,n){return Hv.apply(this,arguments)}(this._delegate,e,Vg))}},{key:"reauthenticateWithRedirect",value:function(){var e=Jr(Kr().mark((function e(t){return Kr().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Bg(Nf(this.auth));case 2:return e.abrupt("return",sm(this._delegate,t,Vg));case 3:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"sendEmailVerification",value:function(e){return function(e,t){return pp.apply(this,arguments)}(this._delegate,e)}},{key:"unlink",value:function(){var e=Jr(Kr().mark((function e(t){return Kr().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Dh(this._delegate,t);case 2:return e.abrupt("return",this);case 3:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"updateEmail",value:function(e){return function(e,t){return _p(Vr(e),t,null)}(this._delegate,e)}},{key:"updatePassword",value:function(e){return function(e,t){return _p(Vr(e),null,t)}(this._delegate,e)}},{key:"updatePhoneNumber",value:function(e){return function(e,t){return Av.apply(this,arguments)}(this._delegate,e)}},{key:"updateProfile",value:function(e){return function(e,t){return yp.apply(this,arguments)}(this._delegate,e)}},{key:"verifyBeforeUpdateEmail",value:function(e,t){return function(e,t,n){return vp.apply(this,arguments)}(this._delegate,e,t)}},{key:"emailVerified",get:function(){return this._delegate.emailVerified}},{key:"isAnonymous",get:function(){return this._delegate.isAnonymous}},{key:"metadata",get:function(){return this._delegate.metadata}},{key:"phoneNumber",get:function(){return this._delegate.phoneNumber}},{key:"providerData",get:function(){return this._delegate.providerData}},{key:"refreshToken",get:function(){return this._delegate.refreshToken}},{key:"tenantId",get:function(){return this._delegate.tenantId}},{key:"displayName",get:function(){return this._delegate.displayName}},{key:"email",get:function(){return this._delegate.email}},{key:"photoURL",get:function(){return this._delegate.photoURL}},{key:"providerId",get:function(){return this._delegate.providerId}},{key:"uid",get:function(){return this._delegate.uid}},{key:"auth",get:function(){return this._delegate.auth}}],[{key:"getOrCreate",value:function(t){return e.USER_MAP.has(t)||e.USER_MAP.set(t,new e(t)),e.USER_MAP.get(t)}}]),e}();ty.USER_MAP=new WeakMap;var ny=pd,ry=function(){function e(t,n){if((0,p.Z)(this,e),this.app=t,n.isInitialized())return this._delegate=n.getImmediate(),void this.linkUnderlyingAuth();var r=t.options.apiKey;ny(r,"invalid-api-key",{appName:t.name}),ny(r,"invalid-api-key",{appName:t.name});var i="undefined"!==typeof window?Vg:void 0;this._delegate=n.initialize({options:{persistence:ay(r,t.name),popupRedirectResolver:i}}),this._delegate._updateErrorMap(id),this.linkUnderlyingAuth()}return(0,v.Z)(e,[{key:"emulatorConfig",get:function(){return this._delegate.emulatorConfig}},{key:"currentUser",get:function(){return this._delegate.currentUser?ty.getOrCreate(this._delegate.currentUser):null}},{key:"languageCode",get:function(){return this._delegate.languageCode},set:function(e){this._delegate.languageCode=e}},{key:"settings",get:function(){return this._delegate.settings}},{key:"tenantId",get:function(){return this._delegate.tenantId},set:function(e){this._delegate.tenantId=e}},{key:"useDeviceLanguage",value:function(){this._delegate.useDeviceLanguage()}},{key:"signOut",value:function(){return this._delegate.signOut()}},{key:"useEmulator",value:function(e,t){Pf(this._delegate,e,t)}},{key:"applyActionCode",value:function(e){return function(e,t){return rp.apply(this,arguments)}(this._delegate,e)}},{key:"checkActionCode",value:function(e){return ip(this._delegate,e)}},{key:"confirmPasswordReset",value:function(e,t){return function(e,t,n){return np.apply(this,arguments)}(this._delegate,e,t)}},{key:"createUserWithEmailAndPassword",value:function(){var e=Jr(Kr().mark((function e(t,n){return Kr().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",Jg(this._delegate,sp(this._delegate,t,n)));case 1:case"end":return e.stop()}}),e,this)})));return function(t,n){return e.apply(this,arguments)}}()},{key:"fetchProvidersForEmail",value:function(e){return this.fetchSignInMethodsForEmail(e)}},{key:"fetchSignInMethodsForEmail",value:function(e){return function(e,t){return hp.apply(this,arguments)}(this._delegate,e)}},{key:"isSignInWithEmailLink",value:function(e){return function(e,t){var n=ph.parseLink(t);return"EMAIL_SIGNIN"===(null===n||void 0===n?void 0:n.operation)}(this._delegate,e)}},{key:"getRedirectResult",value:function(){var e=Jr(Kr().mark((function e(){var t;return Kr().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return ny(Zg(),this._delegate,"operation-not-supported-in-this-environment"),e.next=3,dm(this._delegate,Vg);case 3:if(t=e.sent){e.next=6;break}return e.abrupt("return",{credential:null,user:null});case 6:return e.abrupt("return",Jg(this._delegate,Promise.resolve(t)));case 7:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"addFrameworkForLogging",value:function(e){!function(e,t){Nf(e)._logFramework(t)}(this._delegate,e)}},{key:"onAuthStateChanged",value:function(e,t,n){var r=iy(e,t,n),i=r.next,a=r.error,o=r.complete;return this._delegate.onAuthStateChanged(i,a,o)}},{key:"onIdTokenChanged",value:function(e,t,n){var r=iy(e,t,n),i=r.next,a=r.error,o=r.complete;return this._delegate.onIdTokenChanged(i,a,o)}},{key:"sendSignInLinkToEmail",value:function(e,t){return function(e,t,n){return cp.apply(this,arguments)}(this._delegate,e,t)}},{key:"sendPasswordResetEmail",value:function(e,t){return function(e,t,n){return tp.apply(this,arguments)}(this._delegate,e,t||void 0)}},{key:"setPersistence",value:function(){var e=Jr(Kr().mark((function e(t){var n,r;return Kr().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:zg(this._delegate,t),e.t0=t,e.next=e.t0===jg.SESSION?4:e.t0===jg.LOCAL?6:e.t0===jg.NONE?11:13;break;case 4:return n=jp,e.abrupt("break",14);case 6:return e.next=8,yd(uv)._isAvailable();case 8:return r=e.sent,n=r?uv:Up,e.abrupt("break",14);case 11:return n=df,e.abrupt("break",14);case 13:return e.abrupt("return",cd("argument-error",{appName:this._delegate.name}));case 14:return e.abrupt("return",this._delegate.setPersistence(n));case 15:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"signInAndRetrieveDataWithCredential",value:function(e){return this.signInWithCredential(e)}},{key:"signInAnonymously",value:function(){return Jg(this._delegate,function(e){return Nh.apply(this,arguments)}(this._delegate))}},{key:"signInWithCredential",value:function(e){return Jg(this._delegate,Bh(this._delegate,e))}},{key:"signInWithCustomToken",value:function(e){return Jg(this._delegate,function(e,t){return Jh.apply(this,arguments)}(this._delegate,e))}},{key:"signInWithEmailAndPassword",value:function(e,t){return Jg(this._delegate,function(e,t,n){return Bh(Vr(e),vh.credential(t,n))}(this._delegate,e,t))}},{key:"signInWithEmailLink",value:function(e,t){return Jg(this._delegate,function(e,t,n){return lp.apply(this,arguments)}(this._delegate,e,t))}},{key:"signInWithPhoneNumber",value:function(e,t){return Qg(this._delegate,function(e,t,n){return Cv.apply(this,arguments)}(this._delegate,e,t))}},{key:"signInWithPopup",value:function(){var e=Jr(Kr().mark((function e(t){return Kr().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return ny(Zg(),this._delegate,"operation-not-supported-in-this-environment"),e.abrupt("return",Jg(this._delegate,Wv(this._delegate,t,Vg)));case 2:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"signInWithRedirect",value:function(){var e=Jr(Kr().mark((function e(t){return Kr().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return ny(Zg(),this._delegate,"operation-not-supported-in-this-environment"),e.next=3,Bg(this._delegate);case 3:return e.abrupt("return",am(this._delegate,t,Vg));case 4:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"updateCurrentUser",value:function(e){return this._delegate.updateCurrentUser(e)}},{key:"verifyPasswordResetCode",value:function(e){return function(e,t){return op.apply(this,arguments)}(this._delegate,e)}},{key:"unwrap",value:function(){return this._delegate}},{key:"_delete",value:function(){return this._delegate._delete()}},{key:"linkUnderlyingAuth",value:function(){var e=this;this._delegate.wrapped=function(){return e}}}]),e}();function iy(e,t,n){var r=e;"function"!==typeof e&&(r=e.next,t=e.error,n=e.complete);var i=r;return{next:function(e){return i(e&&ty.getOrCreate(e))},error:t,complete:n}}function ay(e,t){var n=function(e,t){var n=Gg();if(!n)return[];var r=ff(qg,e,t);switch(n.getItem(r)){case jg.NONE:return[df];case jg.LOCAL:return[uv,jp];case jg.SESSION:return[jp];default:return[]}}(e,t);if("undefined"===typeof self||n.includes(uv)||n.push(uv),"undefined"!==typeof window)for(var r=0,i=[Up,jp];r<i.length;r++){var a=i[r];n.includes(a)||n.push(a)}return n.includes(df)||n.push(df),n}ry.Persistence=jg;var oy=function(){function e(){(0,p.Z)(this,e),this.providerId="phone",this._delegate=new Zv(Yg(ka.auth()))}return(0,v.Z)(e,[{key:"verifyPhoneNumber",value:function(e,t){return this._delegate.verifyPhoneNumber(e,t)}},{key:"unwrap",value:function(){return this._delegate}}],[{key:"credential",value:function(e,t){return Zv.credential(e,t)}}]),e}();oy.PHONE_SIGN_IN_METHOD=Zv.PHONE_SIGN_IN_METHOD,oy.PROVIDER_ID=Zv.PROVIDER_ID;var sy=pd,uy=function(){function e(t,n){var r,i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:ka.app();(0,p.Z)(this,e),sy(null===(r=i.options)||void 0===r?void 0:r.apiKey,"invalid-api-key",{appName:i.name}),this._delegate=new xv(t,n,i.auth()),this.type=this._delegate.type}return(0,v.Z)(e,[{key:"clear",value:function(){this._delegate.clear()}},{key:"render",value:function(){return this._delegate.render()}},{key:"verify",value:function(){return this._delegate.verify()}}]),e}();!function(e){e.INTERNAL.registerComponent(new Qr("auth-compat",(function(e){var t=e.getProvider("app-compat").getImmediate(),n=e.getProvider("auth");return new ry(t,n)}),"PUBLIC").setServiceProps({ActionCodeInfo:{Operation:{EMAIL_SIGNIN:Jl,PASSWORD_RESET:Ql,RECOVER_EMAIL:Xl,REVERT_SECOND_FACTOR_ADDITION:ed,VERIFY_AND_CHANGE_EMAIL:td,VERIFY_EMAIL:nd}},EmailAuthProvider:vh,FacebookAuthProvider:_h,GithubAuthProvider:kh,GoogleAuthProvider:bh,OAuthProvider:yh,SAMLAuthProvider:Sh,PhoneAuthProvider:oy,PhoneMultiFactorGenerator:$m,RecaptchaVerifier:uy,TwitterAuthProvider:Eh,Auth:ry,AuthCredential:Af,Error:xr}).setInstantiationMode("LAZY").setMultipleInstances(!1)),e.registerVersion("@firebase/auth-compat","0.2.17")}(ka);function cy(e){return null!=e&&"object"===typeof e&&!0===e["@@functional/placeholder"]}function ly(e){return function t(n){return 0===arguments.length||cy(n)?t:e.apply(this,arguments)}}function dy(e){return function t(n,r){switch(arguments.length){case 0:return t;case 1:return cy(n)?t:ly((function(t){return e(n,t)}));default:return cy(n)&&cy(r)?t:cy(n)?ly((function(t){return e(t,r)})):cy(r)?ly((function(t){return e(n,t)})):e(n,r)}}}var fy=Array.isArray||function(e){return null!=e&&e.length>=0&&"[object Array]"===Object.prototype.toString.call(e)};function hy(e){return null!=e&&"function"===typeof e["@@transducer/step"]}function py(e,t,n){return function(){if(0===arguments.length)return n();var r=arguments[arguments.length-1];if(!fy(r)){for(var i=0;i<e.length;){if("function"===typeof r[e[i]])return r[e[i]].apply(r,Array.prototype.slice.call(arguments,0,-1));i+=1}if(hy(r)){var a=t.apply(null,Array.prototype.slice.call(arguments,0,-1));return a(r)}}return n.apply(this,arguments)}}function vy(e){return e&&e["@@transducer/reduced"]?e:{"@@transducer/value":e,"@@transducer/reduced":!0}}var my={init:function(){return this.xf["@@transducer/init"]()},result:function(e){return this.xf["@@transducer/result"](e)}},gy=function(){function e(e,t){this.xf=t,this.f=e,this.all=!0}return e.prototype["@@transducer/init"]=my.init,e.prototype["@@transducer/result"]=function(e){return this.all&&(e=this.xf["@@transducer/step"](e,!0)),this.xf["@@transducer/result"](e)},e.prototype["@@transducer/step"]=function(e,t){return this.f(t)||(this.all=!1,e=vy(this.xf["@@transducer/step"](e,!1))),e},e}(),yy=dy(py(["all"],dy((function(e,t){return new gy(e,t)})),(function(e,t){for(var n=0;n<t.length;){if(!e(t[n]))return!1;n+=1}return!0})));function _y(e,t){for(var n=0,r=t.length,i=Array(r);n<r;)i[n]=e(t[n]),n+=1;return i}function by(e){return"[object String]"===Object.prototype.toString.call(e)}var ky=ly((function(e){return!!fy(e)||!!e&&("object"===typeof e&&(!by(e)&&(0===e.length||e.length>0&&(e.hasOwnProperty(0)&&e.hasOwnProperty(e.length-1)))))})),wy=function(){function e(e){this.f=e}return e.prototype["@@transducer/init"]=function(){throw new Error("init not implemented on XWrap")},e.prototype["@@transducer/result"]=function(e){return e},e.prototype["@@transducer/step"]=function(e,t){return this.f(e,t)},e}();function Sy(e,t){switch(e){case 0:return function(){return t.apply(this,arguments)};case 1:return function(e){return t.apply(this,arguments)};case 2:return function(e,n){return t.apply(this,arguments)};case 3:return function(e,n,r){return t.apply(this,arguments)};case 4:return function(e,n,r,i){return t.apply(this,arguments)};case 5:return function(e,n,r,i,a){return t.apply(this,arguments)};case 6:return function(e,n,r,i,a,o){return t.apply(this,arguments)};case 7:return function(e,n,r,i,a,o,s){return t.apply(this,arguments)};case 8:return function(e,n,r,i,a,o,s,u){return t.apply(this,arguments)};case 9:return function(e,n,r,i,a,o,s,u,c){return t.apply(this,arguments)};case 10:return function(e,n,r,i,a,o,s,u,c,l){return t.apply(this,arguments)};default:throw new Error("First argument to _arity must be a non-negative integer no greater than ten")}}var Ey=dy((function(e,t){return Sy(e.length,(function(){return e.apply(t,arguments)}))})),xy=Ey;function Iy(e,t,n){for(var r=n.next();!r.done;){if((t=e["@@transducer/step"](t,r.value))&&t["@@transducer/reduced"]){t=t["@@transducer/value"];break}r=n.next()}return e["@@transducer/result"](t)}function Ty(e,t,n,r){return e["@@transducer/result"](n[r](xy(e["@@transducer/step"],e),t))}var Cy="undefined"!==typeof Symbol?Symbol.iterator:"@@iterator";function Ny(e,t,n){if("function"===typeof e&&(e=function(e){return new wy(e)}(e)),ky(n))return function(e,t,n){for(var r=0,i=n.length;r<i;){if((t=e["@@transducer/step"](t,n[r]))&&t["@@transducer/reduced"]){t=t["@@transducer/value"];break}r+=1}return e["@@transducer/result"](t)}(e,t,n);if("function"===typeof n["fantasy-land/reduce"])return Ty(e,t,n,"fantasy-land/reduce");if(null!=n[Cy])return Iy(e,t,n[Cy]());if("function"===typeof n.next)return Iy(e,t,n);if("function"===typeof n.reduce)return Ty(e,t,n,"reduce");throw new TypeError("reduce: list must be array or iterable")}var Ry=function(){function e(e,t){this.xf=t,this.f=e}return e.prototype["@@transducer/init"]=my.init,e.prototype["@@transducer/result"]=my.result,e.prototype["@@transducer/step"]=function(e,t){return this.xf["@@transducer/step"](e,this.f(t))},e}(),Py=dy((function(e,t){return new Ry(e,t)}));function Oy(e,t,n){return function(){for(var r=[],i=0,a=e,o=0;o<t.length||i<arguments.length;){var s;o<t.length&&(!cy(t[o])||i>=arguments.length)?s=t[o]:(s=arguments[i],i+=1),r[o]=s,cy(s)||(a-=1),o+=1}return a<=0?n.apply(this,r):Sy(a,Oy(e,r,n))}}var Dy=dy((function(e,t){return 1===e?ly(t):Sy(e,Oy(e,[],t))}));function Ay(e,t){return Object.prototype.hasOwnProperty.call(t,e)}var Zy=Object.prototype.toString,Ly=function(){return"[object Arguments]"===Zy.call(arguments)?function(e){return"[object Arguments]"===Zy.call(e)}:function(e){return Ay("callee",e)}}(),Uy=Ly,My=!{toString:null}.propertyIsEnumerable("toString"),jy=["constructor","valueOf","isPrototypeOf","toString","propertyIsEnumerable","hasOwnProperty","toLocaleString"],Fy=function(){return arguments.propertyIsEnumerable("length")}(),qy=function(e,t){for(var n=0;n<e.length;){if(e[n]===t)return!0;n+=1}return!1},zy="function"!==typeof Object.keys||Fy?ly((function(e){if(Object(e)!==e)return[];var t,n,r=[],i=Fy&&Uy(e);for(t in e)!Ay(t,e)||i&&"length"===t||(r[r.length]=t);if(My)for(n=jy.length-1;n>=0;)Ay(t=jy[n],e)&&!qy(r,t)&&(r[r.length]=t),n-=1;return r})):ly((function(e){return Object(e)!==e?[]:Object.keys(e)})),By=dy(py(["fantasy-land/map","map"],Py,(function(e,t){switch(Object.prototype.toString.call(t)){case"[object Function]":return Dy(t.length,(function(){return e.call(this,t.apply(this,arguments))}));case"[object Object]":return Ny((function(n,r){return n[r]=e(t[r]),n}),{},zy(t));default:return _y(e,t)}}))),Wy=By,Gy=Number.isInteger||function(e){return e<<0===e},Hy=dy((function(e,t){var n=e<0?t.length+e:e;return by(t)?t.charAt(n):t[n]})),Vy=dy((function(e,t){if(null!=t)return Gy(e)?Hy(e,t):t[e]}));function Yy(e){return function t(n,r,i){switch(arguments.length){case 0:return t;case 1:return cy(n)?t:dy((function(t,r){return e(n,t,r)}));case 2:return cy(n)&&cy(r)?t:cy(n)?dy((function(t,n){return e(t,r,n)})):cy(r)?dy((function(t,r){return e(n,t,r)})):ly((function(t){return e(n,r,t)}));default:return cy(n)&&cy(r)&&cy(i)?t:cy(n)&&cy(r)?dy((function(t,n){return e(t,n,i)})):cy(n)&&cy(i)?dy((function(t,n){return e(t,r,n)})):cy(r)&&cy(i)?dy((function(t,r){return e(n,t,r)})):cy(n)?ly((function(t){return e(t,r,i)})):cy(r)?ly((function(t){return e(n,t,i)})):cy(i)?ly((function(t){return e(n,r,t)})):e(n,r,i)}}}function Ky(e,t){var n;t=t||[];var r=(e=e||[]).length,i=t.length,a=[];for(n=0;n<r;)a[a.length]=e[n],n+=1;for(n=0;n<i;)a[a.length]=t[n],n+=1;return a}var $y=dy((function(e,t){return"function"===typeof t["fantasy-land/ap"]?t["fantasy-land/ap"](e):"function"===typeof e.ap?e.ap(t):"function"===typeof e?function(n){return e(n)(t(n))}:Ny((function(e,n){return Ky(e,Wy(n,t))}),[],e)}));var Jy=dy((function(e,t){var n=Dy(e,t);return Dy(e,(function(){return Ny($y,Wy(n,arguments[0]),Array.prototype.slice.call(arguments,1))}))})),Qy=Jy,Xy=ly((function(e){return Qy(e.length,e)}));var e_=Xy(ly((function(e){return!e})));function t_(e){for(var t,n=[];!(t=e.next()).done;)n.push(t.value);return n}function n_(e,t,n){for(var r=0,i=n.length;r<i;){if(e(t,n[r]))return!0;r+=1}return!1}var r_="function"===typeof Object.is?Object.is:function(e,t){return e===t?0!==e||1/e===1/t:e!==e&&t!==t},i_=ly((function(e){return null===e?"Null":void 0===e?"Undefined":Object.prototype.toString.call(e).slice(8,-1)})),a_=i_;function o_(e,t,n,r){var i=t_(e);function a(e,t){return s_(e,t,n.slice(),r.slice())}return!n_((function(e,t){return!n_(a,t,e)}),t_(t),i)}function s_(e,t,n,r){if(r_(e,t))return!0;var i=a_(e);if(i!==a_(t))return!1;if("function"===typeof e["fantasy-land/equals"]||"function"===typeof t["fantasy-land/equals"])return"function"===typeof e["fantasy-land/equals"]&&e["fantasy-land/equals"](t)&&"function"===typeof t["fantasy-land/equals"]&&t["fantasy-land/equals"](e);if("function"===typeof e.equals||"function"===typeof t.equals)return"function"===typeof e.equals&&e.equals(t)&&"function"===typeof t.equals&&t.equals(e);switch(i){case"Arguments":case"Array":case"Object":if("function"===typeof e.constructor&&"Promise"===function(e){var t=String(e).match(/^function (\w*)/);return null==t?"":t[1]}(e.constructor))return e===t;break;case"Boolean":case"Number":case"String":if(typeof e!==typeof t||!r_(e.valueOf(),t.valueOf()))return!1;break;case"Date":if(!r_(e.valueOf(),t.valueOf()))return!1;break;case"Error":return e.name===t.name&&e.message===t.message;case"RegExp":if(e.source!==t.source||e.global!==t.global||e.ignoreCase!==t.ignoreCase||e.multiline!==t.multiline||e.sticky!==t.sticky||e.unicode!==t.unicode)return!1}for(var a=n.length-1;a>=0;){if(n[a]===e)return r[a]===t;a-=1}switch(i){case"Map":return e.size===t.size&&o_(e.entries(),t.entries(),n.concat([e]),r.concat([t]));case"Set":return e.size===t.size&&o_(e.values(),t.values(),n.concat([e]),r.concat([t]));case"Arguments":case"Array":case"Object":case"Boolean":case"Number":case"String":case"Date":case"Error":case"RegExp":case"Int8Array":case"Uint8Array":case"Uint8ClampedArray":case"Int16Array":case"Uint16Array":case"Int32Array":case"Uint32Array":case"Float32Array":case"Float64Array":case"ArrayBuffer":break;default:return!1}var o=zy(e);if(o.length!==zy(t).length)return!1;var s=n.concat([e]),u=r.concat([t]);for(a=o.length-1;a>=0;){var c=o[a];if(!Ay(c,t)||!s_(t[c],e[c],s,u))return!1;a-=1}return!0}var u_=dy((function(e,t){return s_(e,t,[],[])}));function c_(e,t){return function(e,t,n){var r,i;if("function"===typeof e.indexOf)switch(typeof t){case"number":if(0===t){for(r=1/t;n<e.length;){if(0===(i=e[n])&&1/i===r)return n;n+=1}return-1}if(t!==t){for(;n<e.length;){if("number"===typeof(i=e[n])&&i!==i)return n;n+=1}return-1}return e.indexOf(t,n);case"string":case"boolean":case"function":case"undefined":return e.indexOf(t,n);case"object":if(null===t)return e.indexOf(t,n)}for(;n<e.length;){if(u_(e[n],t))return n;n+=1}return-1}(t,e,0)>=0}var l_=function(e){return(e<10?"0":"")+e};Date.prototype.toISOString;function d_(e,t,n){var r,i=typeof e;switch(i){case"string":case"number":return 0===e&&1/e===-1/0?!!n._items["-0"]||(t&&(n._items["-0"]=!0),!1):null!==n._nativeSet?t?(r=n._nativeSet.size,n._nativeSet.add(e),n._nativeSet.size===r):n._nativeSet.has(e):i in n._items?e in n._items[i]||(t&&(n._items[i][e]=!0),!1):(t&&(n._items[i]={},n._items[i][e]=!0),!1);case"boolean":if(i in n._items){var a=e?1:0;return!!n._items[i][a]||(t&&(n._items[i][a]=!0),!1)}return t&&(n._items[i]=e?[!1,!0]:[!0,!1]),!1;case"function":return null!==n._nativeSet?t?(r=n._nativeSet.size,n._nativeSet.add(e),n._nativeSet.size===r):n._nativeSet.has(e):i in n._items?!!c_(e,n._items[i])||(t&&n._items[i].push(e),!1):(t&&(n._items[i]=[e]),!1);case"undefined":return!!n._items[i]||(t&&(n._items[i]=!0),!1);case"object":if(null===e)return!!n._items.null||(t&&(n._items.null=!0),!1);default:return(i=Object.prototype.toString.call(e))in n._items?!!c_(e,n._items[i])||(t&&n._items[i].push(e),!1):(t&&(n._items[i]=[e]),!1)}}var f_=function(){function e(){this._nativeSet="function"===typeof Set?new Set:null,this._items={}}return e.prototype.add=function(e){return!d_(e,!0,this)},e.prototype.has=function(e){return d_(e,!1,this)},e}();function h_(e){return e}var p_=ly(h_),v_=function(){function e(e,t){this.xf=t,this.f=e,this.set=new f_}return e.prototype["@@transducer/init"]=my.init,e.prototype["@@transducer/result"]=my.result,e.prototype["@@transducer/step"]=function(e,t){return this.set.add(this.f(t))?this.xf["@@transducer/step"](e,t):e},e}(),m_=dy(py([],dy((function(e,t){return new v_(e,t)})),(function(e,t){for(var n,r,i=new f_,a=[],o=0;o<t.length;)n=e(r=t[o]),i.add(n)&&a.push(r),o+=1;return a}))),g_=m_(p_);"function"===typeof Object.assign&&Object.assign;var y_=dy((function(e,t){return null==t||t!==t?e:t})),__=Yy((function(e,t,n){return y_(e,Vy(t,n))})),b_=__,k_="\t\n\v\f\r \xa0\u1680\u2000\u2001\u2002\u2003\u2004\u2005\u2006\u2007\u2008\u2009\u200a\u202f\u205f\u3000\u2028\u2029\ufeff";String.prototype.trim;function w_(){return"object"===typeof window&&void 0!==(null===window||void 0===window?void 0:window.document)}var S_=n(6450),E_=n.n(S_),x_=n(4245),I_=n(9667),T_=n.n(I_),C_=n(764);function N_(e){return N_="function"===typeof Symbol&&"symbol"===typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"===typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},N_(e)}function R_(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function P_(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function O_(e,t,n){return t&&P_(e.prototype,t),n&&P_(e,n),e}function D_(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function A_(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{},r=Object.keys(n);"function"===typeof Object.getOwnPropertySymbols&&(r=r.concat(Object.getOwnPropertySymbols(n).filter((function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable})))),r.forEach((function(t){D_(e,t,n[t])}))}return e}function Z_(e){return function(e){if(Array.isArray(e)){for(var t=0,n=new Array(e.length);t<e.length;t++)n[t]=e[t];return n}}(e)||function(e){if(Symbol.iterator in Object(e)||"[object Arguments]"===Object.prototype.toString.call(e))return Array.from(e)}(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance")}()}var L_="$default_instance",U_=2,M_=4096,j_=1e3,F_="$identify",q_="$groupidentify",z_="api.amplitude.com",B_="api.eu.amplitude.com",W_="regionconfig.amplitude.com",G_="regionconfig.eu.amplitude.com",H_=0,V_=1,Y_=2,K_=3,$_=4,J_=5,Q_=6,X_=7,eb="amp_cookie_test",tb="amp",nb="",rb="cookies",ib="none",ab="localStorage",ob="sessionStorage",sb="revenue_amount",ub="$productId",cb="$quantity",lb="$price",db="$revenueType",fb="amp_device_id",hb="referrer",pb="utm_source",vb="utm_medium",mb="utm_campaign",gb="utm_term",yb="utm_content",_b="[Amplitude] Attribution Captured",bb="http",kb="beacon",wb=function(e){for(var t="",n=0;n<e.length;n++){var r=e.charCodeAt(n);r<128?t+=String.fromCharCode(r):r>127&&r<2048?(t+=String.fromCharCode(r>>6|192),t+=String.fromCharCode(63&r|128)):(t+=String.fromCharCode(r>>12|224),t+=String.fromCharCode(r>>6&63|128),t+=String.fromCharCode(63&r|128))}return t},Sb=function(e){for(var t="",n=0,r=0,i=0,a=0;n<e.length;)(r=e.charCodeAt(n))<128?(t+=String.fromCharCode(r),n++):r>191&&r<224?(i=e.charCodeAt(n+1),t+=String.fromCharCode((31&r)<<6|63&i),n+=2):(i=e.charCodeAt(n+1),a=e.charCodeAt(n+2),t+=String.fromCharCode((15&r)<<12|(63&i)<<6|63&a),n+=3);return t},Eb="undefined"!==typeof globalThis?globalThis:"undefined"!==typeof window?window:"undefined"!==typeof self?self:"undefined"!==typeof n.g?n.g:void 0,xb={_keyStr:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=",encode:function(e){try{if(Eb.btoa&&Eb.atob)return Eb.btoa(unescape(encodeURIComponent(e)))}catch(t){}return xb._encode(e)},_encode:function(e){var t,n,r,i,a,o,s,u="",c=0;for(e=wb(e);c<e.length;)i=(t=e.charCodeAt(c++))>>2,a=(3&t)<<4|(n=e.charCodeAt(c++))>>4,o=(15&n)<<2|(r=e.charCodeAt(c++))>>6,s=63&r,isNaN(n)?o=s=64:isNaN(r)&&(s=64),u=u+xb._keyStr.charAt(i)+xb._keyStr.charAt(a)+xb._keyStr.charAt(o)+xb._keyStr.charAt(s);return u},decode:function(e){try{if(Eb.btoa&&Eb.atob)return decodeURIComponent(escape(Eb.atob(e)))}catch(t){}return xb._decode(e)},_decode:function(e){var t,n,r,i,a,o,s="",u=0;for(e=e.replace(/[^A-Za-z0-9+/=]/g,"");u<e.length;)t=xb._keyStr.indexOf(e.charAt(u++))<<2|(i=xb._keyStr.indexOf(e.charAt(u++)))>>4,n=(15&i)<<4|(a=xb._keyStr.indexOf(e.charAt(u++)))>>2,r=(3&a)<<6|(o=xb._keyStr.indexOf(e.charAt(u++))),s+=String.fromCharCode(t),64!==a&&(s+=String.fromCharCode(n)),64!==o&&(s+=String.fromCharCode(r));return s=Sb(s)}},Ib=Object.prototype.toString;function Tb(e){switch(Ib.call(e)){case"[object Date]":return"date";case"[object RegExp]":return"regexp";case"[object Arguments]":return"arguments";case"[object Array]":return"array";case"[object Error]":return"error"}return null===e?"null":void 0===e?"undefined":e!==e?"nan":e&&1===e.nodeType?"element":"undefined"!==typeof Buffer&&"function"===typeof Buffer.isBuffer&&Buffer.isBuffer(e)?"buffer":N_(e=e.valueOf?e.valueOf():Object.prototype.valueOf.apply(e))}var Cb,Nb={DISABLE:0,ERROR:1,WARN:2,INFO:3},Rb=Nb.WARN,Pb={error:function(e){Rb>=Nb.ERROR&&Ob(e)},warn:function(e){Rb>=Nb.WARN&&Ob(e)},info:function(e){Rb>=Nb.INFO&&Ob(e)}},Ob=function(e){try{console.log("[Amplitude] "+e)}catch(t){}},Db=function(e){return"string"===Tb(e)&&e.length>M_?e.substring(0,M_):e},Ab=function(e,t,n){return Tb(e)===n||(Pb.error("Invalid "+t+" input type. Expected "+n+" but received "+Tb(e)),!1)},Zb=function(e){var t=Tb(e);if("object"!==t)return Pb.error("Error: invalid properties format. Expecting Javascript object, received "+t+", ignoring"),{};if(Object.keys(e).length>j_)return Pb.error("Error: too many properties (more than 1000), ignoring"),{};var n={};for(var r in e)if(Object.prototype.hasOwnProperty.call(e,r)){var i=r,a=Tb(i);"string"!==a&&(i=String(i),Pb.warn("WARNING: Non-string property key, received type "+a+', coercing to string "'+i+'"'));var o=Ub(i,e[r]);null!==o&&(n[i]=o)}return n},Lb=["nan","function","arguments","regexp","element"],Ub=function e(t,n){var r=Tb(n);if(-1!==Lb.indexOf(r))Pb.warn('WARNING: Property key "'+t+'" with invalid value type '+r+", ignoring"),n=null;else if("undefined"===r)n=null;else if("error"===r)n=String(n),Pb.warn('WARNING: Property key "'+t+'" with value type error, coercing to '+n);else if("array"===r){for(var i=[],a=0;a<n.length;a++){var o=n[a],s=Tb(o);"array"!==s?"object"===s?i.push(Zb(o)):i.push(e(t,o)):Pb.warn("WARNING: Cannot have "+s+" nested in an array property value, skipping")}n=i}else"object"===r&&(n=Zb(n));return n},Mb=function(e,t){var n=Tb(t);if("string"===n)return t;if("date"===n||"number"===n||"boolean"===n)return t=String(t),Pb.warn("WARNING: Non-string groupName, received type "+n+', coercing to string "'+t+'"'),t;if("array"===n){for(var r=[],i=0;i<t.length;i++){var a=t[i],o=Tb(a);"array"!==o&&"object"!==o?"string"===o?r.push(a):"date"!==o&&"number"!==o&&"boolean"!==o||(a=String(a),Pb.warn("WARNING: Non-string groupName, received type "+o+', coercing to string "'+a+'"'),r.push(a)):Pb.warn("WARNING: Skipping nested "+o+" in array groupName")}return r}Pb.warn("WARNING: Non-string groupName, received type "+n+". Please use strings or array of strings for groupName")},jb=function(e){Object.prototype.hasOwnProperty.call(Nb,e)&&(Rb=Nb[e])},Fb=Pb,qb=function(e){return!e||0===e.length},zb=function(){return"undefined"!==typeof WorkerGlobalScope},Bb=function(e,t){e=e.replace(/[[]/,"\\[").replace(/[\]]/,"\\]");var n=new RegExp("[\\?&]"+e+"=([^&#]*)").exec(t);return null===n?void 0:decodeURIComponent(n[1].replace(/\+/g," "))},Wb=function e(t){if("array"===Tb(t))for(var n=0;n<t.length;n++)t[n]=e(t[n]);else if("object"===Tb(t))for(var r in t)r in t&&(t[r]=e(t[r]));else t=Db(t);return t},Gb=function(e){var t=Tb(e);if("object"!==t)return Pb.error("Error: invalid groups format. Expecting Javascript object, received "+t+", ignoring"),{};var n={};for(var r in e)if(Object.prototype.hasOwnProperty.call(e,r)){var i=r,a=Tb(i);"string"!==a&&(i=String(i),Pb.warn("WARNING: Non-string groupType, received type "+a+', coercing to string "'+i+'"'));var o=Mb(i,e[r]);null!==o&&(n[i]=o)}return n},Hb=Ab,Vb=Zb,Yb=function(e){return!!Ab(e,"deviceId","string")&&(!(e.indexOf(".")>=0)||(Pb.error("Device IDs may not contain '.' characters. Value will be ignored: \"".concat(e,'"')),!1))},Kb=function(e){return!!Ab(e,"transport","string")&&(e!==bb&&e!==kb?(Pb.error("transport value must be one of '".concat(kb,"' or '").concat(bb,"'")),!1):!(e!==bb&&"undefined"!==typeof navigator&&!navigator.sendBeacon)||(Pb.error("browser does not support sendBeacon, so transport must be HTTP"),!1))},$b=function(e){return!!(Ab(e,"sessionId","number")&&new Date(e).getTime()>0)||(Pb.error("sessionId value must in milliseconds since epoch (Unix Timestamp)"),!1)},Jb=function(){return Eb.location},Qb=function(){for(var e="",t=0;t<22;++t)e+="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-_".charAt(Math.floor(64*Math.random()));return e},Xb=function(e){try{for(var t=document.cookie.split(";"),n=null,r=0;r<t.length;r++){for(var i=t[r];" "===i.charAt(0);)i=i.substring(1,i.length);if(0===i.indexOf(e)){n=i.substring(e.length,i.length);break}}return n}catch(a){return null}},ek=function(e,t,n){var r=null!==t?n.expirationDays:-1;if(r){var i=new Date;i.setTime(i.getTime()+24*r*60*60*1e3),r=i}var a=e+"="+t;r&&(a+="; expires="+r.toUTCString()),a+="; path=/",n.domain&&(a+="; domain="+n.domain),n.secure&&(a+="; Secure"),n.sameSite&&(a+="; SameSite="+n.sameSite),document.cookie=a},tk=function(){var e,t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"",n=t.split(".")[$_];return n&&(e=parseInt(n,32)),e||(Fb.warn("unable to parse malformed cookie: ".concat(t)),0)},nk=ek,rk=Xb,ik=function(e){try{var t=document.cookie.split(";").map((function(e){return e.trimStart()})),n=[],r=!0,i=!1,a=void 0;try{for(var o,s=t[Symbol.iterator]();!(r=(o=s.next()).done);r=!0){for(var u=o.value;" "===u.charAt(0);)u=u.substring(1);0===u.indexOf(e)&&n.push(u.substring(e.length))}}catch(c){i=!0,a=c}finally{try{r||null==s.return||s.return()}finally{if(i)throw a}}return n}catch(l){return[]}},ak=function(e){return Z_(e).sort((function(e,t){var n=tk(e);return tk(t)-n}))},ok=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=eb+Qb();if("undefined"===typeof document)return!1;var n=!1;try{var r=String(Date.now());ek(t,r,e),Fb.info("Testing if cookies available"),n=Xb(t+"=")===r}catch(i){Fb.warn('Error thrown when checking for cookies. Reason: "'.concat(i,'"'))}finally{Fb.info("Cleaning up cookies availability test"),ek(t,null,e)}return n},sk=function(e){var t=Eb.location?Eb.location.hostname:"";if(e){if("undefined"!==typeof document){var n=document.createElement("a");return n.href=e,n.hostname||t}if("function"===typeof URL)return new URL(e).hostname||t}return t},uk=function(e){var t=sk(e).split("."),n=[],r="_tldtest_"+Qb();if(zb())return"";for(var i=t.length-2;i>=0;--i)n.push(t.slice(i).join("."));for(var a=0;a<n.length;++a){var o=n[a],s={domain:"."+o};if(nk(r,1,s),rk(r))return nk(r,null,s),o}return""},ck={expirationDays:void 0,domain:void 0},lk=function(e){var t="";return ck.domain&&(t="."===ck.domain.charAt(0)?ck.domain.substring(1):ck.domain),e+t},dk=function(e){var t=lk(e)+"=",n=rk(t);try{if(n)return JSON.parse(xb.decode(n))}catch(r){return null}return null},fk=function(e,t){try{return nk(lk(e),xb.encode(JSON.stringify(t)),ck),!0}catch(n){return!1}},hk=function(e){try{return nk(lk(e),null,ck),!0}catch(t){return!1}},pk={reset:function(){ck={expirationDays:void 0,domain:void 0}},options:function(e){if(0===arguments.length)return ck;e=e||{},ck.expirationDays=e.expirationDays,ck.secure=e.secure,ck.sameSite=e.sameSite;var t=qb(e.domain)?"."+uk(Jb().href):e.domain,n=Math.random();ck.domain=t,fk("amplitude_test",n);var r=dk("amplitude_test");return r&&r===n||(t=null),hk("amplitude_test"),ck.domain=t,ck},get:dk,set:fk,remove:hk,setRaw:function(e,t){try{return nk(lk(e),t,ck),!0}catch(n){return!1}},getRaw:function(e){var t=lk(e)+"=";return rk(t)}},vk=function(){function e(){R_(this,e),this.map=new Map,this.length=0}return O_(e,[{key:"key",value:function(e){var t=Array.from(this.map.keys())[e];return this.map.get(t)}},{key:"getItem",value:function(e){return this.map.get(e)}},{key:"setItem",value:function(e,t){this.map.has(e)||(this.length+=1),this.map.set(e,t)}},{key:"removeItem",value:function(e){this.map.has(e)&&(this.length-=1,this.map.delete(e))}},{key:"clear",value:function(){this.map.clear(),this.length=0}}]),e}();if(function(){var e,t=new Date;try{return Eb.localStorage.setItem(t,t),e=Eb.localStorage.getItem(t)===String(t),Eb.localStorage.removeItem(t),e}catch(n){}return!1}())Cb=Eb.localStorage;else if("undefined"!==typeof Eb&&Eb.globalStorage)try{Cb=Eb.globalStorage[Eb.location.hostname]}catch(ww){}else if("undefined"!==typeof document){var mk=document.createElement("div"),gk="localStorage";mk.style.display="none",document.getElementsByTagName("head")[0].appendChild(mk),mk.addBehavior&&(mk.addBehavior("#default#userdata"),Cb={length:0,setItem:function(e,t){mk.load(gk),mk.getAttribute(e)||this.length++,mk.setAttribute(e,t),mk.save(gk)},getItem:function(e){return mk.load(gk),mk.getAttribute(e)},removeItem:function(e){mk.load(gk),mk.getAttribute(e)&&this.length--,mk.removeAttribute(e),mk.save(gk)},clear:function(){mk.load(gk);for(var e,t=0;e=mk.XMLDocument.documentElement.attributes[t++];)mk.removeAttribute(e.name);mk.save(gk),this.length=0},key:function(e){return mk.load(gk),mk.XMLDocument.documentElement.attributes[e]}},mk.load(gk),Cb.length=mk.XMLDocument.documentElement.attributes.length)}else zb()&&(Cb=new vk);Cb||(Cb={length:0,setItem:function(e,t){},getItem:function(e){},removeItem:function(e){},clear:function(){},key:function(e){}});var yk,_k=Cb,bk=function(){this.storage=null};bk.prototype.getStorage=function(){if(null!==this.storage)return this.storage;if(ok())this.storage=pk;else{var e="amp_cookiestore_";this.storage={_options:{expirationDays:void 0,domain:void 0,secure:!1},reset:function(){this._options={expirationDays:void 0,domain:void 0,secure:!1}},options:function(e){return 0===arguments.length?this._options:(e=e||{},this._options.expirationDays=e.expirationDays||this._options.expirationDays,this._options.domain=e.domain||this._options.domain||Eb&&Eb.location&&Eb.location.hostname,this._options.secure=e.secure||!1)},get:function(t){try{return JSON.parse(_k.getItem(e+t))}catch(ww){}return null},set:function(t,n){try{return _k.setItem(e+t,JSON.stringify(n)),!0}catch(ww){}return!1},remove:function(t){try{_k.removeItem(e+t)}catch(ww){return!1}}}}return this.storage};var kk=(D_(yk={},rb,!0),D_(yk,ib,!0),D_(yk,ab,!0),D_(yk,ob,!0),yk),wk=function(){function e(t){var n=t.storageKey,r=t.disableCookies,i=t.domain,a=t.secure,o=t.sameSite,s=t.expirationDays,u=t.storage;R_(this,e),this.storageKey=n,this.domain=i,this.secure=a,this.sameSite=o,this.expirationDays=s,this.cookieDomain="";var c=Jb()?Jb().href:void 0,l=uk(c);if(this.cookieDomain=i||(l?"."+l:null),kk[u])this.storage=u;else{var d=r||!ok({domain:this.cookieDomain,secure:this.secure,sameSite:this.sameSite,expirationDays:this.expirationDays});this.storage=d?ab:rb}}return O_(e,[{key:"getCookieStorageKey",value:function(){if(!this.domain)return this.storageKey;var e="."===this.domain.charAt(0)?this.domain.substring(1):this.domain;return"".concat(this.storageKey).concat(e?"_".concat(e):"")}},{key:"save",value:function(e){var t=e.deviceId,n=e.userId,r=e.optOut,i=e.sessionId,a=e.lastEventTime,o=e.eventId,s=e.identifyId,u=e.sequenceNumber;if(this.storage!==ib){var c=[t,xb.encode(n||""),r?"1":"",i?i.toString(32):"0",a?a.toString(32):"0",o?o.toString(32):"0",s?s.toString(32):"0",u?u.toString(32):"0"].join(".");switch(this.storage){case ob:Eb.sessionStorage&&Eb.sessionStorage.setItem(this.storageKey,c);break;case ab:_k.setItem(this.storageKey,c);break;case rb:this.saveCookie(c)}}}},{key:"saveCookie",value:function(e){nk(this.getCookieStorageKey(),e,{domain:this.cookieDomain,secure:this.secure,sameSite:this.sameSite,expirationDays:this.expirationDays})}},{key:"load",value:function(){var e,t=this;if(this.storage===rb){var n=this.getCookieStorageKey()+"=",r=ik(n);if(0===r.length||1===r.length)e=r[0];else{var i=ak(r)[0];r.forEach((function(){return nk(t.getCookieStorageKey(),null,{})})),this.saveCookie(i),e=rk(n)}}if(e||(e=_k.getItem(this.storageKey)),!e)try{e=Eb.sessionStorage&&Eb.sessionStorage.getItem(this.storageKey)}catch(ww){Fb.info('window.sessionStorage unavailable. Reason: "'.concat(ww,'"'))}if(!e)return null;var a=e.split("."),o=null;if(a[V_])try{o=xb.decode(a[V_])}catch(ww){o=null}return{deviceId:a[H_],userId:o,optOut:"1"===a[Y_],sessionId:parseInt(a[K_],32),lastEventTime:parseInt(a[$_],32),eventId:parseInt(a[J_],32),identifyId:parseInt(a[Q_],32),sequenceNumber:parseInt(a[X_],32)}}},{key:"clear",value:function(){var e;if(this.storage===rb&&(e=rk(this.getCookieStorageKey()+"="),nk(this.getCookieStorageKey(),null,{domain:this.cookieDomain,secure:this.secure,sameSite:this.sameSite,expirationDays:0})),e||(e=_k.getItem(this.storageKey),_k.clear()),!e)try{e=Eb.sessionStorage&&Eb.sessionStorage.getItem(this.storageKey),Eb.sessionStorage.clear()}catch(ww){Fb.info('window.sessionStorage unavailable. Reason: "'.concat(ww,'"'))}return!!e}}]),e}(),Sk="$clearAll",Ek=function(){this.userPropertiesOperations={},this.properties=[]};Ek.prototype.add=function(e,t){return"number"===Tb(t)||"string"===Tb(t)?this._addOperation("$add",e,t):Fb.error("Unsupported type for value: "+Tb(t)+", expecting number or string"),this},Ek.prototype.append=function(e,t){return this._addOperation("$append",e,t),this},Ek.prototype.clearAll=function(){return Object.keys(this.userPropertiesOperations).length>0?(Object.prototype.hasOwnProperty.call(this.userPropertiesOperations,Sk)||Fb.error("Need to send $clearAll on its own Identify object without any other operations, skipping $clearAll"),this):(this.userPropertiesOperations.$clearAll="-",this)},Ek.prototype.prepend=function(e,t){return this._addOperation("$prepend",e,t),this},Ek.prototype.set=function(e,t){return this._addOperation("$set",e,t),this},Ek.prototype.setOnce=function(e,t){return this._addOperation("$setOnce",e,t),this},Ek.prototype.unset=function(e){return this._addOperation("$unset",e,"-"),this},Ek.prototype.preInsert=function(e,t){return this._addOperation("$preInsert",e,t),this},Ek.prototype.postInsert=function(e,t){return this._addOperation("$postInsert",e,t),this},Ek.prototype.remove=function(e,t){return this._addOperation("$remove",e,t),this},Ek.prototype._addOperation=function(e,t,n){Object.prototype.hasOwnProperty.call(this.userPropertiesOperations,Sk)?Fb.error("This identify already contains a $clearAll operation, skipping operation "+e):-1===this.properties.indexOf(t)?(Object.prototype.hasOwnProperty.call(this.userPropertiesOperations,e)||(this.userPropertiesOperations[e]={}),this.userPropertiesOperations[e][t]=n,this.properties.push(t)):Fb.error('User property "'+t+'" already used in this identify, skipping operation '+e)};var xk=function(e,t,n){this.url=e,this.data=t||{},this.headers=n};xk.prototype.send=function(e){if(!!Eb.XDomainRequest){var t=new Eb.XDomainRequest;t.open("POST",this.url,!0),t.onload=function(){e(200,t.responseText)},t.onerror=function(){"Request Entity Too Large"===t.responseText?e(413,t.responseText):e(500,t.responseText)},t.ontimeout=function(){},t.onprogress=function(){},t.send(x_.stringify(this.data))}else if("undefined"!==typeof XMLHttpRequest){var n=new XMLHttpRequest;n.open("POST",this.url,!0),n.onreadystatechange=function(){4===n.readyState&&e(n.status,n.responseText)},function(e,t){for(var n in t)("Cross-Origin-Resource-Policy"!==n||t[n])&&e.setRequestHeader(n,t[n])}(n,this.headers),n.send(x_.stringify(this.data))}else{var r=void 0;fetch(this.url,{method:"POST",headers:this.headers,body:x_.stringify(this.data)}).then((function(e){return r=e.status,e.text()})).then((function(t){e(r,t)}))}};var Ik=function(){this._price=null,this._productId=null,this._quantity=1,this._revenueType=null,this._properties=null};Ik.prototype.setProductId=function(e){return"string"!==Tb(e)?Fb.error("Unsupported type for productId: "+Tb(e)+", expecting string"):qb(e)?Fb.error("Invalid empty productId"):this._productId=e,this},Ik.prototype.setQuantity=function(e){return"number"!==Tb(e)?Fb.error("Unsupported type for quantity: "+Tb(e)+", expecting number"):this._quantity=parseInt(e),this},Ik.prototype.setPrice=function(e){return"number"!==Tb(e)?Fb.error("Unsupported type for price: "+Tb(e)+", expecting number"):this._price=e,this},Ik.prototype.setRevenueType=function(e){return"string"!==Tb(e)?Fb.error("Unsupported type for revenueType: "+Tb(e)+", expecting string"):this._revenueType=e,this},Ik.prototype.setEventProperties=function(e){return"object"!==Tb(e)?Fb.error("Unsupported type for eventProperties: "+Tb(e)+", expecting object"):this._properties=Vb(e),this},Ik.prototype._isValidRevenue=function(){return"number"===Tb(this._price)||(Fb.error("Invalid revenue, need to set price field"),!1)},Ik.prototype._toJSONObject=function(){var e="object"===Tb(this._properties)?this._properties:{};return null!==this._productId&&(e[ub]=this._productId),null!==this._quantity&&(e[cb]=this._quantity),null!==this._price&&(e[lb]=this._price),null!==this._revenueType&&(e[db]=this._revenueType),e};var Tk=function e(t){return t?(t^16*Math.random()>>t/4).toString(16):([1e7]+-1e3+-4e3+-8e3+-1e11).replace(/[018]/g,e)},Ck="US",Nk="EU",Rk=function(e){var t=z_;switch(e){case Nk:t=B_;break;case Ck:t=z_}return t},Pk="8.18.5",Ok={apiEndpoint:z_,batchEvents:!1,cookieExpiration:365,cookieName:"amplitude_id",sameSiteCookie:"Lax",cookieForceUpgrade:!1,deferInitialization:!1,disableCookies:!1,deviceIdFromUrlParam:!1,domain:"",eventUploadPeriodMillis:3e4,eventUploadThreshold:30,forceHttps:!0,includeFbclid:!1,includeGclid:!1,includeReferrer:!1,includeUtm:!1,language:function(){return"undefined"!==typeof navigator&&(navigator.languages&&navigator.languages[0]||navigator.language||navigator.userLanguage)||""}(),library:{name:"amplitude-js",version:Pk},logLevel:"WARN",logAttributionCapturedEvent:!1,optOut:!1,onError:function(){},onExitPage:function(){},onNewSessionStart:function(){},plan:{branch:"",source:"",version:"",versionId:""},platform:"Web",savedMaxCount:1e3,saveEvents:!0,saveParamsReferrerOncePerSession:!0,secureCookie:!1,sessionTimeout:18e5,storage:nb,trackingOptions:{city:!0,country:!0,carrier:!0,device_manufacturer:!0,device_model:!0,dma:!0,ip_address:!0,language:!0,os_name:!0,os_version:!0,platform:!0,region:!0,version_name:!0},transport:bb,unsetParamsReferrerOnNewSession:!1,unsentKey:"amplitude_unsent",unsentIdentifyKey:"amplitude_unsent_identify",uploadBatchSize:100,headers:{"Content-Type":"application/x-www-form-urlencoded; charset=UTF-8","Cross-Origin-Resource-Policy":"cross-origin"},serverZone:Ck,useDynamicConfig:!1,serverZoneBasedApi:!1,sessionId:null},Dk=function(){function e(){return R_(this,e),e.instance||(this.ingestionEndpoint=z_,e.instance=this),e.instance}return O_(e,[{key:"refresh",value:function(e,t,n){var r="https";t||"https:"===Eb.location.protocol||(r="http");var i=r+"://"+function(e){var t=W_;switch(e){case Nk:t=G_;break;case Ck:t=W_}return t}(e),a=this;if(!!Eb.XDomainRequest){var o=new Eb.XDomainRequest;o.open("GET",i,!0),o.onload=function(){var e=JSON.parse(o.responseText);a.ingestionEndpoint=e.ingestionEndpoint,n&&n()},o.onerror=function(){},o.ontimeout=function(){},o.onprogress=function(){},o.send()}else{var s=new XMLHttpRequest;s.open("GET",i,!0),s.onreadystatechange=function(){if(4===s.readyState&&200===s.status){var e=JSON.parse(s.responseText);a.ingestionEndpoint=e.ingestionEndpoint,n&&n()}},s.send()}}}]),e}(),Ak=new Dk,Zk=function(e){w_()||zb()||Fb.warn("amplitude-js will not work in a non-browser environment. If you are planning to add Amplitude to a node environment, please use @amplitude/node"),this._instanceName=qb(e)?L_:e.toLowerCase(),this._unsentEvents=[],this._unsentIdentifys=[],this.options=A_({},Ok,{trackingOptions:A_({},Ok.trackingOptions)}),this.cookieStorage=(new bk).getStorage(),this._q=[],this._sending=!1,this._updateScheduled=!1,this._onInitCallbacks=[],this._onNewSessionStartCallbacks=[],this._eventId=0,this._identifyId=0,this._lastEventTime=null,this._newSession=!1,this._sequenceNumber=0,this._sessionId=null,this._isInitialized=!1,this._connector=null,this._userAgent="undefined"!==typeof navigator&&navigator&&navigator.userAgent||null,this._ua=new(T_())(this._userAgent).getResult()};Zk.prototype.Identify=Ek,Zk.prototype.Revenue=Ik,Zk.prototype.init=function(e,t,n,r){var i=this;if("string"!==Tb(e)||qb(e))Fb.error("Invalid apiKey. Please re-initialize with a valid apiKey");else try{this._connector=C_.AnalyticsConnector.getInstance(this._instanceName),Uk(this.options,n),(w_()||zb())&&void 0!==Eb.Prototype&&Array.prototype.toJSON&&(!function(){var e;if(w_()){var t=window,n=Array;if(void 0!==t.Prototype&&void 0!==(null===(e=n.prototype)||void 0===e?void 0:e.toJSON))return delete n.prototype.toJSON,!0}}(),Fb.warn("Prototype.js injected Array.prototype.toJSON. Deleting Array.prototype.toJSON to prevent double-stringify")),this.options.cookieName!==Ok.cookieName&&Fb.warn("The cookieName option is deprecated. We will be ignoring it for newer cookies"),this.options.serverZoneBasedApi&&(this.options.apiEndpoint=Rk(this.options.serverZone)),this._refreshDynamicConfig(),this.options.apiKey=e,this._storageSuffix="_"+e+(this._instanceName===L_?"":"_"+this._instanceName),this._storageSuffixV5=e.slice(0,6),this._oldCookiename=this.options.cookieName+this._storageSuffix,this._unsentKey=this.options.unsentKey+this._storageSuffix,this._unsentIdentifyKey=this.options.unsentIdentifyKey+this._storageSuffix,this._cookieName=tb+"_"+this._storageSuffixV5,this.cookieStorage.options({expirationDays:this.options.cookieExpiration,domain:this.options.domain,secure:this.options.secureCookie,sameSite:this.options.sameSiteCookie}),this._metadataStorage=new wk({storageKey:this._cookieName,disableCookies:this.options.disableCookies,expirationDays:this.options.cookieExpiration,domain:this.options.domain,secure:this.options.secureCookie,sameSite:this.options.sameSiteCookie,storage:this.options.storage});var a=!!this.cookieStorage.get(this._oldCookiename),o=!!this._metadataStorage.load();this._useOldCookie=!o&&a&&!this.options.cookieForceUpgrade;var s=o||a;if(this.options.deferInitialization&&!s)return void this._deferInitialization(e,t,n,r);this.options.domain=this.cookieStorage.options().domain,"string"===Tb(this.options.logLevel)&&jb(this.options.logLevel);var u=Hk(this);this._apiPropertiesTrackingOptions=Object.keys(u).length>0?{tracking_options:u}:{},this.options.cookieForceUpgrade&&a&&(o||jk(this),this.cookieStorage.remove(this._oldCookiename)),Mk(this),this._pendingReadStorage=!0;this.options.saveEvents&&(this._unsentEvents=this._loadSavedUnsentEvents(this.options.unsentKey).map((function(e){return{event:e}})).concat(this._unsentEvents),this._unsentIdentifys=this._loadSavedUnsentEvents(this.options.unsentIdentifyKey).map((function(e){return{event:e}})).concat(this._unsentIdentifys)),n&&n.onNewSessionStart&&this.onNewSessionStart(this.options.onNewSessionStart),function(e){n&&n.deviceId&&!Yb(n.deviceId)&&(Fb.error('Invalid device ID rejected. Randomly generated UUID will be used instead of "'.concat(n.deviceId,'"')),delete n.deviceId),i.options.deviceId=i._getInitialDeviceId(n&&n.deviceId,e),i.options.userId="string"===Tb(t)&&!qb(t)&&t||"number"===Tb(t)&&t.toString()||i.options.userId||null;var r=(new Date).getTime(),a=!i._sessionId||!i._lastEventTime||r-i._lastEventTime>i.options.sessionTimeout||i.options.sessionId;a&&(i.options.unsetParamsReferrerOnNewSession&&i._unsetUTMParams(),i._newSession=!0,i._sessionId=i.options.sessionId||r,i.options.sessionId=void 0,i.options.saveParamsReferrerOncePerSession&&i._trackParamsAndReferrer()),i.options.saveParamsReferrerOncePerSession||i._trackParamsAndReferrer(),i.options.saveEvents&&(Lk(i._unsentEvents),Lk(i._unsentIdentifys)),i._lastEventTime=r,qk(i),i._pendingReadStorage=!1,i._sendEventsIfReady();for(var o=0;o<i._onInitCallbacks.length;o++)i._onInitCallbacks[o](i);i._onInitCallbacks=[],i._isInitialized=!0,a&&i._runNewSessionStartCallbacks()}(),this.runQueuedFunctions(),"function"===Tb(r)&&r(this);var c=this.options.onExitPage;if("function"===Tb(c)&&Eb.addEventListener&&!this.pageHandlersAdded){this.pageHandlersAdded=!0;Eb.addEventListener("pagehide",(function(){!function(){var e=i.options.transport;i.setTransport(kb),c(),i.setTransport(e)}()}),!1)}this._connector.eventBridge.setEventReceiver((function(e){i._logEvent(e.eventType,e.eventProperties,e.userProperties)}));var l=this._connector.identityStore.editIdentity();this.options.deviceId&&l.setDeviceId(this.options.deviceId),this.options.userId&&l.setUserId(this.options.userId),l.commit()}catch(d){Fb.error(d),n&&"function"===Tb(n.onError)&&n.onError(d)}},Zk.prototype._runNewSessionStartCallbacks=function(){for(var e=0;e<this._onNewSessionStartCallbacks.length;e++)this._onNewSessionStartCallbacks[e](this)},Zk.prototype.deleteLowerLevelDomainCookies=function(){var e=sk(),t=this.options.domain&&"."===this.options.domain[0]?this.options.domain.slice(1):this.options.domain;if(t&&zb()&&e!==t&&new RegExp(t+"$").test(e)){for(var n=e.split("."),r=t.split("."),i=n.length;i>r.length;--i){var a=n.slice(n.length-i).join(".");nk(this._cookieName,null,{domain:"."+a})}nk(this._cookieName,null,{})}},Zk.prototype._getInitialDeviceId=function(e,t){if(e)return e;if(this.options.deviceIdFromUrlParam){var n=this._getDeviceIdFromUrlParam(this._getUrlParams());if(n)return n}return this.options.deviceId?this.options.deviceId:t||Qb()};var Lk=function(e){for(var t=0;t<e.length;t++){var n=e[t].event.user_properties,r=e[t].event.event_properties,i=e[t].event.groups;e[t].event.user_properties=Vb(n),e[t].event.event_properties=Vb(r),e[t].event.groups=Gb(i)}};Zk.prototype._trackParamsAndReferrer=function(){var e,t,n,r;if(this.options.includeUtm&&(e=this._initUtmData()),this.options.includeReferrer&&(t=this._saveReferrer(this._getReferrer())),this.options.includeGclid&&(n=this._saveGclid(this._getUrlParams())),this.options.includeFbclid&&(r=this._saveFbclid(this._getUrlParams())),this.options.logAttributionCapturedEvent){var i=A_({},e,t,n,r);Object.keys(i).length>0&&this.logEvent(_b,i)}};var Uk=function e(t,n){if("object"===Tb(n)){var r=new Set(["headers"]),i=function(r){if(Object.prototype.hasOwnProperty.call(t,r)){var i=n[r],a=Tb(t[r]);("transport"!==r||Kb(i))&&("sessionId"!==r||null===i?Hb(i,r+" option",a)&&("boolean"===a?t[r]=!!i:"string"===a&&!qb(i)||"number"===a&&i>0||"function"===a?t[r]=i:"object"===a&&e(t[r],i)):t[r]=$b(i)?i:null)}};for(var a in n)r.has(a)?t[a]=A_({},t[a],n[a]):Object.prototype.hasOwnProperty.call(n,a)&&i(a)}};Zk.prototype.runQueuedFunctions=function(){var e=this._q;this._q=[];for(var t=0;t<e.length;t++){var n=this[e[t][0]];"function"===Tb(n)&&n.apply(this,e[t].slice(1))}},Zk.prototype._apiKeySet=function(e){return!qb(this.options.apiKey)||(Fb.error("Invalid apiKey. Please set a valid apiKey with init() before calling "+e),!1)},Zk.prototype._loadSavedUnsentEvents=function(e){var t=this._getFromStorage(_k,e),n=this._parseSavedUnsentEventsString(t,e);return this._setInStorage(_k,e,JSON.stringify(n)),n},Zk.prototype._parseSavedUnsentEventsString=function(e,t){if(qb(e))return[];if("string"===Tb(e))try{var n=JSON.parse(e);if("array"===Tb(n))return n}catch(ww){}return Fb.error("Unable to load "+t+" events. Restart with a new empty queue."),[]},Zk.prototype.isNewSession=function(){return this._newSession},Zk.prototype.onInit=function(e){this._isInitialized?e(this):this._onInitCallbacks.push(e)},Zk.prototype.onNewSessionStart=function(e){this._onNewSessionStartCallbacks.push(e)},Zk.prototype.getSessionId=function(){return this._sessionId},Zk.prototype.nextEventId=function(){return this._eventId++,this._eventId},Zk.prototype.nextIdentifyId=function(){return this._identifyId++,this._identifyId},Zk.prototype.nextSequenceNumber=function(){return this._sequenceNumber++,this._sequenceNumber},Zk.prototype._unsentCount=function(){return this._unsentEvents.length+this._unsentIdentifys.length},Zk.prototype._sendEventsIfReady=function(){return 0!==this._unsentCount()&&(this.options.batchEvents?this._unsentCount()>=this.options.eventUploadThreshold||this.options.transport===kb?(this.sendEvents(),!0):(this._updateScheduled||(this._updateScheduled=!0,setTimeout(function(){this._updateScheduled=!1,this.sendEvents()}.bind(this),this.options.eventUploadPeriodMillis)),!1):(this.sendEvents(),!0))},Zk.prototype.clearStorage=function(){return this._metadataStorage.clear()},Zk.prototype._getFromStorage=function(e,t){return e.getItem(t+this._storageSuffix)},Zk.prototype._setInStorage=function(e,t,n){e.setItem(t+this._storageSuffix,n)};var Mk=function(e){if(e._useOldCookie){var t=e.cookieStorage.get(e._oldCookiename);"object"!==Tb(t)||Fk(e,t)}else{var n=e._metadataStorage.load();"object"===Tb(n)&&Fk(e,n)}},jk=function(e){var t=e.cookieStorage.get(e._oldCookiename);"object"===Tb(t)&&(Fk(e,t),qk(e))},Fk=function(e,t){t.deviceId&&(e.options.deviceId=t.deviceId),t.userId&&(e.options.userId=t.userId),null!==t.optOut&&void 0!==t.optOut&&!1!==t.optOut&&(e.options.optOut=t.optOut),t.sessionId&&(e._sessionId=parseInt(t.sessionId,10)),t.lastEventTime&&(e._lastEventTime=parseInt(t.lastEventTime,10)),t.eventId&&(e._eventId=parseInt(t.eventId,10)),t.identifyId&&(e._identifyId=parseInt(t.identifyId,10)),t.sequenceNumber&&(e._sequenceNumber=parseInt(t.sequenceNumber,10))},qk=function(e){var t={deviceId:e.options.deviceId,userId:e.options.userId,optOut:e.options.optOut,sessionId:e._sessionId,lastEventTime:e._lastEventTime,eventId:e._eventId,identifyId:e._identifyId,sequenceNumber:e._sequenceNumber};e._useOldCookie?e.cookieStorage.set(e.options.cookieName+e._storageSuffix,t):e._metadataStorage.save(t)};Zk.prototype._initUtmData=function(e,t){e=e||this._getUrlParams();var n=function(e,t){var n=e?"?"+e.split(".").slice(-1)[0].replace(/\|/g,"&"):"",r=function(e,t,n,r){return Bb(e,t)||Bb(n,r)},i=r(pb,t,"utmcsr",n),a=r(vb,t,"utmcmd",n),o=r(mb,t,"utmccn",n),s=r(gb,t,"utmctr",n),u=r(yb,t,"utmcct",n),c={},l=function(e,t){qb(t)||(c[e]=t)};return l(pb,i),l(vb,a),l(mb,o),l(gb,s),l(yb,u),c}(t=t||this.cookieStorage.get("__utmz"),e);return zk(this,n),n},Zk.prototype._unsetUTMParams=function(){var e=new Ek;e.unset(hb),e.unset(pb),e.unset(vb),e.unset(mb),e.unset(gb),e.unset(yb),this.identify(e)};var zk=function(e,t){if("object"===Tb(t)&&0!==Object.keys(t).length){var n=new Ek;for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&(n.setOnce("initial_"+r,t[r]),n.set(r,t[r]));e.identify(n)}};Zk.prototype._getReferrer=function(){return"undefined"!==typeof document?document.referrer:""},Zk.prototype._getUrlParams=function(){return Eb.location.search},Zk.prototype._saveGclid=function(e){var t=Bb("gclid",e);if(!qb(t)){var n={gclid:t};return zk(this,n),n}},Zk.prototype._saveFbclid=function(e){var t=Bb("fbclid",e);if(!qb(t)){var n={fbclid:t};return zk(this,n),n}},Zk.prototype._getDeviceIdFromUrlParam=function(e){return Bb(fb,e)},Zk.prototype._getReferringDomain=function(e){if(qb(e))return null;var t=e.split("/");return t.length>=3?t[2]:null},Zk.prototype._saveReferrer=function(e){if(!qb(e)){var t={referrer:e,referring_domain:this._getReferringDomain(e)};return zk(this,t),t}},Zk.prototype.saveEvents=function(){try{var e=JSON.stringify(this._unsentEvents.map((function(e){return e.event})));this._setInStorage(_k,this.options.unsentKey,e)}catch(ww){}try{var t=JSON.stringify(this._unsentIdentifys.map((function(e){return e.event})));this._setInStorage(_k,this.options.unsentIdentifyKey,t)}catch(ww){}},Zk.prototype.setDomain=function(e){if(this._shouldDeferCall())return this._q.push(["setDomain"].concat(Array.prototype.slice.call(arguments,0)));if(Hb(e,"domain","string"))try{this.cookieStorage.options({expirationDays:this.options.cookieExpiration,secure:this.options.secureCookie,domain:e,sameSite:this.options.sameSiteCookie}),this.options.domain=this.cookieStorage.options().domain,Mk(this),qk(this)}catch(ww){Fb.error(ww)}},Zk.prototype.setUserId=function(e){var t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];if(Hb(t,"startNewSession","boolean")){if(this._shouldDeferCall())return this._q.push(["setUserId"].concat(Array.prototype.slice.call(arguments,0)));try{this.options.userId=void 0!==e&&null!==e&&""+e||null,t&&(this.options.unsetParamsReferrerOnNewSession&&this._unsetUTMParams(),this._newSession=!0,this._sessionId=(new Date).getTime(),this._runNewSessionStartCallbacks(),this.options.saveParamsReferrerOncePerSession&&this._trackParamsAndReferrer()),qk(this),this._connector&&this._connector.identityStore.editIdentity().setUserId(this.options.userId).commit()}catch(ww){Fb.error(ww)}}},Zk.prototype.setGroup=function(e,t){if(this._shouldDeferCall())return this._q.push(["setGroup"].concat(Array.prototype.slice.call(arguments,0)));if(this._apiKeySet("setGroup()")&&Hb(e,"groupType","string")&&!qb(e)){var n={};n[e]=t;var r=(new Ek).set(e,t);this._logEvent(F_,null,null,r.userPropertiesOperations,n,null,null,null)}},Zk.prototype.setOptOut=function(e){if(this._shouldDeferCall())return this._q.push(["setOptOut"].concat(Array.prototype.slice.call(arguments,0)));if(Hb(e,"enable","boolean"))try{this.options.optOut=e,qk(this)}catch(ww){Fb.error(ww)}},Zk.prototype.setSessionId=function(e){if(Hb(e,"sessionId","number"))try{this._sessionId=e,qk(this)}catch(ww){Fb.error(ww)}},Zk.prototype.resetSessionId=function(){this.setSessionId((new Date).getTime())},Zk.prototype.regenerateDeviceId=function(){if(this._shouldDeferCall())return this._q.push(["regenerateDeviceId"].concat(Array.prototype.slice.call(arguments,0)));this.setDeviceId(Qb())},Zk.prototype.setDeviceId=function(e){if(this._shouldDeferCall())return this._q.push(["setDeviceId"].concat(Array.prototype.slice.call(arguments,0)));if(Yb(e))try{qb(e)||(this.options.deviceId=""+e,qk(this),this._connector&&this._connector.identityStore.editIdentity().setDeviceId(this.options.deviceId).commit())}catch(ww){Fb.error(ww)}},Zk.prototype.setTransport=function(e){if(this._shouldDeferCall())return this._q.push(["setTransport"].concat(Array.prototype.slice.call(arguments,0)));Kb(e)&&(this.options.transport=e)},Zk.prototype.setUserProperties=function(e){if(this._shouldDeferCall())return this._q.push(["setUserProperties"].concat(Array.prototype.slice.call(arguments,0)));if(this._apiKeySet("setUserProperties()")&&Hb(e,"userProperties","object")){var t=Wb(Vb(e));if(0!==Object.keys(t).length){var n=new Ek;for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&n.set(r,t[r]);this.identify(n)}}},Zk.prototype.clearUserProperties=function(){if(this._shouldDeferCall())return this._q.push(["clearUserProperties"].concat(Array.prototype.slice.call(arguments,0)));if(this._apiKeySet("clearUserProperties()")){var e=new Ek;e.clearAll(),this.identify(e)}};var Bk=function(e,t){for(var n=0;n<t._q.length;n++){var r=e[t._q[n][0]];"function"===Tb(r)&&r.apply(e,t._q[n].slice(1))}return e};Zk.prototype.identify=function(e,t,n,r){if(this._shouldDeferCall())return this._q.push(["identify"].concat(Array.prototype.slice.call(arguments,0)));if(this._apiKeySet("identify()"))if("object"===Tb(e)&&Object.prototype.hasOwnProperty.call(e,"_q")&&(e=Bk(new Ek,e)),e instanceof Ek){if(Object.keys(e.userPropertiesOperations).length>0)return this._logEvent(F_,null,null,e.userPropertiesOperations,null,null,null,t,n,r);Yk(t,n,0,"No request sent",{reason:"No user property operations"})}else Fb.error("Invalid identify input type. Expected Identify object but saw "+Tb(e)),Yk(t,n,0,"No request sent",{reason:"Invalid identify input type"});else Yk(t,n,0,"No request sent",{reason:"API key is not set"})},Zk.prototype.groupIdentify=function(e,t,n,r,i,a){if(this._shouldDeferCall())return this._q.push(["groupIdentify"].concat(Array.prototype.slice.call(arguments,0)));if(this._apiKeySet("groupIdentify()"))if(Hb(e,"group_type","string")&&!qb(e))if(null!==t&&void 0!==t)if("object"===Tb(n)&&Object.prototype.hasOwnProperty.call(n,"_q")&&(n=Bk(new Ek,n)),n instanceof Ek){if(Object.keys(n.userPropertiesOperations).length>0)return this._logEvent(q_,null,null,null,D_({},e,t),n.userPropertiesOperations,null,r,i,a);Yk(r,i,0,"No request sent",{reason:"No group property operations"})}else Fb.error("Invalid identify input type. Expected Identify object but saw "+Tb(n)),Yk(r,i,0,"No request sent",{reason:"Invalid identify input type"});else Yk(r,i,0,"No request sent",{reason:"Invalid group name"});else Yk(r,i,0,"No request sent",{reason:"Invalid group type"});else Yk(r,i,0,"No request sent",{reason:"API key is not set"})},Zk.prototype.setVersionName=function(e){if(this._shouldDeferCall())return this._q.push(["setVersionName"].concat(Array.prototype.slice.call(arguments,0)));Hb(e,"versionName","string")&&(this.options.versionName=e)},Zk.prototype._logEvent=function(e,t,n,r,i,a,o,s,u,c){if(Mk(this),e)if(this.options.optOut)Yk(s,u,0,"No request sent",{reason:"optOut is set to true"});else try{var l;l=e===F_||e===q_?this.nextIdentifyId():this.nextEventId();var d=this.nextSequenceNumber(),f="number"===Tb(o)?o:(new Date).getTime();c?this._sessionId=-1:(!this._sessionId||!this._lastEventTime||f-this._lastEventTime>this.options.sessionTimeout)&&(this._sessionId=f,this._runNewSessionStartCallbacks()),this._lastEventTime=f,qk(this);var h=this._ua.browser.name,p=this._ua.browser.major,v=this._ua.device.model||this._ua.os.name,m=this._ua.device.vendor;r=r||{};var g=A_({},this._apiPropertiesTrackingOptions);n=A_({},n||{},g),t=t||{},i=i||{},a=a||{};var y={device_id:this.options.deviceId,user_id:this.options.userId,timestamp:f,event_id:l,session_id:this._sessionId||-1,event_type:e,version_name:this.options.versionName||null,platform:Gk(this,"platform")?this.options.platform:null,os_name:Gk(this,"os_name")&&h||null,os_version:Gk(this,"os_version")&&p||null,device_model:Gk(this,"device_model")&&v||null,device_manufacturer:Gk(this,"device_manufacturer")&&m||null,language:Gk(this,"language")?this.options.language:null,api_properties:n,event_properties:Wb(Vb(t)),user_properties:Wb(Vb(r)),uuid:Tk(),library:this.options.library,sequence_number:d,groups:Wb(Gb(i)),group_properties:Wb(Vb(a)),user_agent:this._userAgent};return Wk(this)&&(y.plan={branch:this.options.plan.branch||void 0,source:this.options.plan.source||void 0,version:this.options.plan.version||void 0,versionId:this.options.plan.versionId||void 0}),e===F_||e===q_?(this._unsentIdentifys.push({event:y,callback:s,errorCallback:u}),this._limitEventsQueued(this._unsentIdentifys)):(this._unsentEvents.push({event:y,callback:s,errorCallback:u}),this._limitEventsQueued(this._unsentEvents)),this.options.saveEvents&&this.saveEvents(),this._sendEventsIfReady(),e===F_&&this._connector&&this._connector.identityStore.editIdentity().updateUserProperties(Wb(Vb(r))).commit(),l}catch(ww){Fb.error(ww)}else Yk(s,u,0,"No request sent",{reason:"Missing eventType"})};var Wk=function(e){return e.options.plan&&(e.options.plan.source||e.options.plan.branch||e.options.plan.version||e.options.plan.versionId)},Gk=function(e,t){return!!e.options.trackingOptions[t]},Hk=function(e){for(var t=["city","country","dma","ip_address","region"],n={},r=0;r<t.length;r++){var i=t[r];Gk(e,i)||(n[i]=!1)}return n};Zk.prototype._limitEventsQueued=function(e){e.length>this.options.savedMaxCount&&e.splice(0,e.length-this.options.savedMaxCount).forEach((function(e){Yk(e.callback,e.errorCallback,0,"No request sent",{reason:"Event dropped because options.savedMaxCount exceeded. User may be offline or have a content blocker"})}))},Zk.prototype.logEvent=function(e,t,n,r){var i=arguments.length>4&&void 0!==arguments[4]&&arguments[4];return this._shouldDeferCall()?this._q.push(["logEvent"].concat(Array.prototype.slice.call(arguments,0))):this.logEventWithTimestamp(e,t,null,n,r,i)},Zk.prototype.logEventWithTimestamp=function(e,t,n,r,i){var a=arguments.length>5&&void 0!==arguments[5]&&arguments[5];return this._shouldDeferCall()?this._q.push(["logEventWithTimestamp"].concat(Array.prototype.slice.call(arguments,0))):this._apiKeySet("logEvent()")?Hb(e,"eventType","string")?qb(e)?(Yk(r,i,0,"No request sent",{reason:"Missing eventType"}),-1):(Hb(a,"outOfSession","boolean")||Yk(r,i,0,"No request sent",{reason:"Invalid outOfSession value"}),this._logEvent(e,t,null,null,null,null,n,r,i,a)):(Yk(r,i,0,"No request sent",{reason:"Invalid type for eventType"}),-1):(Yk(r,i,0,"No request sent",{reason:"API key not set"}),-1)},Zk.prototype.logEventWithGroups=function(e,t,n,r,i){var a=arguments.length>5&&void 0!==arguments[5]&&arguments[5];return this._shouldDeferCall()?this._q.push(["logEventWithGroups"].concat(Array.prototype.slice.call(arguments,0))):this._apiKeySet("logEventWithGroups()")?Hb(e,"eventType","string")?(Hb(a,"outOfSession","boolean")||Yk(event.callback,event.errorCallback,0,"No request sent",{reason:"Invalid outOfSession value"}),this._logEvent(e,t,null,null,n,null,null,r,i,a)):(Yk(event.callback,event.errorCallback,0,"No request sent",{reason:"Invalid type for eventType"}),-1):(Yk(event.callback,event.errorCallback,0,"No request sent",{reason:"API key not set"}),-1)};var Vk=function(e){return!isNaN(parseFloat(e))&&isFinite(e)},Yk=function(e,t,n,r,i){"function"===Tb(e)&&e(n,r,i),"function"===Tb(t)&&t(n,r,i)};Zk.prototype.logRevenueV2=function(e){if(this._shouldDeferCall())return this._q.push(["logRevenueV2"].concat(Array.prototype.slice.call(arguments,0)));if(this._apiKeySet("logRevenueV2()"))if("object"===Tb(e)&&Object.prototype.hasOwnProperty.call(e,"_q")&&(e=Bk(new Ik,e)),e instanceof Ik){if(e&&e._isValidRevenue())return this.logEvent(sb,e._toJSONObject())}else Fb.error("Invalid revenue input type. Expected Revenue object but saw "+Tb(e))},Zk.prototype.logRevenue=function(e,t,n){return this._shouldDeferCall()?this._q.push(["logRevenue"].concat(Array.prototype.slice.call(arguments,0))):this._apiKeySet("logRevenue()")&&Vk(e)&&(void 0===t||Vk(t))?this._logEvent(sb,{},{productId:n,special:"revenue_amount",quantity:t||1,price:e},null,null,null,null,null):-1},Zk.prototype._logErrorsOnEvents=function(e,t,n,r){for(var i=["_unsentEvents","_unsentIdentifys"],a=0;a<i.length;a++)for(var o=i[a],s="_unsentEvents"===o?e:t,u=0;u<this[o].length;u++){var c=this[o][u];c.event.event_id<=s&&c.errorCallback&&c.errorCallback(n,r)}},Zk.prototype.removeEvents=function(e,t,n,r){Kk(this,"_unsentEvents",e,n,r),Kk(this,"_unsentIdentifys",t,n,r)};var Kk=function(e,t,n,r,i){if(!(n<0)){for(var a=[],o=0;o<e[t].length;o++){var s=e[t][o];s.event.event_id>n?a.push(s):s.callback&&s.callback(r,i)}e[t]=a}};Zk.prototype.sendEvents=function(){if(this._apiKeySet("sendEvents()")){if(this.options.optOut)this.removeEvents(1/0,1/0,0,"No request sent",{reason:"Opt out is set to true"});else if(0!==this._unsentCount()){if(this.options.transport!==kb){if(this._sending)return;this._sending=!0}var e=(this.options.forceHttps||"https:"===Eb.location.protocol?"https":"http")+"://"+this.options.apiEndpoint,t=Math.min(this._unsentCount(),this.options.uploadBatchSize),n=this._mergeEventsAndIdentifys(t),r=n.maxEventId,i=n.maxIdentifyId,a=JSON.stringify(n.eventsToSend.map((function(e){return e.event}))),o=(new Date).getTime(),s={client:this.options.apiKey,e:a,v:U_,upload_time:o,checksum:E_()(U_+this.options.apiKey+a+o)};if(this.options.transport!==kb||"undefined"===typeof navigator){var u=this;try{new xk(e,s,this.options.headers).send((function(e,n){u._sending=!1;try{200===e&&"success"===n?(u.removeEvents(r,i,e,n),u.options.saveEvents&&u.saveEvents(),u._sendEventsIfReady()):(u._logErrorsOnEvents(r,i,e,n),413===e&&(1===u.options.uploadBatchSize&&u.removeEvents(r,i,e,n),u.options.uploadBatchSize=Math.ceil(t/2),u.sendEvents()))}catch(ww){}}))}catch(ww){var c="Request failed to send";Fb.error(c),u._logErrorsOnEvents(r,i,0,c),u.removeEvents(r,i,0,c,{reason:ww.message})}}else{navigator.sendBeacon(e,new URLSearchParams(s))?(this.removeEvents(r,i,200,"success"),this.options.saveEvents&&this.saveEvents()):this._logErrorsOnEvents(r,i,0,"")}}}else this.removeEvents(1/0,1/0,0,"No request sent",{reason:"API key not set"})},Zk.prototype._mergeEventsAndIdentifys=function(e){for(var t=[],n=0,r=-1,i=0,a=-1;t.length<e;){var o=void 0,s=i>=this._unsentIdentifys.length,u=n>=this._unsentEvents.length;if(u&&s){Fb.error("Merging Events and Identifys, less events and identifys than expected");break}s?r=(o=this._unsentEvents[n++]).event.event_id:u?a=(o=this._unsentIdentifys[i++]).event.event_id:!("sequence_number"in this._unsentEvents[n].event)||this._unsentEvents[n].event.sequence_number<this._unsentIdentifys[i].event.sequence_number?r=(o=this._unsentEvents[n++]).event.event_id:a=(o=this._unsentIdentifys[i++]).event.event_id,t.push(o)}return{eventsToSend:t,maxEventId:r,maxIdentifyId:a}},Zk.prototype.setGlobalUserProperties=function(e){this.setUserProperties(e)},Zk.prototype.__VERSION__=function(){return this.options.library.version},Zk.prototype.setLibrary=function(e,t){null!==e&&"undefined"!==typeof e&&(this.options.library.name=e),null!==t&&"undefined"!==typeof t&&(this.options.library.version=t)},Zk.prototype._shouldDeferCall=function(){return this._pendingReadStorage||this._initializationDeferred},Zk.prototype._deferInitialization=function(){this._initializationDeferred=!0,this._q.push(["init"].concat(Array.prototype.slice.call(arguments,0)))},Zk.prototype.enableTracking=function(){this._initializationDeferred=!1,qk(this),this.runQueuedFunctions()},Zk.prototype._refreshDynamicConfig=function(){this.options.useDynamicConfig&&Ak.refresh(this.options.serverZone,this.options.forceHttps,function(){this.options.apiEndpoint=Ak.ingestionEndpoint}.bind(this))},Zk.prototype.getDeviceId=function(){return this.options.deviceId},Zk.prototype.getUserId=function(){return this.options.userId},Zk.prototype.setMinTimeBetweenSessionsMillis=function(e){if(Hb(e,"timeInMillis","number")){if(this._shouldDeferCall())return this._q.push(["setMinTimeBetweenSessionsMillis"].concat(Array.prototype.slice.call(arguments,0)));try{this.options.sessionTimeout=e}catch(ww){Fb.error(ww)}}},Zk.prototype.setEventUploadThreshold=function(e){if(Hb(e,"eventUploadThreshold","number")){if(this._shouldDeferCall())return this._q.push(["setEventUploadThreshold"].concat(Array.prototype.slice.call(arguments,0)));try{this.options.eventUploadThreshold=e}catch(ww){Fb.error(ww)}}},Zk.prototype.setUseDynamicConfig=function(e){if(Hb(e,"useDynamicConfig","boolean")){if(this._shouldDeferCall())return this._q.push(["setUseDynamicConfig"].concat(Array.prototype.slice.call(arguments,0)));try{this.options.useDynamicConfig=e,this._refreshDynamicConfig()}catch(ww){Fb.error(ww)}}},Zk.prototype.setServerZone=function(e){var t=!(arguments.length>1&&void 0!==arguments[1])||arguments[1];if((e===Nk||e===Ck)&&Hb(t,"serverZoneBasedApi","boolean")){if(this._shouldDeferCall())return this._q.push(["setServerZone"].concat(Array.prototype.slice.call(arguments,0)));try{this.options.serverZone=e,this.options.serverZoneBasedApi=t,t&&(this.options.apiEndpoint=Rk(this.options.serverZone))}catch(ww){Fb.error(ww)}}},Zk.prototype.setServerUrl=function(e){if(Hb(e,"serverUrl","string")){if(this._shouldDeferCall())return this._q.push(["setServerUrl"].concat(Array.prototype.slice.call(arguments,0)));try{this.options.apiEndpoint=e}catch(ww){Fb.error(ww)}}};var $k=function(){this.options=A_({},Ok),this._q=[],this._instances={}};$k.prototype.Identify=Ek,$k.prototype.Revenue=Ik,$k.prototype.getInstance=function(e){e=qb(e)?L_:e.toLowerCase();var t=this._instances[e];return void 0===t&&(t=new Zk(e),this._instances[e]=t),t},$k.prototype.init=function(e,t,n,r){this.getInstance().init(e,t,n,function(e){this.options=e.options,"function"===Tb(r)&&r(e)}.bind(this))},$k.prototype.isNewSession=function(){return this.getInstance().isNewSession()},$k.prototype.getSessionId=function(){return this.getInstance().getSessionId()},$k.prototype.nextEventId=function(){return this.getInstance().nextEventId()},$k.prototype.nextIdentifyId=function(){return this.getInstance().nextIdentifyId()},$k.prototype.nextSequenceNumber=function(){return this.getInstance().nextSequenceNumber()},$k.prototype.saveEvents=function(){this.getInstance().saveEvents()},$k.prototype.setDomain=function(e){this.getInstance().setDomain(e)},$k.prototype.setUserId=function(e){this.getInstance().setUserId(e)},$k.prototype.setGroup=function(e,t){this.getInstance().setGroup(e,t)},$k.prototype.setOptOut=function(e){this.getInstance().setOptOut(e)},$k.prototype.regenerateDeviceId=function(){this.getInstance().regenerateDeviceId()},$k.prototype.setDeviceId=function(e){this.getInstance().setDeviceId(e)},$k.prototype.setUserProperties=function(e){this.getInstance().setUserProperties(e)},$k.prototype.clearUserProperties=function(){this.getInstance().clearUserProperties()},$k.prototype.identify=function(e,t){this.getInstance().identify(e,t)},$k.prototype.setVersionName=function(e){this.getInstance().setVersionName(e)},$k.prototype.logEvent=function(e,t,n){return this.getInstance().logEvent(e,t,n)},$k.prototype.logEventWithGroups=function(e,t,n,r){return this.getInstance().logEventWithGroups(e,t,n,r)},$k.prototype.logRevenueV2=function(e){return this.getInstance().logRevenueV2(e)},$k.prototype.logRevenue=function(e,t,n){return this.getInstance().logRevenue(e,t,n)},$k.prototype.removeEvents=function(e,t){this.getInstance().removeEvents(e,t)},$k.prototype.sendEvents=function(e){this.getInstance().sendEvents(e)},$k.prototype.setGlobalUserProperties=function(e){this.getInstance().setUserProperties(e)},$k.prototype.__VERSION__=Pk;var Jk="undefined"!==typeof Eb&&Eb.amplitude||{},Qk=new $k;for(var Xk in Qk._q=Jk._q||[],Jk._iq)Object.prototype.hasOwnProperty.call(Jk._iq,Xk)&&(Qk.getInstance(Xk)._q=Jk._iq[Xk]._q||[]);var ew=/Android|webOS|iPhone|iPad|iPod|BlackBerry|IEMobile|Opera Mini/i.test(window.navigator.userAgent);Qk.getInstance().init("10658e07a65adb501a57fdc59f4fbd34",null,{platform:ew?"Mobile":"Desktop"});var tw,nw,rw=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};Qk.getInstance().logEvent(e,t)},iw=n(184),aw=function(e){var t=e.title,n=e.type,r=e.tags,i=e.selectedTags,a=e.setSelectedTags;return(0,iw.jsxs)("div",{children:[(0,iw.jsx)("h2",{children:t}),r.filter((function(e){return"-"!==e.title})).map((function(e,t){var s=e.code,u=e.title;return(0,iw.jsx)("button",{className:"tag-button ".concat(i.includes(s)?" selected":""),onClick:function(){var e=[],t=!0;i.includes(s)?(t=!1,e=i.filter(e_(u_)(s))):(["polar","single"].includes(n)&&(i=i.filter((function(e){return!r.map(Vy("code")).includes(e)}))),e=[].concat((0,o.Z)(i),[s])),a(e),rw("Tag Selected",{tag:u,isSelected:t,selectedTags:e})},children:u},"".concat(s,"_").concat(t))}))]})},ow=function(e){var n=e.tagsGroups,r=e.selectedTags,i=e.setSelectedTags,a=e.filteredActivities,o=e.defaultTags,s=e.login,u=e.authorizedUser,c=e.isChildrenShown,l=e.setIsChildrenShown,d=e.isLikedShown,f=e.setIsLikedShown,h=e.isUntriedShown,p=e.setIsUntriedShown,v=e.isHiddenShown,m=e.setIsHiddenShown,g=e.isUndescribedShown,y=e.setIsUndescribedShown,_=Vn();return(0,t.useEffect)((function(){rw("Filter Page Viewed")}),[]),(0,iw.jsxs)(iw.Fragment,{children:[n.map((function(e,t){var n=e.code,a=e.title,o=e.type,s=e.items;return(0,iw.jsx)(aw,{title:a,type:o,tags:s,selectedTags:r,setSelectedTags:i},"".concat(n,"_").concat(t))})),(0,iw.jsxs)("div",{className:"top-right-menu",children:[(0,iw.jsx)("span",{className:"refresh-filters",title:"\u0421\u0431\u0440\u043e\u0441\u0438\u0442\u044c \u0444\u0438\u043b\u044c\u0442\u0440\u044b",onClick:function(){i(o),rw("Filters Refreshed",{selectedTagsAmount:r.length})},children:"\ud83d\udd04"}),u.uid?(0,iw.jsx)("img",{className:"avatar",src:u.photoURL,alt:u.displayName}):(0,iw.jsx)("button",{className:"login-button",onClick:s,children:"\u0412\u043e\u0439\u0442\u0438 \u0432 \u0430\u043a\u043a\u0430\u0443\u043d\u0442"})]}),(0,iw.jsxs)("div",{style:{marginTop:"20px",display:"flex",justifyContent:"space-between",position:"fixed",bottom:0,left:0,width:"100vw",boxSizing:"border-box",padding:"20px",backgroundColor:"#fff",boxShadow:"0 0 6px #999"},children:[(0,iw.jsxs)("div",{children:["\u041f\u043e\u043a\u0430\u0437\u044b\u0432\u0430\u0442\u044c:",(0,iw.jsx)("br",{}),(0,iw.jsxs)("label",{style:{cursor:"pointer"},children:[(0,iw.jsx)("input",{type:"checkbox",checked:c,onChange:function(){rw("Show Children",{value:!c}),l(!c),localStorage.setItem("isChildrenShown",JSON.stringify(!c))}}),"\u041f\u043e\u0434\u0432\u0438\u0434\u044b \u0430\u043a\u0442\u0438\u0432\u043d\u043e\u0441\u0442\u0435\u0439"]}),(0,iw.jsx)("br",{}),(0,iw.jsxs)("label",{style:{cursor:"pointer"},children:[(0,iw.jsx)("input",{type:"checkbox",checked:d,onChange:function(){rw("Just Liked",{value:!d}),f(!d),localStorage.setItem("isLikedShown",JSON.stringify(!d))}}),"\u0422\u043e\u043b\u044c\u043a\u043e \u043f\u043e\u043d\u0440\u0430\u0432\u0438\u0432\u0448\u0438\u0435\u0441\u044f"]}),(0,iw.jsx)("br",{}),(0,iw.jsxs)("label",{style:{cursor:"pointer"},children:[(0,iw.jsx)("input",{type:"checkbox",checked:h,onChange:function(){rw("Just Untried",{value:!h}),p(!h),localStorage.setItem("isUntriedShown",JSON.stringify(!h))}}),"\u0422\u043e\u043b\u044c\u043a\u043e \u043d\u0435\u043e\u043f\u0440\u043e\u0431\u043e\u0432\u0430\u043d\u043d\u044b\u0435"]}),(0,iw.jsx)("br",{}),(0,iw.jsxs)("label",{style:{cursor:"pointer"},children:[(0,iw.jsx)("input",{type:"checkbox",checked:v,onChange:function(){rw("Show Hidden",{value:!v}),m(!v),localStorage.setItem("isHiddenShown",JSON.stringify(!v))}}),"\u0421\u043a\u0440\u044b\u0442\u044b\u0435"]}),(0,iw.jsx)("br",{}),(0,iw.jsxs)("label",{style:{cursor:"pointer"},children:[(0,iw.jsx)("input",{type:"checkbox",checked:!g,onChange:function(){rw("Just Described",{value:g}),y(!g),localStorage.setItem("isUndescribedShown",JSON.stringify(!g))}}),"\u0422\u043e\u043b\u044c\u043a\u043e \u0441 \u043e\u043f\u0438\u0441\u0430\u043d\u0438\u0435\u043c"]})]}),(0,iw.jsx)("div",{children:a.length>0?(0,iw.jsxs)("button",{style:{marginTop:"10px",padding:"20px",cursor:"pointer"},onClick:function(){_("/activities")},children:["\u041f\u043e\u043a\u0430\u0437\u0430\u0442\u044c ",a.length," \u0430\u043a\u0442\u0438\u0432\u043d\u043e\u0441\u0442\u0435\u0439 \u2192"]}):(0,iw.jsx)("p",{children:"\u0424\u0438\u043b\u044c\u0442\u0440\u044b \u0436\u0435\u0441\u0442\u043a\u043e\u0432\u0430\u0442\u044b. \u041d\u0435\u0442 \u043d\u0438 \u043e\u0434\u043d\u043e\u0439 \u0430\u043a\u0442\u0438\u0432\u043d\u043e\u0441\u0442\u0438 \u0432 \u044d\u0442\u0438\u0445 \u043a\u0430\u0442\u0435\u0433\u043e\u0440\u0438\u044f\u0445. \u041c\u043e\u0436\u0435\u0442 \u0441\u0442\u043e\u0438\u0442 \u043f\u043e\u043f\u0440\u043e\u0431\u043e\u0432\u0430\u0442\u044c \u043c\u0435\u043d\u0435\u0435 \u043a\u043e\u043d\u043a\u0440\u0435\u0442\u043d\u044b\u0439 \u0437\u0430\u043f\u0440\u043e\u0441?"})})]})]})},sw=function(e){return"/activity/".concat(e.id||e.index)},uw=function(e){var n=e.tagCodeToTitle,r=e.activities,i=e.likedActivities,a=e.setLikedActivities,s=e.checkedActivities,u=e.setCheckedActivities,c=e.selectedTags,l=Vn(),d=function(){var e=(0,t.useContext)(Nn).matches,n=e[e.length-1];return n?n.params:{}}(),f=+d.id||+d.index,h=r.find((function(e){return e.id===f}))||r.find((function(e){return e.index===f}));if((0,t.useEffect)((function(){window.scrollTo(0,0),h&&rw("Activity Viewed",{title:h.title})}),[]),!h)return alert("\u0410\u043a\u0442\u0438\u0432\u043d\u043e\u0441\u0442\u044c \u043d\u0435 \u043d\u0430\u0439\u0434\u0435\u043d\u0430!"),null;var p=h.title,v=h.description,m=h.tags,g=h.youtubeUrl,y=h.illustrations,_=void 0===y?[]:y,b=h.teasers,k=h.examples,w=h.services,S=h.children,E=void 0===S?[]:S,x=i.includes(f),I=s.includes(f);return(0,iw.jsxs)("div",{className:"selected-activity",children:[(0,iw.jsxs)("div",{className:"flex",children:[(0,iw.jsx)("div",{children:(0,iw.jsx)("button",{style:{cursor:"pointer"},onClick:function(){l("/activities")},children:"\u2190 \u041d\u0430\u0437\u0430\u0434"})}),(0,iw.jsxs)("div",{children:[(0,iw.jsx)("input",{type:"checkbox",checked:I,className:"check-activity",title:"\u041e\u0442\u043c\u0435\u0442\u0438\u0442\u044c \u0430\u043a\u0442\u0438\u0432\u043d\u043e\u0441\u0442\u044c \u043f\u043e\u043f\u0440\u043e\u0431\u043e\u0432\u0430\u043d\u043d\u043e\u0439",onChange:function(){u(I?s.filter((function(e){return e!==f})):[].concat((0,o.Z)(s),[f])),rw("Checked Activity",{title:p,value:!I})}}),(0,iw.jsx)("span",{className:"like-activity".concat(x?" liked":""),title:"\u041b\u0430\u0439\u043d\u0443\u0442\u044c \u0430\u043a\u0442\u0438\u0432\u043d\u043e\u0441\u0442\u044c",onClick:function(){a(x?i.filter((function(e){return e!==f})):[].concat((0,o.Z)(i),[f])),rw("Liked Activity",{title:p,value:!x})},children:"\u2665\ufe0f"})]})]}),(0,iw.jsxs)("div",{children:[(0,iw.jsx)("h1",{children:p}),(0,iw.jsx)("ul",{className:"tags",children:(m||[]).map((function(e,t){return n[e]&&(0,iw.jsx)("li",{className:c.includes(e)?"selected":"",children:n[e]},"".concat(e,"_").concat(t))}))})]}),(0,iw.jsxs)("div",{className:"modal-content",children:[(0,iw.jsx)("p",{children:v}),g&&(0,iw.jsx)("iframe",{width:"700",height:"400",style:{maxWidth:"100%"},src:"https://www.youtube.com/embed/".concat(g),title:"YouTube",frameBorder:"0",allow:"accelerometer; autoplay; clipboard-write; encrypted-media; gyroscope; picture-in-picture",allowFullScreen:!0,onClick:function(){rw("Activity Video Clicked",{activity:p})}}),(0,iw.jsx)("div",{className:"illustrations",children:_.map((function(e,t){var n=e.title,r=e.url;return(0,iw.jsx)("a",{href:r,target:"_blank",rel:"noreferrer",onClick:function(){rw("Activity Illustration Clicked",{activity:h.title,title:n,url:r})},children:(0,iw.jsx)("img",{height:150,src:r,alt:n})},"".concat(n,"_").concat(t))}))}),E&&E.length>0&&(0,iw.jsxs)(iw.Fragment,{children:[(0,iw.jsxs)("h3",{children:["\u0412\u0430\u0440\u0438\u0430\u043d\u0442\u044b \u0430\u043a\u0442\u0438\u0432\u043d\u043e\u0441\u0442\u0438 \xab",p,"\xbb"]}),(0,iw.jsx)("ul",{children:E.map((function(e,t){return(0,iw.jsx)("li",{children:(0,iw.jsx)(ir,{to:sw(e),onClick:function(){rw("Children Activity Selected",{title:e.title})},children:e.title})},"".concat(e.id,"-").concat(t))}))})]}),(0,iw.jsx)("h3",{children:"\u0422\u0438\u0437\u0435\u0440\u044b"}),(0,iw.jsxs)("ul",{children:[null===b||void 0===b?void 0:b.map((function(e,t){var n=e.title,r=e.url;return(0,iw.jsx)("li",{children:r?(0,iw.jsx)("a",{href:r,target:"_blank",rel:"noreferrer",onClick:function(){rw("Activity Teaser Clicked",{activity:h.title,title:n,url:r})},children:n||r}):n||r},"".concat(n,"_").concat(t))})),(0,iw.jsx)("li",{children:(0,iw.jsx)("a",{href:"https://www.tiktok.com/search?q=".concat(p.replace(" ","+")),target:"_blank",rel:"noreferrer",onClick:function(){rw("Activity Search Clicked",{provider:"TikTok",activity:p})},children:"\u041f\u043e\u0441\u043c\u043e\u0442\u0440\u0435\u0442\u044c \u0432 TikTok"})}),(0,iw.jsx)("li",{children:(0,iw.jsx)("a",{href:"https://www.youtube.com/results?search_query=".concat(p.replace(" ","+")),target:"_blank",rel:"noreferrer",onClick:function(){rw("Activity Search Clicked",{provider:"YouTube",activity:p})},children:"\u041f\u043e\u0441\u043c\u043e\u0442\u0440\u0435\u0442\u044c \u043d\u0430 YouTube"})}),(0,iw.jsx)("li",{children:(0,iw.jsx)("a",{href:"https://www.google.com/search?q=".concat(p.replace(" ","+")),target:"_blank",rel:"noreferrer",onClick:function(){rw("Activity Search Clicked",{provider:"Google",activity:p})},children:"\u041f\u043e\u0433\u0443\u0433\u043b\u0438\u0442\u044c"})}),(0,iw.jsx)("li",{children:(0,iw.jsx)("a",{href:"https://yandex.ru/search/?text=".concat(p.replace(" ","+")),target:"_blank",rel:"noreferrer",onClick:function(){rw("Activity Search Clicked",{provider:"\u042f\u043d\u0434\u0435\u043a\u0441",activity:p})},children:"\u041f\u043e\u044f\u043d\u0434\u0435\u043a\u0441\u0438\u0442\u044c"})}),(0,iw.jsx)("li",{children:(0,iw.jsx)("a",{href:"https://ru.wikipedia.org/wiki/".concat(p.replace(" ","+")),target:"_blank",rel:"noreferrer",onClick:function(){rw("Activity Search Clicked",{provider:"Wikipedia",activity:p})},children:"\u041f\u043e\u0441\u043c\u043e\u0442\u0440\u0435\u0442\u044c \u0432 \u0412\u0438\u043a\u0438\u043f\u0435\u0434\u0438\u0438"})})]}),k&&(0,iw.jsxs)(iw.Fragment,{children:[(0,iw.jsx)("h3",{children:"\u041f\u0440\u0438\u043c\u0435\u0440\u044b"}),(0,iw.jsx)("ul",{children:k.map((function(e,t){var n=e.title,r=e.url;return(0,iw.jsx)("li",{children:r?(0,iw.jsx)("a",{href:r,target:"_blank",rel:"noreferrer",onClick:function(){rw("Activity Service Clicked",{activity:h.title,title:n,url:r})},children:n||r}):n||r},"".concat(n,"_").concat(t))}))})]}),w&&(0,iw.jsxs)(iw.Fragment,{children:[(0,iw.jsx)("h3",{children:"\u0421\u0435\u0440\u0432\u0438\u0441\u044b"}),(0,iw.jsx)("ul",{children:w.map((function(e,t){var n=e.title,r=e.url;return(0,iw.jsx)("li",{children:r?(0,iw.jsx)("a",{href:r,target:"_blank",rel:"noreferrer",onClick:function(){rw("Activity Service Clicked",{activity:h.title,title:n,url:r})},children:n||r}):n||r},"".concat(n,"_").concat(t))}))})]}),(0,iw.jsx)("h3",{children:"\u041f\u043e\u0434\u043e\u0431\u0440\u0430\u0442\u044c \u0432\u0430\u0440\u0438\u0430\u043d\u0442"}),(0,iw.jsxs)("ul",{children:[(0,iw.jsx)("li",{children:(0,iw.jsx)("a",{href:"https://yandex.ru/maps/?text=".concat(p),target:"_blank",rel:"noreferrer",onClick:function(){rw("Activity Search Clicked",{provider:"\u042f\u043d\u0434\u0435\u043a\u0441.\u041a\u0430\u0440\u0442\u044b",activity:p})},children:"\u041f\u043e\u043a\u0430\u0437\u0430\u0442\u044c \u043d\u0430 \u042f\u043d\u0434\u0435\u043a\u0441.\u041a\u0430\u0440\u0442\u0430\u0445"})}),(0,iw.jsx)("li",{children:(0,iw.jsx)("a",{href:"https://2gis.ru/search/".concat(p),target:"_blank",rel:"noreferrer",onClick:function(){rw("Activity Search Clicked",{provider:"2GIS",activity:p})},children:"\u041f\u043e\u043a\u0430\u0437\u0430\u0442\u044c \u0432 2\u0413\u0418\u0421"})})]})]})]})},cw=function(e){var n=e.filteredActivities,r=e.likedActivities,i=void 0===r?[]:r,a=e.setLikedActivities,s=e.checkedActivities,u=void 0===s?[]:s,c=e.setCheckedActivities,l=e.hiddenActivities,d=void 0===l?[]:l,f=e.setHiddenActivities,h=Vn();return(0,t.useEffect)((function(){window.scrollTo(0,0),rw("Activities List Viewed",{activitiesAmount:n.length})}),[]),(0,iw.jsxs)(iw.Fragment,{children:[(0,iw.jsx)("button",{style:{cursor:"pointer"},onClick:function(){h("/")},children:"\u2190 \u041d\u0430\u0437\u0430\u0434"}),(0,iw.jsx)("ol",{children:n.sort((function(e,t){return e.title.toLowerCase()>t.title.toLowerCase()?1:-1})).map((function(e,t){return(0,iw.jsxs)("li",{children:[(0,iw.jsx)(ir,{to:sw(e),onClick:function(){rw("Activity Selected",{title:e.title})},children:e.title}),(0,iw.jsx)("span",{className:"icon-checked".concat(u.includes(e.id)?" active":""),onClick:function(){var t=u.includes(e.id);c(t?u.filter((function(t){return t!==e.id})):[].concat((0,o.Z)(u),[e.id])),rw("Toggle Activity Checked",{title:e.title,value:!t})},children:" \u2714"}),(0,iw.jsx)("span",{className:"icon-liked".concat(i.includes(e.id)?" active":""),onClick:function(){var t=i.includes(e.id);a(t?i.filter((function(t){return t!==e.id})):[].concat((0,o.Z)(i),[e.id])),rw("Toggle Activity Liked",{title:e.title,value:!t})},children:" \u2665\ufe0f"}),(0,iw.jsx)("span",{className:"icon-hidden".concat(d.includes(e.id)?" active":""),onClick:function(){var t=d.includes(e.id);f(t?d.filter((function(t){return t!==e.id})):[].concat((0,o.Z)(d),[e.id])),rw("Toggle Activity Hidden",{title:e.title,value:!t})},children:" \ud83d\ude48"})]},"".concat(t,"-").concat(e.id))}))}),(0,iw.jsx)("button",{className:"select-random-activity-button",onClick:function(){var e=Math.round(Math.random()*(n.length-1)),t=n[e];!function(e){h(sw(e))}(t),rw("Random Activity Clicked",{activitiesAmount:n.length,chosenActivity:t.title})},children:(0,iw.jsx)("img",{src:"https://www.freeiconspng.com/thumbs/dice-png/dice-png-transparent-images--png-all-4.png",alt:"\u0412\u044b\u0431\u0440\u0430\u0442\u044c \u043f\u0440\u043e\u0438\u0437\u0432\u043e\u043b\u044c\u043d\u0443\u044e \u0430\u043a\u0442\u0438\u0432\u043d\u043e\u0441\u0442\u044c",title:"\u0412\u044b\u0431\u0440\u0430\u0442\u044c \u043f\u0440\u043e\u0438\u0437\u0432\u043e\u043b\u044c\u043d\u0443\u044e \u0430\u043a\u0442\u0438\u0432\u043d\u043e\u0441\u0442\u044c"})})]})},lw=[{code:"main",title:"\u041e\u0441\u043d\u043e\u0432\u043d\u044b\u0435 \u043a\u0430\u0442\u0435\u0433\u043e\u0440\u0438\u0438",type:"additive",items:["relax","sport","health","learning","diy","thinking","game","food","water"]},{code:"amount",title:"\u041a\u043e\u043b\u0438\u0447\u0435\u0441\u0442\u0432\u043e \u0447\u0435\u043b\u043e\u0432\u0435\u043a",type:"single",items:["alone","pair","three","group"]},{code:"gender",title:"\u041f\u043e\u043b",type:"polar",items:["men","women"]},{code:"age",title:"\u0412\u043e\u0437\u0440\u0430\u0441\u0442",type:"polar",items:["kids","adults"]},{code:"children",title:"\u0414\u0435\u0442\u0438",type:"polar",items:["with-children","without-children"]},{code:"position",title:"\u041f\u043e\u043b\u043e\u0436\u0435\u043d\u0438\u0435",type:"additive",items:["sitting","staying","lying"]},{code:"location",title:"\u0413\u0434\u0435",type:"polar",items:["home","outdoor","water","forest","mountains"]},{code:"season",title:"\u0421\u0435\u0437\u043e\u043d",type:"polar",items:["winter","summer"]},{code:"weather",title:"\u041f\u043e\u0433\u043e\u0434\u0430",type:"polar",items:["good-weather","any-weather"]},{code:"gadgets",title:"\u0413\u0430\u0434\u0436\u0435\u0442\u044b",items:["computer","phone","no-gadgets"]},{code:"feelings",title:"\u0427\u0443\u0432\u0441\u0442\u0432\u0430",type:"additive",items:["vision","hearing","smell","touch","taste"]},{code:"special",title:"\u041d\u0435\u0447\u0442\u043e \u043e\u0441\u043e\u0431\u0435\u043d\u043d\u043e\u0435",items:["wow","challenging","date","birthday"]}],dw=function(e){console.error(e),rw("Error Shown",{message:e})};if(0===ka.apps.length){var fw=ka.initializeApp({apiKey:"AIzaSyCExrlbwm2DMX_lrhS516-93vUf4GSPgAA",authDomain:"tryeverything-421ed.firebaseapp.com",databaseURL:"https://tryeverything-421ed-default-rtdb.europe-west1.firebasedatabase.app",projectId:"tryeverything-421ed",storageBucket:"tryeverything-421ed.appspot.com",messagingSenderId:"768977457633",appId:"1:768977457633:web:df590da29170678cdf42a0",measurementId:"G-56RPZMD413"});tw=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Vi(),t=ji(e,"auth");return t.isInitialized()?t.getImmediate():_d(e,{popupRedirectResolver:Vm,persistence:[uv,Up,jp]})}(fw),nw=new bh}var hw=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Vi(),t=arguments.length>1?arguments[1]:void 0;return ji(e,"database").getImmediate({identifier:t})}(),pw=Ll(hw);rw("App Loaded");var vw=(new Date).getMonth(),mw=vw>3&&vw<10,gw=function(e){return!("summer"===e&&!mw||"winter"===e&&mw)},yw=g_([].concat((0,o.Z)(JSON.parse(localStorage.getItem("selectedTags")||'["alone", "adults"]')),["summer","winter"])).filter(gw),_w=["alone","adults","summer","winter"].filter(gw),bw=function(){var e=(0,t.useState)([]),n=(0,A.Z)(e,2),r=n[0],i=n[1],s=(0,t.useState)(JSON.parse(localStorage.getItem("likedActivities")||"[]")),u=(0,A.Z)(s,2),c=u[0],l=u[1],d=(0,t.useState)(JSON.parse(localStorage.getItem("checkedActivities")||"[]")),f=(0,A.Z)(d,2),h=f[0],p=f[1],v=(0,t.useState)(JSON.parse(localStorage.getItem("hiddenActivities")||"[]")),m=(0,A.Z)(v,2),g=m[0],y=m[1],_=(0,t.useState)([]),b=(0,A.Z)(_,2),k=b[0],w=b[1],S=(0,t.useState)(yw),E=(0,A.Z)(S,2),x=E[0],I=E[1],T=(0,t.useState)({}),C=(0,A.Z)(T,2),N=C[0],R=C[1],P=(0,t.useState)(JSON.parse(localStorage.getItem("isChildrenShown")||"true")),O=(0,A.Z)(P,2),D=O[0],Z=O[1],L=(0,t.useState)(JSON.parse(localStorage.getItem("isLikedShown")||"false")),U=(0,A.Z)(L,2),M=U[0],j=U[1],F=(0,t.useState)(JSON.parse(localStorage.getItem("isUntriedShown")||"false")),q=(0,A.Z)(F,2),z=q[0],B=q[1],W=(0,t.useState)(JSON.parse(localStorage.getItem("isHiddenShown")||"false")),G=(0,A.Z)(W,2),H=G[0],V=G[1],Y=(0,t.useState)(JSON.parse(localStorage.getItem("isUndescribedShown")||"true")),K=(0,A.Z)(Y,2),$=K[0],J=K[1],Q=function(e){var t;R(e),t=e.uid,Qk.getInstance().setUserId(t),jl(Ul(pw,"/users/".concat(e.uid,"/settings"))).then((function(e){var t=e&&e.val()||{};t.likedActivities&&l(t.likedActivities),t.checkedActivities&&p(t.checkedActivities),t.hiddenActivities&&y(t.hiddenActivities)}))},X=function(e,t){N&&Ml(Ll(hw,"/users/".concat(N.uid,"/settings/").concat(e)),t).catch(dw)};if((0,t.useEffect)((function(){Promise.all([jl(Ul(pw,"/activities/")),jl(Ul(pw,"/tags/"))]).then((function(e){var t=(0,A.Z)(e,2),n=t[0],r=t[1],s=n&&n.val(),u=s.filter((function(e){return e.parent})).reduce((function(e,t){return(0,a.Z)((0,a.Z)({},e),{},(0,mn.Z)({},t.parent,[].concat((0,o.Z)(e[t.parent]||[]),[t])))}),{});i(s.map((function(e,t){return(0,a.Z)((0,a.Z)({},e),{},{id:t},Vy(e.code,u)?{children:u[e.code].sort((function(e,t){return e.title>t.title?1:-1}))}:{})})).filter((function(e){return!(e.tags||[]).includes("trivial")}))),w(r&&r.val().filter((function(e){return"trivial"!==e.code})))})),tw&&function(e,t,n,r){Vr(e).onAuthStateChanged(t,n,r)}(tw,(function(e){e&&Q(e)}))}),[]),0===r.length||0===k.length)return null;var ee=k.reduce((function(e,t){return(0,a.Z)((0,a.Z)({},e),{},(0,mn.Z)({},t.code,t.title))}),{}),te=r.filter((function(e){return"-"!==e.title})).filter((function(e){return D||!e.parent})).filter((function(e){return!M||c.includes(e.id)})).filter((function(e){return!z||!h.includes(e.id)})).filter((function(e){return H||!g.includes(e.id)})).filter((function(e){return $||e.description})).filter((function(e){return 0===x.length||yy((function(t){var n=b_([],"tags",e),r=lw.find((function(e){return e.items.includes(t)}))||{};if("polar"===r.type){var i=r.items.filter((function(e){return e!==t}))[0];return n.includes(t)||!n.includes(i)}return n.includes(t)}),x)})),ne=lw.map((function(e){return(0,a.Z)((0,a.Z)({},e),{},{items:e.items.map((function(e){return{code:e,title:ee[e]}}))})})),re=ne.reduce((function(e,t){return[].concat((0,o.Z)(e),(0,o.Z)(t.items))}),[]);return ne.push({code:"rest",title:"\u0414\u0440\u0443\u0433\u0438\u0435 \u043a\u0430\u0442\u0435\u0433\u043e\u0440\u0438\u0438",items:k.filter((function(e){return!re.map((function(e){return e.code})).includes(e.code)}))}),(0,iw.jsxs)("div",{className:"app",children:[(0,iw.jsx)(rr,{children:(0,iw.jsxs)(Qn,{children:[(0,iw.jsx)($n,{path:"activity",children:(0,iw.jsx)($n,{path:":id",element:(0,iw.jsx)(uw,{tagCodeToTitle:ee,activities:r,likedActivities:c,setLikedActivities:function(e){l(e),localStorage.setItem("likedActivities",JSON.stringify(e)),X("likedActivities",e)},checkedActivities:h,setCheckedActivities:function(e){p(e),localStorage.setItem("checkedActivities",JSON.stringify(e)),X("checkedActivities",e)},selectedTags:x})})}),(0,iw.jsx)($n,{path:"activities",element:(0,iw.jsx)(cw,{filteredActivities:te,likedActivities:c,setLikedActivities:function(e){l(e),localStorage.setItem("likedActivities",JSON.stringify(e)),X("likedActivities",e)},checkedActivities:h,setCheckedActivities:function(e){p(e),localStorage.setItem("checkedActivities",JSON.stringify(e)),X("checkedActivities",e)},hiddenActivities:g,setHiddenActivities:function(e){y(e),localStorage.setItem("hiddenActivities",JSON.stringify(e)),X("hiddenActivities",e)}})}),(0,iw.jsx)($n,{path:"/",element:(0,iw.jsx)(ow,{tagsGroups:ne,selectedTags:x,setSelectedTags:function(e){localStorage.setItem("selectedTags",JSON.stringify(e)),I(e)},filteredActivities:te,defaultTags:_w,login:function(){rw("Login"),Wv(tw,nw).then((function(e){var t=e.user;Q(t)})).catch((function(e){dw(e)}))},authorizedUser:N,isChildrenShown:D,setIsChildrenShown:Z,isLikedShown:M,setIsLikedShown:j,isUntriedShown:z,setIsUntriedShown:B,isHiddenShown:H,setIsHiddenShown:V,isUndescribedShown:$,setIsUndescribedShown:J})})]})}),(0,iw.jsxs)("p",{className:"feedback-request",children:["\u0415\u0441\u0442\u044c \u043f\u0440\u0435\u0434\u043b\u043e\u0436\u0435\u043d\u0438\u044f \u043f\u043e \u0443\u043b\u0443\u0447\u0448\u0435\u043d\u0438\u044e \u0441\u0435\u0440\u0432\u0438\u0441\u0430? \u041d\u0430\u043f\u0440\u0438\u043c\u0435\u0440, \u0443\u043b\u0443\u0447\u0448\u0438\u0442\u044c \u0444\u0443\u043d\u043a\u0446\u0438\u043e\u043d\u0430\u043b \u0438\u043b\u0438 \u0434\u043e\u043f\u043e\u043b\u043d\u0438\u0442\u044c \u0441\u043f\u0438\u0441\u043e\u043a \u0430\u043a\u0442\u0438\u0432\u043d\u043e\u0441\u0442\u0435\u0439. ",(0,iw.jsx)("a",{href:"https://t.me/polyakovin",target:"_blank",rel:"noreferrer",onClick:function(){rw("Feedback Clicked")},children:"\u041d\u0430\u043f\u0438\u0448\u0438 \u043e\u0431 \u044d\u0442\u043e\u043c \u0430\u0432\u0442\u043e\u0440\u0443!"})," \u041e\u043d \u0431\u0443\u0434\u0435\u0442 \u0442\u0435\u0431\u0435 \u0437\u0430 \u044d\u0442\u043e \u043e\u0447\u0435\u043d\u044c \u0431\u043b\u0430\u0433\u043e\u0434\u0430\u0440\u0435\u043d :)"]})]})};!function(e){e._metadata=e._metadata||{},e._metadata.sdk=e._metadata.sdk||{name:"sentry.javascript.react",packages:[{name:"npm:@sentry/react",version:i}],version:i},function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};if(void 0===e.defaultIntegrations&&(e.defaultIntegrations=Pt),void 0===e.release){var t=(0,E.R)();t.SENTRY_RELEASE&&t.SENTRY_RELEASE.id&&(e.release=t.SENTRY_RELEASE.id)}void 0===e.autoSessionTracking&&(e.autoSessionTracking=!0),void 0===e.sendClientReports&&(e.sendClientReports=!0);var n=(0,a.Z)((0,a.Z)({},e),{},{stackParser:(0,x.Sq)(e.stackParser||He),integrations:f(e),transport:e.transport||((0,I.Ak)()?Nt:Rt)});h(Ue,n),e.autoSessionTracking&&Dt()}(e)}({dsn:"https://99bc17307c0e4e6b9c5a71eb6b27d720@o1303385.ingest.sentry.io/6542304",integrations:[new hn],tracesSampleRate:1}),r.createRoot(document.getElementById("root")).render((0,iw.jsx)(t.StrictMode,{children:(0,iw.jsx)(bw,{})}));var kw;kw&&kw instanceof Function&&n.e(787).then(n.bind(n,787)).then((function(e){var t=e.getCLS,n=e.getFID,r=e.getFCP,i=e.getLCP,a=e.getTTFB;t(kw),n(kw),r(kw),i(kw),a(kw)}))}()}();
//# sourceMappingURL=main.bf701e28.js.map