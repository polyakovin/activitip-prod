/*! For license information please see main.4fa3fd08b90f6b44.js.LICENSE.txt */
(self.webpackChunkactivitip_web=self.webpackChunkactivitip_web||[]).push([[179],{8624:(e,t,n)=>{"use strict";var r={};n.r(r),n.d(r,{FirebaseError:()=>FirebaseError,SDK_VERSION:()=>Le,_DEFAULT_ENTRY_NAME:()=>Te,_addComponent:()=>Ne,_addOrOverwriteComponent:()=>xe,_apps:()=>Ce,_clearComponents:()=>De,_components:()=>Re,_getProvider:()=>Oe,_registerComponent:()=>Pe,_removeServiceInstance:()=>Ae,deleteApp:()=>Be,getApp:()=>Fe,getApps:()=>je,initializeApp:()=>Ue,onLog:()=>We,registerVersion:()=>ze,setLogLevel:()=>Ge});var i=n(2784),o=n(7029),s=n(608),a=n(8428),l=n(2175);const c={NODE_CLIENT:!1,NODE_ADMIN:!1,SDK_VERSION:"${JSCORE_VERSION}"},u=function(e,t){if(!e)throw d(t)},d=function(e){return new Error("Firebase Database ("+c.SDK_VERSION+") INTERNAL ASSERT FAILED: "+e)},h=function(e){const t=[];let n=0;for(let r=0;r<e.length;r++){let i=e.charCodeAt(r);i<128?t[n++]=i:i<2048?(t[n++]=i>>6|192,t[n++]=63&i|128):55296==(64512&i)&&r+1<e.length&&56320==(64512&e.charCodeAt(r+1))?(i=65536+((1023&i)<<10)+(1023&e.charCodeAt(++r)),t[n++]=i>>18|240,t[n++]=i>>12&63|128,t[n++]=i>>6&63|128,t[n++]=63&i|128):(t[n++]=i>>12|224,t[n++]=i>>6&63|128,t[n++]=63&i|128)}return t},p={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:"function"==typeof atob,encodeByteArray(e,t){if(!Array.isArray(e))throw Error("encodeByteArray takes an array as a parameter");this.init_();const n=t?this.byteToCharMapWebSafe_:this.byteToCharMap_,r=[];for(let i=0;i<e.length;i+=3){const t=e[i],o=i+1<e.length,s=o?e[i+1]:0,a=i+2<e.length,l=a?e[i+2]:0,c=t>>2,u=(3&t)<<4|s>>4;let d=(15&s)<<2|l>>6,h=63&l;a||(h=64,o||(d=64)),r.push(n[c],n[u],n[d],n[h])}return r.join("")},encodeString(e,t){return this.HAS_NATIVE_SUPPORT&&!t?btoa(e):this.encodeByteArray(h(e),t)},decodeString(e,t){return this.HAS_NATIVE_SUPPORT&&!t?atob(e):function(e){const t=[];let n=0,r=0;for(;n<e.length;){const i=e[n++];if(i<128)t[r++]=String.fromCharCode(i);else if(i>191&&i<224){const o=e[n++];t[r++]=String.fromCharCode((31&i)<<6|63&o)}else if(i>239&&i<365){const o=((7&i)<<18|(63&e[n++])<<12|(63&e[n++])<<6|63&e[n++])-65536;t[r++]=String.fromCharCode(55296+(o>>10)),t[r++]=String.fromCharCode(56320+(1023&o))}else{const o=e[n++],s=e[n++];t[r++]=String.fromCharCode((15&i)<<12|(63&o)<<6|63&s)}}return t.join("")}(this.decodeStringToByteArray(e,t))},decodeStringToByteArray(e,t){this.init_();const n=t?this.charToByteMapWebSafe_:this.charToByteMap_,r=[];for(let i=0;i<e.length;){const t=n[e.charAt(i++)],o=i<e.length?n[e.charAt(i)]:0;++i;const s=i<e.length?n[e.charAt(i)]:64;++i;const a=i<e.length?n[e.charAt(i)]:64;if(++i,null==t||null==o||null==s||null==a)throw Error();const l=t<<2|o>>4;if(r.push(l),64!==s){const e=o<<4&240|s>>2;if(r.push(e),64!==a){const e=s<<6&192|a;r.push(e)}}}return r},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let e=0;e<this.ENCODED_VALS.length;e++)this.byteToCharMap_[e]=this.ENCODED_VALS.charAt(e),this.charToByteMap_[this.byteToCharMap_[e]]=e,this.byteToCharMapWebSafe_[e]=this.ENCODED_VALS_WEBSAFE.charAt(e),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[e]]=e,e>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(e)]=e,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(e)]=e)}}},f=function(e){const t=h(e);return p.encodeByteArray(t,!0)},m=function(e){return f(e).replace(/\./g,"")},_=function(e){try{return p.decodeString(e,!0)}catch(t){console.error("base64Decode failed: ",t)}return null};function g(e,t){if(!(t instanceof Object))return t;switch(t.constructor){case Date:return new Date(t.getTime());case Object:void 0===e&&(e={});break;case Array:e=[];break;default:return t}for(const n in t)t.hasOwnProperty(n)&&"__proto__"!==n&&(e[n]=g(e[n],t[n]));return e}const v=()=>function(){if("undefined"!=typeof self)return self;if("undefined"!=typeof window)return window;if(void 0!==n.g)return n.g;throw new Error("Unable to locate global object.")}().__FIREBASE_DEFAULTS__,y=()=>{try{return v()||(()=>{if("undefined"==typeof process)return;const e={NX_CLI_SET:"true",NX_LOAD_DOT_ENV_FILES:"true",NX_TASK_HASH:"ef7778bc9c5ee19e35215bd0377bf4590e19a99b56114a0e72602bfb42f7f4d5",NX_TASK_TARGET_PROJECT:"web",NX_WORKSPACE_ROOT:"/Users/polyakovin/repos/activitip",NX_TERMINAL_OUTPUT_PATH:"/Users/polyakovin/repos/activitip/node_modules/.cache/nx/terminalOutputs/ef7778bc9c5ee19e35215bd0377bf4590e19a99b56114a0e72602bfb42f7f4d5",NX_STREAM_OUTPUT:"true"}.__FIREBASE_DEFAULTS__;return e?JSON.parse(e):void 0})()||(()=>{if("undefined"==typeof document)return;let e;try{e=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch(n){return}const t=e&&_(e[1]);return t&&JSON.parse(t)})()}catch(e){return void console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${e}`)}},b=e=>{var t,n;return null===(n=null===(t=y())||void 0===t?void 0:t.emulatorHosts)||void 0===n?void 0:n[e]},w=e=>{const t=b(e);if(!t)return;const n=t.lastIndexOf(":");if(n<=0||n+1===t.length)throw new Error(`Invalid host ${t} with no separate hostname and port!`);const r=parseInt(t.substring(n+1),10);return"["===t[0]?[t.substring(1,n-1),r]:[t.substring(0,n),r]},E=()=>{var e;return null===(e=y())||void 0===e?void 0:e.config},S=e=>{var t;return null===(t=y())||void 0===t?void 0:t[`_${e}`]};class index_esm2017_Deferred{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise(((e,t)=>{this.resolve=e,this.reject=t}))}wrapCallback(e){return(t,n)=>{t?this.reject(t):this.resolve(n),"function"==typeof e&&(this.promise.catch((()=>{})),1===e.length?e(t):e(t,n))}}}function k(){return"undefined"!=typeof navigator&&"string"==typeof navigator.userAgent?navigator.userAgent:""}function T(){return"undefined"!=typeof window&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(k())}function I(){var e;const t=null===(e=y())||void 0===e?void 0:e.forceEnvironment;if("node"===t)return!0;if("browser"===t)return!1;try{return"[object process]"===Object.prototype.toString.call(n.g.process)}catch(r){return!1}}function C(){const e="object"==typeof chrome?chrome.runtime:"object"==typeof browser?browser.runtime:void 0;return"object"==typeof e&&void 0!==e.id}function R(){return"object"==typeof navigator&&"ReactNative"===navigator.product}function N(){const e=k();return e.indexOf("MSIE ")>=0||e.indexOf("Trident/")>=0}function x(){return!0===c.NODE_CLIENT||!0===c.NODE_ADMIN}function P(){try{return"object"==typeof indexedDB}catch(e){return!1}}class FirebaseError extends Error{constructor(e,t,n){super(t),this.code=e,this.customData=n,this.name="FirebaseError",Object.setPrototypeOf(this,FirebaseError.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,ErrorFactory.prototype.create)}}class ErrorFactory{constructor(e,t,n){this.service=e,this.serviceName=t,this.errors=n}create(e,...t){const n=t[0]||{},r=`${this.service}/${e}`,i=this.errors[e],o=i?function(e,t){return e.replace(O,((e,n)=>{const r=t[n];return null!=r?String(r):`<${n}?>`}))}(i,n):"Error",s=`${this.serviceName}: ${o} (${r}).`;return new FirebaseError(r,s,n)}}const O=/\{\$([^}]+)}/g;function A(e){return JSON.parse(e)}function D(e){return JSON.stringify(e)}const M=function(e){let t={},n={},r={},i="";try{const o=e.split(".");t=A(_(o[0])||""),n=A(_(o[1])||""),i=o[2],r=n.d||{},delete n.d}catch(o){}return{header:t,claims:n,data:r,signature:i}};function L(e,t){return Object.prototype.hasOwnProperty.call(e,t)}function U(e,t){return Object.prototype.hasOwnProperty.call(e,t)?e[t]:void 0}function F(e){for(const t in e)if(Object.prototype.hasOwnProperty.call(e,t))return!1;return!0}function B(e,t,n){const r={};for(const i in e)Object.prototype.hasOwnProperty.call(e,i)&&(r[i]=t.call(n,e[i],i,e));return r}function z(e,t){if(e===t)return!0;const n=Object.keys(e),r=Object.keys(t);for(const i of n){if(!r.includes(i))return!1;const n=e[i],o=t[i];if(W(n)&&W(o)){if(!z(n,o))return!1}else if(n!==o)return!1}for(const i of r)if(!n.includes(i))return!1;return!0}function W(e){return null!==e&&"object"==typeof e}function G(e){const t=[];for(const[n,r]of Object.entries(e))Array.isArray(r)?r.forEach((e=>{t.push(encodeURIComponent(n)+"="+encodeURIComponent(e))})):t.push(encodeURIComponent(n)+"="+encodeURIComponent(r));return t.length?"&"+t.join("&"):""}function H(e){const t={};return e.replace(/^\?/,"").split("&").forEach((e=>{if(e){const[n,r]=e.split("=");t[decodeURIComponent(n)]=decodeURIComponent(r)}})),t}function $(e){const t=e.indexOf("?");if(!t)return"";const n=e.indexOf("#",t);return e.substring(t,n>0?n:void 0)}class Sha1{constructor(){this.chain_=[],this.buf_=[],this.W_=[],this.pad_=[],this.inbuf_=0,this.total_=0,this.blockSize=64,this.pad_[0]=128;for(let e=1;e<this.blockSize;++e)this.pad_[e]=0;this.reset()}reset(){this.chain_[0]=1732584193,this.chain_[1]=4023233417,this.chain_[2]=2562383102,this.chain_[3]=271733878,this.chain_[4]=3285377520,this.inbuf_=0,this.total_=0}compress_(e,t){t||(t=0);const n=this.W_;if("string"==typeof e)for(let u=0;u<16;u++)n[u]=e.charCodeAt(t)<<24|e.charCodeAt(t+1)<<16|e.charCodeAt(t+2)<<8|e.charCodeAt(t+3),t+=4;else for(let u=0;u<16;u++)n[u]=e[t]<<24|e[t+1]<<16|e[t+2]<<8|e[t+3],t+=4;for(let u=16;u<80;u++){const e=n[u-3]^n[u-8]^n[u-14]^n[u-16];n[u]=4294967295&(e<<1|e>>>31)}let r,i,o=this.chain_[0],s=this.chain_[1],a=this.chain_[2],l=this.chain_[3],c=this.chain_[4];for(let u=0;u<80;u++){u<40?u<20?(r=l^s&(a^l),i=1518500249):(r=s^a^l,i=1859775393):u<60?(r=s&a|l&(s|a),i=2400959708):(r=s^a^l,i=3395469782);const e=(o<<5|o>>>27)+r+c+i+n[u]&4294967295;c=l,l=a,a=4294967295&(s<<30|s>>>2),s=o,o=e}this.chain_[0]=this.chain_[0]+o&4294967295,this.chain_[1]=this.chain_[1]+s&4294967295,this.chain_[2]=this.chain_[2]+a&4294967295,this.chain_[3]=this.chain_[3]+l&4294967295,this.chain_[4]=this.chain_[4]+c&4294967295}update(e,t){if(null==e)return;void 0===t&&(t=e.length);const n=t-this.blockSize;let r=0;const i=this.buf_;let o=this.inbuf_;for(;r<t;){if(0===o)for(;r<=n;)this.compress_(e,r),r+=this.blockSize;if("string"==typeof e){for(;r<t;)if(i[o]=e.charCodeAt(r),++o,++r,o===this.blockSize){this.compress_(i),o=0;break}}else for(;r<t;)if(i[o]=e[r],++o,++r,o===this.blockSize){this.compress_(i),o=0;break}}this.inbuf_=o,this.total_+=t}digest(){const e=[];let t=8*this.total_;this.inbuf_<56?this.update(this.pad_,56-this.inbuf_):this.update(this.pad_,this.blockSize-(this.inbuf_-56));for(let r=this.blockSize-1;r>=56;r--)this.buf_[r]=255&t,t/=256;this.compress_(this.buf_);let n=0;for(let r=0;r<5;r++)for(let t=24;t>=0;t-=8)e[n]=this.chain_[r]>>t&255,++n;return e}}function V(e,t){const n=new ObserverProxy(e,t);return n.subscribe.bind(n)}class ObserverProxy{constructor(e,t){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=t,this.task.then((()=>{e(this)})).catch((e=>{this.error(e)}))}next(e){this.forEachObserver((t=>{t.next(e)}))}error(e){this.forEachObserver((t=>{t.error(e)})),this.close(e)}complete(){this.forEachObserver((e=>{e.complete()})),this.close()}subscribe(e,t,n){let r;if(void 0===e&&void 0===t&&void 0===n)throw new Error("Missing Observer.");r=function(e,t){if("object"!=typeof e||null===e)return!1;for(const n of t)if(n in e&&"function"==typeof e[n])return!0;return!1}(e,["next","error","complete"])?e:{next:e,error:t,complete:n},void 0===r.next&&(r.next=Y),void 0===r.error&&(r.error=Y),void 0===r.complete&&(r.complete=Y);const i=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then((()=>{try{this.finalError?r.error(this.finalError):r.complete()}catch(e){}})),this.observers.push(r),i}unsubscribeOne(e){void 0!==this.observers&&void 0!==this.observers[e]&&(delete this.observers[e],this.observerCount-=1,0===this.observerCount&&void 0!==this.onNoObservers&&this.onNoObservers(this))}forEachObserver(e){if(!this.finalized)for(let t=0;t<this.observers.length;t++)this.sendOne(t,e)}sendOne(e,t){this.task.then((()=>{if(void 0!==this.observers&&void 0!==this.observers[e])try{t(this.observers[e])}catch(n){"undefined"!=typeof console&&console.error&&console.error(n)}}))}close(e){this.finalized||(this.finalized=!0,void 0!==e&&(this.finalError=e),this.task.then((()=>{this.observers=void 0,this.onNoObservers=void 0})))}}function Y(){}function K(e,t){return`${e} failed: ${t} argument `}const J=function(e){let t=0;for(let n=0;n<e.length;n++){const r=e.charCodeAt(n);r<128?t++:r<2048?t+=2:r>=55296&&r<=56319?(t+=4,n++):t+=3}return t};function X(e){return e&&e._delegate?e._delegate:e}class Component{constructor(e,t,n){this.name=e,this.instanceFactory=t,this.type=n,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(e){return this.instantiationMode=e,this}setMultipleInstances(e){return this.multipleInstances=e,this}setServiceProps(e){return this.serviceProps=e,this}setInstanceCreatedCallback(e){return this.onInstanceCreated=e,this}}const Q="[DEFAULT]";class Provider{constructor(e,t){this.name=e,this.container=t,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(e){const t=this.normalizeInstanceIdentifier(e);if(!this.instancesDeferred.has(t)){const e=new index_esm2017_Deferred;if(this.instancesDeferred.set(t,e),this.isInitialized(t)||this.shouldAutoInitialize())try{const n=this.getOrInitializeService({instanceIdentifier:t});n&&e.resolve(n)}catch(n){}}return this.instancesDeferred.get(t).promise}getImmediate(e){var t;const n=this.normalizeInstanceIdentifier(null==e?void 0:e.identifier),r=null!==(t=null==e?void 0:e.optional)&&void 0!==t&&t;if(!this.isInitialized(n)&&!this.shouldAutoInitialize()){if(r)return null;throw Error(`Service ${this.name} is not available`)}try{return this.getOrInitializeService({instanceIdentifier:n})}catch(i){if(r)return null;throw i}}getComponent(){return this.component}setComponent(e){if(e.name!==this.name)throw Error(`Mismatching Component ${e.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=e,this.shouldAutoInitialize()){if(function(e){return"EAGER"===e.instantiationMode}(e))try{this.getOrInitializeService({instanceIdentifier:Q})}catch(t){}for(const[e,n]of this.instancesDeferred.entries()){const r=this.normalizeInstanceIdentifier(e);try{const e=this.getOrInitializeService({instanceIdentifier:r});n.resolve(e)}catch(t){}}}}clearInstance(e=Q){this.instancesDeferred.delete(e),this.instancesOptions.delete(e),this.instances.delete(e)}async delete(){const e=Array.from(this.instances.values());await Promise.all([...e.filter((e=>"INTERNAL"in e)).map((e=>e.INTERNAL.delete())),...e.filter((e=>"_delete"in e)).map((e=>e._delete()))])}isComponentSet(){return null!=this.component}isInitialized(e=Q){return this.instances.has(e)}getOptions(e=Q){return this.instancesOptions.get(e)||{}}initialize(e={}){const{options:t={}}=e,n=this.normalizeInstanceIdentifier(e.instanceIdentifier);if(this.isInitialized(n))throw Error(`${this.name}(${n}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const r=this.getOrInitializeService({instanceIdentifier:n,options:t});for(const[i,o]of this.instancesDeferred.entries()){n===this.normalizeInstanceIdentifier(i)&&o.resolve(r)}return r}onInit(e,t){var n;const r=this.normalizeInstanceIdentifier(t),i=null!==(n=this.onInitCallbacks.get(r))&&void 0!==n?n:new Set;i.add(e),this.onInitCallbacks.set(r,i);const o=this.instances.get(r);return o&&e(o,r),()=>{i.delete(e)}}invokeOnInitCallbacks(e,t){const n=this.onInitCallbacks.get(t);if(n)for(const i of n)try{i(e,t)}catch(r){}}getOrInitializeService({instanceIdentifier:e,options:t={}}){let n=this.instances.get(e);if(!n&&this.component&&(n=this.component.instanceFactory(this.container,{instanceIdentifier:(r=e,r===Q?void 0:r),options:t}),this.instances.set(e,n),this.instancesOptions.set(e,t),this.invokeOnInitCallbacks(n,e),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,e,n)}catch(i){}var r;return n||null}normalizeInstanceIdentifier(e=Q){return this.component?this.component.multipleInstances?e:Q:e}shouldAutoInitialize(){return!!this.component&&"EXPLICIT"!==this.component.instantiationMode}}class ComponentContainer{constructor(e){this.name=e,this.providers=new Map}addComponent(e){const t=this.getProvider(e.name);if(t.isComponentSet())throw new Error(`Component ${e.name} has already been registered with ${this.name}`);t.setComponent(e)}addOrOverwriteComponent(e){this.getProvider(e.name).isComponentSet()&&this.providers.delete(e.name),this.addComponent(e)}getProvider(e){if(this.providers.has(e))return this.providers.get(e);const t=new Provider(e,this);return this.providers.set(e,t),t}getProviders(){return Array.from(this.providers.values())}}const Z=[];var ee;!function(e){e[e.DEBUG=0]="DEBUG",e[e.VERBOSE=1]="VERBOSE",e[e.INFO=2]="INFO",e[e.WARN=3]="WARN",e[e.ERROR=4]="ERROR",e[e.SILENT=5]="SILENT"}(ee||(ee={}));const te={debug:ee.DEBUG,verbose:ee.VERBOSE,info:ee.INFO,warn:ee.WARN,error:ee.ERROR,silent:ee.SILENT},ne=ee.INFO,re={[ee.DEBUG]:"log",[ee.VERBOSE]:"log",[ee.INFO]:"info",[ee.WARN]:"warn",[ee.ERROR]:"error"},ie=(e,t,...n)=>{if(t<e.logLevel)return;const r=(new Date).toISOString(),i=re[t];if(!i)throw new Error(`Attempted to log a message with an invalid logType (value: ${t})`);console[i](`[${r}]  ${e.name}:`,...n)};class Logger{constructor(e){this.name=e,this._logLevel=ne,this._logHandler=ie,this._userLogHandler=null,Z.push(this)}get logLevel(){return this._logLevel}set logLevel(e){if(!(e in ee))throw new TypeError(`Invalid value "${e}" assigned to \`logLevel\``);this._logLevel=e}setLogLevel(e){this._logLevel="string"==typeof e?te[e]:e}get logHandler(){return this._logHandler}set logHandler(e){if("function"!=typeof e)throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=e}get userLogHandler(){return this._userLogHandler}set userLogHandler(e){this._userLogHandler=e}debug(...e){this._userLogHandler&&this._userLogHandler(this,ee.DEBUG,...e),this._logHandler(this,ee.DEBUG,...e)}log(...e){this._userLogHandler&&this._userLogHandler(this,ee.VERBOSE,...e),this._logHandler(this,ee.VERBOSE,...e)}info(...e){this._userLogHandler&&this._userLogHandler(this,ee.INFO,...e),this._logHandler(this,ee.INFO,...e)}warn(...e){this._userLogHandler&&this._userLogHandler(this,ee.WARN,...e),this._logHandler(this,ee.WARN,...e)}error(...e){this._userLogHandler&&this._userLogHandler(this,ee.ERROR,...e),this._logHandler(this,ee.ERROR,...e)}}const oe=(e,t)=>t.some((t=>e instanceof t));let se,ae;const le=new WeakMap,ce=new WeakMap,ue=new WeakMap,de=new WeakMap,he=new WeakMap;let pe={get(e,t,n){if(e instanceof IDBTransaction){if("done"===t)return ce.get(e);if("objectStoreNames"===t)return e.objectStoreNames||ue.get(e);if("store"===t)return n.objectStoreNames[1]?void 0:n.objectStore(n.objectStoreNames[0])}return _e(e[t])},set:(e,t,n)=>(e[t]=n,!0),has:(e,t)=>e instanceof IDBTransaction&&("done"===t||"store"===t)||t in e};function fe(e){return e!==IDBDatabase.prototype.transaction||"objectStoreNames"in IDBTransaction.prototype?(ae||(ae=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])).includes(e)?function(...t){return e.apply(ge(this),t),_e(le.get(this))}:function(...t){return _e(e.apply(ge(this),t))}:function(t,...n){const r=e.call(ge(this),t,...n);return ue.set(r,t.sort?t.sort():[t]),_e(r)}}function me(e){return"function"==typeof e?fe(e):(e instanceof IDBTransaction&&function(e){if(ce.has(e))return;const t=new Promise(((t,n)=>{const r=()=>{e.removeEventListener("complete",i),e.removeEventListener("error",o),e.removeEventListener("abort",o)},i=()=>{t(),r()},o=()=>{n(e.error||new DOMException("AbortError","AbortError")),r()};e.addEventListener("complete",i),e.addEventListener("error",o),e.addEventListener("abort",o)}));ce.set(e,t)}(e),oe(e,se||(se=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction]))?new Proxy(e,pe):e)}function _e(e){if(e instanceof IDBRequest)return function(e){const t=new Promise(((t,n)=>{const r=()=>{e.removeEventListener("success",i),e.removeEventListener("error",o)},i=()=>{t(_e(e.result)),r()},o=()=>{n(e.error),r()};e.addEventListener("success",i),e.addEventListener("error",o)}));return t.then((t=>{t instanceof IDBCursor&&le.set(t,e)})).catch((()=>{})),he.set(t,e),t}(e);if(de.has(e))return de.get(e);const t=me(e);return t!==e&&(de.set(e,t),he.set(t,e)),t}const ge=e=>he.get(e);const ve=["get","getKey","getAll","getAllKeys","count"],ye=["put","add","delete","clear"],be=new Map;function we(e,t){if(!(e instanceof IDBDatabase)||t in e||"string"!=typeof t)return;if(be.get(t))return be.get(t);const n=t.replace(/FromIndex$/,""),r=t!==n,i=ye.includes(n);if(!(n in(r?IDBIndex:IDBObjectStore).prototype)||!i&&!ve.includes(n))return;const o=async function(e,...t){const o=this.transaction(e,i?"readwrite":"readonly");let s=o.store;return r&&(s=s.index(t.shift())),(await Promise.all([s[n](...t),i&&o.done]))[0]};return be.set(t,o),o}pe=(e=>({...e,get:(t,n,r)=>we(t,n)||e.get(t,n,r),has:(t,n)=>!!we(t,n)||e.has(t,n)}))(pe);class PlatformLoggerServiceImpl{constructor(e){this.container=e}getPlatformInfoString(){return this.container.getProviders().map((e=>{if(function(e){const t=e.getComponent();return"VERSION"===(null==t?void 0:t.type)}(e)){const t=e.getImmediate();return`${t.library}/${t.version}`}return null})).filter((e=>e)).join(" ")}}const Ee="@firebase/app",Se="0.9.3",ke=new Logger("@firebase/app"),Te="[DEFAULT]",Ie={[Ee]:"fire-core","@firebase/app-compat":"fire-core-compat","@firebase/analytics":"fire-analytics","@firebase/analytics-compat":"fire-analytics-compat","@firebase/app-check":"fire-app-check","@firebase/app-check-compat":"fire-app-check-compat","@firebase/auth":"fire-auth","@firebase/auth-compat":"fire-auth-compat","@firebase/database":"fire-rtdb","@firebase/database-compat":"fire-rtdb-compat","@firebase/functions":"fire-fn","@firebase/functions-compat":"fire-fn-compat","@firebase/installations":"fire-iid","@firebase/installations-compat":"fire-iid-compat","@firebase/messaging":"fire-fcm","@firebase/messaging-compat":"fire-fcm-compat","@firebase/performance":"fire-perf","@firebase/performance-compat":"fire-perf-compat","@firebase/remote-config":"fire-rc","@firebase/remote-config-compat":"fire-rc-compat","@firebase/storage":"fire-gcs","@firebase/storage-compat":"fire-gcs-compat","@firebase/firestore":"fire-fst","@firebase/firestore-compat":"fire-fst-compat","fire-js":"fire-js",firebase:"fire-js-all"},Ce=new Map,Re=new Map;function Ne(e,t){try{e.container.addComponent(t)}catch(n){ke.debug(`Component ${t.name} failed to register with FirebaseApp ${e.name}`,n)}}function xe(e,t){e.container.addOrOverwriteComponent(t)}function Pe(e){const t=e.name;if(Re.has(t))return ke.debug(`There were multiple attempts to register component ${t}.`),!1;Re.set(t,e);for(const n of Ce.values())Ne(n,e);return!0}function Oe(e,t){const n=e.container.getProvider("heartbeat").getImmediate({optional:!0});return n&&n.triggerHeartbeat(),e.container.getProvider(t)}function Ae(e,t,n=Te){Oe(e,t).clearInstance(n)}function De(){Re.clear()}const Me=new ErrorFactory("app","Firebase",{"no-app":"No Firebase App '{$appName}' has been created - call Firebase App.initializeApp()","bad-app-name":"Illegal App name: '{$appName}","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}."});class FirebaseAppImpl{constructor(e,t,n){this._isDeleted=!1,this._options=Object.assign({},e),this._config=Object.assign({},t),this._name=t.name,this._automaticDataCollectionEnabled=t.automaticDataCollectionEnabled,this._container=n,this.container.addComponent(new Component("app",(()=>this),"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(e){this.checkDestroyed(),this._automaticDataCollectionEnabled=e}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(e){this._isDeleted=e}checkDestroyed(){if(this.isDeleted)throw Me.create("app-deleted",{appName:this._name})}}const Le="9.17.1";function Ue(e,t={}){let n=e;if("object"!=typeof t){t={name:t}}const r=Object.assign({name:Te,automaticDataCollectionEnabled:!1},t),i=r.name;if("string"!=typeof i||!i)throw Me.create("bad-app-name",{appName:String(i)});if(n||(n=E()),!n)throw Me.create("no-options");const o=Ce.get(i);if(o){if(z(n,o.options)&&z(r,o.config))return o;throw Me.create("duplicate-app",{appName:i})}const s=new ComponentContainer(i);for(const l of Re.values())s.addComponent(l);const a=new FirebaseAppImpl(n,r,s);return Ce.set(i,a),a}function Fe(e=Te){const t=Ce.get(e);if(!t&&e===Te)return Ue();if(!t)throw Me.create("no-app",{appName:e});return t}function je(){return Array.from(Ce.values())}async function Be(e){const t=e.name;Ce.has(t)&&(Ce.delete(t),await Promise.all(e.container.getProviders().map((e=>e.delete()))),e.isDeleted=!0)}function ze(e,t,n){var r;let i=null!==(r=Ie[e])&&void 0!==r?r:e;n&&(i+=`-${n}`);const o=i.match(/\s|\//),s=t.match(/\s|\//);if(o||s){const e=[`Unable to register library "${i}" with version "${t}":`];return o&&e.push(`library name "${i}" contains illegal characters (whitespace or "/")`),o&&s&&e.push("and"),s&&e.push(`version name "${t}" contains illegal characters (whitespace or "/")`),void ke.warn(e.join(" "))}Pe(new Component(`${i}-version`,(()=>({library:i,version:t})),"VERSION"))}function We(e,t){if(null!==e&&"function"!=typeof e)throw Me.create("invalid-log-argument");!function(e,t){for(const n of Z){let r=null;t&&t.level&&(r=te[t.level]),n.userLogHandler=null===e?null:(t,n,...i)=>{const o=i.map((e=>{if(null==e)return null;if("string"==typeof e)return e;if("number"==typeof e||"boolean"==typeof e)return e.toString();if(e instanceof Error)return e.message;try{return JSON.stringify(e)}catch(t){return null}})).filter((e=>e)).join(" ");n>=(null!=r?r:t.logLevel)&&e({level:ee[n].toLowerCase(),message:o,args:i,type:t.name})}}}(e,t)}function Ge(e){var t;t=e,Z.forEach((e=>{e.setLogLevel(t)}))}const qe="firebase-heartbeat-database",He=1,$e="firebase-heartbeat-store";let Ve=null;function Ye(){return Ve||(Ve=function(e,t,{blocked:n,upgrade:r,blocking:i,terminated:o}={}){const s=indexedDB.open(e,t),a=_e(s);return r&&s.addEventListener("upgradeneeded",(e=>{r(_e(s.result),e.oldVersion,e.newVersion,_e(s.transaction))})),n&&s.addEventListener("blocked",(()=>n())),a.then((e=>{o&&e.addEventListener("close",(()=>o())),i&&e.addEventListener("versionchange",(()=>i()))})).catch((()=>{})),a}(qe,He,{upgrade:(e,t)=>{if(0===t)e.createObjectStore($e)}}).catch((e=>{throw Me.create("idb-open",{originalErrorMessage:e.message})}))),Ve}async function Ke(e,t){try{const n=(await Ye()).transaction($e,"readwrite"),r=n.objectStore($e);return await r.put(t,Je(e)),n.done}catch(n){if(n instanceof FirebaseError)ke.warn(n.message);else{const e=Me.create("idb-set",{originalErrorMessage:null==n?void 0:n.message});ke.warn(e.message)}}}function Je(e){return`${e.name}!${e.options.appId}`}const Xe=1024;class HeartbeatServiceImpl{constructor(e){this.container=e,this._heartbeatsCache=null;const t=this.container.getProvider("app").getImmediate();this._storage=new HeartbeatStorageImpl(t),this._heartbeatsCachePromise=this._storage.read().then((e=>(this._heartbeatsCache=e,e)))}async triggerHeartbeat(){const e=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),t=Qe();if(null===this._heartbeatsCache&&(this._heartbeatsCache=await this._heartbeatsCachePromise),this._heartbeatsCache.lastSentHeartbeatDate!==t&&!this._heartbeatsCache.heartbeats.some((e=>e.date===t)))return this._heartbeatsCache.heartbeats.push({date:t,agent:e}),this._heartbeatsCache.heartbeats=this._heartbeatsCache.heartbeats.filter((e=>{const t=new Date(e.date).valueOf();return Date.now()-t<=2592e6})),this._storage.overwrite(this._heartbeatsCache)}async getHeartbeatsHeader(){if(null===this._heartbeatsCache&&await this._heartbeatsCachePromise,null===this._heartbeatsCache||0===this._heartbeatsCache.heartbeats.length)return"";const e=Qe(),{heartbeatsToSend:t,unsentEntries:n}=function(e,t=Xe){const n=[];let r=e.slice();for(const i of e){const e=n.find((e=>e.agent===i.agent));if(e){if(e.dates.push(i.date),Ze(n)>t){e.dates.pop();break}}else if(n.push({agent:i.agent,dates:[i.date]}),Ze(n)>t){n.pop();break}r=r.slice(1)}return{heartbeatsToSend:n,unsentEntries:r}}(this._heartbeatsCache.heartbeats),r=m(JSON.stringify({version:2,heartbeats:t}));return this._heartbeatsCache.lastSentHeartbeatDate=e,n.length>0?(this._heartbeatsCache.heartbeats=n,await this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),r}}function Qe(){return(new Date).toISOString().substring(0,10)}class HeartbeatStorageImpl{constructor(e){this.app=e,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}async runIndexedDBEnvironmentCheck(){return!!P()&&new Promise(((e,t)=>{try{let n=!0;const r="validate-browser-context-for-indexeddb-analytics-module",i=self.indexedDB.open(r);i.onsuccess=()=>{i.result.close(),n||self.indexedDB.deleteDatabase(r),e(!0)},i.onupgradeneeded=()=>{n=!1},i.onerror=()=>{var e;t((null===(e=i.error)||void 0===e?void 0:e.message)||"")}}catch(Et){t(Et)}})).then((()=>!0)).catch((()=>!1))}async read(){if(await this._canUseIndexedDBPromise){return await async function(e){try{return(await Ye()).transaction($e).objectStore($e).get(Je(e))}catch(t){if(t instanceof FirebaseError)ke.warn(t.message);else{const e=Me.create("idb-get",{originalErrorMessage:null==t?void 0:t.message});ke.warn(e.message)}}}(this.app)||{heartbeats:[]}}return{heartbeats:[]}}async overwrite(e){var t;if(await this._canUseIndexedDBPromise){const n=await this.read();return Ke(this.app,{lastSentHeartbeatDate:null!==(t=e.lastSentHeartbeatDate)&&void 0!==t?t:n.lastSentHeartbeatDate,heartbeats:e.heartbeats})}}async add(e){var t;if(await this._canUseIndexedDBPromise){const n=await this.read();return Ke(this.app,{lastSentHeartbeatDate:null!==(t=e.lastSentHeartbeatDate)&&void 0!==t?t:n.lastSentHeartbeatDate,heartbeats:[...n.heartbeats,...e.heartbeats]})}}}function Ze(e){return m(JSON.stringify({version:2,heartbeats:e})).length}var et;et="",Pe(new Component("platform-logger",(e=>new PlatformLoggerServiceImpl(e)),"PRIVATE")),Pe(new Component("heartbeat",(e=>new HeartbeatServiceImpl(e)),"PRIVATE")),ze(Ee,Se,et),ze(Ee,Se,"esm2017"),ze("fire-js","");class index_esm2017_FirebaseAppImpl{constructor(e,t){this._delegate=e,this.firebase=t,Ne(e,new Component("app-compat",(()=>this),"PUBLIC")),this.container=e.container}get automaticDataCollectionEnabled(){return this._delegate.automaticDataCollectionEnabled}set automaticDataCollectionEnabled(e){this._delegate.automaticDataCollectionEnabled=e}get name(){return this._delegate.name}get options(){return this._delegate.options}delete(){return new Promise((e=>{this._delegate.checkDestroyed(),e()})).then((()=>(this.firebase.INTERNAL.removeApp(this.name),Be(this._delegate))))}_getService(e,t=Te){var n;this._delegate.checkDestroyed();const r=this._delegate.container.getProvider(e);return r.isInitialized()||"EXPLICIT"!==(null===(n=r.getComponent())||void 0===n?void 0:n.instantiationMode)||r.initialize(),r.getImmediate({identifier:t})}_removeServiceInstance(e,t=Te){this._delegate.container.getProvider(e).clearInstance(t)}_addComponent(e){Ne(this._delegate,e)}_addOrOverwriteComponent(e){xe(this._delegate,e)}toJSON(){return{name:this.name,automaticDataCollectionEnabled:this.automaticDataCollectionEnabled,options:this.options}}}const tt=new ErrorFactory("app-compat","Firebase",{"no-app":"No Firebase App '{$appName}' has been created - call Firebase App.initializeApp()","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance."});const nt=function e(){const t=function(e){const t={},n={__esModule:!0,initializeApp:function(r,i={}){const o=Ue(r,i);if(L(t,o.name))return t[o.name];const s=new e(o,n);return t[o.name]=s,s},app:i,registerVersion:ze,setLogLevel:Ge,onLog:We,apps:null,SDK_VERSION:Le,INTERNAL:{registerComponent:function(t){const r=t.name,o=r.replace("-compat","");if(Pe(t)&&"PUBLIC"===t.type){const s=(e=i())=>{if("function"!=typeof e[o])throw tt.create("invalid-app-argument",{appName:r});return e[o]()};void 0!==t.serviceProps&&g(s,t.serviceProps),n[o]=s,e.prototype[o]=function(...e){return this._getService.bind(this,r).apply(this,t.multipleInstances?e:[])}}return"PUBLIC"===t.type?n[o]:null},removeApp:function(e){delete t[e]},useAsService:function(e,t){return"serverAuth"===t?null:t},modularAPIs:r}};function i(e){if(!L(t,e=e||Te))throw tt.create("no-app",{appName:e});return t[e]}return n.default=n,Object.defineProperty(n,"apps",{get:function(){return Object.keys(t).map((e=>t[e]))}}),i.App=e,n}(index_esm2017_FirebaseAppImpl);return t.INTERNAL=Object.assign(Object.assign({},t.INTERNAL),{createFirebaseNamespace:e,extendNamespace:function(e){g(t,e)},createSubscribe:V,ErrorFactory,deepExtend:g}),t}(),rt=new Logger("@firebase/app-compat"),it="@firebase/app-compat",ot="0.2.3";if("object"==typeof self&&self.self===self&&void 0!==self.firebase){rt.warn("\n    Warning: Firebase is already defined in the global scope. Please make sure\n    Firebase library is only loaded once.\n  ");const e=self.firebase.SDK_VERSION;e&&e.indexOf("LITE")>=0&&rt.warn("\n    Warning: You are trying to load Firebase while using Firebase Performance standalone script.\n    You should load Firebase Performance with this instance of Firebase to avoid loading duplicate code.\n    ")}const st=nt;!function(e){ze(it,ot,e)}();st.registerVersion("firebase","9.17.1","app-compat");const at="@firebase/database",lt="0.14.3";let ct="";class DOMStorageWrapper{constructor(e){this.domStorage_=e,this.prefix_="firebase:"}set(e,t){null==t?this.domStorage_.removeItem(this.prefixedName_(e)):this.domStorage_.setItem(this.prefixedName_(e),D(t))}get(e){const t=this.domStorage_.getItem(this.prefixedName_(e));return null==t?null:A(t)}remove(e){this.domStorage_.removeItem(this.prefixedName_(e))}prefixedName_(e){return this.prefix_+e}toString(){return this.domStorage_.toString()}}class MemoryStorage{constructor(){this.cache_={},this.isInMemoryStorage=!0}set(e,t){null==t?delete this.cache_[e]:this.cache_[e]=t}get(e){return L(this.cache_,e)?this.cache_[e]:null}remove(e){delete this.cache_[e]}}const ut=function(e){try{if("undefined"!=typeof window&&void 0!==window[e]){const t=window[e];return t.setItem("firebase:sentinel","cache"),t.removeItem("firebase:sentinel"),new DOMStorageWrapper(t)}}catch(t){}return new MemoryStorage},dt=ut("localStorage"),ht=ut("sessionStorage"),pt=new Logger("@firebase/database"),ft=function(){let e=1;return function(){return e++}}(),mt=function(e){const t=function(e){const t=[];let n=0;for(let r=0;r<e.length;r++){let i=e.charCodeAt(r);if(i>=55296&&i<=56319){const t=i-55296;r++,u(r<e.length,"Surrogate pair missing trail surrogate."),i=65536+(t<<10)+(e.charCodeAt(r)-56320)}i<128?t[n++]=i:i<2048?(t[n++]=i>>6|192,t[n++]=63&i|128):i<65536?(t[n++]=i>>12|224,t[n++]=i>>6&63|128,t[n++]=63&i|128):(t[n++]=i>>18|240,t[n++]=i>>12&63|128,t[n++]=i>>6&63|128,t[n++]=63&i|128)}return t}(e),n=new Sha1;n.update(t);const r=n.digest();return p.encodeByteArray(r)},_t=function(...e){let t="";for(let n=0;n<e.length;n++){const r=e[n];Array.isArray(r)||r&&"object"==typeof r&&"number"==typeof r.length?t+=_t.apply(null,r):t+="object"==typeof r?D(r):r,t+=" "}return t};let gt=null,vt=!0;const yt=function(e,t){u(!t||!0===e||!1===e,"Can't turn on custom loggers persistently."),!0===e?(pt.logLevel=ee.VERBOSE,gt=pt.log.bind(pt),t&&ht.set("logging_enabled",!0)):"function"==typeof e?gt=e:(gt=null,ht.remove("logging_enabled"))},bt=function(...e){if(!0===vt&&(vt=!1,null===gt&&!0===ht.get("logging_enabled")&&yt(!0)),gt){const t=_t.apply(null,e);gt(t)}},wt=function(e){return function(...t){bt(e,...t)}},Et=function(...e){const t="FIREBASE INTERNAL ERROR: "+_t(...e);pt.error(t)},St=function(...e){const t=`FIREBASE FATAL ERROR: ${_t(...e)}`;throw pt.error(t),new Error(t)},kt=function(...e){const t="FIREBASE WARNING: "+_t(...e);pt.warn(t)},Tt=function(e){return"number"==typeof e&&(e!=e||e===Number.POSITIVE_INFINITY||e===Number.NEGATIVE_INFINITY)},It="[MIN_NAME]",Ct="[MAX_NAME]",Rt=function(e,t){if(e===t)return 0;if(e===It||t===Ct)return-1;if(t===It||e===Ct)return 1;{const n=Lt(e),r=Lt(t);return null!==n?null!==r?n-r==0?e.length-t.length:n-r:-1:null!==r?1:e<t?-1:1}},Nt=function(e,t){return e===t?0:e<t?-1:1},xt=function(e,t){if(t&&e in t)return t[e];throw new Error("Missing required key ("+e+") in object: "+D(t))},Pt=function(e){if("object"!=typeof e||null===e)return D(e);const t=[];for(const r in e)t.push(r);t.sort();let n="{";for(let r=0;r<t.length;r++)0!==r&&(n+=","),n+=D(t[r]),n+=":",n+=Pt(e[t[r]]);return n+="}",n},Ot=function(e,t){const n=e.length;if(n<=t)return[e];const r=[];for(let i=0;i<n;i+=t)i+t>n?r.push(e.substring(i,n)):r.push(e.substring(i,i+t));return r};function At(e,t){for(const n in e)e.hasOwnProperty(n)&&t(n,e[n])}const Dt=function(e){u(!Tt(e),"Invalid JSON number");const t=1023;let n,r,i,o,s;0===e?(r=0,i=0,n=1/e==-1/0?1:0):(n=e<0,(e=Math.abs(e))>=Math.pow(2,-1022)?(o=Math.min(Math.floor(Math.log(e)/Math.LN2),t),r=o+t,i=Math.round(e*Math.pow(2,52-o)-Math.pow(2,52))):(r=0,i=Math.round(e/Math.pow(2,-1074))));const a=[];for(s=52;s;s-=1)a.push(i%2?1:0),i=Math.floor(i/2);for(s=11;s;s-=1)a.push(r%2?1:0),r=Math.floor(r/2);a.push(n?1:0),a.reverse();const l=a.join("");let c="";for(s=0;s<64;s+=8){let e=parseInt(l.substr(s,8),2).toString(16);1===e.length&&(e="0"+e),c+=e}return c.toLowerCase()};const Mt=new RegExp("^-?(0*)\\d{1,10}$"),Lt=function(e){if(Mt.test(e)){const t=Number(e);if(t>=-2147483648&&t<=2147483647)return t}return null},Ut=function(e){try{e()}catch(t){setTimeout((()=>{const e=t.stack||"";throw kt("Exception was thrown by user callback.",e),t}),Math.floor(0))}},Ft=function(){return("object"==typeof window&&window.navigator&&window.navigator.userAgent||"").search(/googlebot|google webmaster tools|bingbot|yahoo! slurp|baiduspider|yandexbot|duckduckbot/i)>=0},jt=function(e,t){const n=setTimeout(e,t);return"number"==typeof n&&"undefined"!=typeof Deno&&Deno.unrefTimer?Deno.unrefTimer(n):"object"==typeof n&&n.unref&&n.unref(),n};class AppCheckTokenProvider{constructor(e,t){this.appName_=e,this.appCheckProvider=t,this.appCheck=null==t?void 0:t.getImmediate({optional:!0}),this.appCheck||null==t||t.get().then((e=>this.appCheck=e))}getToken(e){return this.appCheck?this.appCheck.getToken(e):new Promise(((t,n)=>{setTimeout((()=>{this.appCheck?this.getToken(e).then(t,n):t(null)}),0)}))}addTokenChangeListener(e){var t;null===(t=this.appCheckProvider)||void 0===t||t.get().then((t=>t.addTokenListener(e)))}notifyForInvalidToken(){kt(`Provided AppCheck credentials for the app named "${this.appName_}" are invalid. This usually indicates your app was not initialized correctly.`)}}class FirebaseAuthTokenProvider{constructor(e,t,n){this.appName_=e,this.firebaseOptions_=t,this.authProvider_=n,this.auth_=null,this.auth_=n.getImmediate({optional:!0}),this.auth_||n.onInit((e=>this.auth_=e))}getToken(e){return this.auth_?this.auth_.getToken(e).catch((e=>e&&"auth/token-not-initialized"===e.code?(bt("Got auth/token-not-initialized error.  Treating as null token."),null):Promise.reject(e))):new Promise(((t,n)=>{setTimeout((()=>{this.auth_?this.getToken(e).then(t,n):t(null)}),0)}))}addTokenChangeListener(e){this.auth_?this.auth_.addAuthTokenListener(e):this.authProvider_.get().then((t=>t.addAuthTokenListener(e)))}removeTokenChangeListener(e){this.authProvider_.get().then((t=>t.removeAuthTokenListener(e)))}notifyForInvalidToken(){let e='Provided authentication credentials for the app named "'+this.appName_+'" are invalid. This usually indicates your app was not initialized correctly. ';"credential"in this.firebaseOptions_?e+='Make sure the "credential" property provided to initializeApp() is authorized to access the specified "databaseURL" and is from the correct project.':"serviceAccount"in this.firebaseOptions_?e+='Make sure the "serviceAccount" property provided to initializeApp() is authorized to access the specified "databaseURL" and is from the correct project.':e+='Make sure the "apiKey" and "databaseURL" properties provided to initializeApp() match the values provided for your app at https://console.firebase.google.com/.',kt(e)}}class EmulatorTokenProvider{constructor(e){this.accessToken=e}getToken(e){return Promise.resolve({accessToken:this.accessToken})}addTokenChangeListener(e){e(this.accessToken)}removeTokenChangeListener(e){}notifyForInvalidToken(){}}EmulatorTokenProvider.OWNER="owner";const Bt="5",zt=/(console\.firebase|firebase-console-\w+\.corp|firebase\.corp)\.google\.com/,Wt="ac",Gt="websocket",qt="long_polling";class RepoInfo{constructor(e,t,n,r,i=!1,o="",s=!1,a=!1){this.secure=t,this.namespace=n,this.webSocketOnly=r,this.nodeAdmin=i,this.persistenceKey=o,this.includeNamespaceInQueryParams=s,this.isUsingEmulator=a,this._host=e.toLowerCase(),this._domain=this._host.substr(this._host.indexOf(".")+1),this.internalHost=dt.get("host:"+e)||this._host}isCacheableHost(){return"s-"===this.internalHost.substr(0,2)}isCustomHost(){return"firebaseio.com"!==this._domain&&"firebaseio-demo.com"!==this._domain}get host(){return this._host}set host(e){e!==this.internalHost&&(this.internalHost=e,this.isCacheableHost()&&dt.set("host:"+this._host,this.internalHost))}toString(){let e=this.toURLString();return this.persistenceKey&&(e+="<"+this.persistenceKey+">"),e}toURLString(){const e=this.secure?"https://":"http://",t=this.includeNamespaceInQueryParams?`?ns=${this.namespace}`:"";return`${e}${this.host}/${t}`}}function Ht(e,t,n){let r;if(u("string"==typeof t,"typeof type must == string"),u("object"==typeof n,"typeof params must == object"),t===Gt)r=(e.secure?"wss://":"ws://")+e.internalHost+"/.ws?";else{if(t!==qt)throw new Error("Unknown connection type: "+t);r=(e.secure?"https://":"http://")+e.internalHost+"/.lp?"}(function(e){return e.host!==e.internalHost||e.isCustomHost()||e.includeNamespaceInQueryParams})(e)&&(n.ns=e.namespace);const i=[];return At(n,((e,t)=>{i.push(e+"="+t)})),r+i.join("&")}class StatsCollection{constructor(){this.counters_={}}incrementCounter(e,t=1){L(this.counters_,e)||(this.counters_[e]=0),this.counters_[e]+=t}get(){return g(void 0,this.counters_)}}const $t={},Vt={};function Yt(e){const t=e.toString();return $t[t]||($t[t]=new StatsCollection),$t[t]}class PacketReceiver{constructor(e){this.onMessage_=e,this.pendingResponses=[],this.currentResponseNum=0,this.closeAfterResponse=-1,this.onClose=null}closeAfter(e,t){this.closeAfterResponse=e,this.onClose=t,this.closeAfterResponse<this.currentResponseNum&&(this.onClose(),this.onClose=null)}handleResponse(e,t){for(this.pendingResponses[e]=t;this.pendingResponses[this.currentResponseNum];){const e=this.pendingResponses[this.currentResponseNum];delete this.pendingResponses[this.currentResponseNum];for(let t=0;t<e.length;++t)e[t]&&Ut((()=>{this.onMessage_(e[t])}));if(this.currentResponseNum===this.closeAfterResponse){this.onClose&&(this.onClose(),this.onClose=null);break}this.currentResponseNum++}}}const Kt="start";class BrowserPollConnection{constructor(e,t,n,r,i,o,s){this.connId=e,this.repoInfo=t,this.applicationId=n,this.appCheckToken=r,this.authToken=i,this.transportSessionId=o,this.lastSessionId=s,this.bytesSent=0,this.bytesReceived=0,this.everConnected_=!1,this.log_=wt(e),this.stats_=Yt(t),this.urlFn=e=>(this.appCheckToken&&(e[Wt]=this.appCheckToken),Ht(t,qt,e))}open(e,t){this.curSegmentNum=0,this.onDisconnect_=t,this.myPacketOrderer=new PacketReceiver(e),this.isClosed_=!1,this.connectTimeoutTimer_=setTimeout((()=>{this.log_("Timed out trying to connect."),this.onClosed_(),this.connectTimeoutTimer_=null}),Math.floor(3e4)),function(e){if(x()||"complete"===document.readyState)e();else{let t=!1;const n=function(){document.body?t||(t=!0,e()):setTimeout(n,Math.floor(10))};document.addEventListener?(document.addEventListener("DOMContentLoaded",n,!1),window.addEventListener("load",n,!1)):document.attachEvent&&(document.attachEvent("onreadystatechange",(()=>{"complete"===document.readyState&&n()})),window.attachEvent("onload",n))}}((()=>{if(this.isClosed_)return;this.scriptTagHolder=new FirebaseIFrameScriptHolder(((...e)=>{const[t,n,r,i,o]=e;if(this.incrementIncomingBytes_(e),this.scriptTagHolder)if(this.connectTimeoutTimer_&&(clearTimeout(this.connectTimeoutTimer_),this.connectTimeoutTimer_=null),this.everConnected_=!0,t===Kt)this.id=n,this.password=r;else{if("close"!==t)throw new Error("Unrecognized command received: "+t);n?(this.scriptTagHolder.sendNewPolls=!1,this.myPacketOrderer.closeAfter(n,(()=>{this.onClosed_()}))):this.onClosed_()}}),((...e)=>{const[t,n]=e;this.incrementIncomingBytes_(e),this.myPacketOrderer.handleResponse(t,n)}),(()=>{this.onClosed_()}),this.urlFn);const e={};e[Kt]="t",e.ser=Math.floor(1e8*Math.random()),this.scriptTagHolder.uniqueCallbackIdentifier&&(e.cb=this.scriptTagHolder.uniqueCallbackIdentifier),e.v=Bt,this.transportSessionId&&(e.s=this.transportSessionId),this.lastSessionId&&(e.ls=this.lastSessionId),this.applicationId&&(e.p=this.applicationId),this.appCheckToken&&(e[Wt]=this.appCheckToken),"undefined"!=typeof location&&location.hostname&&zt.test(location.hostname)&&(e.r="f");const t=this.urlFn(e);this.log_("Connecting via long-poll to "+t),this.scriptTagHolder.addTag(t,(()=>{}))}))}start(){this.scriptTagHolder.startLongPoll(this.id,this.password),this.addDisconnectPingFrame(this.id,this.password)}static forceAllow(){BrowserPollConnection.forceAllow_=!0}static forceDisallow(){BrowserPollConnection.forceDisallow_=!0}static isAvailable(){return!x()&&(!!BrowserPollConnection.forceAllow_||!(BrowserPollConnection.forceDisallow_||"undefined"==typeof document||null==document.createElement||"object"==typeof window&&window.chrome&&window.chrome.extension&&!/^chrome/.test(window.location.href)||"object"==typeof Windows&&"object"==typeof Windows.UI))}markConnectionHealthy(){}shutdown_(){this.isClosed_=!0,this.scriptTagHolder&&(this.scriptTagHolder.close(),this.scriptTagHolder=null),this.myDisconnFrame&&(document.body.removeChild(this.myDisconnFrame),this.myDisconnFrame=null),this.connectTimeoutTimer_&&(clearTimeout(this.connectTimeoutTimer_),this.connectTimeoutTimer_=null)}onClosed_(){this.isClosed_||(this.log_("Longpoll is closing itself"),this.shutdown_(),this.onDisconnect_&&(this.onDisconnect_(this.everConnected_),this.onDisconnect_=null))}close(){this.isClosed_||(this.log_("Longpoll is being closed."),this.shutdown_())}send(e){const t=D(e);this.bytesSent+=t.length,this.stats_.incrementCounter("bytes_sent",t.length);const n=f(t),r=Ot(n,1840);for(let i=0;i<r.length;i++)this.scriptTagHolder.enqueueSegment(this.curSegmentNum,r.length,r[i]),this.curSegmentNum++}addDisconnectPingFrame(e,t){if(x())return;this.myDisconnFrame=document.createElement("iframe");const n={dframe:"t"};n.id=e,n.pw=t,this.myDisconnFrame.src=this.urlFn(n),this.myDisconnFrame.style.display="none",document.body.appendChild(this.myDisconnFrame)}incrementIncomingBytes_(e){const t=D(e).length;this.bytesReceived+=t,this.stats_.incrementCounter("bytes_received",t)}}class FirebaseIFrameScriptHolder{constructor(e,t,n,r){if(this.onDisconnect=n,this.urlFn=r,this.outstandingRequests=new Set,this.pendingSegs=[],this.currentSerial=Math.floor(1e8*Math.random()),this.sendNewPolls=!0,x())this.commandCB=e,this.onMessageCB=t;else{this.uniqueCallbackIdentifier=ft(),window["pLPCommand"+this.uniqueCallbackIdentifier]=e,window["pRTLPCB"+this.uniqueCallbackIdentifier]=t,this.myIFrame=FirebaseIFrameScriptHolder.createIFrame_();let n="";if(this.myIFrame.src&&"javascript:"===this.myIFrame.src.substr(0,"javascript:".length)){n='<script>document.domain="'+document.domain+'";<\/script>'}const r="<html><body>"+n+"</body></html>";try{this.myIFrame.doc.open(),this.myIFrame.doc.write(r),this.myIFrame.doc.close()}catch(i){bt("frame writing exception"),i.stack&&bt(i.stack),bt(i)}}}static createIFrame_(){const e=document.createElement("iframe");if(e.style.display="none",!document.body)throw"Document body has not initialized. Wait to initialize Firebase until after the document is ready.";document.body.appendChild(e);try{e.contentWindow.document||bt("No IE domain setting required")}catch(t){const n=document.domain;e.src="javascript:void((function(){document.open();document.domain='"+n+"';document.close();})())"}return e.contentDocument?e.doc=e.contentDocument:e.contentWindow?e.doc=e.contentWindow.document:e.document&&(e.doc=e.document),e}close(){this.alive=!1,this.myIFrame&&(this.myIFrame.doc.body.textContent="",setTimeout((()=>{null!==this.myIFrame&&(document.body.removeChild(this.myIFrame),this.myIFrame=null)}),Math.floor(0)));const e=this.onDisconnect;e&&(this.onDisconnect=null,e())}startLongPoll(e,t){for(this.myID=e,this.myPW=t,this.alive=!0;this.newRequest_(););}newRequest_(){if(this.alive&&this.sendNewPolls&&this.outstandingRequests.size<(this.pendingSegs.length>0?2:1)){this.currentSerial++;const e={};e.id=this.myID,e.pw=this.myPW,e.ser=this.currentSerial;let t=this.urlFn(e),n="",r=0;for(;this.pendingSegs.length>0;){if(!(this.pendingSegs[0].d.length+30+n.length<=1870))break;{const e=this.pendingSegs.shift();n=n+"&seg"+r+"="+e.seg+"&ts"+r+"="+e.ts+"&d"+r+"="+e.d,r++}}return t+=n,this.addLongPollTag_(t,this.currentSerial),!0}return!1}enqueueSegment(e,t,n){this.pendingSegs.push({seg:e,ts:t,d:n}),this.alive&&this.newRequest_()}addLongPollTag_(e,t){this.outstandingRequests.add(t);const n=()=>{this.outstandingRequests.delete(t),this.newRequest_()},r=setTimeout(n,Math.floor(25e3));this.addTag(e,(()=>{clearTimeout(r),n()}))}addTag(e,t){x()?this.doNodeLongPoll(e,t):setTimeout((()=>{try{if(!this.sendNewPolls)return;const n=this.myIFrame.doc.createElement("script");n.type="text/javascript",n.async=!0,n.src=e,n.onload=n.onreadystatechange=function(){const e=n.readyState;e&&"loaded"!==e&&"complete"!==e||(n.onload=n.onreadystatechange=null,n.parentNode&&n.parentNode.removeChild(n),t())},n.onerror=()=>{bt("Long-poll script failed to load: "+e),this.sendNewPolls=!1,this.close()},this.myIFrame.doc.body.appendChild(n)}catch(n){}}),Math.floor(1))}}let Jt=null;"undefined"!=typeof MozWebSocket?Jt=MozWebSocket:"undefined"!=typeof WebSocket&&(Jt=WebSocket);class WebSocketConnection{constructor(e,t,n,r,i,o,s){this.connId=e,this.applicationId=n,this.appCheckToken=r,this.authToken=i,this.keepaliveTimer=null,this.frames=null,this.totalFrames=0,this.bytesSent=0,this.bytesReceived=0,this.log_=wt(this.connId),this.stats_=Yt(t),this.connURL=WebSocketConnection.connectionURL_(t,o,s,r,n),this.nodeAdmin=t.nodeAdmin}static connectionURL_(e,t,n,r,i){const o={};return o.v=Bt,!x()&&"undefined"!=typeof location&&location.hostname&&zt.test(location.hostname)&&(o.r="f"),t&&(o.s=t),n&&(o.ls=n),r&&(o[Wt]=r),i&&(o.p=i),Ht(e,Gt,o)}open(e,t){this.onDisconnect=t,this.onMessage=e,this.log_("Websocket connecting to "+this.connURL),this.everConnected_=!1,dt.set("previous_websocket_failure",!0);try{let e;if(x()){const t=this.nodeAdmin?"AdminNode":"Node";e={headers:{"User-Agent":`Firebase/${Bt}/${ct}/${process.platform}/${t}`,"X-Firebase-GMPID":this.applicationId||""}},this.authToken&&(e.headers.Authorization=`Bearer ${this.authToken}`),this.appCheckToken&&(e.headers["X-Firebase-AppCheck"]=this.appCheckToken);const n={NX_CLI_SET:"true",NX_LOAD_DOT_ENV_FILES:"true",NX_TASK_HASH:"ef7778bc9c5ee19e35215bd0377bf4590e19a99b56114a0e72602bfb42f7f4d5",NX_TASK_TARGET_PROJECT:"web",NX_WORKSPACE_ROOT:"/Users/polyakovin/repos/activitip",NX_TERMINAL_OUTPUT_PATH:"/Users/polyakovin/repos/activitip/node_modules/.cache/nx/terminalOutputs/ef7778bc9c5ee19e35215bd0377bf4590e19a99b56114a0e72602bfb42f7f4d5",NX_STREAM_OUTPUT:"true"},r=0===this.connURL.indexOf("wss://")?n.HTTPS_PROXY||n.https_proxy:n.HTTP_PROXY||n.http_proxy;r&&(e.proxy={origin:r})}this.mySock=new Jt(this.connURL,[],e)}catch(n){this.log_("Error instantiating WebSocket.");const e=n.message||n.data;return e&&this.log_(e),void this.onClosed_()}this.mySock.onopen=()=>{this.log_("Websocket connected."),this.everConnected_=!0},this.mySock.onclose=()=>{this.log_("Websocket connection was disconnected."),this.mySock=null,this.onClosed_()},this.mySock.onmessage=e=>{this.handleIncomingFrame(e)},this.mySock.onerror=e=>{this.log_("WebSocket error.  Closing connection.");const t=e.message||e.data;t&&this.log_(t),this.onClosed_()}}start(){}static forceDisallow(){WebSocketConnection.forceDisallow_=!0}static isAvailable(){let e=!1;if("undefined"!=typeof navigator&&navigator.userAgent){const t=/Android ([0-9]{0,}\.[0-9]{0,})/,n=navigator.userAgent.match(t);n&&n.length>1&&parseFloat(n[1])<4.4&&(e=!0)}return!e&&null!==Jt&&!WebSocketConnection.forceDisallow_}static previouslyFailed(){return dt.isInMemoryStorage||!0===dt.get("previous_websocket_failure")}markConnectionHealthy(){dt.remove("previous_websocket_failure")}appendFrame_(e){if(this.frames.push(e),this.frames.length===this.totalFrames){const e=this.frames.join("");this.frames=null;const t=A(e);this.onMessage(t)}}handleNewFrameCount_(e){this.totalFrames=e,this.frames=[]}extractFrameCount_(e){if(u(null===this.frames,"We already have a frame buffer"),e.length<=6){const t=Number(e);if(!isNaN(t))return this.handleNewFrameCount_(t),null}return this.handleNewFrameCount_(1),e}handleIncomingFrame(e){if(null===this.mySock)return;const t=e.data;if(this.bytesReceived+=t.length,this.stats_.incrementCounter("bytes_received",t.length),this.resetKeepAlive(),null!==this.frames)this.appendFrame_(t);else{const e=this.extractFrameCount_(t);null!==e&&this.appendFrame_(e)}}send(e){this.resetKeepAlive();const t=D(e);this.bytesSent+=t.length,this.stats_.incrementCounter("bytes_sent",t.length);const n=Ot(t,16384);n.length>1&&this.sendString_(String(n.length));for(let r=0;r<n.length;r++)this.sendString_(n[r])}shutdown_(){this.isClosed_=!0,this.keepaliveTimer&&(clearInterval(this.keepaliveTimer),this.keepaliveTimer=null),this.mySock&&(this.mySock.close(),this.mySock=null)}onClosed_(){this.isClosed_||(this.log_("WebSocket is closing itself"),this.shutdown_(),this.onDisconnect&&(this.onDisconnect(this.everConnected_),this.onDisconnect=null))}close(){this.isClosed_||(this.log_("WebSocket is being closed"),this.shutdown_())}resetKeepAlive(){clearInterval(this.keepaliveTimer),this.keepaliveTimer=setInterval((()=>{this.mySock&&this.sendString_("0"),this.resetKeepAlive()}),Math.floor(45e3))}sendString_(e){try{this.mySock.send(e)}catch(t){this.log_("Exception thrown from WebSocket.send():",t.message||t.data,"Closing connection."),setTimeout(this.onClosed_.bind(this),0)}}}WebSocketConnection.responsesRequiredToBeHealthy=2,WebSocketConnection.healthyTimeout=3e4;class TransportManager{constructor(e){this.initTransports_(e)}static get ALL_TRANSPORTS(){return[BrowserPollConnection,WebSocketConnection]}static get IS_TRANSPORT_INITIALIZED(){return this.globalTransportInitialized_}initTransports_(e){const t=WebSocketConnection&&WebSocketConnection.isAvailable();let n=t&&!WebSocketConnection.previouslyFailed();if(e.webSocketOnly&&(t||kt("wss:// URL used, but browser isn't known to support websockets.  Trying anyway."),n=!0),n)this.transports_=[WebSocketConnection];else{const e=this.transports_=[];for(const t of TransportManager.ALL_TRANSPORTS)t&&t.isAvailable()&&e.push(t);TransportManager.globalTransportInitialized_=!0}}initialTransport(){if(this.transports_.length>0)return this.transports_[0];throw new Error("No transports available")}upgradeTransport(){return this.transports_.length>1?this.transports_[1]:null}}TransportManager.globalTransportInitialized_=!1;class Connection{constructor(e,t,n,r,i,o,s,a,l,c){this.id=e,this.repoInfo_=t,this.applicationId_=n,this.appCheckToken_=r,this.authToken_=i,this.onMessage_=o,this.onReady_=s,this.onDisconnect_=a,this.onKill_=l,this.lastSessionId=c,this.connectionCount=0,this.pendingDataMessages=[],this.state_=0,this.log_=wt("c:"+this.id+":"),this.transportManager_=new TransportManager(t),this.log_("Connection created"),this.start_()}start_(){const e=this.transportManager_.initialTransport();this.conn_=new e(this.nextTransportId_(),this.repoInfo_,this.applicationId_,this.appCheckToken_,this.authToken_,null,this.lastSessionId),this.primaryResponsesRequired_=e.responsesRequiredToBeHealthy||0;const t=this.connReceiver_(this.conn_),n=this.disconnReceiver_(this.conn_);this.tx_=this.conn_,this.rx_=this.conn_,this.secondaryConn_=null,this.isHealthy_=!1,setTimeout((()=>{this.conn_&&this.conn_.open(t,n)}),Math.floor(0));const r=e.healthyTimeout||0;r>0&&(this.healthyTimeout_=jt((()=>{this.healthyTimeout_=null,this.isHealthy_||(this.conn_&&this.conn_.bytesReceived>102400?(this.log_("Connection exceeded healthy timeout but has received "+this.conn_.bytesReceived+" bytes.  Marking connection healthy."),this.isHealthy_=!0,this.conn_.markConnectionHealthy()):this.conn_&&this.conn_.bytesSent>10240?this.log_("Connection exceeded healthy timeout but has sent "+this.conn_.bytesSent+" bytes.  Leaving connection alive."):(this.log_("Closing unhealthy connection after timeout."),this.close()))}),Math.floor(r)))}nextTransportId_(){return"c:"+this.id+":"+this.connectionCount++}disconnReceiver_(e){return t=>{e===this.conn_?this.onConnectionLost_(t):e===this.secondaryConn_?(this.log_("Secondary connection lost."),this.onSecondaryConnectionLost_()):this.log_("closing an old connection")}}connReceiver_(e){return t=>{2!==this.state_&&(e===this.rx_?this.onPrimaryMessageReceived_(t):e===this.secondaryConn_?this.onSecondaryMessageReceived_(t):this.log_("message on old connection"))}}sendRequest(e){const t={t:"d",d:e};this.sendData_(t)}tryCleanupConnection(){this.tx_===this.secondaryConn_&&this.rx_===this.secondaryConn_&&(this.log_("cleaning up and promoting a connection: "+this.secondaryConn_.connId),this.conn_=this.secondaryConn_,this.secondaryConn_=null)}onSecondaryControl_(e){if("t"in e){const t=e.t;"a"===t?this.upgradeIfSecondaryHealthy_():"r"===t?(this.log_("Got a reset on secondary, closing it"),this.secondaryConn_.close(),this.tx_!==this.secondaryConn_&&this.rx_!==this.secondaryConn_||this.close()):"o"===t&&(this.log_("got pong on secondary."),this.secondaryResponsesRequired_--,this.upgradeIfSecondaryHealthy_())}}onSecondaryMessageReceived_(e){const t=xt("t",e),n=xt("d",e);if("c"===t)this.onSecondaryControl_(n);else{if("d"!==t)throw new Error("Unknown protocol layer: "+t);this.pendingDataMessages.push(n)}}upgradeIfSecondaryHealthy_(){this.secondaryResponsesRequired_<=0?(this.log_("Secondary connection is healthy."),this.isHealthy_=!0,this.secondaryConn_.markConnectionHealthy(),this.proceedWithUpgrade_()):(this.log_("sending ping on secondary."),this.secondaryConn_.send({t:"c",d:{t:"p",d:{}}}))}proceedWithUpgrade_(){this.secondaryConn_.start(),this.log_("sending client ack on secondary"),this.secondaryConn_.send({t:"c",d:{t:"a",d:{}}}),this.log_("Ending transmission on primary"),this.conn_.send({t:"c",d:{t:"n",d:{}}}),this.tx_=this.secondaryConn_,this.tryCleanupConnection()}onPrimaryMessageReceived_(e){const t=xt("t",e),n=xt("d",e);"c"===t?this.onControl_(n):"d"===t&&this.onDataMessage_(n)}onDataMessage_(e){this.onPrimaryResponse_(),this.onMessage_(e)}onPrimaryResponse_(){this.isHealthy_||(this.primaryResponsesRequired_--,this.primaryResponsesRequired_<=0&&(this.log_("Primary connection is healthy."),this.isHealthy_=!0,this.conn_.markConnectionHealthy()))}onControl_(e){const t=xt("t",e);if("d"in e){const n=e.d;if("h"===t){const e=Object.assign({},n);this.repoInfo_.isUsingEmulator&&(e.h=this.repoInfo_.host),this.onHandshake_(e)}else if("n"===t){this.log_("recvd end transmission on primary"),this.rx_=this.secondaryConn_;for(let e=0;e<this.pendingDataMessages.length;++e)this.onDataMessage_(this.pendingDataMessages[e]);this.pendingDataMessages=[],this.tryCleanupConnection()}else"s"===t?this.onConnectionShutdown_(n):"r"===t?this.onReset_(n):"e"===t?Et("Server Error: "+n):"o"===t?(this.log_("got pong on primary."),this.onPrimaryResponse_(),this.sendPingOnPrimaryIfNecessary_()):Et("Unknown control packet command: "+t)}}onHandshake_(e){const t=e.ts,n=e.v,r=e.h;this.sessionId=e.s,this.repoInfo_.host=r,0===this.state_&&(this.conn_.start(),this.onConnectionEstablished_(this.conn_,t),Bt!==n&&kt("Protocol version mismatch detected"),this.tryStartUpgrade_())}tryStartUpgrade_(){const e=this.transportManager_.upgradeTransport();e&&this.startUpgrade_(e)}startUpgrade_(e){this.secondaryConn_=new e(this.nextTransportId_(),this.repoInfo_,this.applicationId_,this.appCheckToken_,this.authToken_,this.sessionId),this.secondaryResponsesRequired_=e.responsesRequiredToBeHealthy||0;const t=this.connReceiver_(this.secondaryConn_),n=this.disconnReceiver_(this.secondaryConn_);this.secondaryConn_.open(t,n),jt((()=>{this.secondaryConn_&&(this.log_("Timed out trying to upgrade."),this.secondaryConn_.close())}),Math.floor(6e4))}onReset_(e){this.log_("Reset packet received.  New host: "+e),this.repoInfo_.host=e,1===this.state_?this.close():(this.closeConnections_(),this.start_())}onConnectionEstablished_(e,t){this.log_("Realtime connection established."),this.conn_=e,this.state_=1,this.onReady_&&(this.onReady_(t,this.sessionId),this.onReady_=null),0===this.primaryResponsesRequired_?(this.log_("Primary connection is healthy."),this.isHealthy_=!0):jt((()=>{this.sendPingOnPrimaryIfNecessary_()}),Math.floor(5e3))}sendPingOnPrimaryIfNecessary_(){this.isHealthy_||1!==this.state_||(this.log_("sending ping on primary."),this.sendData_({t:"c",d:{t:"p",d:{}}}))}onSecondaryConnectionLost_(){const e=this.secondaryConn_;this.secondaryConn_=null,this.tx_!==e&&this.rx_!==e||this.close()}onConnectionLost_(e){this.conn_=null,e||0!==this.state_?1===this.state_&&this.log_("Realtime connection lost."):(this.log_("Realtime connection failed."),this.repoInfo_.isCacheableHost()&&(dt.remove("host:"+this.repoInfo_.host),this.repoInfo_.internalHost=this.repoInfo_.host)),this.close()}onConnectionShutdown_(e){this.log_("Connection shutdown command received. Shutting down..."),this.onKill_&&(this.onKill_(e),this.onKill_=null),this.onDisconnect_=null,this.close()}sendData_(e){if(1!==this.state_)throw"Connection is not connected";this.tx_.send(e)}close(){2!==this.state_&&(this.log_("Closing realtime connection."),this.state_=2,this.closeConnections_(),this.onDisconnect_&&(this.onDisconnect_(),this.onDisconnect_=null))}closeConnections_(){this.log_("Shutting down all connections"),this.conn_&&(this.conn_.close(),this.conn_=null),this.secondaryConn_&&(this.secondaryConn_.close(),this.secondaryConn_=null),this.healthyTimeout_&&(clearTimeout(this.healthyTimeout_),this.healthyTimeout_=null)}}class ServerActions{put(e,t,n,r){}merge(e,t,n,r){}refreshAuthToken(e){}refreshAppCheckToken(e){}onDisconnectPut(e,t,n){}onDisconnectMerge(e,t,n){}onDisconnectCancel(e,t){}reportStats(e){}}class EventEmitter{constructor(e){this.allowedEvents_=e,this.listeners_={},u(Array.isArray(e)&&e.length>0,"Requires a non-empty array")}trigger(e,...t){if(Array.isArray(this.listeners_[e])){const n=[...this.listeners_[e]];for(let e=0;e<n.length;e++)n[e].callback.apply(n[e].context,t)}}on(e,t,n){this.validateEventType_(e),this.listeners_[e]=this.listeners_[e]||[],this.listeners_[e].push({callback:t,context:n});const r=this.getInitialEvent(e);r&&t.apply(n,r)}off(e,t,n){this.validateEventType_(e);const r=this.listeners_[e]||[];for(let i=0;i<r.length;i++)if(r[i].callback===t&&(!n||n===r[i].context))return void r.splice(i,1)}validateEventType_(e){u(this.allowedEvents_.find((t=>t===e)),"Unknown event: "+e)}}class OnlineMonitor extends EventEmitter{constructor(){super(["online"]),this.online_=!0,"undefined"==typeof window||void 0===window.addEventListener||T()||(window.addEventListener("online",(()=>{this.online_||(this.online_=!0,this.trigger("online",!0))}),!1),window.addEventListener("offline",(()=>{this.online_&&(this.online_=!1,this.trigger("online",!1))}),!1))}static getInstance(){return new OnlineMonitor}getInitialEvent(e){return u("online"===e,"Unknown event type: "+e),[this.online_]}currentlyOnline(){return this.online_}}const Xt=32,Qt=768;class Path{constructor(e,t){if(void 0===t){this.pieces_=e.split("/");let t=0;for(let e=0;e<this.pieces_.length;e++)this.pieces_[e].length>0&&(this.pieces_[t]=this.pieces_[e],t++);this.pieces_.length=t,this.pieceNum_=0}else this.pieces_=e,this.pieceNum_=t}toString(){let e="";for(let t=this.pieceNum_;t<this.pieces_.length;t++)""!==this.pieces_[t]&&(e+="/"+this.pieces_[t]);return e||"/"}}function Zt(){return new Path("")}function en(e){return e.pieceNum_>=e.pieces_.length?null:e.pieces_[e.pieceNum_]}function tn(e){return e.pieces_.length-e.pieceNum_}function nn(e){let t=e.pieceNum_;return t<e.pieces_.length&&t++,new Path(e.pieces_,t)}function rn(e){return e.pieceNum_<e.pieces_.length?e.pieces_[e.pieces_.length-1]:null}function on(e,t=0){return e.pieces_.slice(e.pieceNum_+t)}function sn(e){if(e.pieceNum_>=e.pieces_.length)return null;const t=[];for(let n=e.pieceNum_;n<e.pieces_.length-1;n++)t.push(e.pieces_[n]);return new Path(t,0)}function an(e,t){const n=[];for(let r=e.pieceNum_;r<e.pieces_.length;r++)n.push(e.pieces_[r]);if(t instanceof Path)for(let r=t.pieceNum_;r<t.pieces_.length;r++)n.push(t.pieces_[r]);else{const e=t.split("/");for(let t=0;t<e.length;t++)e[t].length>0&&n.push(e[t])}return new Path(n,0)}function ln(e){return e.pieceNum_>=e.pieces_.length}function cn(e,t){const n=en(e),r=en(t);if(null===n)return t;if(n===r)return cn(nn(e),nn(t));throw new Error("INTERNAL ERROR: innerPath ("+t+") is not within outerPath ("+e+")")}function un(e,t){if(tn(e)!==tn(t))return!1;for(let n=e.pieceNum_,r=t.pieceNum_;n<=e.pieces_.length;n++,r++)if(e.pieces_[n]!==t.pieces_[r])return!1;return!0}function dn(e,t){let n=e.pieceNum_,r=t.pieceNum_;if(tn(e)>tn(t))return!1;for(;n<e.pieces_.length;){if(e.pieces_[n]!==t.pieces_[r])return!1;++n,++r}return!0}class ValidationPath{constructor(e,t){this.errorPrefix_=t,this.parts_=on(e,0),this.byteLength_=Math.max(1,this.parts_.length);for(let n=0;n<this.parts_.length;n++)this.byteLength_+=J(this.parts_[n]);hn(this)}}function hn(e){if(e.byteLength_>Qt)throw new Error(e.errorPrefix_+"has a key path longer than "+Qt+" bytes ("+e.byteLength_+").");if(e.parts_.length>Xt)throw new Error(e.errorPrefix_+"path specified exceeds the maximum depth that can be written ("+Xt+") or object contains a cycle "+pn(e))}function pn(e){return 0===e.parts_.length?"":"in property '"+e.parts_.join(".")+"'"}class VisibilityMonitor extends EventEmitter{constructor(){let e,t;super(["visible"]),"undefined"!=typeof document&&void 0!==document.addEventListener&&(void 0!==document.hidden?(t="visibilitychange",e="hidden"):void 0!==document.mozHidden?(t="mozvisibilitychange",e="mozHidden"):void 0!==document.msHidden?(t="msvisibilitychange",e="msHidden"):void 0!==document.webkitHidden&&(t="webkitvisibilitychange",e="webkitHidden")),this.visible_=!0,t&&document.addEventListener(t,(()=>{const t=!document[e];t!==this.visible_&&(this.visible_=t,this.trigger("visible",t))}),!1)}static getInstance(){return new VisibilityMonitor}getInitialEvent(e){return u("visible"===e,"Unknown event type: "+e),[this.visible_]}}const fn=1e3;class PersistentConnection extends ServerActions{constructor(e,t,n,r,i,o,s,a){if(super(),this.repoInfo_=e,this.applicationId_=t,this.onDataUpdate_=n,this.onConnectStatus_=r,this.onServerInfoUpdate_=i,this.authTokenProvider_=o,this.appCheckTokenProvider_=s,this.authOverride_=a,this.id=PersistentConnection.nextPersistentConnectionId_++,this.log_=wt("p:"+this.id+":"),this.interruptReasons_={},this.listens=new Map,this.outstandingPuts_=[],this.outstandingGets_=[],this.outstandingPutCount_=0,this.outstandingGetCount_=0,this.onDisconnectRequestQueue_=[],this.connected_=!1,this.reconnectDelay_=fn,this.maxReconnectDelay_=3e5,this.securityDebugCallback_=null,this.lastSessionId=null,this.establishConnectionTimer_=null,this.visible_=!1,this.requestCBHash_={},this.requestNumber_=0,this.realtime_=null,this.authToken_=null,this.appCheckToken_=null,this.forceTokenRefresh_=!1,this.invalidAuthTokenCount_=0,this.invalidAppCheckTokenCount_=0,this.firstConnection_=!0,this.lastConnectionAttemptTime_=null,this.lastConnectionEstablishedTime_=null,a&&!x())throw new Error("Auth override specified in options, but not supported on non Node.js platforms");VisibilityMonitor.getInstance().on("visible",this.onVisible_,this),-1===e.host.indexOf("fblocal")&&OnlineMonitor.getInstance().on("online",this.onOnline_,this)}sendRequest(e,t,n){const r=++this.requestNumber_,i={r,a:e,b:t};this.log_(D(i)),u(this.connected_,"sendRequest call when we're not connected not allowed."),this.realtime_.sendRequest(i),n&&(this.requestCBHash_[r]=n)}get(e){this.initConnection_();const t=new index_esm2017_Deferred,n={action:"g",request:{p:e._path.toString(),q:e._queryObject},onComplete:e=>{const n=e.d;"ok"===e.s?t.resolve(n):t.reject(n)}};this.outstandingGets_.push(n),this.outstandingGetCount_++;const r=this.outstandingGets_.length-1;return this.connected_&&this.sendGet_(r),t.promise}listen(e,t,n,r){this.initConnection_();const i=e._queryIdentifier,o=e._path.toString();this.log_("Listen called for "+o+" "+i),this.listens.has(o)||this.listens.set(o,new Map),u(e._queryParams.isDefault()||!e._queryParams.loadsAllData(),"listen() called for non-default but complete query"),u(!this.listens.get(o).has(i),"listen() called twice for same path/queryId.");const s={onComplete:r,hashFn:t,query:e,tag:n};this.listens.get(o).set(i,s),this.connected_&&this.sendListen_(s)}sendGet_(e){const t=this.outstandingGets_[e];this.sendRequest("g",t.request,(n=>{delete this.outstandingGets_[e],this.outstandingGetCount_--,0===this.outstandingGetCount_&&(this.outstandingGets_=[]),t.onComplete&&t.onComplete(n)}))}sendListen_(e){const t=e.query,n=t._path.toString(),r=t._queryIdentifier;this.log_("Listen on "+n+" for "+r);const i={p:n};e.tag&&(i.q=t._queryObject,i.t=e.tag),i.h=e.hashFn(),this.sendRequest("q",i,(i=>{const o=i.d,s=i.s;PersistentConnection.warnOnListenWarnings_(o,t);(this.listens.get(n)&&this.listens.get(n).get(r))===e&&(this.log_("listen response",i),"ok"!==s&&this.removeListen_(n,r),e.onComplete&&e.onComplete(s,o))}))}static warnOnListenWarnings_(e,t){if(e&&"object"==typeof e&&L(e,"w")){const n=U(e,"w");if(Array.isArray(n)&&~n.indexOf("no_index")){const e='".indexOn": "'+t._queryParams.getIndex().toString()+'"',n=t._path.toString();kt(`Using an unspecified index. Your data will be downloaded and filtered on the client. Consider adding ${e} at ${n} to your security rules for better performance.`)}}}refreshAuthToken(e){this.authToken_=e,this.log_("Auth token refreshed"),this.authToken_?this.tryAuth():this.connected_&&this.sendRequest("unauth",{},(()=>{})),this.reduceReconnectDelayIfAdminCredential_(e)}reduceReconnectDelayIfAdminCredential_(e){(e&&40===e.length||function(e){const t=M(e).claims;return"object"==typeof t&&!0===t.admin}(e))&&(this.log_("Admin auth credential detected.  Reducing max reconnect time."),this.maxReconnectDelay_=3e4)}refreshAppCheckToken(e){this.appCheckToken_=e,this.log_("App check token refreshed"),this.appCheckToken_?this.tryAppCheck():this.connected_&&this.sendRequest("unappeck",{},(()=>{}))}tryAuth(){if(this.connected_&&this.authToken_){const e=this.authToken_,t=function(e){const t=M(e).claims;return!!t&&"object"==typeof t&&t.hasOwnProperty("iat")}(e)?"auth":"gauth",n={cred:e};null===this.authOverride_?n.noauth=!0:"object"==typeof this.authOverride_&&(n.authvar=this.authOverride_),this.sendRequest(t,n,(t=>{const n=t.s,r=t.d||"error";this.authToken_===e&&("ok"===n?this.invalidAuthTokenCount_=0:this.onAuthRevoked_(n,r))}))}}tryAppCheck(){this.connected_&&this.appCheckToken_&&this.sendRequest("appcheck",{token:this.appCheckToken_},(e=>{const t=e.s,n=e.d||"error";"ok"===t?this.invalidAppCheckTokenCount_=0:this.onAppCheckRevoked_(t,n)}))}unlisten(e,t){const n=e._path.toString(),r=e._queryIdentifier;this.log_("Unlisten called for "+n+" "+r),u(e._queryParams.isDefault()||!e._queryParams.loadsAllData(),"unlisten() called for non-default but complete query");this.removeListen_(n,r)&&this.connected_&&this.sendUnlisten_(n,r,e._queryObject,t)}sendUnlisten_(e,t,n,r){this.log_("Unlisten on "+e+" for "+t);const i={p:e};r&&(i.q=n,i.t=r),this.sendRequest("n",i)}onDisconnectPut(e,t,n){this.initConnection_(),this.connected_?this.sendOnDisconnect_("o",e,t,n):this.onDisconnectRequestQueue_.push({pathString:e,action:"o",data:t,onComplete:n})}onDisconnectMerge(e,t,n){this.initConnection_(),this.connected_?this.sendOnDisconnect_("om",e,t,n):this.onDisconnectRequestQueue_.push({pathString:e,action:"om",data:t,onComplete:n})}onDisconnectCancel(e,t){this.initConnection_(),this.connected_?this.sendOnDisconnect_("oc",e,null,t):this.onDisconnectRequestQueue_.push({pathString:e,action:"oc",data:null,onComplete:t})}sendOnDisconnect_(e,t,n,r){const i={p:t,d:n};this.log_("onDisconnect "+e,i),this.sendRequest(e,i,(e=>{r&&setTimeout((()=>{r(e.s,e.d)}),Math.floor(0))}))}put(e,t,n,r){this.putInternal("p",e,t,n,r)}merge(e,t,n,r){this.putInternal("m",e,t,n,r)}putInternal(e,t,n,r,i){this.initConnection_();const o={p:t,d:n};void 0!==i&&(o.h=i),this.outstandingPuts_.push({action:e,request:o,onComplete:r}),this.outstandingPutCount_++;const s=this.outstandingPuts_.length-1;this.connected_?this.sendPut_(s):this.log_("Buffering put: "+t)}sendPut_(e){const t=this.outstandingPuts_[e].action,n=this.outstandingPuts_[e].request,r=this.outstandingPuts_[e].onComplete;this.outstandingPuts_[e].queued=this.connected_,this.sendRequest(t,n,(n=>{this.log_(t+" response",n),delete this.outstandingPuts_[e],this.outstandingPutCount_--,0===this.outstandingPutCount_&&(this.outstandingPuts_=[]),r&&r(n.s,n.d)}))}reportStats(e){if(this.connected_){const t={c:e};this.log_("reportStats",t),this.sendRequest("s",t,(e=>{if("ok"!==e.s){const t=e.d;this.log_("reportStats","Error sending stats: "+t)}}))}}onDataMessage_(e){if("r"in e){this.log_("from server: "+D(e));const t=e.r,n=this.requestCBHash_[t];n&&(delete this.requestCBHash_[t],n(e.b))}else{if("error"in e)throw"A server-side error has occurred: "+e.error;"a"in e&&this.onDataPush_(e.a,e.b)}}onDataPush_(e,t){this.log_("handleServerMessage",e,t),"d"===e?this.onDataUpdate_(t.p,t.d,!1,t.t):"m"===e?this.onDataUpdate_(t.p,t.d,!0,t.t):"c"===e?this.onListenRevoked_(t.p,t.q):"ac"===e?this.onAuthRevoked_(t.s,t.d):"apc"===e?this.onAppCheckRevoked_(t.s,t.d):"sd"===e?this.onSecurityDebugPacket_(t):Et("Unrecognized action received from server: "+D(e)+"\nAre you using the latest client?")}onReady_(e,t){this.log_("connection ready"),this.connected_=!0,this.lastConnectionEstablishedTime_=(new Date).getTime(),this.handleTimestamp_(e),this.lastSessionId=t,this.firstConnection_&&this.sendConnectStats_(),this.restoreState_(),this.firstConnection_=!1,this.onConnectStatus_(!0)}scheduleConnect_(e){u(!this.realtime_,"Scheduling a connect when we're already connected/ing?"),this.establishConnectionTimer_&&clearTimeout(this.establishConnectionTimer_),this.establishConnectionTimer_=setTimeout((()=>{this.establishConnectionTimer_=null,this.establishConnection_()}),Math.floor(e))}initConnection_(){!this.realtime_&&this.firstConnection_&&this.scheduleConnect_(0)}onVisible_(e){e&&!this.visible_&&this.reconnectDelay_===this.maxReconnectDelay_&&(this.log_("Window became visible.  Reducing delay."),this.reconnectDelay_=fn,this.realtime_||this.scheduleConnect_(0)),this.visible_=e}onOnline_(e){e?(this.log_("Browser went online."),this.reconnectDelay_=fn,this.realtime_||this.scheduleConnect_(0)):(this.log_("Browser went offline.  Killing connection."),this.realtime_&&this.realtime_.close())}onRealtimeDisconnect_(){if(this.log_("data client disconnected"),this.connected_=!1,this.realtime_=null,this.cancelSentTransactions_(),this.requestCBHash_={},this.shouldReconnect_()){if(this.visible_){if(this.lastConnectionEstablishedTime_){(new Date).getTime()-this.lastConnectionEstablishedTime_>3e4&&(this.reconnectDelay_=fn),this.lastConnectionEstablishedTime_=null}}else this.log_("Window isn't visible.  Delaying reconnect."),this.reconnectDelay_=this.maxReconnectDelay_,this.lastConnectionAttemptTime_=(new Date).getTime();const e=(new Date).getTime()-this.lastConnectionAttemptTime_;let t=Math.max(0,this.reconnectDelay_-e);t=Math.random()*t,this.log_("Trying to reconnect in "+t+"ms"),this.scheduleConnect_(t),this.reconnectDelay_=Math.min(this.maxReconnectDelay_,1.3*this.reconnectDelay_)}this.onConnectStatus_(!1)}async establishConnection_(){if(this.shouldReconnect_()){this.log_("Making a connection attempt"),this.lastConnectionAttemptTime_=(new Date).getTime(),this.lastConnectionEstablishedTime_=null;const e=this.onDataMessage_.bind(this),t=this.onReady_.bind(this),n=this.onRealtimeDisconnect_.bind(this),r=this.id+":"+PersistentConnection.nextConnectionId_++,i=this.lastSessionId;let o=!1,s=null;const a=function(){s?s.close():(o=!0,n())},l=function(e){u(s,"sendRequest call when we're not connected not allowed."),s.sendRequest(e)};this.realtime_={close:a,sendRequest:l};const c=this.forceTokenRefresh_;this.forceTokenRefresh_=!1;try{const[a,l]=await Promise.all([this.authTokenProvider_.getToken(c),this.appCheckTokenProvider_.getToken(c)]);o?bt("getToken() completed but was canceled"):(bt("getToken() completed. Creating connection."),this.authToken_=a&&a.accessToken,this.appCheckToken_=l&&l.token,s=new Connection(r,this.repoInfo_,this.applicationId_,this.appCheckToken_,this.authToken_,e,t,n,(e=>{kt(e+" ("+this.repoInfo_.toString()+")"),this.interrupt("server_kill")}),i))}catch(Et){this.log_("Failed to get token: "+Et),o||(this.repoInfo_.nodeAdmin&&kt(Et),a())}}}interrupt(e){bt("Interrupting connection for reason: "+e),this.interruptReasons_[e]=!0,this.realtime_?this.realtime_.close():(this.establishConnectionTimer_&&(clearTimeout(this.establishConnectionTimer_),this.establishConnectionTimer_=null),this.connected_&&this.onRealtimeDisconnect_())}resume(e){bt("Resuming connection for reason: "+e),delete this.interruptReasons_[e],F(this.interruptReasons_)&&(this.reconnectDelay_=fn,this.realtime_||this.scheduleConnect_(0))}handleTimestamp_(e){const t=e-(new Date).getTime();this.onServerInfoUpdate_({serverTimeOffset:t})}cancelSentTransactions_(){for(let e=0;e<this.outstandingPuts_.length;e++){const t=this.outstandingPuts_[e];t&&"h"in t.request&&t.queued&&(t.onComplete&&t.onComplete("disconnect"),delete this.outstandingPuts_[e],this.outstandingPutCount_--)}0===this.outstandingPutCount_&&(this.outstandingPuts_=[])}onListenRevoked_(e,t){let n;n=t?t.map((e=>Pt(e))).join("$"):"default";const r=this.removeListen_(e,n);r&&r.onComplete&&r.onComplete("permission_denied")}removeListen_(e,t){const n=new Path(e).toString();let r;if(this.listens.has(n)){const e=this.listens.get(n);r=e.get(t),e.delete(t),0===e.size&&this.listens.delete(n)}else r=void 0;return r}onAuthRevoked_(e,t){bt("Auth token revoked: "+e+"/"+t),this.authToken_=null,this.forceTokenRefresh_=!0,this.realtime_.close(),"invalid_token"!==e&&"permission_denied"!==e||(this.invalidAuthTokenCount_++,this.invalidAuthTokenCount_>=3&&(this.reconnectDelay_=3e4,this.authTokenProvider_.notifyForInvalidToken()))}onAppCheckRevoked_(e,t){bt("App check token revoked: "+e+"/"+t),this.appCheckToken_=null,this.forceTokenRefresh_=!0,"invalid_token"!==e&&"permission_denied"!==e||(this.invalidAppCheckTokenCount_++,this.invalidAppCheckTokenCount_>=3&&this.appCheckTokenProvider_.notifyForInvalidToken())}onSecurityDebugPacket_(e){this.securityDebugCallback_?this.securityDebugCallback_(e):"msg"in e&&console.log("FIREBASE: "+e.msg.replace("\n","\nFIREBASE: "))}restoreState_(){this.tryAuth(),this.tryAppCheck();for(const e of this.listens.values())for(const t of e.values())this.sendListen_(t);for(let e=0;e<this.outstandingPuts_.length;e++)this.outstandingPuts_[e]&&this.sendPut_(e);for(;this.onDisconnectRequestQueue_.length;){const e=this.onDisconnectRequestQueue_.shift();this.sendOnDisconnect_(e.action,e.pathString,e.data,e.onComplete)}for(let e=0;e<this.outstandingGets_.length;e++)this.outstandingGets_[e]&&this.sendGet_(e)}sendConnectStats_(){const e={};let t="js";x()&&(t=this.repoInfo_.nodeAdmin?"admin_node":"node"),e["sdk."+t+"."+ct.replace(/\./g,"-")]=1,T()?e["framework.cordova"]=1:R()&&(e["framework.reactnative"]=1),this.reportStats(e)}shouldReconnect_(){const e=OnlineMonitor.getInstance().currentlyOnline();return F(this.interruptReasons_)&&e}}PersistentConnection.nextPersistentConnectionId_=0,PersistentConnection.nextConnectionId_=0;class NamedNode{constructor(e,t){this.name=e,this.node=t}static Wrap(e,t){return new NamedNode(e,t)}}class Index{getCompare(){return this.compare.bind(this)}indexedValueChanged(e,t){const n=new NamedNode(It,e),r=new NamedNode(It,t);return 0!==this.compare(n,r)}minPost(){return NamedNode.MIN}}let mn;class KeyIndex extends Index{static get __EMPTY_NODE(){return mn}static set __EMPTY_NODE(e){mn=e}compare(e,t){return Rt(e.name,t.name)}isDefinedOn(e){throw d("KeyIndex.isDefinedOn not expected to be called.")}indexedValueChanged(e,t){return!1}minPost(){return NamedNode.MIN}maxPost(){return new NamedNode(Ct,mn)}makePost(e,t){return u("string"==typeof e,"KeyIndex indexValue must always be a string."),new NamedNode(e,mn)}toString(){return".key"}}const _n=new KeyIndex;class SortedMapIterator{constructor(e,t,n,r,i=null){this.isReverse_=r,this.resultGenerator_=i,this.nodeStack_=[];let o=1;for(;!e.isEmpty();)if(o=t?n(e.key,t):1,r&&(o*=-1),o<0)e=this.isReverse_?e.left:e.right;else{if(0===o){this.nodeStack_.push(e);break}this.nodeStack_.push(e),e=this.isReverse_?e.right:e.left}}getNext(){if(0===this.nodeStack_.length)return null;let e,t=this.nodeStack_.pop();if(e=this.resultGenerator_?this.resultGenerator_(t.key,t.value):{key:t.key,value:t.value},this.isReverse_)for(t=t.left;!t.isEmpty();)this.nodeStack_.push(t),t=t.right;else for(t=t.right;!t.isEmpty();)this.nodeStack_.push(t),t=t.left;return e}hasNext(){return this.nodeStack_.length>0}peek(){if(0===this.nodeStack_.length)return null;const e=this.nodeStack_[this.nodeStack_.length-1];return this.resultGenerator_?this.resultGenerator_(e.key,e.value):{key:e.key,value:e.value}}}class LLRBNode{constructor(e,t,n,r,i){this.key=e,this.value=t,this.color=null!=n?n:LLRBNode.RED,this.left=null!=r?r:SortedMap.EMPTY_NODE,this.right=null!=i?i:SortedMap.EMPTY_NODE}copy(e,t,n,r,i){return new LLRBNode(null!=e?e:this.key,null!=t?t:this.value,null!=n?n:this.color,null!=r?r:this.left,null!=i?i:this.right)}count(){return this.left.count()+1+this.right.count()}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||!!e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min_(){return this.left.isEmpty()?this:this.left.min_()}minKey(){return this.min_().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,t,n){let r=this;const i=n(e,r.key);return r=i<0?r.copy(null,null,null,r.left.insert(e,t,n),null):0===i?r.copy(null,t,null,null,null):r.copy(null,null,null,null,r.right.insert(e,t,n)),r.fixUp_()}removeMin_(){if(this.left.isEmpty())return SortedMap.EMPTY_NODE;let e=this;return e.left.isRed_()||e.left.left.isRed_()||(e=e.moveRedLeft_()),e=e.copy(null,null,null,e.left.removeMin_(),null),e.fixUp_()}remove(e,t){let n,r;if(n=this,t(e,n.key)<0)n.left.isEmpty()||n.left.isRed_()||n.left.left.isRed_()||(n=n.moveRedLeft_()),n=n.copy(null,null,null,n.left.remove(e,t),null);else{if(n.left.isRed_()&&(n=n.rotateRight_()),n.right.isEmpty()||n.right.isRed_()||n.right.left.isRed_()||(n=n.moveRedRight_()),0===t(e,n.key)){if(n.right.isEmpty())return SortedMap.EMPTY_NODE;r=n.right.min_(),n=n.copy(r.key,r.value,null,null,n.right.removeMin_())}n=n.copy(null,null,null,null,n.right.remove(e,t))}return n.fixUp_()}isRed_(){return this.color}fixUp_(){let e=this;return e.right.isRed_()&&!e.left.isRed_()&&(e=e.rotateLeft_()),e.left.isRed_()&&e.left.left.isRed_()&&(e=e.rotateRight_()),e.left.isRed_()&&e.right.isRed_()&&(e=e.colorFlip_()),e}moveRedLeft_(){let e=this.colorFlip_();return e.right.left.isRed_()&&(e=e.copy(null,null,null,null,e.right.rotateRight_()),e=e.rotateLeft_(),e=e.colorFlip_()),e}moveRedRight_(){let e=this.colorFlip_();return e.left.left.isRed_()&&(e=e.rotateRight_(),e=e.colorFlip_()),e}rotateLeft_(){const e=this.copy(null,null,LLRBNode.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight_(){const e=this.copy(null,null,LLRBNode.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip_(){const e=this.left.copy(null,null,!this.left.color,null,null),t=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,t)}checkMaxDepth_(){const e=this.check_();return Math.pow(2,e)<=this.count()+1}check_(){if(this.isRed_()&&this.left.isRed_())throw new Error("Red node has red child("+this.key+","+this.value+")");if(this.right.isRed_())throw new Error("Right child of ("+this.key+","+this.value+") is red");const e=this.left.check_();if(e!==this.right.check_())throw new Error("Black depths differ");return e+(this.isRed_()?0:1)}}LLRBNode.RED=!0,LLRBNode.BLACK=!1;class SortedMap{constructor(e,t=SortedMap.EMPTY_NODE){this.comparator_=e,this.root_=t}insert(e,t){return new SortedMap(this.comparator_,this.root_.insert(e,t,this.comparator_).copy(null,null,LLRBNode.BLACK,null,null))}remove(e){return new SortedMap(this.comparator_,this.root_.remove(e,this.comparator_).copy(null,null,LLRBNode.BLACK,null,null))}get(e){let t,n=this.root_;for(;!n.isEmpty();){if(t=this.comparator_(e,n.key),0===t)return n.value;t<0?n=n.left:t>0&&(n=n.right)}return null}getPredecessorKey(e){let t,n=this.root_,r=null;for(;!n.isEmpty();){if(t=this.comparator_(e,n.key),0===t){if(n.left.isEmpty())return r?r.key:null;for(n=n.left;!n.right.isEmpty();)n=n.right;return n.key}t<0?n=n.left:t>0&&(r=n,n=n.right)}throw new Error("Attempted to find predecessor key for a nonexistent key.  What gives?")}isEmpty(){return this.root_.isEmpty()}count(){return this.root_.count()}minKey(){return this.root_.minKey()}maxKey(){return this.root_.maxKey()}inorderTraversal(e){return this.root_.inorderTraversal(e)}reverseTraversal(e){return this.root_.reverseTraversal(e)}getIterator(e){return new SortedMapIterator(this.root_,null,this.comparator_,!1,e)}getIteratorFrom(e,t){return new SortedMapIterator(this.root_,e,this.comparator_,!1,t)}getReverseIteratorFrom(e,t){return new SortedMapIterator(this.root_,e,this.comparator_,!0,t)}getReverseIterator(e){return new SortedMapIterator(this.root_,null,this.comparator_,!0,e)}}function gn(e,t){return Rt(e.name,t.name)}function vn(e,t){return Rt(e,t)}let yn;SortedMap.EMPTY_NODE=new class LLRBEmptyNode{copy(e,t,n,r,i){return this}insert(e,t,n){return new LLRBNode(e,t,null)}remove(e,t){return this}count(){return 0}isEmpty(){return!0}inorderTraversal(e){return!1}reverseTraversal(e){return!1}minKey(){return null}maxKey(){return null}check_(){return 0}isRed_(){return!1}};const bn=function(e){return"number"==typeof e?"number:"+Dt(e):"string:"+e},wn=function(e){if(e.isLeafNode()){const t=e.val();u("string"==typeof t||"number"==typeof t||"object"==typeof t&&L(t,".sv"),"Priority must be a string or number.")}else u(e===yn||e.isEmpty(),"priority of unexpected type.");u(e===yn||e.getPriority().isEmpty(),"Priority nodes can't have a priority of their own.")};let En,Sn,kn;class LeafNode{constructor(e,t=LeafNode.__childrenNodeConstructor.EMPTY_NODE){this.value_=e,this.priorityNode_=t,this.lazyHash_=null,u(void 0!==this.value_&&null!==this.value_,"LeafNode shouldn't be created with null/undefined value."),wn(this.priorityNode_)}static set __childrenNodeConstructor(e){En=e}static get __childrenNodeConstructor(){return En}isLeafNode(){return!0}getPriority(){return this.priorityNode_}updatePriority(e){return new LeafNode(this.value_,e)}getImmediateChild(e){return".priority"===e?this.priorityNode_:LeafNode.__childrenNodeConstructor.EMPTY_NODE}getChild(e){return ln(e)?this:".priority"===en(e)?this.priorityNode_:LeafNode.__childrenNodeConstructor.EMPTY_NODE}hasChild(){return!1}getPredecessorChildName(e,t){return null}updateImmediateChild(e,t){return".priority"===e?this.updatePriority(t):t.isEmpty()&&".priority"!==e?this:LeafNode.__childrenNodeConstructor.EMPTY_NODE.updateImmediateChild(e,t).updatePriority(this.priorityNode_)}updateChild(e,t){const n=en(e);return null===n?t:t.isEmpty()&&".priority"!==n?this:(u(".priority"!==n||1===tn(e),".priority must be the last token in a path"),this.updateImmediateChild(n,LeafNode.__childrenNodeConstructor.EMPTY_NODE.updateChild(nn(e),t)))}isEmpty(){return!1}numChildren(){return 0}forEachChild(e,t){return!1}val(e){return e&&!this.getPriority().isEmpty()?{".value":this.getValue(),".priority":this.getPriority().val()}:this.getValue()}hash(){if(null===this.lazyHash_){let e="";this.priorityNode_.isEmpty()||(e+="priority:"+bn(this.priorityNode_.val())+":");const t=typeof this.value_;e+=t+":",e+="number"===t?Dt(this.value_):this.value_,this.lazyHash_=mt(e)}return this.lazyHash_}getValue(){return this.value_}compareTo(e){return e===LeafNode.__childrenNodeConstructor.EMPTY_NODE?1:e instanceof LeafNode.__childrenNodeConstructor?-1:(u(e.isLeafNode(),"Unknown node type"),this.compareToLeafNode_(e))}compareToLeafNode_(e){const t=typeof e.value_,n=typeof this.value_,r=LeafNode.VALUE_TYPE_ORDER.indexOf(t),i=LeafNode.VALUE_TYPE_ORDER.indexOf(n);return u(r>=0,"Unknown leaf type: "+t),u(i>=0,"Unknown leaf type: "+n),r===i?"object"===n?0:this.value_<e.value_?-1:this.value_===e.value_?0:1:i-r}withIndex(){return this}isIndexed(){return!0}equals(e){if(e===this)return!0;if(e.isLeafNode()){const t=e;return this.value_===t.value_&&this.priorityNode_.equals(t.priorityNode_)}return!1}}LeafNode.VALUE_TYPE_ORDER=["object","boolean","number","string"];const Tn=new class PriorityIndex extends Index{compare(e,t){const n=e.node.getPriority(),r=t.node.getPriority(),i=n.compareTo(r);return 0===i?Rt(e.name,t.name):i}isDefinedOn(e){return!e.getPriority().isEmpty()}indexedValueChanged(e,t){return!e.getPriority().equals(t.getPriority())}minPost(){return NamedNode.MIN}maxPost(){return new NamedNode(Ct,new LeafNode("[PRIORITY-POST]",kn))}makePost(e,t){const n=Sn(e);return new NamedNode(t,new LeafNode("[PRIORITY-POST]",n))}toString(){return".priority"}},In=Math.log(2);class Base12Num{constructor(e){var t;this.count=(t=e+1,parseInt(Math.log(t)/In,10)),this.current_=this.count-1;const n=(r=this.count,parseInt(Array(r+1).join("1"),2));var r;this.bits_=e+1&n}nextBitIsOne(){const e=!(this.bits_&1<<this.current_);return this.current_--,e}}const Cn=function(e,t,n,r){e.sort(t);const i=function(t,r){const o=r-t;let s,a;if(0===o)return null;if(1===o)return s=e[t],a=n?n(s):s,new LLRBNode(a,s.node,LLRBNode.BLACK,null,null);{const l=parseInt(o/2,10)+t,c=i(t,l),u=i(l+1,r);return s=e[l],a=n?n(s):s,new LLRBNode(a,s.node,LLRBNode.BLACK,c,u)}},o=function(t){let r=null,o=null,s=e.length;const a=function(t,r){const o=s-t,a=s;s-=t;const c=i(o+1,a),u=e[o],d=n?n(u):u;l(new LLRBNode(d,u.node,r,null,c))},l=function(e){r?(r.left=e,r=e):(o=e,r=e)};for(let e=0;e<t.count;++e){const n=t.nextBitIsOne(),r=Math.pow(2,t.count-(e+1));n?a(r,LLRBNode.BLACK):(a(r,LLRBNode.BLACK),a(r,LLRBNode.RED))}return o}(new Base12Num(e.length));return new SortedMap(r||t,o)};let Rn;const Nn={};class IndexMap{constructor(e,t){this.indexes_=e,this.indexSet_=t}static get Default(){return u(Nn&&Tn,"ChildrenNode.ts has not been loaded"),Rn=Rn||new IndexMap({".priority":Nn},{".priority":Tn}),Rn}get(e){const t=U(this.indexes_,e);if(!t)throw new Error("No index defined for "+e);return t instanceof SortedMap?t:null}hasIndex(e){return L(this.indexSet_,e.toString())}addIndex(e,t){u(e!==_n,"KeyIndex always exists and isn't meant to be added to the IndexMap.");const n=[];let r=!1;const i=t.getIterator(NamedNode.Wrap);let o,s=i.getNext();for(;s;)r=r||e.isDefinedOn(s.node),n.push(s),s=i.getNext();o=r?Cn(n,e.getCompare()):Nn;const a=e.toString(),l=Object.assign({},this.indexSet_);l[a]=e;const c=Object.assign({},this.indexes_);return c[a]=o,new IndexMap(c,l)}addToIndexes(e,t){const n=B(this.indexes_,((n,r)=>{const i=U(this.indexSet_,r);if(u(i,"Missing index implementation for "+r),n===Nn){if(i.isDefinedOn(e.node)){const n=[],r=t.getIterator(NamedNode.Wrap);let o=r.getNext();for(;o;)o.name!==e.name&&n.push(o),o=r.getNext();return n.push(e),Cn(n,i.getCompare())}return Nn}{const r=t.get(e.name);let i=n;return r&&(i=i.remove(new NamedNode(e.name,r))),i.insert(e,e.node)}}));return new IndexMap(n,this.indexSet_)}removeFromIndexes(e,t){const n=B(this.indexes_,(n=>{if(n===Nn)return n;{const r=t.get(e.name);return r?n.remove(new NamedNode(e.name,r)):n}}));return new IndexMap(n,this.indexSet_)}}let xn;class ChildrenNode{constructor(e,t,n){this.children_=e,this.priorityNode_=t,this.indexMap_=n,this.lazyHash_=null,this.priorityNode_&&wn(this.priorityNode_),this.children_.isEmpty()&&u(!this.priorityNode_||this.priorityNode_.isEmpty(),"An empty node cannot have a priority")}static get EMPTY_NODE(){return xn||(xn=new ChildrenNode(new SortedMap(vn),null,IndexMap.Default))}isLeafNode(){return!1}getPriority(){return this.priorityNode_||xn}updatePriority(e){return this.children_.isEmpty()?this:new ChildrenNode(this.children_,e,this.indexMap_)}getImmediateChild(e){if(".priority"===e)return this.getPriority();{const t=this.children_.get(e);return null===t?xn:t}}getChild(e){const t=en(e);return null===t?this:this.getImmediateChild(t).getChild(nn(e))}hasChild(e){return null!==this.children_.get(e)}updateImmediateChild(e,t){if(u(t,"We should always be passing snapshot nodes"),".priority"===e)return this.updatePriority(t);{const n=new NamedNode(e,t);let r,i;t.isEmpty()?(r=this.children_.remove(e),i=this.indexMap_.removeFromIndexes(n,this.children_)):(r=this.children_.insert(e,t),i=this.indexMap_.addToIndexes(n,this.children_));const o=r.isEmpty()?xn:this.priorityNode_;return new ChildrenNode(r,o,i)}}updateChild(e,t){const n=en(e);if(null===n)return t;{u(".priority"!==en(e)||1===tn(e),".priority must be the last token in a path");const r=this.getImmediateChild(n).updateChild(nn(e),t);return this.updateImmediateChild(n,r)}}isEmpty(){return this.children_.isEmpty()}numChildren(){return this.children_.count()}val(e){if(this.isEmpty())return null;const t={};let n=0,r=0,i=!0;if(this.forEachChild(Tn,((o,s)=>{t[o]=s.val(e),n++,i&&ChildrenNode.INTEGER_REGEXP_.test(o)?r=Math.max(r,Number(o)):i=!1})),!e&&i&&r<2*n){const e=[];for(const n in t)e[n]=t[n];return e}return e&&!this.getPriority().isEmpty()&&(t[".priority"]=this.getPriority().val()),t}hash(){if(null===this.lazyHash_){let e="";this.getPriority().isEmpty()||(e+="priority:"+bn(this.getPriority().val())+":"),this.forEachChild(Tn,((t,n)=>{const r=n.hash();""!==r&&(e+=":"+t+":"+r)})),this.lazyHash_=""===e?"":mt(e)}return this.lazyHash_}getPredecessorChildName(e,t,n){const r=this.resolveIndex_(n);if(r){const n=r.getPredecessorKey(new NamedNode(e,t));return n?n.name:null}return this.children_.getPredecessorKey(e)}getFirstChildName(e){const t=this.resolveIndex_(e);if(t){const e=t.minKey();return e&&e.name}return this.children_.minKey()}getFirstChild(e){const t=this.getFirstChildName(e);return t?new NamedNode(t,this.children_.get(t)):null}getLastChildName(e){const t=this.resolveIndex_(e);if(t){const e=t.maxKey();return e&&e.name}return this.children_.maxKey()}getLastChild(e){const t=this.getLastChildName(e);return t?new NamedNode(t,this.children_.get(t)):null}forEachChild(e,t){const n=this.resolveIndex_(e);return n?n.inorderTraversal((e=>t(e.name,e.node))):this.children_.inorderTraversal(t)}getIterator(e){return this.getIteratorFrom(e.minPost(),e)}getIteratorFrom(e,t){const n=this.resolveIndex_(t);if(n)return n.getIteratorFrom(e,(e=>e));{const n=this.children_.getIteratorFrom(e.name,NamedNode.Wrap);let r=n.peek();for(;null!=r&&t.compare(r,e)<0;)n.getNext(),r=n.peek();return n}}getReverseIterator(e){return this.getReverseIteratorFrom(e.maxPost(),e)}getReverseIteratorFrom(e,t){const n=this.resolveIndex_(t);if(n)return n.getReverseIteratorFrom(e,(e=>e));{const n=this.children_.getReverseIteratorFrom(e.name,NamedNode.Wrap);let r=n.peek();for(;null!=r&&t.compare(r,e)>0;)n.getNext(),r=n.peek();return n}}compareTo(e){return this.isEmpty()?e.isEmpty()?0:-1:e.isLeafNode()||e.isEmpty()?1:e===Pn?-1:0}withIndex(e){if(e===_n||this.indexMap_.hasIndex(e))return this;{const t=this.indexMap_.addIndex(e,this.children_);return new ChildrenNode(this.children_,this.priorityNode_,t)}}isIndexed(e){return e===_n||this.indexMap_.hasIndex(e)}equals(e){if(e===this)return!0;if(e.isLeafNode())return!1;{const t=e;if(this.getPriority().equals(t.getPriority())){if(this.children_.count()===t.children_.count()){const e=this.getIterator(Tn),n=t.getIterator(Tn);let r=e.getNext(),i=n.getNext();for(;r&&i;){if(r.name!==i.name||!r.node.equals(i.node))return!1;r=e.getNext(),i=n.getNext()}return null===r&&null===i}return!1}return!1}}resolveIndex_(e){return e===_n?null:this.indexMap_.get(e.toString())}}ChildrenNode.INTEGER_REGEXP_=/^(0|[1-9]\d*)$/;const Pn=new class MaxNode extends ChildrenNode{constructor(){super(new SortedMap(vn),ChildrenNode.EMPTY_NODE,IndexMap.Default)}compareTo(e){return e===this?0:1}equals(e){return e===this}getPriority(){return this}getImmediateChild(e){return ChildrenNode.EMPTY_NODE}isEmpty(){return!1}};Object.defineProperties(NamedNode,{MIN:{value:new NamedNode(It,ChildrenNode.EMPTY_NODE)},MAX:{value:new NamedNode(Ct,Pn)}}),KeyIndex.__EMPTY_NODE=ChildrenNode.EMPTY_NODE,LeafNode.__childrenNodeConstructor=ChildrenNode,yn=Pn,function(e){kn=e}(Pn);const On=!0;function An(e,t=null){if(null===e)return ChildrenNode.EMPTY_NODE;if("object"==typeof e&&".priority"in e&&(t=e[".priority"]),u(null===t||"string"==typeof t||"number"==typeof t||"object"==typeof t&&".sv"in t,"Invalid priority type found: "+typeof t),"object"==typeof e&&".value"in e&&null!==e[".value"]&&(e=e[".value"]),"object"!=typeof e||".sv"in e){return new LeafNode(e,An(t))}if(e instanceof Array||!On){let n=ChildrenNode.EMPTY_NODE;return At(e,((t,r)=>{if(L(e,t)&&"."!==t.substring(0,1)){const e=An(r);!e.isLeafNode()&&e.isEmpty()||(n=n.updateImmediateChild(t,e))}})),n.updatePriority(An(t))}{const n=[];let r=!1;if(At(e,((e,t)=>{if("."!==e.substring(0,1)){const i=An(t);i.isEmpty()||(r=r||!i.getPriority().isEmpty(),n.push(new NamedNode(e,i)))}})),0===n.length)return ChildrenNode.EMPTY_NODE;const i=Cn(n,gn,(e=>e.name),vn);if(r){const e=Cn(n,Tn.getCompare());return new ChildrenNode(i,An(t),new IndexMap({".priority":e},{".priority":Tn}))}return new ChildrenNode(i,An(t),IndexMap.Default)}}!function(e){Sn=e}(An);class PathIndex extends Index{constructor(e){super(),this.indexPath_=e,u(!ln(e)&&".priority"!==en(e),"Can't create PathIndex with empty path or .priority key")}extractChild(e){return e.getChild(this.indexPath_)}isDefinedOn(e){return!e.getChild(this.indexPath_).isEmpty()}compare(e,t){const n=this.extractChild(e.node),r=this.extractChild(t.node),i=n.compareTo(r);return 0===i?Rt(e.name,t.name):i}makePost(e,t){const n=An(e),r=ChildrenNode.EMPTY_NODE.updateChild(this.indexPath_,n);return new NamedNode(t,r)}maxPost(){const e=ChildrenNode.EMPTY_NODE.updateChild(this.indexPath_,Pn);return new NamedNode(Ct,e)}toString(){return on(this.indexPath_,0).join("/")}}const Dn=new class ValueIndex extends Index{compare(e,t){const n=e.node.compareTo(t.node);return 0===n?Rt(e.name,t.name):n}isDefinedOn(e){return!0}indexedValueChanged(e,t){return!e.equals(t)}minPost(){return NamedNode.MIN}maxPost(){return NamedNode.MAX}makePost(e,t){const n=An(e);return new NamedNode(t,n)}toString(){return".value"}};function Mn(e){return{type:"value",snapshotNode:e}}function Ln(e,t){return{type:"child_added",snapshotNode:t,childName:e}}function Un(e,t){return{type:"child_removed",snapshotNode:t,childName:e}}function Fn(e,t,n){return{type:"child_changed",snapshotNode:t,childName:e,oldSnap:n}}class IndexedFilter{constructor(e){this.index_=e}updateChild(e,t,n,r,i,o){u(e.isIndexed(this.index_),"A node must be indexed if only a child is updated");const s=e.getImmediateChild(t);return s.getChild(r).equals(n.getChild(r))&&s.isEmpty()===n.isEmpty()?e:(null!=o&&(n.isEmpty()?e.hasChild(t)?o.trackChildChange(Un(t,s)):u(e.isLeafNode(),"A child remove without an old child only makes sense on a leaf node"):s.isEmpty()?o.trackChildChange(Ln(t,n)):o.trackChildChange(Fn(t,n,s))),e.isLeafNode()&&n.isEmpty()?e:e.updateImmediateChild(t,n).withIndex(this.index_))}updateFullNode(e,t,n){return null!=n&&(e.isLeafNode()||e.forEachChild(Tn,((e,r)=>{t.hasChild(e)||n.trackChildChange(Un(e,r))})),t.isLeafNode()||t.forEachChild(Tn,((t,r)=>{if(e.hasChild(t)){const i=e.getImmediateChild(t);i.equals(r)||n.trackChildChange(Fn(t,r,i))}else n.trackChildChange(Ln(t,r))}))),t.withIndex(this.index_)}updatePriority(e,t){return e.isEmpty()?ChildrenNode.EMPTY_NODE:e.updatePriority(t)}filtersNodes(){return!1}getIndexedFilter(){return this}getIndex(){return this.index_}}class RangedFilter{constructor(e){this.indexedFilter_=new IndexedFilter(e.getIndex()),this.index_=e.getIndex(),this.startPost_=RangedFilter.getStartPost_(e),this.endPost_=RangedFilter.getEndPost_(e),this.startIsInclusive_=!e.startAfterSet_,this.endIsInclusive_=!e.endBeforeSet_}getStartPost(){return this.startPost_}getEndPost(){return this.endPost_}matches(e){const t=this.startIsInclusive_?this.index_.compare(this.getStartPost(),e)<=0:this.index_.compare(this.getStartPost(),e)<0,n=this.endIsInclusive_?this.index_.compare(e,this.getEndPost())<=0:this.index_.compare(e,this.getEndPost())<0;return t&&n}updateChild(e,t,n,r,i,o){return this.matches(new NamedNode(t,n))||(n=ChildrenNode.EMPTY_NODE),this.indexedFilter_.updateChild(e,t,n,r,i,o)}updateFullNode(e,t,n){t.isLeafNode()&&(t=ChildrenNode.EMPTY_NODE);let r=t.withIndex(this.index_);r=r.updatePriority(ChildrenNode.EMPTY_NODE);const i=this;return t.forEachChild(Tn,((e,t)=>{i.matches(new NamedNode(e,t))||(r=r.updateImmediateChild(e,ChildrenNode.EMPTY_NODE))})),this.indexedFilter_.updateFullNode(e,r,n)}updatePriority(e,t){return e}filtersNodes(){return!0}getIndexedFilter(){return this.indexedFilter_}getIndex(){return this.index_}static getStartPost_(e){if(e.hasStart()){const t=e.getIndexStartName();return e.getIndex().makePost(e.getIndexStartValue(),t)}return e.getIndex().minPost()}static getEndPost_(e){if(e.hasEnd()){const t=e.getIndexEndName();return e.getIndex().makePost(e.getIndexEndValue(),t)}return e.getIndex().maxPost()}}class LimitedFilter{constructor(e){this.withinDirectionalStart=e=>this.reverse_?this.withinEndPost(e):this.withinStartPost(e),this.withinDirectionalEnd=e=>this.reverse_?this.withinStartPost(e):this.withinEndPost(e),this.withinStartPost=e=>{const t=this.index_.compare(this.rangedFilter_.getStartPost(),e);return this.startIsInclusive_?t<=0:t<0},this.withinEndPost=e=>{const t=this.index_.compare(e,this.rangedFilter_.getEndPost());return this.endIsInclusive_?t<=0:t<0},this.rangedFilter_=new RangedFilter(e),this.index_=e.getIndex(),this.limit_=e.getLimit(),this.reverse_=!e.isViewFromLeft(),this.startIsInclusive_=!e.startAfterSet_,this.endIsInclusive_=!e.endBeforeSet_}updateChild(e,t,n,r,i,o){return this.rangedFilter_.matches(new NamedNode(t,n))||(n=ChildrenNode.EMPTY_NODE),e.getImmediateChild(t).equals(n)?e:e.numChildren()<this.limit_?this.rangedFilter_.getIndexedFilter().updateChild(e,t,n,r,i,o):this.fullLimitUpdateChild_(e,t,n,i,o)}updateFullNode(e,t,n){let r;if(t.isLeafNode()||t.isEmpty())r=ChildrenNode.EMPTY_NODE.withIndex(this.index_);else if(2*this.limit_<t.numChildren()&&t.isIndexed(this.index_)){let e;r=ChildrenNode.EMPTY_NODE.withIndex(this.index_),e=this.reverse_?t.getReverseIteratorFrom(this.rangedFilter_.getEndPost(),this.index_):t.getIteratorFrom(this.rangedFilter_.getStartPost(),this.index_);let n=0;for(;e.hasNext()&&n<this.limit_;){const t=e.getNext();if(this.withinDirectionalStart(t)){if(!this.withinDirectionalEnd(t))break;r=r.updateImmediateChild(t.name,t.node),n++}}}else{let e;r=t.withIndex(this.index_),r=r.updatePriority(ChildrenNode.EMPTY_NODE),e=this.reverse_?r.getReverseIterator(this.index_):r.getIterator(this.index_);let n=0;for(;e.hasNext();){const t=e.getNext();n<this.limit_&&this.withinDirectionalStart(t)&&this.withinDirectionalEnd(t)?n++:r=r.updateImmediateChild(t.name,ChildrenNode.EMPTY_NODE)}}return this.rangedFilter_.getIndexedFilter().updateFullNode(e,r,n)}updatePriority(e,t){return e}filtersNodes(){return!0}getIndexedFilter(){return this.rangedFilter_.getIndexedFilter()}getIndex(){return this.index_}fullLimitUpdateChild_(e,t,n,r,i){let o;if(this.reverse_){const e=this.index_.getCompare();o=(t,n)=>e(n,t)}else o=this.index_.getCompare();const s=e;u(s.numChildren()===this.limit_,"");const a=new NamedNode(t,n),l=this.reverse_?s.getFirstChild(this.index_):s.getLastChild(this.index_),c=this.rangedFilter_.matches(a);if(s.hasChild(t)){const e=s.getImmediateChild(t);let u=r.getChildAfterChild(this.index_,l,this.reverse_);for(;null!=u&&(u.name===t||s.hasChild(u.name));)u=r.getChildAfterChild(this.index_,u,this.reverse_);const d=null==u?1:o(u,a);if(c&&!n.isEmpty()&&d>=0)return null!=i&&i.trackChildChange(Fn(t,n,e)),s.updateImmediateChild(t,n);{null!=i&&i.trackChildChange(Un(t,e));const n=s.updateImmediateChild(t,ChildrenNode.EMPTY_NODE);return null!=u&&this.rangedFilter_.matches(u)?(null!=i&&i.trackChildChange(Ln(u.name,u.node)),n.updateImmediateChild(u.name,u.node)):n}}return n.isEmpty()?e:c&&o(l,a)>=0?(null!=i&&(i.trackChildChange(Un(l.name,l.node)),i.trackChildChange(Ln(t,n))),s.updateImmediateChild(t,n).updateImmediateChild(l.name,ChildrenNode.EMPTY_NODE)):e}}class QueryParams{constructor(){this.limitSet_=!1,this.startSet_=!1,this.startNameSet_=!1,this.startAfterSet_=!1,this.endSet_=!1,this.endNameSet_=!1,this.endBeforeSet_=!1,this.limit_=0,this.viewFrom_="",this.indexStartValue_=null,this.indexStartName_="",this.indexEndValue_=null,this.indexEndName_="",this.index_=Tn}hasStart(){return this.startSet_}isViewFromLeft(){return""===this.viewFrom_?this.startSet_:"l"===this.viewFrom_}getIndexStartValue(){return u(this.startSet_,"Only valid if start has been set"),this.indexStartValue_}getIndexStartName(){return u(this.startSet_,"Only valid if start has been set"),this.startNameSet_?this.indexStartName_:It}hasEnd(){return this.endSet_}getIndexEndValue(){return u(this.endSet_,"Only valid if end has been set"),this.indexEndValue_}getIndexEndName(){return u(this.endSet_,"Only valid if end has been set"),this.endNameSet_?this.indexEndName_:Ct}hasLimit(){return this.limitSet_}hasAnchoredLimit(){return this.limitSet_&&""!==this.viewFrom_}getLimit(){return u(this.limitSet_,"Only valid if limit has been set"),this.limit_}getIndex(){return this.index_}loadsAllData(){return!(this.startSet_||this.endSet_||this.limitSet_)}isDefault(){return this.loadsAllData()&&this.index_===Tn}copy(){const e=new QueryParams;return e.limitSet_=this.limitSet_,e.limit_=this.limit_,e.startSet_=this.startSet_,e.startAfterSet_=this.startAfterSet_,e.indexStartValue_=this.indexStartValue_,e.startNameSet_=this.startNameSet_,e.indexStartName_=this.indexStartName_,e.endSet_=this.endSet_,e.endBeforeSet_=this.endBeforeSet_,e.indexEndValue_=this.indexEndValue_,e.endNameSet_=this.endNameSet_,e.indexEndName_=this.indexEndName_,e.index_=this.index_,e.viewFrom_=this.viewFrom_,e}}function jn(e){const t={};if(e.isDefault())return t;let n;if(e.index_===Tn?n="$priority":e.index_===Dn?n="$value":e.index_===_n?n="$key":(u(e.index_ instanceof PathIndex,"Unrecognized index type!"),n=e.index_.toString()),t.orderBy=D(n),e.startSet_){const n=e.startAfterSet_?"startAfter":"startAt";t[n]=D(e.indexStartValue_),e.startNameSet_&&(t[n]+=","+D(e.indexStartName_))}if(e.endSet_){const n=e.endBeforeSet_?"endBefore":"endAt";t[n]=D(e.indexEndValue_),e.endNameSet_&&(t[n]+=","+D(e.indexEndName_))}return e.limitSet_&&(e.isViewFromLeft()?t.limitToFirst=e.limit_:t.limitToLast=e.limit_),t}function Bn(e){const t={};if(e.startSet_&&(t.sp=e.indexStartValue_,e.startNameSet_&&(t.sn=e.indexStartName_),t.sin=!e.startAfterSet_),e.endSet_&&(t.ep=e.indexEndValue_,e.endNameSet_&&(t.en=e.indexEndName_),t.ein=!e.endBeforeSet_),e.limitSet_){t.l=e.limit_;let n=e.viewFrom_;""===n&&(n=e.isViewFromLeft()?"l":"r"),t.vf=n}return e.index_!==Tn&&(t.i=e.index_.toString()),t}class ReadonlyRestClient extends ServerActions{constructor(e,t,n,r){super(),this.repoInfo_=e,this.onDataUpdate_=t,this.authTokenProvider_=n,this.appCheckTokenProvider_=r,this.log_=wt("p:rest:"),this.listens_={}}reportStats(e){throw new Error("Method not implemented.")}static getListenId_(e,t){return void 0!==t?"tag$"+t:(u(e._queryParams.isDefault(),"should have a tag if it's not a default query."),e._path.toString())}listen(e,t,n,r){const i=e._path.toString();this.log_("Listen called for "+i+" "+e._queryIdentifier);const o=ReadonlyRestClient.getListenId_(e,n),s={};this.listens_[o]=s;const a=jn(e._queryParams);this.restRequest_(i+".json",a,((e,t)=>{let a=t;if(404===e&&(a=null,e=null),null===e&&this.onDataUpdate_(i,a,!1,n),U(this.listens_,o)===s){let t;t=e?401===e?"permission_denied":"rest_error:"+e:"ok",r(t,null)}}))}unlisten(e,t){const n=ReadonlyRestClient.getListenId_(e,t);delete this.listens_[n]}get(e){const t=jn(e._queryParams),n=e._path.toString(),r=new index_esm2017_Deferred;return this.restRequest_(n+".json",t,((e,t)=>{let i=t;404===e&&(i=null,e=null),null===e?(this.onDataUpdate_(n,i,!1,null),r.resolve(i)):r.reject(new Error(i))})),r.promise}refreshAuthToken(e){}restRequest_(e,t={},n){return t.format="export",Promise.all([this.authTokenProvider_.getToken(!1),this.appCheckTokenProvider_.getToken(!1)]).then((([r,i])=>{r&&r.accessToken&&(t.auth=r.accessToken),i&&i.token&&(t.ac=i.token);const o=(this.repoInfo_.secure?"https://":"http://")+this.repoInfo_.host+e+"?ns="+this.repoInfo_.namespace+G(t);this.log_("Sending REST request for "+o);const s=new XMLHttpRequest;s.onreadystatechange=()=>{if(n&&4===s.readyState){this.log_("REST Response for "+o+" received. status:",s.status,"response:",s.responseText);let t=null;if(s.status>=200&&s.status<300){try{t=A(s.responseText)}catch(e){kt("Failed to parse JSON response for "+o+": "+s.responseText)}n(null,t)}else 401!==s.status&&404!==s.status&&kt("Got unsuccessful REST response for "+o+" Status: "+s.status),n(s.status);n=null}},s.open("GET",o,!0),s.send()}))}}class SnapshotHolder{constructor(){this.rootNode_=ChildrenNode.EMPTY_NODE}getNode(e){return this.rootNode_.getChild(e)}updateSnapshot(e,t){this.rootNode_=this.rootNode_.updateChild(e,t)}}function zn(){return{value:null,children:new Map}}function Wn(e,t,n){if(ln(t))e.value=n,e.children.clear();else if(null!==e.value)e.value=e.value.updateChild(t,n);else{const r=en(t);e.children.has(r)||e.children.set(r,zn());Wn(e.children.get(r),t=nn(t),n)}}function Gn(e,t,n){null!==e.value?n(t,e.value):function(e,t){e.children.forEach(((e,n)=>{t(n,e)}))}(e,((e,r)=>{Gn(r,new Path(t.toString()+"/"+e),n)}))}class StatsListener{constructor(e){this.collection_=e,this.last_=null}get(){const e=this.collection_.get(),t=Object.assign({},e);return this.last_&&At(this.last_,((e,n)=>{t[e]=t[e]-n})),this.last_=e,t}}class StatsReporter{constructor(e,t){this.server_=t,this.statsToReport_={},this.statsListener_=new StatsListener(e);const n=1e4+2e4*Math.random();jt(this.reportStats_.bind(this),Math.floor(n))}reportStats_(){const e=this.statsListener_.get(),t={};let n=!1;At(e,((e,r)=>{r>0&&L(this.statsToReport_,e)&&(t[e]=r,n=!0)})),n&&this.server_.reportStats(t),jt(this.reportStats_.bind(this),Math.floor(2*Math.random()*3e5))}}var qn;function Hn(e){return{fromUser:!1,fromServer:!0,queryId:e,tagged:!0}}!function(e){e[e.OVERWRITE=0]="OVERWRITE",e[e.MERGE=1]="MERGE",e[e.ACK_USER_WRITE=2]="ACK_USER_WRITE",e[e.LISTEN_COMPLETE=3]="LISTEN_COMPLETE"}(qn||(qn={}));class AckUserWrite{constructor(e,t,n){this.path=e,this.affectedTree=t,this.revert=n,this.type=qn.ACK_USER_WRITE,this.source={fromUser:!0,fromServer:!1,queryId:null,tagged:!1}}operationForChild(e){if(ln(this.path)){if(null!=this.affectedTree.value)return u(this.affectedTree.children.isEmpty(),"affectedTree should not have overlapping affected paths."),this;{const t=this.affectedTree.subtree(new Path(e));return new AckUserWrite(Zt(),t,this.revert)}}return u(en(this.path)===e,"operationForChild called for unrelated child."),new AckUserWrite(nn(this.path),this.affectedTree,this.revert)}}class ListenComplete{constructor(e,t){this.source=e,this.path=t,this.type=qn.LISTEN_COMPLETE}operationForChild(e){return ln(this.path)?new ListenComplete(this.source,Zt()):new ListenComplete(this.source,nn(this.path))}}class Overwrite{constructor(e,t,n){this.source=e,this.path=t,this.snap=n,this.type=qn.OVERWRITE}operationForChild(e){return ln(this.path)?new Overwrite(this.source,Zt(),this.snap.getImmediateChild(e)):new Overwrite(this.source,nn(this.path),this.snap)}}class Merge{constructor(e,t,n){this.source=e,this.path=t,this.children=n,this.type=qn.MERGE}operationForChild(e){if(ln(this.path)){const t=this.children.subtree(new Path(e));return t.isEmpty()?null:t.value?new Overwrite(this.source,Zt(),t.value):new Merge(this.source,Zt(),t)}return u(en(this.path)===e,"Can't get a merge for a child not on the path of the operation"),new Merge(this.source,nn(this.path),this.children)}toString(){return"Operation("+this.path+": "+this.source.toString()+" merge: "+this.children.toString()+")"}}class CacheNode{constructor(e,t,n){this.node_=e,this.fullyInitialized_=t,this.filtered_=n}isFullyInitialized(){return this.fullyInitialized_}isFiltered(){return this.filtered_}isCompleteForPath(e){if(ln(e))return this.isFullyInitialized()&&!this.filtered_;const t=en(e);return this.isCompleteForChild(t)}isCompleteForChild(e){return this.isFullyInitialized()&&!this.filtered_||this.node_.hasChild(e)}getNode(){return this.node_}}class EventGenerator{constructor(e){this.query_=e,this.index_=this.query_._queryParams.getIndex()}}function $n(e,t,n,r,i,o){const s=r.filter((e=>e.type===n));s.sort(((t,n)=>function(e,t,n){if(null==t.childName||null==n.childName)throw d("Should only compare child_ events.");const r=new NamedNode(t.childName,t.snapshotNode),i=new NamedNode(n.childName,n.snapshotNode);return e.index_.compare(r,i)}(e,t,n))),s.forEach((n=>{const r=function(e,t,n){return"value"===t.type||"child_removed"===t.type||(t.prevName=n.getPredecessorChildName(t.childName,t.snapshotNode,e.index_)),t}(e,n,o);i.forEach((i=>{i.respondsTo(n.type)&&t.push(i.createEvent(r,e.query_))}))}))}function Vn(e,t){return{eventCache:e,serverCache:t}}function Yn(e,t,n,r){return Vn(new CacheNode(t,n,r),e.serverCache)}function Kn(e,t,n,r){return Vn(e.eventCache,new CacheNode(t,n,r))}function Jn(e){return e.eventCache.isFullyInitialized()?e.eventCache.getNode():null}function Xn(e){return e.serverCache.isFullyInitialized()?e.serverCache.getNode():null}let Qn;class ImmutableTree{constructor(e,t=(()=>(Qn||(Qn=new SortedMap(Nt)),Qn))()){this.value=e,this.children=t}static fromObject(e){let t=new ImmutableTree(null);return At(e,((e,n)=>{t=t.set(new Path(e),n)})),t}isEmpty(){return null===this.value&&this.children.isEmpty()}findRootMostMatchingPathAndValue(e,t){if(null!=this.value&&t(this.value))return{path:Zt(),value:this.value};if(ln(e))return null;{const n=en(e),r=this.children.get(n);if(null!==r){const i=r.findRootMostMatchingPathAndValue(nn(e),t);if(null!=i){return{path:an(new Path(n),i.path),value:i.value}}return null}return null}}findRootMostValueAndPath(e){return this.findRootMostMatchingPathAndValue(e,(()=>!0))}subtree(e){if(ln(e))return this;{const t=en(e),n=this.children.get(t);return null!==n?n.subtree(nn(e)):new ImmutableTree(null)}}set(e,t){if(ln(e))return new ImmutableTree(t,this.children);{const n=en(e),r=(this.children.get(n)||new ImmutableTree(null)).set(nn(e),t),i=this.children.insert(n,r);return new ImmutableTree(this.value,i)}}remove(e){if(ln(e))return this.children.isEmpty()?new ImmutableTree(null):new ImmutableTree(null,this.children);{const t=en(e),n=this.children.get(t);if(n){const r=n.remove(nn(e));let i;return i=r.isEmpty()?this.children.remove(t):this.children.insert(t,r),null===this.value&&i.isEmpty()?new ImmutableTree(null):new ImmutableTree(this.value,i)}return this}}get(e){if(ln(e))return this.value;{const t=en(e),n=this.children.get(t);return n?n.get(nn(e)):null}}setTree(e,t){if(ln(e))return t;{const n=en(e),r=(this.children.get(n)||new ImmutableTree(null)).setTree(nn(e),t);let i;return i=r.isEmpty()?this.children.remove(n):this.children.insert(n,r),new ImmutableTree(this.value,i)}}fold(e){return this.fold_(Zt(),e)}fold_(e,t){const n={};return this.children.inorderTraversal(((r,i)=>{n[r]=i.fold_(an(e,r),t)})),t(e,this.value,n)}findOnPath(e,t){return this.findOnPath_(e,Zt(),t)}findOnPath_(e,t,n){const r=!!this.value&&n(t,this.value);if(r)return r;if(ln(e))return null;{const r=en(e),i=this.children.get(r);return i?i.findOnPath_(nn(e),an(t,r),n):null}}foreachOnPath(e,t){return this.foreachOnPath_(e,Zt(),t)}foreachOnPath_(e,t,n){if(ln(e))return this;{this.value&&n(t,this.value);const r=en(e),i=this.children.get(r);return i?i.foreachOnPath_(nn(e),an(t,r),n):new ImmutableTree(null)}}foreach(e){this.foreach_(Zt(),e)}foreach_(e,t){this.children.inorderTraversal(((n,r)=>{r.foreach_(an(e,n),t)})),this.value&&t(e,this.value)}foreachChild(e){this.children.inorderTraversal(((t,n)=>{n.value&&e(t,n.value)}))}}class CompoundWrite{constructor(e){this.writeTree_=e}static empty(){return new CompoundWrite(new ImmutableTree(null))}}function Zn(e,t,n){if(ln(t))return new CompoundWrite(new ImmutableTree(n));{const r=e.writeTree_.findRootMostValueAndPath(t);if(null!=r){const i=r.path;let o=r.value;const s=cn(i,t);return o=o.updateChild(s,n),new CompoundWrite(e.writeTree_.set(i,o))}{const r=new ImmutableTree(n),i=e.writeTree_.setTree(t,r);return new CompoundWrite(i)}}}function er(e,t,n){let r=e;return At(n,((e,n)=>{r=Zn(r,an(t,e),n)})),r}function tr(e,t){if(ln(t))return CompoundWrite.empty();{const n=e.writeTree_.setTree(t,new ImmutableTree(null));return new CompoundWrite(n)}}function nr(e,t){return null!=rr(e,t)}function rr(e,t){const n=e.writeTree_.findRootMostValueAndPath(t);return null!=n?e.writeTree_.get(n.path).getChild(cn(n.path,t)):null}function ir(e){const t=[],n=e.writeTree_.value;return null!=n?n.isLeafNode()||n.forEachChild(Tn,((e,n)=>{t.push(new NamedNode(e,n))})):e.writeTree_.children.inorderTraversal(((e,n)=>{null!=n.value&&t.push(new NamedNode(e,n.value))})),t}function or(e,t){if(ln(t))return e;{const n=rr(e,t);return new CompoundWrite(null!=n?new ImmutableTree(n):e.writeTree_.subtree(t))}}function sr(e){return e.writeTree_.isEmpty()}function ar(e,t){return lr(Zt(),e.writeTree_,t)}function lr(e,t,n){if(null!=t.value)return n.updateChild(e,t.value);{let r=null;return t.children.inorderTraversal(((t,i)=>{".priority"===t?(u(null!==i.value,"Priority writes must always be leaf nodes"),r=i.value):n=lr(an(e,t),i,n)})),n.getChild(e).isEmpty()||null===r||(n=n.updateChild(an(e,".priority"),r)),n}}function cr(e,t){return Er(t,e)}function ur(e,t){const n=e.allWrites.findIndex((e=>e.writeId===t));u(n>=0,"removeWrite called with nonexistent writeId.");const r=e.allWrites[n];e.allWrites.splice(n,1);let i=r.visible,o=!1,s=e.allWrites.length-1;for(;i&&s>=0;){const t=e.allWrites[s];t.visible&&(s>=n&&dr(t,r.path)?i=!1:dn(r.path,t.path)&&(o=!0)),s--}if(i){if(o)return function(e){e.visibleWrites=pr(e.allWrites,hr,Zt()),e.allWrites.length>0?e.lastWriteId=e.allWrites[e.allWrites.length-1].writeId:e.lastWriteId=-1}(e),!0;if(r.snap)e.visibleWrites=tr(e.visibleWrites,r.path);else{At(r.children,(t=>{e.visibleWrites=tr(e.visibleWrites,an(r.path,t))}))}return!0}return!1}function dr(e,t){if(e.snap)return dn(e.path,t);for(const n in e.children)if(e.children.hasOwnProperty(n)&&dn(an(e.path,n),t))return!0;return!1}function hr(e){return e.visible}function pr(e,t,n){let r=CompoundWrite.empty();for(let i=0;i<e.length;++i){const o=e[i];if(t(o)){const e=o.path;let t;if(o.snap)dn(n,e)?(t=cn(n,e),r=Zn(r,t,o.snap)):dn(e,n)&&(t=cn(e,n),r=Zn(r,Zt(),o.snap.getChild(t)));else{if(!o.children)throw d("WriteRecord should have .snap or .children");if(dn(n,e))t=cn(n,e),r=er(r,t,o.children);else if(dn(e,n))if(t=cn(e,n),ln(t))r=er(r,Zt(),o.children);else{const e=U(o.children,en(t));if(e){const n=e.getChild(nn(t));r=Zn(r,Zt(),n)}}}}}return r}function fr(e,t,n,r,i){if(r||i){const o=or(e.visibleWrites,t);if(!i&&sr(o))return n;if(i||null!=n||nr(o,Zt())){const o=function(e){return(e.visible||i)&&(!r||!~r.indexOf(e.writeId))&&(dn(e.path,t)||dn(t,e.path))};return ar(pr(e.allWrites,o,t),n||ChildrenNode.EMPTY_NODE)}return null}{const r=rr(e.visibleWrites,t);if(null!=r)return r;{const r=or(e.visibleWrites,t);if(sr(r))return n;if(null!=n||nr(r,Zt())){return ar(r,n||ChildrenNode.EMPTY_NODE)}return null}}}function mr(e,t,n,r){return fr(e.writeTree,e.treePath,t,n,r)}function _r(e,t){return function(e,t,n){let r=ChildrenNode.EMPTY_NODE;const i=rr(e.visibleWrites,t);if(i)return i.isLeafNode()||i.forEachChild(Tn,((e,t)=>{r=r.updateImmediateChild(e,t)})),r;if(n){const i=or(e.visibleWrites,t);return n.forEachChild(Tn,((e,t)=>{const n=ar(or(i,new Path(e)),t);r=r.updateImmediateChild(e,n)})),ir(i).forEach((e=>{r=r.updateImmediateChild(e.name,e.node)})),r}return ir(or(e.visibleWrites,t)).forEach((e=>{r=r.updateImmediateChild(e.name,e.node)})),r}(e.writeTree,e.treePath,t)}function gr(e,t,n,r){return function(e,t,n,r,i){u(r||i,"Either existingEventSnap or existingServerSnap must exist");const o=an(t,n);if(nr(e.visibleWrites,o))return null;{const t=or(e.visibleWrites,o);return sr(t)?i.getChild(n):ar(t,i.getChild(n))}}(e.writeTree,e.treePath,t,n,r)}function vr(e,t){return function(e,t){return rr(e.visibleWrites,t)}(e.writeTree,an(e.treePath,t))}function yr(e,t,n,r,i,o){return function(e,t,n,r,i,o,s){let a;const l=or(e.visibleWrites,t),c=rr(l,Zt());if(null!=c)a=c;else{if(null==n)return[];a=ar(l,n)}if(a=a.withIndex(s),a.isEmpty()||a.isLeafNode())return[];{const e=[],t=s.getCompare(),n=o?a.getReverseIteratorFrom(r,s):a.getIteratorFrom(r,s);let l=n.getNext();for(;l&&e.length<i;)0!==t(l,r)&&e.push(l),l=n.getNext();return e}}(e.writeTree,e.treePath,t,n,r,i,o)}function br(e,t,n){return function(e,t,n,r){const i=an(t,n),o=rr(e.visibleWrites,i);if(null!=o)return o;if(r.isCompleteForChild(n))return ar(or(e.visibleWrites,i),r.getNode().getImmediateChild(n));return null}(e.writeTree,e.treePath,t,n)}function wr(e,t){return Er(an(e.treePath,t),e.writeTree)}function Er(e,t){return{treePath:e,writeTree:t}}class ChildChangeAccumulator{constructor(){this.changeMap=new Map}trackChildChange(e){const t=e.type,n=e.childName;u("child_added"===t||"child_changed"===t||"child_removed"===t,"Only child changes supported for tracking"),u(".priority"!==n,"Only non-priority child changes can be tracked.");const r=this.changeMap.get(n);if(r){const i=r.type;if("child_added"===t&&"child_removed"===i)this.changeMap.set(n,Fn(n,e.snapshotNode,r.snapshotNode));else if("child_removed"===t&&"child_added"===i)this.changeMap.delete(n);else if("child_removed"===t&&"child_changed"===i)this.changeMap.set(n,Un(n,r.oldSnap));else if("child_changed"===t&&"child_added"===i)this.changeMap.set(n,Ln(n,e.snapshotNode));else{if("child_changed"!==t||"child_changed"!==i)throw d("Illegal combination of changes: "+e+" occurred after "+r);this.changeMap.set(n,Fn(n,e.snapshotNode,r.oldSnap))}}else this.changeMap.set(n,e)}getChanges(){return Array.from(this.changeMap.values())}}const Sr=new class NoCompleteChildSource_{getCompleteChild(e){return null}getChildAfterChild(e,t,n){return null}};class WriteTreeCompleteChildSource{constructor(e,t,n=null){this.writes_=e,this.viewCache_=t,this.optCompleteServerCache_=n}getCompleteChild(e){const t=this.viewCache_.eventCache;if(t.isCompleteForChild(e))return t.getNode().getImmediateChild(e);{const t=null!=this.optCompleteServerCache_?new CacheNode(this.optCompleteServerCache_,!0,!1):this.viewCache_.serverCache;return br(this.writes_,e,t)}}getChildAfterChild(e,t,n){const r=null!=this.optCompleteServerCache_?this.optCompleteServerCache_:Xn(this.viewCache_),i=yr(this.writes_,r,t,1,n,e);return 0===i.length?null:i[0]}}function kr(e,t,n,r,i){const o=new ChildChangeAccumulator;let s,a;if(n.type===qn.OVERWRITE){const l=n;l.source.fromUser?s=Cr(e,t,l.path,l.snap,r,i,o):(u(l.source.fromServer,"Unknown source."),a=l.source.tagged||t.serverCache.isFiltered()&&!ln(l.path),s=Ir(e,t,l.path,l.snap,r,i,a,o))}else if(n.type===qn.MERGE){const l=n;l.source.fromUser?s=function(e,t,n,r,i,o,s){let a=t;return r.foreach(((r,l)=>{const c=an(n,r);Rr(t,en(c))&&(a=Cr(e,a,c,l,i,o,s))})),r.foreach(((r,l)=>{const c=an(n,r);Rr(t,en(c))||(a=Cr(e,a,c,l,i,o,s))})),a}(e,t,l.path,l.children,r,i,o):(u(l.source.fromServer,"Unknown source."),a=l.source.tagged||t.serverCache.isFiltered(),s=xr(e,t,l.path,l.children,r,i,a,o))}else if(n.type===qn.ACK_USER_WRITE){const a=n;s=a.revert?function(e,t,n,r,i,o){let s;if(null!=vr(r,n))return t;{const a=new WriteTreeCompleteChildSource(r,t,i),l=t.eventCache.getNode();let c;if(ln(n)||".priority"===en(n)){let n;if(t.serverCache.isFullyInitialized())n=mr(r,Xn(t));else{const e=t.serverCache.getNode();u(e instanceof ChildrenNode,"serverChildren would be complete if leaf node"),n=_r(r,e)}c=e.filter.updateFullNode(l,n,o)}else{const i=en(n);let u=br(r,i,t.serverCache);null==u&&t.serverCache.isCompleteForChild(i)&&(u=l.getImmediateChild(i)),c=null!=u?e.filter.updateChild(l,i,u,nn(n),a,o):t.eventCache.getNode().hasChild(i)?e.filter.updateChild(l,i,ChildrenNode.EMPTY_NODE,nn(n),a,o):l,c.isEmpty()&&t.serverCache.isFullyInitialized()&&(s=mr(r,Xn(t)),s.isLeafNode()&&(c=e.filter.updateFullNode(c,s,o)))}return s=t.serverCache.isFullyInitialized()||null!=vr(r,Zt()),Yn(t,c,s,e.filter.filtersNodes())}}(e,t,a.path,r,i,o):function(e,t,n,r,i,o,s){if(null!=vr(i,n))return t;const a=t.serverCache.isFiltered(),l=t.serverCache;if(null!=r.value){if(ln(n)&&l.isFullyInitialized()||l.isCompleteForPath(n))return Ir(e,t,n,l.getNode().getChild(n),i,o,a,s);if(ln(n)){let r=new ImmutableTree(null);return l.getNode().forEachChild(_n,((e,t)=>{r=r.set(new Path(e),t)})),xr(e,t,n,r,i,o,a,s)}return t}{let c=new ImmutableTree(null);return r.foreach(((e,t)=>{const r=an(n,e);l.isCompleteForPath(r)&&(c=c.set(e,l.getNode().getChild(r)))})),xr(e,t,n,c,i,o,a,s)}}(e,t,a.path,a.affectedTree,r,i,o)}else{if(n.type!==qn.LISTEN_COMPLETE)throw d("Unknown operation type: "+n.type);s=function(e,t,n,r,i){const o=t.serverCache,s=Kn(t,o.getNode(),o.isFullyInitialized()||ln(n),o.isFiltered());return Tr(e,s,n,r,Sr,i)}(e,t,n.path,r,o)}const l=o.getChanges();return function(e,t,n){const r=t.eventCache;if(r.isFullyInitialized()){const i=r.getNode().isLeafNode()||r.getNode().isEmpty(),o=Jn(e);(n.length>0||!e.eventCache.isFullyInitialized()||i&&!r.getNode().equals(o)||!r.getNode().getPriority().equals(o.getPriority()))&&n.push(Mn(Jn(t)))}}(t,s,l),{viewCache:s,changes:l}}function Tr(e,t,n,r,i,o){const s=t.eventCache;if(null!=vr(r,n))return t;{let a,l;if(ln(n))if(u(t.serverCache.isFullyInitialized(),"If change path is empty, we must have complete server data"),t.serverCache.isFiltered()){const n=Xn(t),i=_r(r,n instanceof ChildrenNode?n:ChildrenNode.EMPTY_NODE);a=e.filter.updateFullNode(t.eventCache.getNode(),i,o)}else{const n=mr(r,Xn(t));a=e.filter.updateFullNode(t.eventCache.getNode(),n,o)}else{const c=en(n);if(".priority"===c){u(1===tn(n),"Can't have a priority with additional path components");const i=s.getNode();l=t.serverCache.getNode();const o=gr(r,n,i,l);a=null!=o?e.filter.updatePriority(i,o):s.getNode()}else{const u=nn(n);let d;if(s.isCompleteForChild(c)){l=t.serverCache.getNode();const e=gr(r,n,s.getNode(),l);d=null!=e?s.getNode().getImmediateChild(c).updateChild(u,e):s.getNode().getImmediateChild(c)}else d=br(r,c,t.serverCache);a=null!=d?e.filter.updateChild(s.getNode(),c,d,u,i,o):s.getNode()}}return Yn(t,a,s.isFullyInitialized()||ln(n),e.filter.filtersNodes())}}function Ir(e,t,n,r,i,o,s,a){const l=t.serverCache;let c;const u=s?e.filter:e.filter.getIndexedFilter();if(ln(n))c=u.updateFullNode(l.getNode(),r,null);else if(u.filtersNodes()&&!l.isFiltered()){const e=l.getNode().updateChild(n,r);c=u.updateFullNode(l.getNode(),e,null)}else{const e=en(n);if(!l.isCompleteForPath(n)&&tn(n)>1)return t;const i=nn(n),o=l.getNode().getImmediateChild(e).updateChild(i,r);c=".priority"===e?u.updatePriority(l.getNode(),o):u.updateChild(l.getNode(),e,o,i,Sr,null)}const d=Kn(t,c,l.isFullyInitialized()||ln(n),u.filtersNodes());return Tr(e,d,n,i,new WriteTreeCompleteChildSource(i,d,o),a)}function Cr(e,t,n,r,i,o,s){const a=t.eventCache;let l,c;const u=new WriteTreeCompleteChildSource(i,t,o);if(ln(n))c=e.filter.updateFullNode(t.eventCache.getNode(),r,s),l=Yn(t,c,!0,e.filter.filtersNodes());else{const i=en(n);if(".priority"===i)c=e.filter.updatePriority(t.eventCache.getNode(),r),l=Yn(t,c,a.isFullyInitialized(),a.isFiltered());else{const o=nn(n),c=a.getNode().getImmediateChild(i);let d;if(ln(o))d=r;else{const e=u.getCompleteChild(i);d=null!=e?".priority"===rn(o)&&e.getChild(sn(o)).isEmpty()?e:e.updateChild(o,r):ChildrenNode.EMPTY_NODE}if(c.equals(d))l=t;else{l=Yn(t,e.filter.updateChild(a.getNode(),i,d,o,u,s),a.isFullyInitialized(),e.filter.filtersNodes())}}}return l}function Rr(e,t){return e.eventCache.isCompleteForChild(t)}function Nr(e,t,n){return n.foreach(((e,n)=>{t=t.updateChild(e,n)})),t}function xr(e,t,n,r,i,o,s,a){if(t.serverCache.getNode().isEmpty()&&!t.serverCache.isFullyInitialized())return t;let l,c=t;l=ln(n)?r:new ImmutableTree(null).setTree(n,r);const u=t.serverCache.getNode();return l.children.inorderTraversal(((n,r)=>{if(u.hasChild(n)){const l=Nr(0,t.serverCache.getNode().getImmediateChild(n),r);c=Ir(e,c,new Path(n),l,i,o,s,a)}})),l.children.inorderTraversal(((n,r)=>{const l=!t.serverCache.isCompleteForChild(n)&&null===r.value;if(!u.hasChild(n)&&!l){const l=Nr(0,t.serverCache.getNode().getImmediateChild(n),r);c=Ir(e,c,new Path(n),l,i,o,s,a)}})),c}class View{constructor(e,t){this.query_=e,this.eventRegistrations_=[];const n=this.query_._queryParams,r=new IndexedFilter(n.getIndex()),i=(o=n).loadsAllData()?new IndexedFilter(o.getIndex()):o.hasLimit()?new LimitedFilter(o):new RangedFilter(o);var o;this.processor_=function(e){return{filter:e}}(i);const s=t.serverCache,a=t.eventCache,l=r.updateFullNode(ChildrenNode.EMPTY_NODE,s.getNode(),null),c=i.updateFullNode(ChildrenNode.EMPTY_NODE,a.getNode(),null),u=new CacheNode(l,s.isFullyInitialized(),r.filtersNodes()),d=new CacheNode(c,a.isFullyInitialized(),i.filtersNodes());this.viewCache_=Vn(d,u),this.eventGenerator_=new EventGenerator(this.query_)}get query(){return this.query_}}function Pr(e,t){const n=Xn(e.viewCache_);return n&&(e.query._queryParams.loadsAllData()||!ln(t)&&!n.getImmediateChild(en(t)).isEmpty())?n.getChild(t):null}function Or(e){return 0===e.eventRegistrations_.length}function Ar(e,t,n){const r=[];if(n){u(null==t,"A cancel should cancel all event registrations.");const i=e.query._path;e.eventRegistrations_.forEach((e=>{const t=e.createCancelEvent(n,i);t&&r.push(t)}))}if(t){let n=[];for(let r=0;r<e.eventRegistrations_.length;++r){const i=e.eventRegistrations_[r];if(i.matches(t)){if(t.hasAnyCallback()){n=n.concat(e.eventRegistrations_.slice(r+1));break}}else n.push(i)}e.eventRegistrations_=n}else e.eventRegistrations_=[];return r}function Dr(e,t,n,r){t.type===qn.MERGE&&null!==t.source.queryId&&(u(Xn(e.viewCache_),"We should always have a full cache before handling merges"),u(Jn(e.viewCache_),"Missing event cache, even though we have a server cache"));const i=e.viewCache_,o=kr(e.processor_,i,t,n,r);var s,a;return s=e.processor_,a=o.viewCache,u(a.eventCache.getNode().isIndexed(s.filter.getIndex()),"Event snap not indexed"),u(a.serverCache.getNode().isIndexed(s.filter.getIndex()),"Server snap not indexed"),u(o.viewCache.serverCache.isFullyInitialized()||!i.serverCache.isFullyInitialized(),"Once a server snap is complete, it should never go back"),e.viewCache_=o.viewCache,Mr(e,o.changes,o.viewCache.eventCache.getNode(),null)}function Mr(e,t,n,r){const i=r?[r]:e.eventRegistrations_;return function(e,t,n,r){const i=[],o=[];return t.forEach((t=>{var n;"child_changed"===t.type&&e.index_.indexedValueChanged(t.oldSnap,t.snapshotNode)&&o.push((n=t.childName,{type:"child_moved",snapshotNode:t.snapshotNode,childName:n}))})),$n(e,i,"child_removed",t,r,n),$n(e,i,"child_added",t,r,n),$n(e,i,"child_moved",o,r,n),$n(e,i,"child_changed",t,r,n),$n(e,i,"value",t,r,n),i}(e.eventGenerator_,t,n,i)}let Lr,Ur;class SyncPoint{constructor(){this.views=new Map}}function Fr(e,t,n,r){const i=t.source.queryId;if(null!==i){const o=e.views.get(i);return u(null!=o,"SyncTree gave us an op for an invalid query."),Dr(o,t,n,r)}{let i=[];for(const o of e.views.values())i=i.concat(Dr(o,t,n,r));return i}}function jr(e,t,n,r,i){const o=t._queryIdentifier,s=e.views.get(o);if(!s){let e=mr(n,i?r:null),o=!1;e?o=!0:r instanceof ChildrenNode?(e=_r(n,r),o=!1):(e=ChildrenNode.EMPTY_NODE,o=!1);const s=Vn(new CacheNode(e,o,!1),new CacheNode(r,i,!1));return new View(t,s)}return s}function Br(e,t,n,r,i,o){const s=jr(e,t,r,i,o);return e.views.has(t._queryIdentifier)||e.views.set(t._queryIdentifier,s),function(e,t){e.eventRegistrations_.push(t)}(s,n),function(e,t){const n=e.viewCache_.eventCache,r=[];n.getNode().isLeafNode()||n.getNode().forEachChild(Tn,((e,t)=>{r.push(Ln(e,t))}));return n.isFullyInitialized()&&r.push(Mn(n.getNode())),Mr(e,r,n.getNode(),t)}(s,n)}function zr(e,t,n,r){const i=t._queryIdentifier,o=[];let s=[];const a=$r(e);if("default"===i)for(const[l,c]of e.views.entries())s=s.concat(Ar(c,n,r)),Or(c)&&(e.views.delete(l),c.query._queryParams.loadsAllData()||o.push(c.query));else{const t=e.views.get(i);t&&(s=s.concat(Ar(t,n,r)),Or(t)&&(e.views.delete(i),t.query._queryParams.loadsAllData()||o.push(t.query)))}return a&&!$r(e)&&o.push(new(u(Lr,"Reference.ts has not been loaded"),Lr)(t._repo,t._path)),{removed:o,events:s}}function Wr(e){const t=[];for(const n of e.views.values())n.query._queryParams.loadsAllData()||t.push(n);return t}function Gr(e,t){let n=null;for(const r of e.views.values())n=n||Pr(r,t);return n}function qr(e,t){if(t._queryParams.loadsAllData())return Vr(e);{const n=t._queryIdentifier;return e.views.get(n)}}function Hr(e,t){return null!=qr(e,t)}function $r(e){return null!=Vr(e)}function Vr(e){for(const t of e.views.values())if(t.query._queryParams.loadsAllData())return t;return null}let Yr=1;class SyncTree{constructor(e){this.listenProvider_=e,this.syncPointTree_=new ImmutableTree(null),this.pendingWriteTree_={visibleWrites:CompoundWrite.empty(),allWrites:[],lastWriteId:-1},this.tagToQueryMap=new Map,this.queryToTagMap=new Map}}function Kr(e,t,n,r,i){return function(e,t,n,r,i){u(r>e.lastWriteId,"Stacking an older write on top of newer ones"),void 0===i&&(i=!0),e.allWrites.push({path:t,snap:n,writeId:r,visible:i}),i&&(e.visibleWrites=Zn(e.visibleWrites,t,n)),e.lastWriteId=r}(e.pendingWriteTree_,t,n,r,i),i?ri(e,new Overwrite({fromUser:!0,fromServer:!1,queryId:null,tagged:!1},t,n)):[]}function Jr(e,t,n=!1){const r=function(e,t){for(let n=0;n<e.allWrites.length;n++){const r=e.allWrites[n];if(r.writeId===t)return r}return null}(e.pendingWriteTree_,t);if(ur(e.pendingWriteTree_,t)){let t=new ImmutableTree(null);return null!=r.snap?t=t.set(Zt(),!0):At(r.children,(e=>{t=t.set(new Path(e),!0)})),ri(e,new AckUserWrite(r.path,t,n))}return[]}function Xr(e,t,n){return ri(e,new Overwrite({fromUser:!1,fromServer:!0,queryId:null,tagged:!1},t,n))}function Qr(e,t,n,r,i=!1){const o=t._path,s=e.syncPointTree_.get(o);let a=[];if(s&&("default"===t._queryIdentifier||Hr(s,t))){const l=zr(s,t,n,r);0===s.views.size&&(e.syncPointTree_=e.syncPointTree_.remove(o));const c=l.removed;if(a=l.events,!i){const n=-1!==c.findIndex((e=>e._queryParams.loadsAllData())),i=e.syncPointTree_.findOnPath(o,((e,t)=>$r(t)));if(n&&!i){const t=e.syncPointTree_.subtree(o);if(!t.isEmpty()){const n=function(e){return e.fold(((e,t,n)=>{if(t&&$r(t)){return[Vr(t)]}{let e=[];return t&&(e=Wr(t)),At(n,((t,n)=>{e=e.concat(n)})),e}}))}(t);for(let t=0;t<n.length;++t){const r=n[t],i=r.query,o=si(e,r);e.listenProvider_.startListening(hi(i),ai(e,i),o.hashFn,o.onComplete)}}}if(!i&&c.length>0&&!r)if(n){const n=null;e.listenProvider_.stopListening(hi(t),n)}else c.forEach((t=>{const n=e.queryToTagMap.get(li(t));e.listenProvider_.stopListening(hi(t),n)}))}!function(e,t){for(let n=0;n<t.length;++n){const r=t[n];if(!r._queryParams.loadsAllData()){const t=li(r),n=e.queryToTagMap.get(t);e.queryToTagMap.delete(t),e.tagToQueryMap.delete(n)}}}(e,c)}return a}function Zr(e,t,n,r){const i=ci(e,r);if(null!=i){const r=ui(i),o=r.path,s=r.queryId,a=cn(o,t);return di(e,o,new Overwrite(Hn(s),a,n))}return[]}function ei(e,t,n,r=!1){const i=t._path;let o=null,s=!1;e.syncPointTree_.foreachOnPath(i,((e,t)=>{const n=cn(e,i);o=o||Gr(t,n),s=s||$r(t)}));let a,l=e.syncPointTree_.get(i);if(l?(s=s||$r(l),o=o||Gr(l,Zt())):(l=new SyncPoint,e.syncPointTree_=e.syncPointTree_.set(i,l)),null!=o)a=!0;else{a=!1,o=ChildrenNode.EMPTY_NODE;e.syncPointTree_.subtree(i).foreachChild(((e,t)=>{const n=Gr(t,Zt());n&&(o=o.updateImmediateChild(e,n))}))}const c=Hr(l,t);if(!c&&!t._queryParams.loadsAllData()){const n=li(t);u(!e.queryToTagMap.has(n),"View does not exist, but we have a tag");const r=Yr++;e.queryToTagMap.set(n,r),e.tagToQueryMap.set(r,n)}let d=Br(l,t,n,cr(e.pendingWriteTree_,i),o,a);if(!c&&!s&&!r){const n=qr(l,t);d=d.concat(function(e,t,n){const r=t._path,i=ai(e,t),o=si(e,n),s=e.listenProvider_.startListening(hi(t),i,o.hashFn,o.onComplete),a=e.syncPointTree_.subtree(r);if(i)u(!$r(a.value),"If we're adding a query, it shouldn't be shadowed");else{const t=a.fold(((e,t,n)=>{if(!ln(e)&&t&&$r(t))return[Vr(t).query];{let e=[];return t&&(e=e.concat(Wr(t).map((e=>e.query)))),At(n,((t,n)=>{e=e.concat(n)})),e}}));for(let n=0;n<t.length;++n){const r=t[n];e.listenProvider_.stopListening(hi(r),ai(e,r))}}return s}(e,t,n))}return d}function ti(e,t,n){const r=e.pendingWriteTree_,i=e.syncPointTree_.findOnPath(t,((e,n)=>{const r=Gr(n,cn(e,t));if(r)return r}));return fr(r,t,i,n,!0)}function ni(e,t){const n=t._path;let r=null;e.syncPointTree_.foreachOnPath(n,((e,t)=>{const i=cn(e,n);r=r||Gr(t,i)}));let i=e.syncPointTree_.get(n);i?r=r||Gr(i,Zt()):(i=new SyncPoint,e.syncPointTree_=e.syncPointTree_.set(n,i));const o=null!=r,s=o?new CacheNode(r,!0,!1):null;return function(e){return Jn(e.viewCache_)}(jr(i,t,cr(e.pendingWriteTree_,t._path),o?s.getNode():ChildrenNode.EMPTY_NODE,o))}function ri(e,t){return ii(t,e.syncPointTree_,null,cr(e.pendingWriteTree_,Zt()))}function ii(e,t,n,r){if(ln(e.path))return oi(e,t,n,r);{const i=t.get(Zt());null==n&&null!=i&&(n=Gr(i,Zt()));let o=[];const s=en(e.path),a=e.operationForChild(s),l=t.children.get(s);if(l&&a){const e=n?n.getImmediateChild(s):null,t=wr(r,s);o=o.concat(ii(a,l,e,t))}return i&&(o=o.concat(Fr(i,e,r,n))),o}}function oi(e,t,n,r){const i=t.get(Zt());null==n&&null!=i&&(n=Gr(i,Zt()));let o=[];return t.children.inorderTraversal(((t,i)=>{const s=n?n.getImmediateChild(t):null,a=wr(r,t),l=e.operationForChild(t);l&&(o=o.concat(oi(l,i,s,a)))})),i&&(o=o.concat(Fr(i,e,r,n))),o}function si(e,t){const n=t.query,r=ai(e,n);return{hashFn:()=>{const e=function(e){return e.viewCache_.serverCache.getNode()}(t)||ChildrenNode.EMPTY_NODE;return e.hash()},onComplete:t=>{if("ok"===t)return r?function(e,t,n){const r=ci(e,n);if(r){const n=ui(r),i=n.path,o=n.queryId,s=cn(i,t);return di(e,i,new ListenComplete(Hn(o),s))}return[]}(e,n._path,r):function(e,t){return ri(e,new ListenComplete({fromUser:!1,fromServer:!0,queryId:null,tagged:!1},t))}(e,n._path);{const r=function(e,t){let n="Unknown Error";"too_big"===e?n="The data requested exceeds the maximum size that can be accessed with a single request.":"permission_denied"===e?n="Client doesn't have permission to access the desired data.":"unavailable"===e&&(n="The service is unavailable");const r=new Error(e+" at "+t._path.toString()+": "+n);return r.code=e.toUpperCase(),r}(t,n);return Qr(e,n,null,r)}}}}function ai(e,t){const n=li(t);return e.queryToTagMap.get(n)}function li(e){return e._path.toString()+"$"+e._queryIdentifier}function ci(e,t){return e.tagToQueryMap.get(t)}function ui(e){const t=e.indexOf("$");return u(-1!==t&&t<e.length-1,"Bad queryKey."),{queryId:e.substr(t+1),path:new Path(e.substr(0,t))}}function di(e,t,n){const r=e.syncPointTree_.get(t);u(r,"Missing sync point for query tag that we're tracking");return Fr(r,n,cr(e.pendingWriteTree_,t),null)}function hi(e){return e._queryParams.loadsAllData()&&!e._queryParams.isDefault()?new(u(Ur,"Reference.ts has not been loaded"),Ur)(e._repo,e._path):e}class ExistingValueProvider{constructor(e){this.node_=e}getImmediateChild(e){const t=this.node_.getImmediateChild(e);return new ExistingValueProvider(t)}node(){return this.node_}}class DeferredValueProvider{constructor(e,t){this.syncTree_=e,this.path_=t}getImmediateChild(e){const t=an(this.path_,e);return new DeferredValueProvider(this.syncTree_,t)}node(){return ti(this.syncTree_,this.path_)}}const pi=function(e){return(e=e||{}).timestamp=e.timestamp||(new Date).getTime(),e},fi=function(e,t,n){return e&&"object"==typeof e?(u(".sv"in e,"Unexpected leaf node or priority contents"),"string"==typeof e[".sv"]?mi(e[".sv"],t,n):"object"==typeof e[".sv"]?_i(e[".sv"],t):void u(!1,"Unexpected server value: "+JSON.stringify(e,null,2))):e},mi=function(e,t,n){if("timestamp"===e)return n.timestamp;u(!1,"Unexpected server value: "+e)},_i=function(e,t,n){e.hasOwnProperty("increment")||u(!1,"Unexpected server value: "+JSON.stringify(e,null,2));const r=e.increment;"number"!=typeof r&&u(!1,"Unexpected increment value: "+r);const i=t.node();if(u(null!=i,"Expected ChildrenNode.EMPTY_NODE for nulls"),!i.isLeafNode())return r;const o=i.getValue();return"number"!=typeof o?r:o+r},gi=function(e,t,n,r){return yi(t,new DeferredValueProvider(n,e),r)},vi=function(e,t,n){return yi(e,new ExistingValueProvider(t),n)};function yi(e,t,n){const r=e.getPriority().val(),i=fi(r,t.getImmediateChild(".priority"),n);let o;if(e.isLeafNode()){const r=e,o=fi(r.getValue(),t,n);return o!==r.getValue()||i!==r.getPriority().val()?new LeafNode(o,An(i)):e}{const r=e;return o=r,i!==r.getPriority().val()&&(o=o.updatePriority(new LeafNode(i))),r.forEachChild(Tn,((e,r)=>{const i=yi(r,t.getImmediateChild(e),n);i!==r&&(o=o.updateImmediateChild(e,i))})),o}}class Tree{constructor(e="",t=null,n={children:{},childCount:0}){this.name=e,this.parent=t,this.node=n}}function bi(e,t){let n=t instanceof Path?t:new Path(t),r=e,i=en(n);for(;null!==i;){const e=U(r.node.children,i)||{children:{},childCount:0};r=new Tree(i,r,e),n=nn(n),i=en(n)}return r}function wi(e){return e.node.value}function Ei(e,t){e.node.value=t,Ci(e)}function Si(e){return e.node.childCount>0}function ki(e,t){At(e.node.children,((n,r)=>{t(new Tree(n,e,r))}))}function Ti(e,t,n,r){n&&!r&&t(e),ki(e,(e=>{Ti(e,t,!0,r)})),n&&r&&t(e)}function Ii(e){return new Path(null===e.parent?e.name:Ii(e.parent)+"/"+e.name)}function Ci(e){null!==e.parent&&function(e,t,n){const r=function(e){return void 0===wi(e)&&!Si(e)}(n),i=L(e.node.children,t);r&&i?(delete e.node.children[t],e.node.childCount--,Ci(e)):r||i||(e.node.children[t]=n.node,e.node.childCount++,Ci(e))}(e.parent,e.name,e)}const Ri=/[\[\].#$\/\u0000-\u001F\u007F]/,Ni=/[\[\].#$\u0000-\u001F\u007F]/,xi=10485760,Pi=function(e){return"string"==typeof e&&0!==e.length&&!Ri.test(e)},Oi=function(e){return"string"==typeof e&&0!==e.length&&!Ni.test(e)},Ai=function(e,t,n,r){r&&void 0===t||Di(K(e,"value"),t,n)},Di=function(e,t,n){const r=n instanceof Path?new ValidationPath(n,e):n;if(void 0===t)throw new Error(e+"contains undefined "+pn(r));if("function"==typeof t)throw new Error(e+"contains a function "+pn(r)+" with contents = "+t.toString());if(Tt(t))throw new Error(e+"contains "+t.toString()+" "+pn(r));if("string"==typeof t&&t.length>xi/3&&J(t)>xi)throw new Error(e+"contains a string greater than "+xi+" utf8 bytes "+pn(r)+" ('"+t.substring(0,50)+"...')");if(t&&"object"==typeof t){let n=!1,i=!1;if(At(t,((t,o)=>{if(".value"===t)n=!0;else if(".priority"!==t&&".sv"!==t&&(i=!0,!Pi(t)))throw new Error(e+" contains an invalid key ("+t+") "+pn(r)+'.  Keys must be non-empty strings and can\'t contain ".", "#", "$", "/", "[", or "]"');!function(e,t){e.parts_.length>0&&(e.byteLength_+=1),e.parts_.push(t),e.byteLength_+=J(t),hn(e)}(r,t),Di(e,o,r),function(e){const t=e.parts_.pop();e.byteLength_-=J(t),e.parts_.length>0&&(e.byteLength_-=1)}(r)})),n&&i)throw new Error(e+' contains ".value" child '+pn(r)+" in addition to actual children.")}},Mi=function(e,t,n,r){if(!(r&&void 0===n||Oi(n)))throw new Error(K(e,t)+'was an invalid path = "'+n+'". Paths must be non-empty strings and can\'t contain ".", "#", "$", "[", or "]"')},Li=function(e,t,n,r){n&&(n=n.replace(/^\/*\.info(\/|$)/,"/")),Mi(e,t,n,r)},Ui=function(e,t){if(".info"===en(t))throw new Error(e+" failed = Can't modify data under /.info/")},Fi=function(e,t){const n=t.path.toString();if("string"!=typeof t.repoInfo.host||0===t.repoInfo.host.length||!Pi(t.repoInfo.namespace)&&"localhost"!==t.repoInfo.host.split(":")[0]||0!==n.length&&!function(e){return e&&(e=e.replace(/^\/*\.info(\/|$)/,"/")),Oi(e)}(n))throw new Error(K(e,"url")+'must be a valid firebase URL and the path can\'t contain ".", "#", "$", "[", or "]".')};class EventQueue{constructor(){this.eventLists_=[],this.recursionDepth_=0}}function ji(e,t){let n=null;for(let r=0;r<t.length;r++){const i=t[r],o=i.getPath();null===n||un(o,n.path)||(e.eventLists_.push(n),n=null),null===n&&(n={events:[],path:o}),n.events.push(i)}n&&e.eventLists_.push(n)}function Bi(e,t,n){ji(e,n),zi(e,(e=>dn(e,t)||dn(t,e)))}function zi(e,t){e.recursionDepth_++;let n=!0;for(let r=0;r<e.eventLists_.length;r++){const i=e.eventLists_[r];if(i){t(i.path)?(Wi(e.eventLists_[r]),e.eventLists_[r]=null):n=!1}}n&&(e.eventLists_=[]),e.recursionDepth_--}function Wi(e){for(let t=0;t<e.events.length;t++){const n=e.events[t];if(null!==n){e.events[t]=null;const r=n.getEventRunner();gt&&bt("event: "+n.toString()),Ut(r)}}}const Gi="repo_interrupt",qi=25;class Repo{constructor(e,t,n,r){this.repoInfo_=e,this.forceRestClient_=t,this.authTokenProvider_=n,this.appCheckProvider_=r,this.dataUpdateCount=0,this.statsListener_=null,this.eventQueue_=new EventQueue,this.nextWriteId_=1,this.interceptServerDataCallback_=null,this.onDisconnect_=zn(),this.transactionQueueTree_=new Tree,this.persistentConnection_=null,this.key=this.repoInfo_.toURLString()}toString(){return(this.repoInfo_.secure?"https://":"http://")+this.repoInfo_.host}}function Hi(e,t,n){if(e.stats_=Yt(e.repoInfo_),e.forceRestClient_||Ft())e.server_=new ReadonlyRestClient(e.repoInfo_,((t,n,r,i)=>{Yi(e,t,n,r,i)}),e.authTokenProvider_,e.appCheckProvider_),setTimeout((()=>Ki(e,!0)),0);else{if(null!=n){if("object"!=typeof n)throw new Error("Only objects are supported for option databaseAuthVariableOverride");try{D(n)}catch(r){throw new Error("Invalid authOverride provided: "+r)}}e.persistentConnection_=new PersistentConnection(e.repoInfo_,t,((t,n,r,i)=>{Yi(e,t,n,r,i)}),(t=>{Ki(e,t)}),(t=>{!function(e,t){At(t,((t,n)=>{Ji(e,t,n)}))}(e,t)}),e.authTokenProvider_,e.appCheckProvider_,n),e.server_=e.persistentConnection_}e.authTokenProvider_.addTokenChangeListener((t=>{e.server_.refreshAuthToken(t)})),e.appCheckProvider_.addTokenChangeListener((t=>{e.server_.refreshAppCheckToken(t.token)})),e.statsReporter_=function(e,t){const n=e.toString();return Vt[n]||(Vt[n]=t()),Vt[n]}(e.repoInfo_,(()=>new StatsReporter(e.stats_,e.server_))),e.infoData_=new SnapshotHolder,e.infoSyncTree_=new SyncTree({startListening:(t,n,r,i)=>{let o=[];const s=e.infoData_.getNode(t._path);return s.isEmpty()||(o=Xr(e.infoSyncTree_,t._path,s),setTimeout((()=>{i("ok")}),0)),o},stopListening:()=>{}}),Ji(e,"connected",!1),e.serverSyncTree_=new SyncTree({startListening:(t,n,r,i)=>(e.server_.listen(t,r,n,((n,r)=>{const o=i(n,r);Bi(e.eventQueue_,t._path,o)})),[]),stopListening:(t,n)=>{e.server_.unlisten(t,n)}})}function $i(e){const t=e.infoData_.getNode(new Path(".info/serverTimeOffset")).val()||0;return(new Date).getTime()+t}function Vi(e){return pi({timestamp:$i(e)})}function Yi(e,t,n,r,i){e.dataUpdateCount++;const o=new Path(t);n=e.interceptServerDataCallback_?e.interceptServerDataCallback_(t,n):n;let s=[];if(i)if(r){const t=B(n,(e=>An(e)));s=function(e,t,n,r){const i=ci(e,r);if(i){const r=ui(i),o=r.path,s=r.queryId,a=cn(o,t),l=ImmutableTree.fromObject(n);return di(e,o,new Merge(Hn(s),a,l))}return[]}(e.serverSyncTree_,o,t,i)}else{const t=An(n);s=Zr(e.serverSyncTree_,o,t,i)}else if(r){const t=B(n,(e=>An(e)));s=function(e,t,n){const r=ImmutableTree.fromObject(n);return ri(e,new Merge({fromUser:!1,fromServer:!0,queryId:null,tagged:!1},t,r))}(e.serverSyncTree_,o,t)}else{const t=An(n);s=Xr(e.serverSyncTree_,o,t)}let a=o;s.length>0&&(a=io(e,o)),Bi(e.eventQueue_,a,s)}function Ki(e,t){Ji(e,"connected",t),!1===t&&function(e){eo(e,"onDisconnectEvents");const t=Vi(e),n=zn();Gn(e.onDisconnect_,Zt(),((r,i)=>{const o=gi(r,i,e.serverSyncTree_,t);Wn(n,r,o)}));let r=[];Gn(n,Zt(),((t,n)=>{r=r.concat(Xr(e.serverSyncTree_,t,n));const i=co(e,t);io(e,i)})),e.onDisconnect_=zn(),Bi(e.eventQueue_,Zt(),r)}(e)}function Ji(e,t,n){const r=new Path("/.info/"+t),i=An(n);e.infoData_.updateSnapshot(r,i);const o=Xr(e.infoSyncTree_,r,i);Bi(e.eventQueue_,r,o)}function Xi(e){return e.nextWriteId_++}function Qi(e,t,n,r,i){eo(e,"set",{path:t.toString(),value:n,priority:r});const o=Vi(e),s=An(n,r),a=ti(e.serverSyncTree_,t),l=vi(s,a,o),c=Xi(e),u=Kr(e.serverSyncTree_,t,l,c,!0);ji(e.eventQueue_,u),e.server_.put(t.toString(),s.val(!0),((n,r)=>{const o="ok"===n;o||kt("set at "+t+" failed: "+n);const s=Jr(e.serverSyncTree_,c,!o);Bi(e.eventQueue_,t,s),to(e,i,n,r)}));const d=co(e,t);io(e,d),Bi(e.eventQueue_,d,[])}function Zi(e){e.persistentConnection_&&e.persistentConnection_.interrupt(Gi)}function eo(e,...t){let n="";e.persistentConnection_&&(n=e.persistentConnection_.id+":"),bt(n,...t)}function to(e,t,n,r){t&&Ut((()=>{if("ok"===n)t(null);else{const e=(n||"error").toUpperCase();let i=e;r&&(i+=": "+r);const o=new Error(i);o.code=e,t(o)}}))}function no(e,t,n){return ti(e.serverSyncTree_,t,n)||ChildrenNode.EMPTY_NODE}function ro(e,t=e.transactionQueueTree_){if(t||lo(e,t),wi(t)){const n=so(e,t);u(n.length>0,"Sending zero length transaction queue");n.every((e=>0===e.status))&&function(e,t,n){const r=n.map((e=>e.currentWriteId)),i=no(e,t,r);let o=i;const s=i.hash();for(let c=0;c<n.length;c++){const e=n[c];u(0===e.status,"tryToSendTransactionQueue_: items in queue should all be run."),e.status=1,e.retryCount++;const r=cn(t,e.path);o=o.updateChild(r,e.currentOutputSnapshotRaw)}const a=o.val(!0),l=t;e.server_.put(l.toString(),a,(r=>{eo(e,"transaction put response",{path:l.toString(),status:r});let i=[];if("ok"===r){const r=[];for(let t=0;t<n.length;t++)n[t].status=2,i=i.concat(Jr(e.serverSyncTree_,n[t].currentWriteId)),n[t].onComplete&&r.push((()=>n[t].onComplete(null,!0,n[t].currentOutputSnapshotResolved))),n[t].unwatcher();lo(e,bi(e.transactionQueueTree_,t)),ro(e,e.transactionQueueTree_),Bi(e.eventQueue_,t,i);for(let e=0;e<r.length;e++)Ut(r[e])}else{if("datastale"===r)for(let e=0;e<n.length;e++)3===n[e].status?n[e].status=4:n[e].status=0;else{kt("transaction at "+l.toString()+" failed: "+r);for(let e=0;e<n.length;e++)n[e].status=4,n[e].abortReason=r}io(e,t)}}),s)}(e,Ii(t),n)}else Si(t)&&ki(t,(t=>{ro(e,t)}))}function io(e,t){const n=oo(e,t),r=Ii(n);return function(e,t,n){if(0===t.length)return;const r=[];let i=[];const o=t.filter((e=>0===e.status)),s=o.map((e=>e.currentWriteId));for(let l=0;l<t.length;l++){const o=t[l],c=cn(n,o.path);let d,h=!1;if(u(null!==c,"rerunTransactionsUnderNode_: relativePath should not be null."),4===o.status)h=!0,d=o.abortReason,i=i.concat(Jr(e.serverSyncTree_,o.currentWriteId,!0));else if(0===o.status)if(o.retryCount>=qi)h=!0,d="maxretry",i=i.concat(Jr(e.serverSyncTree_,o.currentWriteId,!0));else{const n=no(e,o.path,s);o.currentInputSnapshot=n;const r=t[l].update(n.val());if(void 0!==r){Di("transaction failed: Data returned ",r,o.path);let t=An(r);"object"==typeof r&&null!=r&&L(r,".priority")||(t=t.updatePriority(n.getPriority()));const a=o.currentWriteId,l=Vi(e),c=vi(t,n,l);o.currentOutputSnapshotRaw=t,o.currentOutputSnapshotResolved=c,o.currentWriteId=Xi(e),s.splice(s.indexOf(a),1),i=i.concat(Kr(e.serverSyncTree_,o.path,c,o.currentWriteId,o.applyLocally)),i=i.concat(Jr(e.serverSyncTree_,a,!0))}else h=!0,d="nodata",i=i.concat(Jr(e.serverSyncTree_,o.currentWriteId,!0))}Bi(e.eventQueue_,n,i),i=[],h&&(t[l].status=2,a=t[l].unwatcher,setTimeout(a,Math.floor(0)),t[l].onComplete&&("nodata"===d?r.push((()=>t[l].onComplete(null,!1,t[l].currentInputSnapshot))):r.push((()=>t[l].onComplete(new Error(d),!1,null)))))}var a;lo(e,e.transactionQueueTree_);for(let l=0;l<r.length;l++)Ut(r[l]);ro(e,e.transactionQueueTree_)}(e,so(e,n),r),r}function oo(e,t){let n,r=e.transactionQueueTree_;for(n=en(t);null!==n&&void 0===wi(r);)r=bi(r,n),n=en(t=nn(t));return r}function so(e,t){const n=[];return ao(e,t,n),n.sort(((e,t)=>e.order-t.order)),n}function ao(e,t,n){const r=wi(t);if(r)for(let i=0;i<r.length;i++)n.push(r[i]);ki(t,(t=>{ao(e,t,n)}))}function lo(e,t){const n=wi(t);if(n){let e=0;for(let t=0;t<n.length;t++)2!==n[t].status&&(n[e]=n[t],e++);n.length=e,Ei(t,n.length>0?n:void 0)}ki(t,(t=>{lo(e,t)}))}function co(e,t){const n=Ii(oo(e,t)),r=bi(e.transactionQueueTree_,t);return function(e,t,n){let r=n?e:e.parent;for(;null!==r;){if(t(r))return!0;r=r.parent}}(r,(t=>{uo(e,t)})),uo(e,r),Ti(r,(t=>{uo(e,t)})),n}function uo(e,t){const n=wi(t);if(n){const r=[];let i=[],o=-1;for(let t=0;t<n.length;t++)3===n[t].status||(1===n[t].status?(u(o===t-1,"All SENT items should be at beginning of queue."),o=t,n[t].status=3,n[t].abortReason="set"):(u(0===n[t].status,"Unexpected transaction status in abort"),n[t].unwatcher(),i=i.concat(Jr(e.serverSyncTree_,n[t].currentWriteId,!0)),n[t].onComplete&&r.push(n[t].onComplete.bind(null,new Error("set"),!1,null))));-1===o?Ei(t,void 0):n.length=o+1,Bi(e.eventQueue_,Ii(t),i);for(let e=0;e<r.length;e++)Ut(r[e])}}const ho=function(e,t){const n=po(e),r=n.namespace;"firebase.com"===n.domain&&St(n.host+" is no longer supported. Please use <YOUR FIREBASE>.firebaseio.com instead"),r&&"undefined"!==r||"localhost"===n.domain||St("Cannot parse Firebase url. Please use https://<YOUR FIREBASE>.firebaseio.com"),n.secure||"undefined"!=typeof window&&window.location&&window.location.protocol&&-1!==window.location.protocol.indexOf("https:")&&kt("Insecure Firebase access from a secure page. Please use https in calls to new Firebase().");const i="ws"===n.scheme||"wss"===n.scheme;return{repoInfo:new RepoInfo(n.host,n.secure,r,i,t,"",r!==n.subdomain),path:new Path(n.pathString)}},po=function(e){let t="",n="",r="",i="",o="",s=!0,a="https",l=443;if("string"==typeof e){let c=e.indexOf("//");c>=0&&(a=e.substring(0,c-1),e=e.substring(c+2));let u=e.indexOf("/");-1===u&&(u=e.length);let d=e.indexOf("?");-1===d&&(d=e.length),t=e.substring(0,Math.min(u,d)),u<d&&(i=function(e){let t="";const n=e.split("/");for(let i=0;i<n.length;i++)if(n[i].length>0){let e=n[i];try{e=decodeURIComponent(e.replace(/\+/g," "))}catch(r){}t+="/"+e}return t}(e.substring(u,d)));const h=function(e){const t={};"?"===e.charAt(0)&&(e=e.substring(1));for(const n of e.split("&")){if(0===n.length)continue;const r=n.split("=");2===r.length?t[decodeURIComponent(r[0])]=decodeURIComponent(r[1]):kt(`Invalid query segment '${n}' in query '${e}'`)}return t}(e.substring(Math.min(e.length,d)));c=t.indexOf(":"),c>=0?(s="https"===a||"wss"===a,l=parseInt(t.substring(c+1),10)):c=t.length;const p=t.slice(0,c);if("localhost"===p.toLowerCase())n="localhost";else if(p.split(".").length<=2)n=p;else{const e=t.indexOf(".");r=t.substring(0,e).toLowerCase(),n=t.substring(e+1),o=r}"ns"in h&&(o=h.ns)}return{host:t,port:l,domain:n,subdomain:r,secure:s,scheme:a,pathString:i,namespace:o}},fo="-0123456789ABCDEFGHIJKLMNOPQRSTUVWXYZ_abcdefghijklmnopqrstuvwxyz";!function(){let e=0;const t=[]}();class DataEvent{constructor(e,t,n,r){this.eventType=e,this.eventRegistration=t,this.snapshot=n,this.prevName=r}getPath(){const e=this.snapshot.ref;return"value"===this.eventType?e._path:e.parent._path}getEventType(){return this.eventType}getEventRunner(){return this.eventRegistration.getEventRunner(this)}toString(){return this.getPath().toString()+":"+this.eventType+":"+D(this.snapshot.exportVal())}}class CancelEvent{constructor(e,t,n){this.eventRegistration=e,this.error=t,this.path=n}getPath(){return this.path}getEventType(){return"cancel"}getEventRunner(){return this.eventRegistration.getEventRunner(this)}toString(){return this.path.toString()+":cancel"}}class CallbackContext{constructor(e,t){this.snapshotCallback=e,this.cancelCallback=t}onValue(e,t){this.snapshotCallback.call(null,e,t)}onCancel(e){return u(this.hasCancelCallback,"Raising a cancel event on a listener with no cancel callback"),this.cancelCallback.call(null,e)}get hasCancelCallback(){return!!this.cancelCallback}matches(e){return this.snapshotCallback===e.snapshotCallback||void 0!==this.snapshotCallback.userCallback&&this.snapshotCallback.userCallback===e.snapshotCallback.userCallback&&this.snapshotCallback.context===e.snapshotCallback.context}}class QueryImpl{constructor(e,t,n,r){this._repo=e,this._path=t,this._queryParams=n,this._orderByCalled=r}get key(){return ln(this._path)?null:rn(this._path)}get ref(){return new ReferenceImpl(this._repo,this._path)}get _queryIdentifier(){const e=Bn(this._queryParams),t=Pt(e);return"{}"===t?"default":t}get _queryObject(){return Bn(this._queryParams)}isEqual(e){if(!((e=X(e))instanceof QueryImpl))return!1;const t=this._repo===e._repo,n=un(this._path,e._path),r=this._queryIdentifier===e._queryIdentifier;return t&&n&&r}toJSON(){return this.toString()}toString(){return this._repo.toString()+function(e){let t="";for(let n=e.pieceNum_;n<e.pieces_.length;n++)""!==e.pieces_[n]&&(t+="/"+encodeURIComponent(String(e.pieces_[n])));return t||"/"}(this._path)}}class ReferenceImpl extends QueryImpl{constructor(e,t){super(e,t,new QueryParams,!1)}get parent(){const e=sn(this._path);return null===e?null:new ReferenceImpl(this._repo,e)}get root(){let e=this;for(;null!==e.parent;)e=e.parent;return e}}class DataSnapshot{constructor(e,t,n){this._node=e,this.ref=t,this._index=n}get priority(){return this._node.getPriority().val()}get key(){return this.ref.key}get size(){return this._node.numChildren()}child(e){const t=new Path(e),n=_o(this.ref,e);return new DataSnapshot(this._node.getChild(t),n,Tn)}exists(){return!this._node.isEmpty()}exportVal(){return this._node.val(!0)}forEach(e){if(this._node.isLeafNode())return!1;return!!this._node.forEachChild(this._index,((t,n)=>e(new DataSnapshot(n,_o(this.ref,t),Tn))))}hasChild(e){const t=new Path(e);return!this._node.getChild(t).isEmpty()}hasChildren(){return!this._node.isLeafNode()&&!this._node.isEmpty()}toJSON(){return this.exportVal()}val(){return this._node.val()}}function mo(e,t){return(e=X(e))._checkNotDeleted("ref"),void 0!==t?_o(e._root,t):e._root}function _o(e,t){return null===en((e=X(e))._path)?Li("child","path",t,!1):Mi("child","path",t,!1),new ReferenceImpl(e._repo,an(e._path,t))}function go(e,t){e=X(e),Ui("set",e._path),Ai("set",t,e._path,!1);const n=new index_esm2017_Deferred;return Qi(e._repo,e._path,t,null,n.wrapCallback((()=>{}))),n.promise}function vo(e){e=X(e);const t=new CallbackContext((()=>{})),n=new ValueEventRegistration(t);return function(e,t,n){const r=ni(e.serverSyncTree_,t);return null!=r?Promise.resolve(r):e.server_.get(t).then((r=>{const i=An(r).withIndex(t._queryParams.getIndex());let o;if(ei(e.serverSyncTree_,t,n,!0),t._queryParams.loadsAllData())o=Xr(e.serverSyncTree_,t._path,i);else{const n=ai(e.serverSyncTree_,t);o=Zr(e.serverSyncTree_,t._path,i,n)}return Bi(e.eventQueue_,t._path,o),Qr(e.serverSyncTree_,t,n,null,!0),i}),(n=>(eo(e,"get for query "+D(t)+" failed: "+n),Promise.reject(new Error(n)))))}(e._repo,e,n).then((t=>new DataSnapshot(t,new ReferenceImpl(e._repo,e._path),e._queryParams.getIndex())))}class ValueEventRegistration{constructor(e){this.callbackContext=e}respondsTo(e){return"value"===e}createEvent(e,t){const n=t._queryParams.getIndex();return new DataEvent("value",this,new DataSnapshot(e.snapshotNode,new ReferenceImpl(t._repo,t._path),n))}getEventRunner(e){return"cancel"===e.getEventType()?()=>this.callbackContext.onCancel(e.error):()=>this.callbackContext.onValue(e.snapshot,null)}createCancelEvent(e,t){return this.callbackContext.hasCancelCallback?new CancelEvent(this,e,t):null}matches(e){return e instanceof ValueEventRegistration&&(!e.callbackContext||!this.callbackContext||e.callbackContext.matches(this.callbackContext))}hasAnyCallback(){return null!==this.callbackContext}}!function(e){u(!Lr,"__referenceConstructor has already been defined"),Lr=e}(ReferenceImpl),function(e){u(!Ur,"__referenceConstructor has already been defined"),Ur=e}(ReferenceImpl);const yo="FIREBASE_DATABASE_EMULATOR_HOST",bo={};let wo=!1;function Eo(e,t,n,r,i){let o=r||e.options.databaseURL;void 0===o&&(e.options.projectId||St("Can't determine Firebase Database URL. Be sure to include  a Project ID when calling firebase.initializeApp()."),bt("Using default host for project ",e.options.projectId),o=`${e.options.projectId}-default-rtdb.firebaseio.com`);let s,a,l=ho(o,i),c=l.repoInfo;"undefined"!=typeof process&&(a={NX_CLI_SET:"true",NX_LOAD_DOT_ENV_FILES:"true",NX_TASK_HASH:"ef7778bc9c5ee19e35215bd0377bf4590e19a99b56114a0e72602bfb42f7f4d5",NX_TASK_TARGET_PROJECT:"web",NX_WORKSPACE_ROOT:"/Users/polyakovin/repos/activitip",NX_TERMINAL_OUTPUT_PATH:"/Users/polyakovin/repos/activitip/node_modules/.cache/nx/terminalOutputs/ef7778bc9c5ee19e35215bd0377bf4590e19a99b56114a0e72602bfb42f7f4d5",NX_STREAM_OUTPUT:"true"}[yo]),a?(s=!0,o=`http://${a}?ns=${c.namespace}`,l=ho(o,i),c=l.repoInfo):s=!l.repoInfo.secure;const u=i&&s?new EmulatorTokenProvider(EmulatorTokenProvider.OWNER):new FirebaseAuthTokenProvider(e.name,e.options,t);Fi("Invalid Firebase Database URL",l),ln(l.path)||St("Database URL must point to the root of a Firebase Database (not including a child path).");const d=function(e,t,n,r){let i=bo[t.name];i||(i={},bo[t.name]=i);let o=i[e.toURLString()];o&&St("Database initialized multiple times. Please make sure the format of the database URL matches with each database() call.");return o=new Repo(e,wo,n,r),i[e.toURLString()]=o,o}(c,e,u,new AppCheckTokenProvider(e.name,n));return new Database(d,e)}class Database{constructor(e,t){this._repoInternal=e,this.app=t,this.type="database",this._instanceStarted=!1}get _repo(){return this._instanceStarted||(Hi(this._repoInternal,this.app.options.appId,this.app.options.databaseAuthVariableOverride),this._instanceStarted=!0),this._repoInternal}get _root(){return this._rootInternal||(this._rootInternal=new ReferenceImpl(this._repo,Zt())),this._rootInternal}_delete(){return null!==this._rootInternal&&(!function(e,t){const n=bo[t];n&&n[e.key]===e||St(`Database ${t}(${e.repoInfo_}) has already been deleted.`),Zi(e),delete n[e.key]}(this._repo,this.app.name),this._repoInternal=null,this._rootInternal=null),Promise.resolve()}_checkNotDeleted(e){null===this._rootInternal&&St("Cannot call "+e+" on a deleted database.")}}PersistentConnection.prototype.simpleListen=function(e,t){this.sendRequest("q",{p:e},t)},PersistentConnection.prototype.echo=function(e,t){this.sendRequest("echo",{d:e},t)};!function(e){!function(e){ct=e}(Le),Pe(new Component("database",((e,{instanceIdentifier:t})=>Eo(e.getProvider("app").getImmediate(),e.getProvider("auth-internal"),e.getProvider("app-check-internal"),t)),"PUBLIC").setMultipleInstances(!0)),ze(at,lt,e),ze(at,lt,"esm2017")}();function So(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(null!=e&&"function"==typeof Object.getOwnPropertySymbols){var i=0;for(r=Object.getOwnPropertySymbols(e);i<r.length;i++)t.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(e,r[i])&&(n[r[i]]=e[r[i]])}return n}Object.create;Object.create;const ko={FACEBOOK:"facebook.com",GITHUB:"github.com",GOOGLE:"google.com",PASSWORD:"password",PHONE:"phone",TWITTER:"twitter.com"},To={EMAIL_SIGNIN:"EMAIL_SIGNIN",PASSWORD_RESET:"PASSWORD_RESET",RECOVER_EMAIL:"RECOVER_EMAIL",REVERT_SECOND_FACTOR_ADDITION:"REVERT_SECOND_FACTOR_ADDITION",VERIFY_AND_CHANGE_EMAIL:"VERIFY_AND_CHANGE_EMAIL",VERIFY_EMAIL:"VERIFY_EMAIL"};function Io(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}}const Co=function(){return{"admin-restricted-operation":"This operation is restricted to administrators only.","argument-error":"","app-not-authorized":"This app, identified by the domain where it's hosted, is not authorized to use Firebase Authentication with the provided API key. Review your key configuration in the Google API console.","app-not-installed":"The requested mobile application corresponding to the identifier (Android package name or iOS bundle ID) provided is not installed on this device.","captcha-check-failed":"The reCAPTCHA response token provided is either invalid, expired, already used or the domain associated with it does not match the list of whitelisted domains.","code-expired":"The SMS code has expired. Please re-send the verification code to try again.","cordova-not-ready":"Cordova framework is not ready.","cors-unsupported":"This browser is not supported.","credential-already-in-use":"This credential is already associated with a different user account.","custom-token-mismatch":"The custom token corresponds to a different audience.","requires-recent-login":"This operation is sensitive and requires recent authentication. Log in again before retrying this request.","dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK.","dynamic-link-not-activated":"Please activate Dynamic Links in the Firebase Console and agree to the terms and conditions.","email-change-needs-verification":"Multi-factor users must always have a verified email.","email-already-in-use":"The email address is already in use by another account.","emulator-config-failed":'Auth instance has already been used to make a network call. Auth can no longer be configured to use the emulator. Try calling "connectAuthEmulator()" sooner.',"expired-action-code":"The action code has expired.","cancelled-popup-request":"This operation has been cancelled due to another conflicting popup being opened.","internal-error":"An internal AuthError has occurred.","invalid-app-credential":"The phone verification request contains an invalid application verifier. The reCAPTCHA token response is either invalid or expired.","invalid-app-id":"The mobile app identifier is not registed for the current project.","invalid-user-token":"This user's credential isn't valid for this project. This can happen if the user's token has been tampered with, or if the user isn't for the project associated with this API key.","invalid-auth-event":"An internal AuthError has occurred.","invalid-verification-code":"The SMS verification code used to create the phone auth credential is invalid. Please resend the verification code sms and be sure to use the verification code provided by the user.","invalid-continue-uri":"The continue URL provided in the request is invalid.","invalid-cordova-configuration":"The following Cordova plugins must be installed to enable OAuth sign-in: cordova-plugin-buildinfo, cordova-universal-links-plugin, cordova-plugin-browsertab, cordova-plugin-inappbrowser and cordova-plugin-customurlscheme.","invalid-custom-token":"The custom token format is incorrect. Please check the documentation.","invalid-dynamic-link-domain":"The provided dynamic link domain is not configured or authorized for the current project.","invalid-email":"The email address is badly formatted.","invalid-emulator-scheme":"Emulator URL must start with a valid scheme (http:// or https://).","invalid-api-key":"Your API key is invalid, please check you have copied it correctly.","invalid-cert-hash":"The SHA-1 certificate hash provided is invalid.","invalid-credential":"The supplied auth credential is malformed or has expired.","invalid-message-payload":"The email template corresponding to this action contains invalid characters in its message. Please fix by going to the Auth email templates section in the Firebase Console.","invalid-multi-factor-session":"The request does not contain a valid proof of first factor successful sign-in.","invalid-oauth-provider":"EmailAuthProvider is not supported for this operation. This operation only supports OAuth providers.","invalid-oauth-client-id":"The OAuth client ID provided is either invalid or does not match the specified API key.","unauthorized-domain":"This domain is not authorized for OAuth operations for your Firebase project. Edit the list of authorized domains from the Firebase console.","invalid-action-code":"The action code is invalid. This can happen if the code is malformed, expired, or has already been used.","wrong-password":"The password is invalid or the user does not have a password.","invalid-persistence-type":"The specified persistence type is invalid. It can only be local, session or none.","invalid-phone-number":"The format of the phone number provided is incorrect. Please enter the phone number in a format that can be parsed into E.164 format. E.164 phone numbers are written in the format [+][country code][subscriber number including area code].","invalid-provider-id":"The specified provider ID is invalid.","invalid-recipient-email":"The email corresponding to this action failed to send as the provided recipient email address is invalid.","invalid-sender":"The email template corresponding to this action contains an invalid sender email or name. Please fix by going to the Auth email templates section in the Firebase Console.","invalid-verification-id":"The verification ID used to create the phone auth credential is invalid.","invalid-tenant-id":"The Auth instance's tenant ID is invalid.","login-blocked":"Login blocked by user-provided method: {$originalMessage}","missing-android-pkg-name":"An Android Package Name must be provided if the Android App is required to be installed.","auth-domain-config-required":"Be sure to include authDomain when calling firebase.initializeApp(), by following the instructions in the Firebase console.","missing-app-credential":"The phone verification request is missing an application verifier assertion. A reCAPTCHA response token needs to be provided.","missing-verification-code":"The phone auth credential was created with an empty SMS verification code.","missing-continue-uri":"A continue URL must be provided in the request.","missing-iframe-start":"An internal AuthError has occurred.","missing-ios-bundle-id":"An iOS Bundle ID must be provided if an App Store ID is provided.","missing-or-invalid-nonce":"The request does not contain a valid nonce. This can occur if the SHA-256 hash of the provided raw nonce does not match the hashed nonce in the ID token payload.","missing-multi-factor-info":"No second factor identifier is provided.","missing-multi-factor-session":"The request is missing proof of first factor successful sign-in.","missing-phone-number":"To send verification codes, provide a phone number for the recipient.","missing-verification-id":"The phone auth credential was created with an empty verification ID.","app-deleted":"This instance of FirebaseApp has been deleted.","multi-factor-info-not-found":"The user does not have a second factor matching the identifier provided.","multi-factor-auth-required":"Proof of ownership of a second factor is required to complete sign-in.","account-exists-with-different-credential":"An account already exists with the same email address but different sign-in credentials. Sign in using a provider associated with this email address.","network-request-failed":"A network AuthError (such as timeout, interrupted connection or unreachable host) has occurred.","no-auth-event":"An internal AuthError has occurred.","no-such-provider":"User was not linked to an account with the given provider.","null-user":"A null user object was provided as the argument for an operation which requires a non-null user object.","operation-not-allowed":"The given sign-in provider is disabled for this Firebase project. Enable it in the Firebase console, under the sign-in method tab of the Auth section.","operation-not-supported-in-this-environment":'This operation is not supported in the environment this application is running on. "location.protocol" must be http, https or chrome-extension and web storage must be enabled.',"popup-blocked":"Unable to establish a connection with the popup. It may have been blocked by the browser.","popup-closed-by-user":"The popup has been closed by the user before finalizing the operation.","provider-already-linked":"User can only be linked to one identity for the given provider.","quota-exceeded":"The project's quota for this operation has been exceeded.","redirect-cancelled-by-user":"The redirect operation has been cancelled by the user before finalizing.","redirect-operation-pending":"A redirect sign-in operation is already pending.","rejected-credential":"The request contains malformed or mismatching credentials.","second-factor-already-in-use":"The second factor is already enrolled on this account.","maximum-second-factor-count-exceeded":"The maximum allowed number of second factors on a user has been exceeded.","tenant-id-mismatch":"The provided tenant ID does not match the Auth instance's tenant ID",timeout:"The operation has timed out.","user-token-expired":"The user's credential is no longer valid. The user must sign in again.","too-many-requests":"We have blocked all requests from this device due to unusual activity. Try again later.","unauthorized-continue-uri":"The domain of the continue URL is not whitelisted.  Please whitelist the domain in the Firebase console.","unsupported-first-factor":"Enrolling a second factor or signing in with a multi-factor account requires sign-in with a supported first factor.","unsupported-persistence-type":"The current environment does not support the specified persistence type.","unsupported-tenant-operation":"This operation is not supported in a multi-tenant context.","unverified-email":"The operation requires a verified email.","user-cancelled":"The user did not grant your application the permissions it requested.","user-not-found":"There is no user record corresponding to this identifier. The user may have been deleted.","user-disabled":"The user account has been disabled by an administrator.","user-mismatch":"The supplied credentials do not correspond to the previously signed in user.","user-signed-out":"","weak-password":"The password must be 6 characters long or more.","web-storage-unsupported":"This browser is not supported or 3rd party cookies and data may be disabled.","already-initialized":"initializeAuth() has already been called with different options. To avoid this error, call initializeAuth() with the same options as when it was originally called, or call getAuth() to return the already initialized instance."}},Ro=Io,No=new ErrorFactory("auth","Firebase",{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}),xo=new Logger("@firebase/auth");function Po(e,...t){xo.logLevel<=ee.ERROR&&xo.error(`Auth (${Le}): ${e}`,...t)}function Oo(e,...t){throw Lo(e,...t)}function Ao(e,...t){return Lo(e,...t)}function Do(e,t,n){const r=Object.assign(Object.assign({},Ro()),{[t]:n});return new ErrorFactory("auth","Firebase",r).create(t,{appName:e.name})}function Mo(e,t,n){if(!(t instanceof n))throw n.name!==t.constructor.name&&Oo(e,"argument-error"),Do(e,"argument-error",`Type of ${t.constructor.name} does not match expected instance.Did you pass a reference from a different Auth SDK?`)}function Lo(e,...t){if("string"!=typeof e){const n=t[0],r=[...t.slice(1)];return r[0]&&(r[0].appName=e.name),e._errorFactory.create(n,...r)}return No.create(e,...t)}function Uo(e,t,...n){if(!e)throw Lo(t,...n)}function Fo(e){const t="INTERNAL ASSERTION FAILED: "+e;throw Po(t),new Error(t)}function jo(e,t){e||Fo(t)}const Bo=new Map;function zo(e){jo(e instanceof Function,"Expected a class definition");let t=Bo.get(e);return t?(jo(t instanceof e,"Instance stored in cache mismatched with class"),t):(t=new e,Bo.set(e,t),t)}function Wo(){var e;return"undefined"!=typeof self&&(null===(e=self.location)||void 0===e?void 0:e.href)||""}function Go(){return"http:"===qo()||"https:"===qo()}function qo(){var e;return"undefined"!=typeof self&&(null===(e=self.location)||void 0===e?void 0:e.protocol)||null}class Delay{constructor(e,t){this.shortDelay=e,this.longDelay=t,jo(t>e,"Short delay should be less than long delay!"),this.isMobile=T()||R()}get(){return"undefined"!=typeof navigator&&navigator&&"onLine"in navigator&&"boolean"==typeof navigator.onLine&&(Go()||C()||"connection"in navigator)&&!navigator.onLine?Math.min(5e3,this.shortDelay):this.isMobile?this.longDelay:this.shortDelay}}function Ho(e,t){jo(e.emulator,"Emulator should always be set here");const{url:n}=e.emulator;return t?`${n}${t.startsWith("/")?t.slice(1):t}`:n}class FetchProvider{static initialize(e,t,n){this.fetchImpl=e,t&&(this.headersImpl=t),n&&(this.responseImpl=n)}static fetch(){return this.fetchImpl?this.fetchImpl:"undefined"!=typeof self&&"fetch"in self?self.fetch:void Fo("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){return this.headersImpl?this.headersImpl:"undefined"!=typeof self&&"Headers"in self?self.Headers:void Fo("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){return this.responseImpl?this.responseImpl:"undefined"!=typeof self&&"Response"in self?self.Response:void Fo("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}}const $o={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"internal-error",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error"},Vo=new Delay(3e4,6e4);function Yo(e,t){return e.tenantId&&!t.tenantId?Object.assign(Object.assign({},t),{tenantId:e.tenantId}):t}async function Ko(e,t,n,r,i={}){return Jo(e,i,(async()=>{let i={},o={};r&&("GET"===t?o=r:i={body:JSON.stringify(r)});const s=G(Object.assign({key:e.config.apiKey},o)).slice(1),a=await e._getAdditionalHeaders();return a["Content-Type"]="application/json",e.languageCode&&(a["X-Firebase-Locale"]=e.languageCode),FetchProvider.fetch()(Qo(e,e.config.apiHost,n,s),Object.assign({method:t,headers:a,referrerPolicy:"no-referrer"},i))}))}async function Jo(e,t,n){e._canInitEmulator=!1;const r=Object.assign(Object.assign({},$o),t);try{const t=new NetworkTimeout(e),i=await Promise.race([n(),t.promise]);t.clearNetworkTimeout();const o=await i.json();if("needConfirmation"in o)throw Zo(e,"account-exists-with-different-credential",o);if(i.ok&&!("errorMessage"in o))return o;{const t=i.ok?o.errorMessage:o.error.message,[n,s]=t.split(" : ");if("FEDERATED_USER_ID_ALREADY_LINKED"===n)throw Zo(e,"credential-already-in-use",o);if("EMAIL_EXISTS"===n)throw Zo(e,"email-already-in-use",o);if("USER_DISABLED"===n)throw Zo(e,"user-disabled",o);const a=r[n]||n.toLowerCase().replace(/[_\s]+/g,"-");if(s)throw Do(e,a,s);Oo(e,a)}}catch(i){if(i instanceof FirebaseError)throw i;Oo(e,"network-request-failed")}}async function Xo(e,t,n,r,i={}){const o=await Ko(e,t,n,r,i);return"mfaPendingCredential"in o&&Oo(e,"multi-factor-auth-required",{_serverResponse:o}),o}function Qo(e,t,n,r){const i=`${t}${n}?${r}`;return e.config.emulator?Ho(e.config,i):`${e.config.apiScheme}://${i}`}class NetworkTimeout{constructor(e){this.auth=e,this.timer=null,this.promise=new Promise(((e,t)=>{this.timer=setTimeout((()=>t(Ao(this.auth,"network-request-failed"))),Vo.get())}))}clearNetworkTimeout(){clearTimeout(this.timer)}}function Zo(e,t,n){const r={appName:e.name};n.email&&(r.email=n.email),n.phoneNumber&&(r.phoneNumber=n.phoneNumber);const i=Ao(e,t,r);return i.customData._tokenResponse=n,i}function es(e){if(e)try{const t=new Date(Number(e));if(!isNaN(t.getTime()))return t.toUTCString()}catch(t){}}function ts(e){return 1e3*Number(e)}function ns(e){const[t,n,r]=e.split(".");if(void 0===t||void 0===n||void 0===r)return Po("JWT malformed, contained fewer than 3 sections"),null;try{const e=_(n);return e?JSON.parse(e):(Po("Failed to decode base64 JWT payload"),null)}catch(i){return Po("Caught error parsing JWT payload as JSON",null==i?void 0:i.toString()),null}}async function rs(e,t,n=!1){if(n)return t;try{return await t}catch(r){throw r instanceof FirebaseError&&function({code:e}){return"auth/user-disabled"===e||"auth/user-token-expired"===e}(r)&&e.auth.currentUser===e&&await e.auth.signOut(),r}}class ProactiveRefresh{constructor(e){this.user=e,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){this.isRunning&&(this.isRunning=!1,null!==this.timerId&&clearTimeout(this.timerId))}getInterval(e){var t;if(e){const e=this.errorBackoff;return this.errorBackoff=Math.min(2*this.errorBackoff,96e4),e}{this.errorBackoff=3e4;const e=(null!==(t=this.user.stsTokenManager.expirationTime)&&void 0!==t?t:0)-Date.now()-3e5;return Math.max(0,e)}}schedule(e=!1){if(!this.isRunning)return;const t=this.getInterval(e);this.timerId=setTimeout((async()=>{await this.iteration()}),t)}async iteration(){try{await this.user.getIdToken(!0)}catch(e){return void("auth/network-request-failed"===(null==e?void 0:e.code)&&this.schedule(!0))}this.schedule()}}class UserMetadata{constructor(e,t){this.createdAt=e,this.lastLoginAt=t,this._initializeTime()}_initializeTime(){this.lastSignInTime=es(this.lastLoginAt),this.creationTime=es(this.createdAt)}_copy(e){this.createdAt=e.createdAt,this.lastLoginAt=e.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}}async function is(e){var t;const n=e.auth,r=await e.getIdToken(),i=await rs(e,async function(e,t){return Ko(e,"POST","/v1/accounts:lookup",t)}(n,{idToken:r}));Uo(null==i?void 0:i.users.length,n,"internal-error");const o=i.users[0];e._notifyReloadListener(o);const s=(null===(t=o.providerUserInfo)||void 0===t?void 0:t.length)?o.providerUserInfo.map((e=>{var{providerId:t}=e,n=So(e,["providerId"]);return{providerId:t,uid:n.rawId||"",displayName:n.displayName||null,email:n.email||null,phoneNumber:n.phoneNumber||null,photoURL:n.photoUrl||null}})):[];const a=(l=e.providerData,c=s,[...l.filter((e=>!c.some((t=>t.providerId===e.providerId)))),...c]);var l,c;const u=e.isAnonymous,d=!(e.email&&o.passwordHash||(null==a?void 0:a.length)),h=!!u&&d,p={uid:o.localId,displayName:o.displayName||null,photoURL:o.photoUrl||null,email:o.email||null,emailVerified:o.emailVerified||!1,phoneNumber:o.phoneNumber||null,tenantId:o.tenantId||null,providerData:a,metadata:new UserMetadata(o.createdAt,o.lastLoginAt),isAnonymous:h};Object.assign(e,p)}class StsTokenManager{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(e){Uo(e.idToken,"internal-error"),Uo(void 0!==e.idToken,"internal-error"),Uo(void 0!==e.refreshToken,"internal-error");const t="expiresIn"in e&&void 0!==e.expiresIn?Number(e.expiresIn):function(e){const t=ns(e);return Uo(t,"internal-error"),Uo(void 0!==t.exp,"internal-error"),Uo(void 0!==t.iat,"internal-error"),Number(t.exp)-Number(t.iat)}(e.idToken);this.updateTokensAndExpiration(e.idToken,e.refreshToken,t)}async getToken(e,t=!1){return Uo(!this.accessToken||this.refreshToken,e,"user-token-expired"),t||!this.accessToken||this.isExpired?this.refreshToken?(await this.refresh(e,this.refreshToken),this.accessToken):null:this.accessToken}clearRefreshToken(){this.refreshToken=null}async refresh(e,t){const{accessToken:n,refreshToken:r,expiresIn:i}=await async function(e,t){const n=await Jo(e,{},(async()=>{const n=G({grant_type:"refresh_token",refresh_token:t}).slice(1),{tokenApiHost:r,apiKey:i}=e.config,o=Qo(e,r,"/v1/token",`key=${i}`),s=await e._getAdditionalHeaders();return s["Content-Type"]="application/x-www-form-urlencoded",FetchProvider.fetch()(o,{method:"POST",headers:s,body:n})}));return{accessToken:n.access_token,expiresIn:n.expires_in,refreshToken:n.refresh_token}}(e,t);this.updateTokensAndExpiration(n,r,Number(i))}updateTokensAndExpiration(e,t,n){this.refreshToken=t||null,this.accessToken=e||null,this.expirationTime=Date.now()+1e3*n}static fromJSON(e,t){const{refreshToken:n,accessToken:r,expirationTime:i}=t,o=new StsTokenManager;return n&&(Uo("string"==typeof n,"internal-error",{appName:e}),o.refreshToken=n),r&&(Uo("string"==typeof r,"internal-error",{appName:e}),o.accessToken=r),i&&(Uo("number"==typeof i,"internal-error",{appName:e}),o.expirationTime=i),o}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(e){this.accessToken=e.accessToken,this.refreshToken=e.refreshToken,this.expirationTime=e.expirationTime}_clone(){return Object.assign(new StsTokenManager,this.toJSON())}_performRefresh(){return Fo("not implemented")}}function os(e,t){Uo("string"==typeof e||void 0===e,"internal-error",{appName:t})}class UserImpl{constructor(e){var{uid:t,auth:n,stsTokenManager:r}=e,i=So(e,["uid","auth","stsTokenManager"]);this.providerId="firebase",this.proactiveRefresh=new ProactiveRefresh(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=t,this.auth=n,this.stsTokenManager=r,this.accessToken=r.accessToken,this.displayName=i.displayName||null,this.email=i.email||null,this.emailVerified=i.emailVerified||!1,this.phoneNumber=i.phoneNumber||null,this.photoURL=i.photoURL||null,this.isAnonymous=i.isAnonymous||!1,this.tenantId=i.tenantId||null,this.providerData=i.providerData?[...i.providerData]:[],this.metadata=new UserMetadata(i.createdAt||void 0,i.lastLoginAt||void 0)}async getIdToken(e){const t=await rs(this,this.stsTokenManager.getToken(this.auth,e));return Uo(t,this.auth,"internal-error"),this.accessToken!==t&&(this.accessToken=t,await this.auth._persistUserIfCurrent(this),this.auth._notifyListenersIfCurrent(this)),t}getIdTokenResult(e){return async function(e,t=!1){const n=X(e),r=await n.getIdToken(t),i=ns(r);Uo(i&&i.exp&&i.auth_time&&i.iat,n.auth,"internal-error");const o="object"==typeof i.firebase?i.firebase:void 0,s=null==o?void 0:o.sign_in_provider;return{claims:i,token:r,authTime:es(ts(i.auth_time)),issuedAtTime:es(ts(i.iat)),expirationTime:es(ts(i.exp)),signInProvider:s||null,signInSecondFactor:(null==o?void 0:o.sign_in_second_factor)||null}}(this,e)}reload(){return async function(e){const t=X(e);await is(t),await t.auth._persistUserIfCurrent(t),t.auth._notifyListenersIfCurrent(t)}(this)}_assign(e){this!==e&&(Uo(this.uid===e.uid,this.auth,"internal-error"),this.displayName=e.displayName,this.photoURL=e.photoURL,this.email=e.email,this.emailVerified=e.emailVerified,this.phoneNumber=e.phoneNumber,this.isAnonymous=e.isAnonymous,this.tenantId=e.tenantId,this.providerData=e.providerData.map((e=>Object.assign({},e))),this.metadata._copy(e.metadata),this.stsTokenManager._assign(e.stsTokenManager))}_clone(e){return new UserImpl(Object.assign(Object.assign({},this),{auth:e,stsTokenManager:this.stsTokenManager._clone()}))}_onReload(e){Uo(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=e,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(e){this.reloadListener?this.reloadListener(e):this.reloadUserInfo=e}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}async _updateTokensIfNecessary(e,t=!1){let n=!1;e.idToken&&e.idToken!==this.stsTokenManager.accessToken&&(this.stsTokenManager.updateFromServerResponse(e),n=!0),t&&await is(this),await this.auth._persistUserIfCurrent(this),n&&this.auth._notifyListenersIfCurrent(this)}async delete(){const e=await this.getIdToken();return await rs(this,async function(e,t){return Ko(e,"POST","/v1/accounts:delete",t)}(this.auth,{idToken:e})),this.stsTokenManager.clearRefreshToken(),this.auth.signOut()}toJSON(){return Object.assign(Object.assign({uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map((e=>Object.assign({},e))),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId},this.metadata.toJSON()),{apiKey:this.auth.config.apiKey,appName:this.auth.name})}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(e,t){var n,r,i,o,s,a,l,c;const u=null!==(n=t.displayName)&&void 0!==n?n:void 0,d=null!==(r=t.email)&&void 0!==r?r:void 0,h=null!==(i=t.phoneNumber)&&void 0!==i?i:void 0,p=null!==(o=t.photoURL)&&void 0!==o?o:void 0,f=null!==(s=t.tenantId)&&void 0!==s?s:void 0,m=null!==(a=t._redirectEventId)&&void 0!==a?a:void 0,_=null!==(l=t.createdAt)&&void 0!==l?l:void 0,g=null!==(c=t.lastLoginAt)&&void 0!==c?c:void 0,{uid:v,emailVerified:y,isAnonymous:b,providerData:w,stsTokenManager:E}=t;Uo(v&&E,e,"internal-error");const S=StsTokenManager.fromJSON(this.name,E);Uo("string"==typeof v,e,"internal-error"),os(u,e.name),os(d,e.name),Uo("boolean"==typeof y,e,"internal-error"),Uo("boolean"==typeof b,e,"internal-error"),os(h,e.name),os(p,e.name),os(f,e.name),os(m,e.name),os(_,e.name),os(g,e.name);const k=new UserImpl({uid:v,auth:e,email:d,emailVerified:y,displayName:u,isAnonymous:b,photoURL:p,phoneNumber:h,tenantId:f,stsTokenManager:S,createdAt:_,lastLoginAt:g});return w&&Array.isArray(w)&&(k.providerData=w.map((e=>Object.assign({},e)))),m&&(k._redirectEventId=m),k}static async _fromIdTokenResponse(e,t,n=!1){const r=new StsTokenManager;r.updateFromServerResponse(t);const i=new UserImpl({uid:t.localId,auth:e,stsTokenManager:r,isAnonymous:n});return await is(i),i}}class InMemoryPersistence{constructor(){this.type="NONE",this.storage={}}async _isAvailable(){return!0}async _set(e,t){this.storage[e]=t}async _get(e){const t=this.storage[e];return void 0===t?null:t}async _remove(e){delete this.storage[e]}_addListener(e,t){}_removeListener(e,t){}}InMemoryPersistence.type="NONE";const ss=InMemoryPersistence;function as(e,t,n){return`firebase:${e}:${t}:${n}`}class PersistenceUserManager{constructor(e,t,n){this.persistence=e,this.auth=t,this.userKey=n;const{config:r,name:i}=this.auth;this.fullUserKey=as(this.userKey,r.apiKey,i),this.fullPersistenceKey=as("persistence",r.apiKey,i),this.boundEventHandler=t._onStorageEvent.bind(t),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(e){return this.persistence._set(this.fullUserKey,e.toJSON())}async getCurrentUser(){const e=await this.persistence._get(this.fullUserKey);return e?UserImpl._fromJSON(this.auth,e):null}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}async setPersistence(e){if(this.persistence===e)return;const t=await this.getCurrentUser();return await this.removeCurrentUser(),this.persistence=e,t?this.setCurrentUser(t):void 0}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static async create(e,t,n="authUser"){if(!t.length)return new PersistenceUserManager(zo(ss),e,n);const r=(await Promise.all(t.map((async e=>{if(await e._isAvailable())return e})))).filter((e=>e));let i=r[0]||zo(ss);const o=as(n,e.config.apiKey,e.name);let s=null;for(const c of t)try{const t=await c._get(o);if(t){const n=UserImpl._fromJSON(e,t);c!==i&&(s=n),i=c;break}}catch(l){}const a=r.filter((e=>e._shouldAllowMigration));return i._shouldAllowMigration&&a.length?(i=a[0],s&&await i._set(o,s.toJSON()),await Promise.all(t.map((async e=>{if(e!==i)try{await e._remove(o)}catch(l){}}))),new PersistenceUserManager(i,e,n)):new PersistenceUserManager(i,e,n)}}function ls(e){const t=e.toLowerCase();if(t.includes("opera/")||t.includes("opr/")||t.includes("opios/"))return"Opera";if(hs(t))return"IEMobile";if(t.includes("msie")||t.includes("trident/"))return"IE";if(t.includes("edge/"))return"Edge";if(cs(t))return"Firefox";if(t.includes("silk/"))return"Silk";if(fs(t))return"Blackberry";if(ms(t))return"Webos";if(us(t))return"Safari";if((t.includes("chrome/")||ds(t))&&!t.includes("edge/"))return"Chrome";if(ps(t))return"Android";{const t=/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/,n=e.match(t);if(2===(null==n?void 0:n.length))return n[1]}return"Other"}function cs(e=k()){return/firefox\//i.test(e)}function us(e=k()){const t=e.toLowerCase();return t.includes("safari/")&&!t.includes("chrome/")&&!t.includes("crios/")&&!t.includes("android")}function ds(e=k()){return/crios\//i.test(e)}function hs(e=k()){return/iemobile/i.test(e)}function ps(e=k()){return/android/i.test(e)}function fs(e=k()){return/blackberry/i.test(e)}function ms(e=k()){return/webos/i.test(e)}function _s(e=k()){return/iphone|ipad|ipod/i.test(e)||/macintosh/i.test(e)&&/mobile/i.test(e)}function gs(e=k()){return _s(e)||ps(e)||ms(e)||fs(e)||/windows phone/i.test(e)||hs(e)}function vs(e,t=[]){let n;switch(e){case"Browser":n=ls(k());break;case"Worker":n=`${ls(k())}-${e}`;break;default:n=e}const r=t.length?t.join(","):"FirebaseCore-web";return`${n}/JsCore/${Le}/${r}`}class AuthMiddlewareQueue{constructor(e){this.auth=e,this.queue=[]}pushCallback(e,t){const n=t=>new Promise(((n,r)=>{try{n(e(t))}catch(i){r(i)}}));n.onAbort=t,this.queue.push(n);const r=this.queue.length-1;return()=>{this.queue[r]=()=>Promise.resolve()}}async runMiddleware(e){if(this.auth.currentUser===e)return;const t=[];try{for(const n of this.queue)await n(e),n.onAbort&&t.push(n.onAbort)}catch(n){t.reverse();for(const e of t)try{e()}catch(r){}throw this.auth._errorFactory.create("login-blocked",{originalMessage:null==n?void 0:n.message})}}}class AuthImpl{constructor(e,t,n){this.app=e,this.heartbeatServiceProvider=t,this.config=n,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new Subscription(this),this.idTokenSubscription=new Subscription(this),this.beforeStateQueue=new AuthMiddlewareQueue(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=No,this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=e.name,this.clientVersion=n.sdkClientVersion}_initializeWithPersistence(e,t){return t&&(this._popupRedirectResolver=zo(t)),this._initializationPromise=this.queue((async()=>{var n,r;if(!this._deleted&&(this.persistenceManager=await PersistenceUserManager.create(this,e),!this._deleted)){if(null===(n=this._popupRedirectResolver)||void 0===n?void 0:n._shouldInitProactively)try{await this._popupRedirectResolver._initialize(this)}catch(i){}await this.initializeCurrentUser(t),this.lastNotifiedUid=(null===(r=this.currentUser)||void 0===r?void 0:r.uid)||null,this._deleted||(this._isInitialized=!0)}})),this._initializationPromise}async _onStorageEvent(){if(this._deleted)return;const e=await this.assertedPersistence.getCurrentUser();return this.currentUser||e?this.currentUser&&e&&this.currentUser.uid===e.uid?(this._currentUser._assign(e),void(await this.currentUser.getIdToken())):void(await this._updateCurrentUser(e,!0)):void 0}async initializeCurrentUser(e){var t;const n=await this.assertedPersistence.getCurrentUser();let r=n,i=!1;if(e&&this.config.authDomain){await this.getOrInitRedirectPersistenceManager();const n=null===(t=this.redirectUser)||void 0===t?void 0:t._redirectEventId,o=null==r?void 0:r._redirectEventId,s=await this.tryRedirectSignIn(e);n&&n!==o||!(null==s?void 0:s.user)||(r=s.user,i=!0)}if(!r)return this.directlySetCurrentUser(null);if(!r._redirectEventId){if(i)try{await this.beforeStateQueue.runMiddleware(r)}catch(o){r=n,this._popupRedirectResolver._overrideRedirectResult(this,(()=>Promise.reject(o)))}return r?this.reloadAndSetCurrentUserOrClear(r):this.directlySetCurrentUser(null)}return Uo(this._popupRedirectResolver,this,"argument-error"),await this.getOrInitRedirectPersistenceManager(),this.redirectUser&&this.redirectUser._redirectEventId===r._redirectEventId?this.directlySetCurrentUser(r):this.reloadAndSetCurrentUserOrClear(r)}async tryRedirectSignIn(e){let t=null;try{t=await this._popupRedirectResolver._completeRedirectFn(this,e,!0)}catch(n){await this._setRedirectUser(null)}return t}async reloadAndSetCurrentUserOrClear(e){try{await is(e)}catch(t){if("auth/network-request-failed"!==(null==t?void 0:t.code))return this.directlySetCurrentUser(null)}return this.directlySetCurrentUser(e)}useDeviceLanguage(){this.languageCode=function(){if("undefined"==typeof navigator)return null;const e=navigator;return e.languages&&e.languages[0]||e.language||null}()}async _delete(){this._deleted=!0}async updateCurrentUser(e){const t=e?X(e):null;return t&&Uo(t.auth.config.apiKey===this.config.apiKey,this,"invalid-user-token"),this._updateCurrentUser(t&&t._clone(this))}async _updateCurrentUser(e,t=!1){if(!this._deleted)return e&&Uo(this.tenantId===e.tenantId,this,"tenant-id-mismatch"),t||await this.beforeStateQueue.runMiddleware(e),this.queue((async()=>{await this.directlySetCurrentUser(e),this.notifyAuthListeners()}))}async signOut(){return await this.beforeStateQueue.runMiddleware(null),(this.redirectPersistenceManager||this._popupRedirectResolver)&&await this._setRedirectUser(null),this._updateCurrentUser(null,!0)}setPersistence(e){return this.queue((async()=>{await this.assertedPersistence.setPersistence(zo(e))}))}_getPersistence(){return this.assertedPersistence.persistence.type}_updateErrorMap(e){this._errorFactory=new ErrorFactory("auth","Firebase",e())}onAuthStateChanged(e,t,n){return this.registerStateListener(this.authStateSubscription,e,t,n)}beforeAuthStateChanged(e,t){return this.beforeStateQueue.pushCallback(e,t)}onIdTokenChanged(e,t,n){return this.registerStateListener(this.idTokenSubscription,e,t,n)}toJSON(){var e;return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:null===(e=this._currentUser)||void 0===e?void 0:e.toJSON()}}async _setRedirectUser(e,t){const n=await this.getOrInitRedirectPersistenceManager(t);return null===e?n.removeCurrentUser():n.setCurrentUser(e)}async getOrInitRedirectPersistenceManager(e){if(!this.redirectPersistenceManager){const t=e&&zo(e)||this._popupRedirectResolver;Uo(t,this,"argument-error"),this.redirectPersistenceManager=await PersistenceUserManager.create(this,[zo(t._redirectPersistence)],"redirectUser"),this.redirectUser=await this.redirectPersistenceManager.getCurrentUser()}return this.redirectPersistenceManager}async _redirectUserForId(e){var t,n;return this._isInitialized&&await this.queue((async()=>{})),(null===(t=this._currentUser)||void 0===t?void 0:t._redirectEventId)===e?this._currentUser:(null===(n=this.redirectUser)||void 0===n?void 0:n._redirectEventId)===e?this.redirectUser:null}async _persistUserIfCurrent(e){if(e===this.currentUser)return this.queue((async()=>this.directlySetCurrentUser(e)))}_notifyListenersIfCurrent(e){e===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){var e,t;if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);const n=null!==(t=null===(e=this.currentUser)||void 0===e?void 0:e.uid)&&void 0!==t?t:null;this.lastNotifiedUid!==n&&(this.lastNotifiedUid=n,this.authStateSubscription.next(this.currentUser))}registerStateListener(e,t,n,r){if(this._deleted)return()=>{};const i="function"==typeof t?t:t.next.bind(t),o=this._isInitialized?Promise.resolve():this._initializationPromise;return Uo(o,this,"internal-error"),o.then((()=>i(this.currentUser))),"function"==typeof t?e.addObserver(t,n,r):e.addObserver(t)}async directlySetCurrentUser(e){this.currentUser&&this.currentUser!==e&&this._currentUser._stopProactiveRefresh(),e&&this.isProactiveRefreshEnabled&&e._startProactiveRefresh(),this.currentUser=e,e?await this.assertedPersistence.setCurrentUser(e):await this.assertedPersistence.removeCurrentUser()}queue(e){return this.operations=this.operations.then(e,e),this.operations}get assertedPersistence(){return Uo(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(e){e&&!this.frameworks.includes(e)&&(this.frameworks.push(e),this.frameworks.sort(),this.clientVersion=vs(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}async _getAdditionalHeaders(){var e;const t={"X-Client-Version":this.clientVersion};this.app.options.appId&&(t["X-Firebase-gmpid"]=this.app.options.appId);const n=await(null===(e=this.heartbeatServiceProvider.getImmediate({optional:!0}))||void 0===e?void 0:e.getHeartbeatsHeader());return n&&(t["X-Firebase-Client"]=n),t}}function ys(e){return X(e)}class Subscription{constructor(e){this.auth=e,this.observer=null,this.addObserver=V((e=>this.observer=e))}get next(){return Uo(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}}function bs(e,t,n){const r=ys(e);Uo(r._canInitEmulator,r,"emulator-config-failed"),Uo(/^https?:\/\//.test(t),r,"invalid-emulator-scheme");const i=!!(null==n?void 0:n.disableWarnings),o=ws(t),{host:s,port:a}=function(e){const t=ws(e),n=/(\/\/)?([^?#/]+)/.exec(e.substr(t.length));if(!n)return{host:"",port:null};const r=n[2].split("@").pop()||"",i=/^(\[[^\]]+\])(:|$)/.exec(r);if(i){const e=i[1];return{host:e,port:Es(r.substr(e.length+1))}}{const[e,t]=r.split(":");return{host:e,port:Es(t)}}}(t),l=null===a?"":`:${a}`;r.config.emulator={url:`${o}//${s}${l}/`},r.settings.appVerificationDisabledForTesting=!0,r.emulatorConfig=Object.freeze({host:s,port:a,protocol:o.replace(":",""),options:Object.freeze({disableWarnings:i})}),i||function(){function e(){const e=document.createElement("p"),t=e.style;e.innerText="Running in emulator mode. Do not use with production credentials.",t.position="fixed",t.width="100%",t.backgroundColor="#ffffff",t.border=".1em solid #000000",t.color="#b50000",t.bottom="0px",t.left="0px",t.margin="0px",t.zIndex="10000",t.textAlign="center",e.classList.add("firebase-emulator-warning"),document.body.appendChild(e)}"undefined"!=typeof console&&"function"==typeof console.info&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials.");"undefined"!=typeof window&&"undefined"!=typeof document&&("loading"===document.readyState?window.addEventListener("DOMContentLoaded",e):e())}()}function ws(e){const t=e.indexOf(":");return t<0?"":e.substr(0,t+1)}function Es(e){if(!e)return null;const t=Number(e);return isNaN(t)?null:t}class AuthCredential{constructor(e,t){this.providerId=e,this.signInMethod=t}toJSON(){return Fo("not implemented")}_getIdTokenResponse(e){return Fo("not implemented")}_linkToIdToken(e,t){return Fo("not implemented")}_getReauthenticationResolver(e){return Fo("not implemented")}}async function Ss(e,t){return Ko(e,"POST","/v1/accounts:resetPassword",Yo(e,t))}async function ks(e,t){return Ko(e,"POST","/v1/accounts:update",t)}async function Ts(e,t){return Ko(e,"POST","/v1/accounts:sendOobCode",Yo(e,t))}class EmailAuthCredential extends AuthCredential{constructor(e,t,n,r=null){super("password",n),this._email=e,this._password=t,this._tenantId=r}static _fromEmailAndPassword(e,t){return new EmailAuthCredential(e,t,"password")}static _fromEmailAndCode(e,t,n=null){return new EmailAuthCredential(e,t,"emailLink",n)}toJSON(){return{email:this._email,password:this._password,signInMethod:this.signInMethod,tenantId:this._tenantId}}static fromJSON(e){const t="string"==typeof e?JSON.parse(e):e;if((null==t?void 0:t.email)&&(null==t?void 0:t.password)){if("password"===t.signInMethod)return this._fromEmailAndPassword(t.email,t.password);if("emailLink"===t.signInMethod)return this._fromEmailAndCode(t.email,t.password,t.tenantId)}return null}async _getIdTokenResponse(e){switch(this.signInMethod){case"password":return async function(e,t){return Xo(e,"POST","/v1/accounts:signInWithPassword",Yo(e,t))}(e,{returnSecureToken:!0,email:this._email,password:this._password});case"emailLink":return async function(e,t){return Xo(e,"POST","/v1/accounts:signInWithEmailLink",Yo(e,t))}(e,{email:this._email,oobCode:this._password});default:Oo(e,"internal-error")}}async _linkToIdToken(e,t){switch(this.signInMethod){case"password":return ks(e,{idToken:t,returnSecureToken:!0,email:this._email,password:this._password});case"emailLink":return async function(e,t){return Xo(e,"POST","/v1/accounts:signInWithEmailLink",Yo(e,t))}(e,{idToken:t,email:this._email,oobCode:this._password});default:Oo(e,"internal-error")}}_getReauthenticationResolver(e){return this._getIdTokenResponse(e)}}async function Is(e,t){return Xo(e,"POST","/v1/accounts:signInWithIdp",Yo(e,t))}class OAuthCredential extends AuthCredential{constructor(){super(...arguments),this.pendingToken=null}static _fromParams(e){const t=new OAuthCredential(e.providerId,e.signInMethod);return e.idToken||e.accessToken?(e.idToken&&(t.idToken=e.idToken),e.accessToken&&(t.accessToken=e.accessToken),e.nonce&&!e.pendingToken&&(t.nonce=e.nonce),e.pendingToken&&(t.pendingToken=e.pendingToken)):e.oauthToken&&e.oauthTokenSecret?(t.accessToken=e.oauthToken,t.secret=e.oauthTokenSecret):Oo("argument-error"),t}toJSON(){return{idToken:this.idToken,accessToken:this.accessToken,secret:this.secret,nonce:this.nonce,pendingToken:this.pendingToken,providerId:this.providerId,signInMethod:this.signInMethod}}static fromJSON(e){const t="string"==typeof e?JSON.parse(e):e,{providerId:n,signInMethod:r}=t,i=So(t,["providerId","signInMethod"]);if(!n||!r)return null;const o=new OAuthCredential(n,r);return o.idToken=i.idToken||void 0,o.accessToken=i.accessToken||void 0,o.secret=i.secret,o.nonce=i.nonce,o.pendingToken=i.pendingToken||null,o}_getIdTokenResponse(e){return Is(e,this.buildRequest())}_linkToIdToken(e,t){const n=this.buildRequest();return n.idToken=t,Is(e,n)}_getReauthenticationResolver(e){const t=this.buildRequest();return t.autoCreate=!1,Is(e,t)}buildRequest(){const e={requestUri:"http://localhost",returnSecureToken:!0};if(this.pendingToken)e.pendingToken=this.pendingToken;else{const t={};this.idToken&&(t.id_token=this.idToken),this.accessToken&&(t.access_token=this.accessToken),this.secret&&(t.oauth_token_secret=this.secret),t.providerId=this.providerId,this.nonce&&!this.pendingToken&&(t.nonce=this.nonce),e.postBody=G(t)}return e}}const Cs={USER_NOT_FOUND:"user-not-found"};class PhoneAuthCredential extends AuthCredential{constructor(e){super("phone","phone"),this.params=e}static _fromVerification(e,t){return new PhoneAuthCredential({verificationId:e,verificationCode:t})}static _fromTokenResponse(e,t){return new PhoneAuthCredential({phoneNumber:e,temporaryProof:t})}_getIdTokenResponse(e){return async function(e,t){return Xo(e,"POST","/v1/accounts:signInWithPhoneNumber",Yo(e,t))}(e,this._makeVerificationRequest())}_linkToIdToken(e,t){return async function(e,t){const n=await Xo(e,"POST","/v1/accounts:signInWithPhoneNumber",Yo(e,t));if(n.temporaryProof)throw Zo(e,"account-exists-with-different-credential",n);return n}(e,Object.assign({idToken:t},this._makeVerificationRequest()))}_getReauthenticationResolver(e){return async function(e,t){return Xo(e,"POST","/v1/accounts:signInWithPhoneNumber",Yo(e,Object.assign(Object.assign({},t),{operation:"REAUTH"})),Cs)}(e,this._makeVerificationRequest())}_makeVerificationRequest(){const{temporaryProof:e,phoneNumber:t,verificationId:n,verificationCode:r}=this.params;return e&&t?{temporaryProof:e,phoneNumber:t}:{sessionInfo:n,code:r}}toJSON(){const e={providerId:this.providerId};return this.params.phoneNumber&&(e.phoneNumber=this.params.phoneNumber),this.params.temporaryProof&&(e.temporaryProof=this.params.temporaryProof),this.params.verificationCode&&(e.verificationCode=this.params.verificationCode),this.params.verificationId&&(e.verificationId=this.params.verificationId),e}static fromJSON(e){"string"==typeof e&&(e=JSON.parse(e));const{verificationId:t,verificationCode:n,phoneNumber:r,temporaryProof:i}=e;return n||t||r||i?new PhoneAuthCredential({verificationId:t,verificationCode:n,phoneNumber:r,temporaryProof:i}):null}}class ActionCodeURL{constructor(e){var t,n,r,i,o,s;const a=H($(e)),l=null!==(t=a.apiKey)&&void 0!==t?t:null,c=null!==(n=a.oobCode)&&void 0!==n?n:null,u=function(e){switch(e){case"recoverEmail":return"RECOVER_EMAIL";case"resetPassword":return"PASSWORD_RESET";case"signIn":return"EMAIL_SIGNIN";case"verifyEmail":return"VERIFY_EMAIL";case"verifyAndChangeEmail":return"VERIFY_AND_CHANGE_EMAIL";case"revertSecondFactorAddition":return"REVERT_SECOND_FACTOR_ADDITION";default:return null}}(null!==(r=a.mode)&&void 0!==r?r:null);Uo(l&&c&&u,"argument-error"),this.apiKey=l,this.operation=u,this.code=c,this.continueUrl=null!==(i=a.continueUrl)&&void 0!==i?i:null,this.languageCode=null!==(o=a.languageCode)&&void 0!==o?o:null,this.tenantId=null!==(s=a.tenantId)&&void 0!==s?s:null}static parseLink(e){const t=function(e){const t=H($(e)).link,n=t?H($(t)).deep_link_id:null,r=H($(e)).deep_link_id;return(r?H($(r)).link:null)||r||n||t||e}(e);try{return new ActionCodeURL(t)}catch(n){return null}}}class EmailAuthProvider{constructor(){this.providerId=EmailAuthProvider.PROVIDER_ID}static credential(e,t){return EmailAuthCredential._fromEmailAndPassword(e,t)}static credentialWithLink(e,t){const n=ActionCodeURL.parseLink(t);return Uo(n,"argument-error"),EmailAuthCredential._fromEmailAndCode(e,n.code,n.tenantId)}}EmailAuthProvider.PROVIDER_ID="password",EmailAuthProvider.EMAIL_PASSWORD_SIGN_IN_METHOD="password",EmailAuthProvider.EMAIL_LINK_SIGN_IN_METHOD="emailLink";class FederatedAuthProvider{constructor(e){this.providerId=e,this.defaultLanguageCode=null,this.customParameters={}}setDefaultLanguage(e){this.defaultLanguageCode=e}setCustomParameters(e){return this.customParameters=e,this}getCustomParameters(){return this.customParameters}}class BaseOAuthProvider extends FederatedAuthProvider{constructor(){super(...arguments),this.scopes=[]}addScope(e){return this.scopes.includes(e)||this.scopes.push(e),this}getScopes(){return[...this.scopes]}}class OAuthProvider extends BaseOAuthProvider{static credentialFromJSON(e){const t="string"==typeof e?JSON.parse(e):e;return Uo("providerId"in t&&"signInMethod"in t,"argument-error"),OAuthCredential._fromParams(t)}credential(e){return this._credential(Object.assign(Object.assign({},e),{nonce:e.rawNonce}))}_credential(e){return Uo(e.idToken||e.accessToken,"argument-error"),OAuthCredential._fromParams(Object.assign(Object.assign({},e),{providerId:this.providerId,signInMethod:this.providerId}))}static credentialFromResult(e){return OAuthProvider.oauthCredentialFromTaggedObject(e)}static credentialFromError(e){return OAuthProvider.oauthCredentialFromTaggedObject(e.customData||{})}static oauthCredentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthIdToken:t,oauthAccessToken:n,oauthTokenSecret:r,pendingToken:i,nonce:o,providerId:s}=e;if(!(n||r||t||i))return null;if(!s)return null;try{return new OAuthProvider(s)._credential({idToken:t,accessToken:n,nonce:o,pendingToken:i})}catch(a){return null}}}class FacebookAuthProvider extends BaseOAuthProvider{constructor(){super("facebook.com")}static credential(e){return OAuthCredential._fromParams({providerId:FacebookAuthProvider.PROVIDER_ID,signInMethod:FacebookAuthProvider.FACEBOOK_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return FacebookAuthProvider.credentialFromTaggedObject(e)}static credentialFromError(e){return FacebookAuthProvider.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e))return null;if(!e.oauthAccessToken)return null;try{return FacebookAuthProvider.credential(e.oauthAccessToken)}catch(t){return null}}}FacebookAuthProvider.FACEBOOK_SIGN_IN_METHOD="facebook.com",FacebookAuthProvider.PROVIDER_ID="facebook.com";class GoogleAuthProvider extends BaseOAuthProvider{constructor(){super("google.com"),this.addScope("profile")}static credential(e,t){return OAuthCredential._fromParams({providerId:GoogleAuthProvider.PROVIDER_ID,signInMethod:GoogleAuthProvider.GOOGLE_SIGN_IN_METHOD,idToken:e,accessToken:t})}static credentialFromResult(e){return GoogleAuthProvider.credentialFromTaggedObject(e)}static credentialFromError(e){return GoogleAuthProvider.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthIdToken:t,oauthAccessToken:n}=e;if(!t&&!n)return null;try{return GoogleAuthProvider.credential(t,n)}catch(r){return null}}}GoogleAuthProvider.GOOGLE_SIGN_IN_METHOD="google.com",GoogleAuthProvider.PROVIDER_ID="google.com";class GithubAuthProvider extends BaseOAuthProvider{constructor(){super("github.com")}static credential(e){return OAuthCredential._fromParams({providerId:GithubAuthProvider.PROVIDER_ID,signInMethod:GithubAuthProvider.GITHUB_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return GithubAuthProvider.credentialFromTaggedObject(e)}static credentialFromError(e){return GithubAuthProvider.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e))return null;if(!e.oauthAccessToken)return null;try{return GithubAuthProvider.credential(e.oauthAccessToken)}catch(t){return null}}}GithubAuthProvider.GITHUB_SIGN_IN_METHOD="github.com",GithubAuthProvider.PROVIDER_ID="github.com";class SAMLAuthCredential extends AuthCredential{constructor(e,t){super(e,e),this.pendingToken=t}_getIdTokenResponse(e){return Is(e,this.buildRequest())}_linkToIdToken(e,t){const n=this.buildRequest();return n.idToken=t,Is(e,n)}_getReauthenticationResolver(e){const t=this.buildRequest();return t.autoCreate=!1,Is(e,t)}toJSON(){return{signInMethod:this.signInMethod,providerId:this.providerId,pendingToken:this.pendingToken}}static fromJSON(e){const t="string"==typeof e?JSON.parse(e):e,{providerId:n,signInMethod:r,pendingToken:i}=t;return n&&r&&i&&n===r?new SAMLAuthCredential(n,i):null}static _create(e,t){return new SAMLAuthCredential(e,t)}buildRequest(){return{requestUri:"http://localhost",returnSecureToken:!0,pendingToken:this.pendingToken}}}class SAMLAuthProvider extends FederatedAuthProvider{constructor(e){Uo(e.startsWith("saml."),"argument-error"),super(e)}static credentialFromResult(e){return SAMLAuthProvider.samlCredentialFromTaggedObject(e)}static credentialFromError(e){return SAMLAuthProvider.samlCredentialFromTaggedObject(e.customData||{})}static credentialFromJSON(e){const t=SAMLAuthCredential.fromJSON(e);return Uo(t,"argument-error"),t}static samlCredentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{pendingToken:t,providerId:n}=e;if(!t||!n)return null;try{return SAMLAuthCredential._create(n,t)}catch(r){return null}}}class TwitterAuthProvider extends BaseOAuthProvider{constructor(){super("twitter.com")}static credential(e,t){return OAuthCredential._fromParams({providerId:TwitterAuthProvider.PROVIDER_ID,signInMethod:TwitterAuthProvider.TWITTER_SIGN_IN_METHOD,oauthToken:e,oauthTokenSecret:t})}static credentialFromResult(e){return TwitterAuthProvider.credentialFromTaggedObject(e)}static credentialFromError(e){return TwitterAuthProvider.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthAccessToken:t,oauthTokenSecret:n}=e;if(!t||!n)return null;try{return TwitterAuthProvider.credential(t,n)}catch(r){return null}}}async function Rs(e,t){return Xo(e,"POST","/v1/accounts:signUp",Yo(e,t))}TwitterAuthProvider.TWITTER_SIGN_IN_METHOD="twitter.com",TwitterAuthProvider.PROVIDER_ID="twitter.com";class UserCredentialImpl{constructor(e){this.user=e.user,this.providerId=e.providerId,this._tokenResponse=e._tokenResponse,this.operationType=e.operationType}static async _fromIdTokenResponse(e,t,n,r=!1){const i=await UserImpl._fromIdTokenResponse(e,n,r),o=Ns(n);return new UserCredentialImpl({user:i,providerId:o,_tokenResponse:n,operationType:t})}static async _forOperation(e,t,n){await e._updateTokensIfNecessary(n,!0);const r=Ns(n);return new UserCredentialImpl({user:e,providerId:r,_tokenResponse:n,operationType:t})}}function Ns(e){return e.providerId?e.providerId:"phoneNumber"in e?"phone":null}class MultiFactorError extends FirebaseError{constructor(e,t,n,r){var i;super(t.code,t.message),this.operationType=n,this.user=r,Object.setPrototypeOf(this,MultiFactorError.prototype),this.customData={appName:e.name,tenantId:null!==(i=e.tenantId)&&void 0!==i?i:void 0,_serverResponse:t.customData._serverResponse,operationType:n}}static _fromErrorAndOperation(e,t,n,r){return new MultiFactorError(e,t,n,r)}}function xs(e,t,n,r){return("reauthenticate"===t?n._getReauthenticationResolver(e):n._getIdTokenResponse(e)).catch((n=>{if("auth/multi-factor-auth-required"===n.code)throw MultiFactorError._fromErrorAndOperation(e,n,t,r);throw n}))}function Ps(e){return new Set(e.map((({providerId:e})=>e)).filter((e=>!!e)))}async function Os(e,t){const n=X(e);await Ds(!0,n,t);const{providerUserInfo:r}=await async function(e,t){return Ko(e,"POST","/v1/accounts:update",t)}(n.auth,{idToken:await n.getIdToken(),deleteProvider:[t]}),i=Ps(r||[]);return n.providerData=n.providerData.filter((e=>i.has(e.providerId))),i.has("phone")||(n.phoneNumber=null),await n.auth._persistUserIfCurrent(n),n}async function As(e,t,n=!1){const r=await rs(e,t._linkToIdToken(e.auth,await e.getIdToken()),n);return UserCredentialImpl._forOperation(e,"link",r)}async function Ds(e,t,n){await is(t);const r=!1===e?"provider-already-linked":"no-such-provider";Uo(Ps(t.providerData).has(n)===e,t.auth,r)}async function Ms(e,t,n=!1){const{auth:r}=e,i="reauthenticate";try{const o=await rs(e,xs(r,i,t,e),n);Uo(o.idToken,r,"internal-error");const s=ns(o.idToken);Uo(s,r,"internal-error");const{sub:a}=s;return Uo(e.uid===a,r,"user-mismatch"),UserCredentialImpl._forOperation(e,i,o)}catch(o){throw"auth/user-not-found"===(null==o?void 0:o.code)&&Oo(r,"user-mismatch"),o}}async function Ls(e,t,n=!1){const r="signIn",i=await xs(e,r,t),o=await UserCredentialImpl._fromIdTokenResponse(e,r,i);return n||await e._updateCurrentUser(o.user),o}async function Us(e,t){return Ls(ys(e),t)}async function Fs(e,t){const n=X(e);return await Ds(!1,n,t.providerId),As(n,t)}async function js(e,t){return Ms(X(e),t)}async function Bs(e,t){const n=ys(e),r=await async function(e,t){return Xo(e,"POST","/v1/accounts:signInWithCustomToken",Yo(e,t))}(n,{token:t,returnSecureToken:!0}),i=await UserCredentialImpl._fromIdTokenResponse(n,"signIn",r);return await n._updateCurrentUser(i.user),i}class MultiFactorInfoImpl{constructor(e,t){this.factorId=e,this.uid=t.mfaEnrollmentId,this.enrollmentTime=new Date(t.enrolledAt).toUTCString(),this.displayName=t.displayName}static _fromServerResponse(e,t){return"phoneInfo"in t?PhoneMultiFactorInfoImpl._fromServerResponse(e,t):Oo(e,"internal-error")}}class PhoneMultiFactorInfoImpl extends MultiFactorInfoImpl{constructor(e){super("phone",e),this.phoneNumber=e.phoneInfo}static _fromServerResponse(e,t){return new PhoneMultiFactorInfoImpl(t)}}function zs(e,t,n){var r;Uo((null===(r=n.url)||void 0===r?void 0:r.length)>0,e,"invalid-continue-uri"),Uo(void 0===n.dynamicLinkDomain||n.dynamicLinkDomain.length>0,e,"invalid-dynamic-link-domain"),t.continueUrl=n.url,t.dynamicLinkDomain=n.dynamicLinkDomain,t.canHandleCodeInApp=n.handleCodeInApp,n.iOS&&(Uo(n.iOS.bundleId.length>0,e,"missing-ios-bundle-id"),t.iOSBundleId=n.iOS.bundleId),n.android&&(Uo(n.android.packageName.length>0,e,"missing-android-pkg-name"),t.androidInstallApp=n.android.installApp,t.androidMinimumVersionCode=n.android.minimumVersion,t.androidPackageName=n.android.packageName)}async function Ws(e,t,n){const r=X(e),i={requestType:"PASSWORD_RESET",email:t};n&&zs(r,i,n),await async function(e,t){return Ts(e,t)}(r,i)}async function Gs(e,t){await async function(e,t){return Ko(e,"POST","/v1/accounts:update",Yo(e,t))}(X(e),{oobCode:t})}async function qs(e,t){const n=X(e),r=await Ss(n,{oobCode:t}),i=r.requestType;switch(Uo(i,n,"internal-error"),i){case"EMAIL_SIGNIN":break;case"VERIFY_AND_CHANGE_EMAIL":Uo(r.newEmail,n,"internal-error");break;case"REVERT_SECOND_FACTOR_ADDITION":Uo(r.mfaInfo,n,"internal-error");default:Uo(r.email,n,"internal-error")}let o=null;return r.mfaInfo&&(o=MultiFactorInfoImpl._fromServerResponse(ys(n),r.mfaInfo)),{data:{email:("VERIFY_AND_CHANGE_EMAIL"===r.requestType?r.newEmail:r.email)||null,previousEmail:("VERIFY_AND_CHANGE_EMAIL"===r.requestType?r.email:r.newEmail)||null,multiFactorInfo:o},operation:i}}async function Hs(e,t,n){const r=X(e),i={requestType:"EMAIL_SIGNIN",email:t};Uo(n.handleCodeInApp,r,"argument-error"),n&&zs(r,i,n),await async function(e,t){return Ts(e,t)}(r,i)}async function $s(e,t){const n={identifier:t,continueUri:Go()?Wo():"http://localhost"},{signinMethods:r}=await async function(e,t){return Ko(e,"POST","/v1/accounts:createAuthUri",Yo(e,t))}(X(e),n);return r||[]}async function Vs(e,t){const n=X(e),r={requestType:"VERIFY_EMAIL",idToken:await e.getIdToken()};t&&zs(n.auth,r,t);const{email:i}=await async function(e,t){return Ts(e,t)}(n.auth,r);i!==e.email&&await e.reload()}async function Ys(e,t,n){const r=X(e),i={requestType:"VERIFY_AND_CHANGE_EMAIL",idToken:await e.getIdToken(),newEmail:t};n&&zs(r.auth,i,n);const{email:o}=await async function(e,t){return Ts(e,t)}(r.auth,i);o!==e.email&&await e.reload()}async function Ks(e,{displayName:t,photoURL:n}){if(void 0===t&&void 0===n)return;const r=X(e),i={idToken:await r.getIdToken(),displayName:t,photoUrl:n,returnSecureToken:!0},o=await rs(r,async function(e,t){return Ko(e,"POST","/v1/accounts:update",t)}(r.auth,i));r.displayName=o.displayName||null,r.photoURL=o.photoUrl||null;const s=r.providerData.find((({providerId:e})=>"password"===e));s&&(s.displayName=r.displayName,s.photoURL=r.photoURL),await r._updateTokensIfNecessary(o)}async function Js(e,t,n){const{auth:r}=e,i={idToken:await e.getIdToken(),returnSecureToken:!0};t&&(i.email=t),n&&(i.password=n);const o=await rs(e,ks(r,i));await e._updateTokensIfNecessary(o,!0)}class GenericAdditionalUserInfo{constructor(e,t,n={}){this.isNewUser=e,this.providerId=t,this.profile=n}}class FederatedAdditionalUserInfoWithUsername extends GenericAdditionalUserInfo{constructor(e,t,n,r){super(e,t,n),this.username=r}}class FacebookAdditionalUserInfo extends GenericAdditionalUserInfo{constructor(e,t){super(e,"facebook.com",t)}}class GithubAdditionalUserInfo extends FederatedAdditionalUserInfoWithUsername{constructor(e,t){super(e,"github.com",t,"string"==typeof(null==t?void 0:t.login)?null==t?void 0:t.login:null)}}class GoogleAdditionalUserInfo extends GenericAdditionalUserInfo{constructor(e,t){super(e,"google.com",t)}}class TwitterAdditionalUserInfo extends FederatedAdditionalUserInfoWithUsername{constructor(e,t,n){super(e,"twitter.com",t,n)}}function Xs(e){const{user:t,_tokenResponse:n}=e;return t.isAnonymous&&!n?{providerId:null,isNewUser:!1,profile:null}:function(e){var t,n;if(!e)return null;const{providerId:r}=e,i=e.rawUserInfo?JSON.parse(e.rawUserInfo):{},o=e.isNewUser||"identitytoolkit#SignupNewUserResponse"===e.kind;if(!r&&(null==e?void 0:e.idToken)){const r=null===(n=null===(t=ns(e.idToken))||void 0===t?void 0:t.firebase)||void 0===n?void 0:n.sign_in_provider;if(r)return new GenericAdditionalUserInfo(o,"anonymous"!==r&&"custom"!==r?r:null)}if(!r)return null;switch(r){case"facebook.com":return new FacebookAdditionalUserInfo(o,i);case"github.com":return new GithubAdditionalUserInfo(o,i);case"google.com":return new GoogleAdditionalUserInfo(o,i);case"twitter.com":return new TwitterAdditionalUserInfo(o,i,e.screenName||null);case"custom":case"anonymous":return new GenericAdditionalUserInfo(o,null);default:return new GenericAdditionalUserInfo(o,r,i)}}(n)}class MultiFactorSessionImpl{constructor(e,t,n){this.type=e,this.credential=t,this.auth=n}static _fromIdtoken(e,t){return new MultiFactorSessionImpl("enroll",e,t)}static _fromMfaPendingCredential(e){return new MultiFactorSessionImpl("signin",e)}toJSON(){return{multiFactorSession:{["enroll"===this.type?"idToken":"pendingCredential"]:this.credential}}}static fromJSON(e){var t,n;if(null==e?void 0:e.multiFactorSession){if(null===(t=e.multiFactorSession)||void 0===t?void 0:t.pendingCredential)return MultiFactorSessionImpl._fromMfaPendingCredential(e.multiFactorSession.pendingCredential);if(null===(n=e.multiFactorSession)||void 0===n?void 0:n.idToken)return MultiFactorSessionImpl._fromIdtoken(e.multiFactorSession.idToken)}return null}}class MultiFactorResolverImpl{constructor(e,t,n){this.session=e,this.hints=t,this.signInResolver=n}static _fromError(e,t){const n=ys(e),r=t.customData._serverResponse,i=(r.mfaInfo||[]).map((e=>MultiFactorInfoImpl._fromServerResponse(n,e)));Uo(r.mfaPendingCredential,n,"internal-error");const o=MultiFactorSessionImpl._fromMfaPendingCredential(r.mfaPendingCredential);return new MultiFactorResolverImpl(o,i,(async e=>{const i=await e._process(n,o);delete r.mfaInfo,delete r.mfaPendingCredential;const s=Object.assign(Object.assign({},r),{idToken:i.idToken,refreshToken:i.refreshToken});switch(t.operationType){case"signIn":const e=await UserCredentialImpl._fromIdTokenResponse(n,t.operationType,s);return await n._updateCurrentUser(e.user),e;case"reauthenticate":return Uo(t.user,n,"internal-error"),UserCredentialImpl._forOperation(t.user,t.operationType,s);default:Oo(n,"internal-error")}}))}async resolveSignIn(e){const t=e;return this.signInResolver(t)}}class MultiFactorUserImpl{constructor(e){this.user=e,this.enrolledFactors=[],e._onReload((t=>{t.mfaInfo&&(this.enrolledFactors=t.mfaInfo.map((t=>MultiFactorInfoImpl._fromServerResponse(e.auth,t))))}))}static _fromUser(e){return new MultiFactorUserImpl(e)}async getSession(){return MultiFactorSessionImpl._fromIdtoken(await this.user.getIdToken(),this.user.auth)}async enroll(e,t){const n=e,r=await this.getSession(),i=await rs(this.user,n._process(this.user.auth,r,t));return await this.user._updateTokensIfNecessary(i),this.user.reload()}async unenroll(e){const t="string"==typeof e?e:e.uid,n=await this.user.getIdToken();try{const e=await rs(this.user,function(e,t){return Ko(e,"POST","/v2/accounts/mfaEnrollment:withdraw",Yo(e,t))}(this.user.auth,{idToken:n,mfaEnrollmentId:t}));this.enrolledFactors=this.enrolledFactors.filter((({uid:e})=>e!==t)),await this.user._updateTokensIfNecessary(e),await this.user.reload()}catch(r){throw r}}}const Qs=new WeakMap;const Zs="__sak";class BrowserPersistenceClass{constructor(e,t){this.storageRetriever=e,this.type=t}_isAvailable(){try{return this.storage?(this.storage.setItem(Zs,"1"),this.storage.removeItem(Zs),Promise.resolve(!0)):Promise.resolve(!1)}catch(e){return Promise.resolve(!1)}}_set(e,t){return this.storage.setItem(e,JSON.stringify(t)),Promise.resolve()}_get(e){const t=this.storage.getItem(e);return Promise.resolve(t?JSON.parse(t):null)}_remove(e){return this.storage.removeItem(e),Promise.resolve()}get storage(){return this.storageRetriever()}}class BrowserLocalPersistence extends BrowserPersistenceClass{constructor(){super((()=>window.localStorage),"LOCAL"),this.boundEventHandler=(e,t)=>this.onStorageEvent(e,t),this.listeners={},this.localCache={},this.pollTimer=null,this.safariLocalStorageNotSynced=function(){const e=k();return us(e)||_s(e)}()&&function(){try{return!(!window||window===window.top)}catch(e){return!1}}(),this.fallbackToPolling=gs(),this._shouldAllowMigration=!0}forAllChangedKeys(e){for(const t of Object.keys(this.listeners)){const n=this.storage.getItem(t),r=this.localCache[t];n!==r&&e(t,r,n)}}onStorageEvent(e,t=!1){if(!e.key)return void this.forAllChangedKeys(((e,t,n)=>{this.notifyListeners(e,n)}));const n=e.key;if(t?this.detachListener():this.stopPolling(),this.safariLocalStorageNotSynced){const r=this.storage.getItem(n);if(e.newValue!==r)null!==e.newValue?this.storage.setItem(n,e.newValue):this.storage.removeItem(n);else if(this.localCache[n]===e.newValue&&!t)return}const r=()=>{const e=this.storage.getItem(n);(t||this.localCache[n]!==e)&&this.notifyListeners(n,e)},i=this.storage.getItem(n);N()&&10===document.documentMode&&i!==e.newValue&&e.newValue!==e.oldValue?setTimeout(r,10):r()}notifyListeners(e,t){this.localCache[e]=t;const n=this.listeners[e];if(n)for(const r of Array.from(n))r(t?JSON.parse(t):t)}startPolling(){this.stopPolling(),this.pollTimer=setInterval((()=>{this.forAllChangedKeys(((e,t,n)=>{this.onStorageEvent(new StorageEvent("storage",{key:e,oldValue:t,newValue:n}),!0)}))}),1e3)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}attachListener(){window.addEventListener("storage",this.boundEventHandler)}detachListener(){window.removeEventListener("storage",this.boundEventHandler)}_addListener(e,t){0===Object.keys(this.listeners).length&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[e]||(this.listeners[e]=new Set,this.localCache[e]=this.storage.getItem(e)),this.listeners[e].add(t)}_removeListener(e,t){this.listeners[e]&&(this.listeners[e].delete(t),0===this.listeners[e].size&&delete this.listeners[e]),0===Object.keys(this.listeners).length&&(this.detachListener(),this.stopPolling())}async _set(e,t){await super._set(e,t),this.localCache[e]=JSON.stringify(t)}async _get(e){const t=await super._get(e);return this.localCache[e]=JSON.stringify(t),t}async _remove(e){await super._remove(e),delete this.localCache[e]}}BrowserLocalPersistence.type="LOCAL";const ea=BrowserLocalPersistence;class BrowserSessionPersistence extends BrowserPersistenceClass{constructor(){super((()=>window.sessionStorage),"SESSION")}_addListener(e,t){}_removeListener(e,t){}}BrowserSessionPersistence.type="SESSION";const ta=BrowserSessionPersistence;class Receiver{constructor(e){this.eventTarget=e,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}static _getInstance(e){const t=this.receivers.find((t=>t.isListeningto(e)));if(t)return t;const n=new Receiver(e);return this.receivers.push(n),n}isListeningto(e){return this.eventTarget===e}async handleEvent(e){const t=e,{eventId:n,eventType:r,data:i}=t.data,o=this.handlersMap[r];if(!(null==o?void 0:o.size))return;t.ports[0].postMessage({status:"ack",eventId:n,eventType:r});const s=Array.from(o).map((async e=>e(t.origin,i))),a=await function(e){return Promise.all(e.map((async e=>{try{return{fulfilled:!0,value:await e}}catch(t){return{fulfilled:!1,reason:t}}})))}(s);t.ports[0].postMessage({status:"done",eventId:n,eventType:r,response:a})}_subscribe(e,t){0===Object.keys(this.handlersMap).length&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[e]||(this.handlersMap[e]=new Set),this.handlersMap[e].add(t)}_unsubscribe(e,t){this.handlersMap[e]&&t&&this.handlersMap[e].delete(t),t&&0!==this.handlersMap[e].size||delete this.handlersMap[e],0===Object.keys(this.handlersMap).length&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}function na(e="",t=10){let n="";for(let r=0;r<t;r++)n+=Math.floor(10*Math.random());return e+n}Receiver.receivers=[];class Sender{constructor(e){this.target=e,this.handlers=new Set}removeMessageHandler(e){e.messageChannel&&(e.messageChannel.port1.removeEventListener("message",e.onMessage),e.messageChannel.port1.close()),this.handlers.delete(e)}async _send(e,t,n=50){const r="undefined"!=typeof MessageChannel?new MessageChannel:null;if(!r)throw new Error("connection_unavailable");let i,o;return new Promise(((s,a)=>{const l=na("",20);r.port1.start();const c=setTimeout((()=>{a(new Error("unsupported_event"))}),n);o={messageChannel:r,onMessage(e){const t=e;if(t.data.eventId===l)switch(t.data.status){case"ack":clearTimeout(c),i=setTimeout((()=>{a(new Error("timeout"))}),3e3);break;case"done":clearTimeout(i),s(t.data.response);break;default:clearTimeout(c),clearTimeout(i),a(new Error("invalid_response"))}}},this.handlers.add(o),r.port1.addEventListener("message",o.onMessage),this.target.postMessage({eventType:e,eventId:l,data:t},[r.port2])})).finally((()=>{o&&this.removeMessageHandler(o)}))}}function ra(){return window}function ia(){return void 0!==ra().WorkerGlobalScope&&"function"==typeof ra().importScripts}const oa="firebaseLocalStorageDb",sa=1,aa="firebaseLocalStorage",la="fbase_key";class DBPromise{constructor(e){this.request=e}toPromise(){return new Promise(((e,t)=>{this.request.addEventListener("success",(()=>{e(this.request.result)})),this.request.addEventListener("error",(()=>{t(this.request.error)}))}))}}function ca(e,t){return e.transaction([aa],t?"readwrite":"readonly").objectStore(aa)}function ua(){const e=indexedDB.open(oa,sa);return new Promise(((t,n)=>{e.addEventListener("error",(()=>{n(e.error)})),e.addEventListener("upgradeneeded",(()=>{const t=e.result;try{t.createObjectStore(aa,{keyPath:la})}catch(r){n(r)}})),e.addEventListener("success",(async()=>{const n=e.result;n.objectStoreNames.contains(aa)?t(n):(n.close(),await function(){const e=indexedDB.deleteDatabase(oa);return new DBPromise(e).toPromise()}(),t(await ua()))}))}))}async function da(e,t,n){const r=ca(e,!0).put({[la]:t,value:n});return new DBPromise(r).toPromise()}function ha(e,t){const n=ca(e,!0).delete(t);return new DBPromise(n).toPromise()}class IndexedDBLocalPersistence{constructor(){this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then((()=>{}),(()=>{}))}async _openDb(){return this.db||(this.db=await ua()),this.db}async _withRetries(e){let t=0;for(;;)try{const t=await this._openDb();return await e(t)}catch(n){if(t++>3)throw n;this.db&&(this.db.close(),this.db=void 0)}}async initializeServiceWorkerMessaging(){return ia()?this.initializeReceiver():this.initializeSender()}async initializeReceiver(){this.receiver=Receiver._getInstance(ia()?self:null),this.receiver._subscribe("keyChanged",(async(e,t)=>({keyProcessed:(await this._poll()).includes(t.key)}))),this.receiver._subscribe("ping",(async(e,t)=>["keyChanged"]))}async initializeSender(){var e,t;if(this.activeServiceWorker=await async function(){if(!(null===navigator||void 0===navigator?void 0:navigator.serviceWorker))return null;try{return(await navigator.serviceWorker.ready).active}catch(e){return null}}(),!this.activeServiceWorker)return;this.sender=new Sender(this.activeServiceWorker);const n=await this.sender._send("ping",{},800);n&&(null===(e=n[0])||void 0===e?void 0:e.fulfilled)&&(null===(t=n[0])||void 0===t?void 0:t.value.includes("keyChanged"))&&(this.serviceWorkerReceiverAvailable=!0)}async notifyServiceWorker(e){var t;if(this.sender&&this.activeServiceWorker&&((null===(t=null===navigator||void 0===navigator?void 0:navigator.serviceWorker)||void 0===t?void 0:t.controller)||null)===this.activeServiceWorker)try{await this.sender._send("keyChanged",{key:e},this.serviceWorkerReceiverAvailable?800:50)}catch(t){}}async _isAvailable(){try{if(!indexedDB)return!1;const e=await ua();return await da(e,Zs,"1"),await ha(e,Zs),!0}catch(e){}return!1}async _withPendingWrite(e){this.pendingWrites++;try{await e()}finally{this.pendingWrites--}}async _set(e,t){return this._withPendingWrite((async()=>(await this._withRetries((n=>da(n,e,t))),this.localCache[e]=t,this.notifyServiceWorker(e))))}async _get(e){const t=await this._withRetries((t=>async function(e,t){const n=ca(e,!1).get(t),r=await new DBPromise(n).toPromise();return void 0===r?null:r.value}(t,e)));return this.localCache[e]=t,t}async _remove(e){return this._withPendingWrite((async()=>(await this._withRetries((t=>ha(t,e))),delete this.localCache[e],this.notifyServiceWorker(e))))}async _poll(){const e=await this._withRetries((e=>{const t=ca(e,!1).getAll();return new DBPromise(t).toPromise()}));if(!e)return[];if(0!==this.pendingWrites)return[];const t=[],n=new Set;for(const{fbase_key:r,value:i}of e)n.add(r),JSON.stringify(this.localCache[r])!==JSON.stringify(i)&&(this.notifyListeners(r,i),t.push(r));for(const r of Object.keys(this.localCache))this.localCache[r]&&!n.has(r)&&(this.notifyListeners(r,null),t.push(r));return t}notifyListeners(e,t){this.localCache[e]=t;const n=this.listeners[e];if(n)for(const r of Array.from(n))r(t)}startPolling(){this.stopPolling(),this.pollTimer=setInterval((async()=>this._poll()),800)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}_addListener(e,t){0===Object.keys(this.listeners).length&&this.startPolling(),this.listeners[e]||(this.listeners[e]=new Set,this._get(e)),this.listeners[e].add(t)}_removeListener(e,t){this.listeners[e]&&(this.listeners[e].delete(t),0===this.listeners[e].size&&delete this.listeners[e]),0===Object.keys(this.listeners).length&&this.stopPolling()}}IndexedDBLocalPersistence.type="LOCAL";const pa=IndexedDBLocalPersistence;function fa(e){return new Promise(((t,n)=>{const r=document.createElement("script");var i,o;r.setAttribute("src",e),r.onload=t,r.onerror=e=>{const t=Ao("internal-error");t.customData=e,n(t)},r.type="text/javascript",r.charset="UTF-8",(null!==(o=null===(i=document.getElementsByTagName("head"))||void 0===i?void 0:i[0])&&void 0!==o?o:document).appendChild(r)}))}function ma(e){return`__${e}${Math.floor(1e6*Math.random())}`}const _a=1e12;class MockReCaptcha{constructor(e){this.auth=e,this.counter=_a,this._widgets=new Map}render(e,t){const n=this.counter;return this._widgets.set(n,new MockWidget(e,this.auth.name,t||{})),this.counter++,n}reset(e){var t;const n=e||_a;null===(t=this._widgets.get(n))||void 0===t||t.delete(),this._widgets.delete(n)}getResponse(e){var t;const n=e||_a;return(null===(t=this._widgets.get(n))||void 0===t?void 0:t.getResponse())||""}async execute(e){var t;const n=e||_a;return null===(t=this._widgets.get(n))||void 0===t||t.execute(),""}}class MockWidget{constructor(e,t,n){this.params=n,this.timerId=null,this.deleted=!1,this.responseToken=null,this.clickHandler=()=>{this.execute()};const r="string"==typeof e?document.getElementById(e):e;Uo(r,"argument-error",{appName:t}),this.container=r,this.isVisible="invisible"!==this.params.size,this.isVisible?this.execute():this.container.addEventListener("click",this.clickHandler)}getResponse(){return this.checkIfDeleted(),this.responseToken}delete(){this.checkIfDeleted(),this.deleted=!0,this.timerId&&(clearTimeout(this.timerId),this.timerId=null),this.container.removeEventListener("click",this.clickHandler)}execute(){this.checkIfDeleted(),this.timerId||(this.timerId=window.setTimeout((()=>{this.responseToken=function(e){const t=[],n="1234567890abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ";for(let r=0;r<e;r++)t.push(n.charAt(Math.floor(Math.random()*n.length)));return t.join("")}(50);const{callback:e,"expired-callback":t}=this.params;if(e)try{e(this.responseToken)}catch(n){}this.timerId=window.setTimeout((()=>{if(this.timerId=null,this.responseToken=null,t)try{t()}catch(n){}this.isVisible&&this.execute()}),6e4)}),500))}checkIfDeleted(){if(this.deleted)throw new Error("reCAPTCHA mock was already deleted!")}}const ga=ma("rcb"),va=new Delay(3e4,6e4);class ReCaptchaLoaderImpl{constructor(){var e;this.hostLanguage="",this.counter=0,this.librarySeparatelyLoaded=!!(null===(e=ra().grecaptcha)||void 0===e?void 0:e.render)}load(e,t=""){return Uo(function(e){return e.length<=6&&/^\s*[a-zA-Z0-9\-]*\s*$/.test(e)}(t),e,"argument-error"),this.shouldResolveImmediately(t)?Promise.resolve(ra().grecaptcha):new Promise(((n,r)=>{const i=ra().setTimeout((()=>{r(Ao(e,"network-request-failed"))}),va.get());ra()[ga]=()=>{ra().clearTimeout(i),delete ra()[ga];const o=ra().grecaptcha;if(!o)return void r(Ao(e,"internal-error"));const s=o.render;o.render=(e,t)=>{const n=s(e,t);return this.counter++,n},this.hostLanguage=t,n(o)};fa(`https://www.google.com/recaptcha/api.js??${G({onload:ga,render:"explicit",hl:t})}`).catch((()=>{clearTimeout(i),r(Ao(e,"internal-error"))}))}))}clearedOneInstance(){this.counter--}shouldResolveImmediately(e){var t;return!!(null===(t=ra().grecaptcha)||void 0===t?void 0:t.render)&&(e===this.hostLanguage||this.counter>0||this.librarySeparatelyLoaded)}}class MockReCaptchaLoaderImpl{async load(e){return new MockReCaptcha(e)}clearedOneInstance(){}}const ya="recaptcha",ba={theme:"light",type:"image"};class index_30f3030e_RecaptchaVerifier{constructor(e,t=Object.assign({},ba),n){this.parameters=t,this.type=ya,this.destroyed=!1,this.widgetId=null,this.tokenChangeListeners=new Set,this.renderPromise=null,this.recaptcha=null,this.auth=ys(n),this.isInvisible="invisible"===this.parameters.size,Uo("undefined"!=typeof document,this.auth,"operation-not-supported-in-this-environment");const r="string"==typeof e?document.getElementById(e):e;Uo(r,this.auth,"argument-error"),this.container=r,this.parameters.callback=this.makeTokenCallback(this.parameters.callback),this._recaptchaLoader=this.auth.settings.appVerificationDisabledForTesting?new MockReCaptchaLoaderImpl:new ReCaptchaLoaderImpl,this.validateStartingState()}async verify(){this.assertNotDestroyed();const e=await this.render(),t=this.getAssertedRecaptcha(),n=t.getResponse(e);return n||new Promise((n=>{const r=e=>{e&&(this.tokenChangeListeners.delete(r),n(e))};this.tokenChangeListeners.add(r),this.isInvisible&&t.execute(e)}))}render(){try{this.assertNotDestroyed()}catch(e){return Promise.reject(e)}return this.renderPromise||(this.renderPromise=this.makeRenderPromise().catch((e=>{throw this.renderPromise=null,e}))),this.renderPromise}_reset(){this.assertNotDestroyed(),null!==this.widgetId&&this.getAssertedRecaptcha().reset(this.widgetId)}clear(){this.assertNotDestroyed(),this.destroyed=!0,this._recaptchaLoader.clearedOneInstance(),this.isInvisible||this.container.childNodes.forEach((e=>{this.container.removeChild(e)}))}validateStartingState(){Uo(!this.parameters.sitekey,this.auth,"argument-error"),Uo(this.isInvisible||!this.container.hasChildNodes(),this.auth,"argument-error"),Uo("undefined"!=typeof document,this.auth,"operation-not-supported-in-this-environment")}makeTokenCallback(e){return t=>{if(this.tokenChangeListeners.forEach((e=>e(t))),"function"==typeof e)e(t);else if("string"==typeof e){const n=ra()[e];"function"==typeof n&&n(t)}}}assertNotDestroyed(){Uo(!this.destroyed,this.auth,"internal-error")}async makeRenderPromise(){if(await this.init(),!this.widgetId){let e=this.container;if(!this.isInvisible){const t=document.createElement("div");e.appendChild(t),e=t}this.widgetId=this.getAssertedRecaptcha().render(e,this.parameters)}return this.widgetId}async init(){Uo(Go()&&!ia(),this.auth,"internal-error"),await function(){let e=null;return new Promise((t=>{"complete"!==document.readyState?(e=()=>t(),window.addEventListener("load",e)):t()})).catch((t=>{throw e&&window.removeEventListener("load",e),t}))}(),this.recaptcha=await this._recaptchaLoader.load(this.auth,this.auth.languageCode||void 0);const e=await async function(e){return(await Ko(e,"GET","/v1/recaptchaParams")).recaptchaSiteKey||""}(this.auth);Uo(e,this.auth,"internal-error"),this.parameters.sitekey=e}getAssertedRecaptcha(){return Uo(this.recaptcha,this.auth,"internal-error"),this.recaptcha}}class ConfirmationResultImpl{constructor(e,t){this.verificationId=e,this.onConfirmation=t}confirm(e){const t=PhoneAuthCredential._fromVerification(this.verificationId,e);return this.onConfirmation(t)}}async function wa(e,t,n){var r;const i=await n.verify();try{let o;if(Uo("string"==typeof i,e,"argument-error"),Uo(n.type===ya,e,"argument-error"),o="string"==typeof t?{phoneNumber:t}:t,"session"in o){const t=o.session;if("phoneNumber"in o){Uo("enroll"===t.type,e,"internal-error");const n=await function(e,t){return Ko(e,"POST","/v2/accounts/mfaEnrollment:start",Yo(e,t))}(e,{idToken:t.credential,phoneEnrollmentInfo:{phoneNumber:o.phoneNumber,recaptchaToken:i}});return n.phoneSessionInfo.sessionInfo}{Uo("signin"===t.type,e,"internal-error");const n=(null===(r=o.multiFactorHint)||void 0===r?void 0:r.uid)||o.multiFactorUid;Uo(n,e,"missing-multi-factor-info");const s=await function(e,t){return Ko(e,"POST","/v2/accounts/mfaSignIn:start",Yo(e,t))}(e,{mfaPendingCredential:t.credential,mfaEnrollmentId:n,phoneSignInInfo:{recaptchaToken:i}});return s.phoneResponseInfo.sessionInfo}}{const{sessionInfo:t}=await async function(e,t){return Ko(e,"POST","/v1/accounts:sendVerificationCode",Yo(e,t))}(e,{phoneNumber:o.phoneNumber,recaptchaToken:i});return t}}finally{n._reset()}}class index_30f3030e_PhoneAuthProvider{constructor(e){this.providerId=index_30f3030e_PhoneAuthProvider.PROVIDER_ID,this.auth=ys(e)}verifyPhoneNumber(e,t){return wa(this.auth,e,X(t))}static credential(e,t){return PhoneAuthCredential._fromVerification(e,t)}static credentialFromResult(e){const t=e;return index_30f3030e_PhoneAuthProvider.credentialFromTaggedObject(t)}static credentialFromError(e){return index_30f3030e_PhoneAuthProvider.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{phoneNumber:t,temporaryProof:n}=e;return t&&n?PhoneAuthCredential._fromTokenResponse(t,n):null}}function Ea(e,t){return t?zo(t):(Uo(e._popupRedirectResolver,e,"argument-error"),e._popupRedirectResolver)}index_30f3030e_PhoneAuthProvider.PROVIDER_ID="phone",index_30f3030e_PhoneAuthProvider.PHONE_SIGN_IN_METHOD="phone";class IdpCredential extends AuthCredential{constructor(e){super("custom","custom"),this.params=e}_getIdTokenResponse(e){return Is(e,this._buildIdpRequest())}_linkToIdToken(e,t){return Is(e,this._buildIdpRequest(t))}_getReauthenticationResolver(e){return Is(e,this._buildIdpRequest())}_buildIdpRequest(e){const t={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return e&&(t.idToken=e),t}}function Sa(e){return Ls(e.auth,new IdpCredential(e),e.bypassAuthState)}function ka(e){const{auth:t,user:n}=e;return Uo(n,t,"internal-error"),Ms(n,new IdpCredential(e),e.bypassAuthState)}async function Ta(e){const{auth:t,user:n}=e;return Uo(n,t,"internal-error"),As(n,new IdpCredential(e),e.bypassAuthState)}class AbstractPopupRedirectOperation{constructor(e,t,n,r,i=!1){this.auth=e,this.resolver=n,this.user=r,this.bypassAuthState=i,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(t)?t:[t]}execute(){return new Promise((async(e,t)=>{this.pendingPromise={resolve:e,reject:t};try{this.eventManager=await this.resolver._initialize(this.auth),await this.onExecution(),this.eventManager.registerConsumer(this)}catch(n){this.reject(n)}}))}async onAuthEvent(e){const{urlResponse:t,sessionId:n,postBody:r,tenantId:i,error:o,type:s}=e;if(o)return void this.reject(o);const a={auth:this.auth,requestUri:t,sessionId:n,tenantId:i||void 0,postBody:r||void 0,user:this.user,bypassAuthState:this.bypassAuthState};try{this.resolve(await this.getIdpTask(s)(a))}catch(l){this.reject(l)}}onError(e){this.reject(e)}getIdpTask(e){switch(e){case"signInViaPopup":case"signInViaRedirect":return Sa;case"linkViaPopup":case"linkViaRedirect":return Ta;case"reauthViaPopup":case"reauthViaRedirect":return ka;default:Oo(this.auth,"internal-error")}}resolve(e){jo(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(e),this.unregisterAndCleanUp()}reject(e){jo(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(e),this.unregisterAndCleanUp()}unregisterAndCleanUp(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}}const Ia=new Delay(2e3,1e4);async function Ca(e,t,n){const r=ys(e);Mo(e,t,FederatedAuthProvider);const i=Ea(r,n);return new PopupOperation(r,"signInViaPopup",t,i).executeNotNull()}class PopupOperation extends AbstractPopupRedirectOperation{constructor(e,t,n,r,i){super(e,t,r,i),this.provider=n,this.authWindow=null,this.pollId=null,PopupOperation.currentPopupAction&&PopupOperation.currentPopupAction.cancel(),PopupOperation.currentPopupAction=this}async executeNotNull(){const e=await this.execute();return Uo(e,this.auth,"internal-error"),e}async onExecution(){jo(1===this.filter.length,"Popup operations only handle one event");const e=na();this.authWindow=await this.resolver._openPopup(this.auth,this.provider,this.filter[0],e),this.authWindow.associatedEvent=e,this.resolver._originValidation(this.auth).catch((e=>{this.reject(e)})),this.resolver._isIframeWebStorageSupported(this.auth,(e=>{e||this.reject(Ao(this.auth,"web-storage-unsupported"))})),this.pollUserCancellation()}get eventId(){var e;return(null===(e=this.authWindow)||void 0===e?void 0:e.associatedEvent)||null}cancel(){this.reject(Ao(this.auth,"cancelled-popup-request"))}cleanUp(){this.authWindow&&this.authWindow.close(),this.pollId&&window.clearTimeout(this.pollId),this.authWindow=null,this.pollId=null,PopupOperation.currentPopupAction=null}pollUserCancellation(){const e=()=>{var t,n;(null===(n=null===(t=this.authWindow)||void 0===t?void 0:t.window)||void 0===n?void 0:n.closed)?this.pollId=window.setTimeout((()=>{this.pollId=null,this.reject(Ao(this.auth,"popup-closed-by-user"))}),2e3):this.pollId=window.setTimeout(e,Ia.get())};e()}}PopupOperation.currentPopupAction=null;const Ra="pendingRedirect",Na=new Map;class RedirectAction extends AbstractPopupRedirectOperation{constructor(e,t,n=!1){super(e,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],t,void 0,n),this.eventId=null}async execute(){let e=Na.get(this.auth._key());if(!e){try{const t=await async function(e,t){const n=Aa(t),r=Oa(e);if(!(await r._isAvailable()))return!1;const i="true"===await r._get(n);return await r._remove(n),i}(this.resolver,this.auth),n=t?await super.execute():null;e=()=>Promise.resolve(n)}catch(t){e=()=>Promise.reject(t)}Na.set(this.auth._key(),e)}return this.bypassAuthState||Na.set(this.auth._key(),(()=>Promise.resolve(null))),e()}async onAuthEvent(e){if("signInViaRedirect"===e.type)return super.onAuthEvent(e);if("unknown"!==e.type){if(e.eventId){const t=await this.auth._redirectUserForId(e.eventId);if(t)return this.user=t,super.onAuthEvent(e);this.resolve(null)}}else this.resolve(null)}async onExecution(){}cleanUp(){}}async function xa(e,t){return Oa(e)._set(Aa(t),"true")}function Pa(e,t){Na.set(e._key(),t)}function Oa(e){return zo(e._redirectPersistence)}function Aa(e){return as(Ra,e.config.apiKey,e.name)}function Da(e,t,n){return async function(e,t,n){const r=ys(e);Mo(e,t,FederatedAuthProvider),await r._initializationPromise;const i=Ea(r,n);return await xa(i,r),i._openRedirect(r,t,"signInViaRedirect")}(e,t,n)}function Ma(e,t,n){return async function(e,t,n){const r=X(e);Mo(r.auth,t,FederatedAuthProvider),await r.auth._initializationPromise;const i=Ea(r.auth,n);await xa(i,r.auth);const o=await Fa(r);return i._openRedirect(r.auth,t,"reauthViaRedirect",o)}(e,t,n)}function La(e,t,n){return async function(e,t,n){const r=X(e);Mo(r.auth,t,FederatedAuthProvider),await r.auth._initializationPromise;const i=Ea(r.auth,n);await Ds(!1,r,t.providerId),await xa(i,r.auth);const o=await Fa(r);return i._openRedirect(r.auth,t,"linkViaRedirect",o)}(e,t,n)}async function Ua(e,t,n=!1){const r=ys(e),i=Ea(r,t),o=new RedirectAction(r,i,n),s=await o.execute();return s&&!n&&(delete s.user._redirectEventId,await r._persistUserIfCurrent(s.user),await r._setRedirectUser(null,t)),s}async function Fa(e){const t=na(`${e.uid}:::`);return e._redirectEventId=t,await e.auth._setRedirectUser(e),await e.auth._persistUserIfCurrent(e),t}class AuthEventManager{constructor(e){this.auth=e,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}registerConsumer(e){this.consumers.add(e),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,e)&&(this.sendToConsumer(this.queuedRedirectEvent,e),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}unregisterConsumer(e){this.consumers.delete(e)}onEvent(e){if(this.hasEventBeenHandled(e))return!1;let t=!1;return this.consumers.forEach((n=>{this.isEventForConsumer(e,n)&&(t=!0,this.sendToConsumer(e,n),this.saveEventToCache(e))})),this.hasHandledPotentialRedirect||!function(e){switch(e.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return Ba(e);default:return!1}}(e)||(this.hasHandledPotentialRedirect=!0,t||(this.queuedRedirectEvent=e,t=!0)),t}sendToConsumer(e,t){var n;if(e.error&&!Ba(e)){const r=(null===(n=e.error.code)||void 0===n?void 0:n.split("auth/")[1])||"internal-error";t.onError(Ao(this.auth,r))}else t.onAuthEvent(e)}isEventForConsumer(e,t){const n=null===t.eventId||!!e.eventId&&e.eventId===t.eventId;return t.filter.includes(e.type)&&n}hasEventBeenHandled(e){return Date.now()-this.lastProcessedEventTime>=6e5&&this.cachedEventUids.clear(),this.cachedEventUids.has(ja(e))}saveEventToCache(e){this.cachedEventUids.add(ja(e)),this.lastProcessedEventTime=Date.now()}}function ja(e){return[e.type,e.eventId,e.sessionId,e.tenantId].filter((e=>e)).join("-")}function Ba({type:e,error:t}){return"unknown"===e&&"auth/no-auth-event"===(null==t?void 0:t.code)}async function za(e,t={}){return Ko(e,"GET","/v1/projects",t)}const Wa=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,Ga=/^https?/;function qa(e){const t=Wo(),{protocol:n,hostname:r}=new URL(t);if(e.startsWith("chrome-extension://")){const i=new URL(e);return""===i.hostname&&""===r?"chrome-extension:"===n&&e.replace("chrome-extension://","")===t.replace("chrome-extension://",""):"chrome-extension:"===n&&i.hostname===r}if(!Ga.test(n))return!1;if(Wa.test(e))return r===e;const i=e.replace(/\./g,"\\.");return new RegExp("^(.+\\."+i+"|"+i+")$","i").test(r)}const Ha=new Delay(3e4,6e4);function $a(){const e=ra().___jsl;if(null==e?void 0:e.H)for(const t of Object.keys(e.H))if(e.H[t].r=e.H[t].r||[],e.H[t].L=e.H[t].L||[],e.H[t].r=[...e.H[t].L],e.CP)for(let n=0;n<e.CP.length;n++)e.CP[n]=null}let Va=null;function Ya(e){return Va=Va||function(e){return new Promise(((t,n)=>{var r,i,o;function s(){$a(),gapi.load("gapi.iframes",{callback:()=>{t(gapi.iframes.getContext())},ontimeout:()=>{$a(),n(Ao(e,"network-request-failed"))},timeout:Ha.get()})}if(null===(i=null===(r=ra().gapi)||void 0===r?void 0:r.iframes)||void 0===i?void 0:i.Iframe)t(gapi.iframes.getContext());else{if(!(null===(o=ra().gapi)||void 0===o?void 0:o.load)){const t=ma("iframefcb");return ra()[t]=()=>{gapi.load?s():n(Ao(e,"network-request-failed"))},fa(`https://apis.google.com/js/api.js?onload=${t}`).catch((e=>n(e)))}s()}})).catch((e=>{throw Va=null,e}))}(e),Va}const Ka=new Delay(5e3,15e3),Ja="__/auth/iframe",Xa="emulator/auth/iframe",Qa={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},Za=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function el(e){const t=e.config;Uo(t.authDomain,e,"auth-domain-config-required");const n=t.emulator?Ho(t,Xa):`https://${e.config.authDomain}/${Ja}`,r={apiKey:t.apiKey,appName:e.name,v:Le},i=Za.get(e.config.apiHost);i&&(r.eid=i);const o=e._getFrameworks();return o.length&&(r.fw=o.join(",")),`${n}?${G(r).slice(1)}`}const tl={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"},nl=500,rl=600,il="_blank",ol="http://localhost";class AuthPopup{constructor(e){this.window=e,this.associatedEvent=null}close(){if(this.window)try{this.window.close()}catch(e){}}}function sl(e,t,n,r=nl,i=rl){const o=Math.max((window.screen.availHeight-i)/2,0).toString(),s=Math.max((window.screen.availWidth-r)/2,0).toString();let a="";const l=Object.assign(Object.assign({},tl),{width:r.toString(),height:i.toString(),top:o,left:s}),c=k().toLowerCase();n&&(a=ds(c)?il:n),cs(c)&&(t=t||ol,l.scrollbars="yes");const u=Object.entries(l).reduce(((e,[t,n])=>`${e}${t}=${n},`),"");if(function(e=k()){var t;return _s(e)&&!!(null===(t=window.navigator)||void 0===t?void 0:t.standalone)}(c)&&"_self"!==a)return function(e,t){const n=document.createElement("a");n.href=e,n.target=t;const r=document.createEvent("MouseEvent");r.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),n.dispatchEvent(r)}(t||"",a),new AuthPopup(null);const d=window.open(t||"",a,u);Uo(d,e,"popup-blocked");try{d.focus()}catch(h){}return new AuthPopup(d)}const al="__/auth/handler",ll="emulator/auth/handler";function cl(e,t,n,r,i,o){Uo(e.config.authDomain,e,"auth-domain-config-required"),Uo(e.config.apiKey,e,"invalid-api-key");const s={apiKey:e.config.apiKey,appName:e.name,authType:n,redirectUrl:r,v:Le,eventId:i};if(t instanceof FederatedAuthProvider){t.setDefaultLanguage(e.languageCode),s.providerId=t.providerId||"",F(t.getCustomParameters())||(s.customParameters=JSON.stringify(t.getCustomParameters()));for(const[e,t]of Object.entries(o||{}))s[e]=t}if(t instanceof BaseOAuthProvider){const e=t.getScopes().filter((e=>""!==e));e.length>0&&(s.scopes=e.join(","))}e.tenantId&&(s.tid=e.tenantId);const a=s;for(const l of Object.keys(a))void 0===a[l]&&delete a[l];return`${function({config:e}){if(!e.emulator)return`https://${e.authDomain}/${al}`;return Ho(e,ll)}(e)}?${G(a).slice(1)}`}const ul="webStorageSupport";const dl=class BrowserPopupRedirectResolver{constructor(){this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=ta,this._completeRedirectFn=Ua,this._overrideRedirectResult=Pa}async _openPopup(e,t,n,r){var i;jo(null===(i=this.eventManagers[e._key()])||void 0===i?void 0:i.manager,"_initialize() not called before _openPopup()");return sl(e,cl(e,t,n,Wo(),r),na())}async _openRedirect(e,t,n,r){var i;return await this._originValidation(e),i=cl(e,t,n,Wo(),r),ra().location.href=i,new Promise((()=>{}))}_initialize(e){const t=e._key();if(this.eventManagers[t]){const{manager:e,promise:n}=this.eventManagers[t];return e?Promise.resolve(e):(jo(n,"If manager is not set, promise should be"),n)}const n=this.initAndGetManager(e);return this.eventManagers[t]={promise:n},n.catch((()=>{delete this.eventManagers[t]})),n}async initAndGetManager(e){const t=await async function(e){const t=await Ya(e),n=ra().gapi;return Uo(n,e,"internal-error"),t.open({where:document.body,url:el(e),messageHandlersFilter:n.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:Qa,dontclear:!0},(t=>new Promise((async(n,r)=>{await t.restyle({setHideOnLeave:!1});const i=Ao(e,"network-request-failed"),o=ra().setTimeout((()=>{r(i)}),Ka.get());function s(){ra().clearTimeout(o),n(t)}t.ping(s).then(s,(()=>{r(i)}))}))))}(e),n=new AuthEventManager(e);return t.register("authEvent",(t=>{Uo(null==t?void 0:t.authEvent,e,"invalid-auth-event");return{status:n.onEvent(t.authEvent)?"ACK":"ERROR"}}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),this.eventManagers[e._key()]={manager:n},this.iframes[e._key()]=t,n}_isIframeWebStorageSupported(e,t){this.iframes[e._key()].send(ul,{type:ul},(n=>{var r;const i=null===(r=null==n?void 0:n[0])||void 0===r?void 0:r[ul];void 0!==i&&t(!!i),Oo(e,"internal-error")}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}_originValidation(e){const t=e._key();return this.originValidationPromises[t]||(this.originValidationPromises[t]=async function(e){if(e.config.emulator)return;const{authorizedDomains:t}=await za(e);for(const r of t)try{if(qa(r))return}catch(n){}Oo(e,"unauthorized-domain")}(e)),this.originValidationPromises[t]}get _shouldInitProactively(){return gs()||us()||_s()}};class MultiFactorAssertionImpl{constructor(e){this.factorId=e}_process(e,t,n){switch(t.type){case"enroll":return this._finalizeEnroll(e,t.credential,n);case"signin":return this._finalizeSignIn(e,t.credential);default:return Fo("unexpected MultiFactorSessionType")}}}class PhoneMultiFactorAssertionImpl extends MultiFactorAssertionImpl{constructor(e){super("phone"),this.credential=e}static _fromCredential(e){return new PhoneMultiFactorAssertionImpl(e)}_finalizeEnroll(e,t,n){return function(e,t){return Ko(e,"POST","/v2/accounts/mfaEnrollment:finalize",Yo(e,t))}(e,{idToken:t,displayName:n,phoneVerificationInfo:this.credential._makeVerificationRequest()})}_finalizeSignIn(e,t){return function(e,t){return Ko(e,"POST","/v2/accounts/mfaSignIn:finalize",Yo(e,t))}(e,{mfaPendingCredential:t,phoneVerificationInfo:this.credential._makeVerificationRequest()})}}class PhoneMultiFactorGenerator{constructor(){}static assertion(e){return PhoneMultiFactorAssertionImpl._fromCredential(e)}}PhoneMultiFactorGenerator.FACTOR_ID="phone";var hl="@firebase/auth",pl="0.21.3";class AuthInterop{constructor(e){this.auth=e,this.internalListeners=new Map}getUid(){var e;return this.assertAuthConfigured(),(null===(e=this.auth.currentUser)||void 0===e?void 0:e.uid)||null}async getToken(e){if(this.assertAuthConfigured(),await this.auth._initializationPromise,!this.auth.currentUser)return null;return{accessToken:await this.auth.currentUser.getIdToken(e)}}addAuthTokenListener(e){if(this.assertAuthConfigured(),this.internalListeners.has(e))return;const t=this.auth.onIdTokenChanged((t=>{e((null==t?void 0:t.stsTokenManager.accessToken)||null)}));this.internalListeners.set(e,t),this.updateProactiveRefresh()}removeAuthTokenListener(e){this.assertAuthConfigured();const t=this.internalListeners.get(e);t&&(this.internalListeners.delete(e),t(),this.updateProactiveRefresh())}assertAuthConfigured(){Uo(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}}const fl=S("authIdTokenMaxAge")||300;let ml=null;const _l=e=>async t=>{const n=t&&await t.getIdTokenResult(),r=n&&((new Date).getTime()-Date.parse(n.issuedAtTime))/1e3;if(r&&r>fl)return;const i=null==n?void 0:n.token;ml!==i&&(ml=i,await fetch(e,{method:i?"POST":"DELETE",headers:i?{Authorization:`Bearer ${i}`}:{}}))};var gl;function vl(){return window}gl="Browser",Pe(new Component("auth",((e,{options:t})=>{const n=e.getProvider("app").getImmediate(),r=e.getProvider("heartbeat"),{apiKey:i,authDomain:o}=n.options;return((e,n)=>{Uo(i&&!i.includes(":"),"invalid-api-key",{appName:e.name}),Uo(!(null==o?void 0:o.includes(":")),"argument-error",{appName:e.name});const r={apiKey:i,authDomain:o,clientPlatform:gl,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:vs(gl)},s=new AuthImpl(e,n,r);return function(e,t){const n=(null==t?void 0:t.persistence)||[],r=(Array.isArray(n)?n:[n]).map(zo);(null==t?void 0:t.errorMap)&&e._updateErrorMap(t.errorMap),e._initializeWithPersistence(r,null==t?void 0:t.popupRedirectResolver)}(s,t),s})(n,r)}),"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback(((e,t,n)=>{e.getProvider("auth-internal").initialize()}))),Pe(new Component("auth-internal",(e=>(e=>new AuthInterop(e))(ys(e.getProvider("auth").getImmediate()))),"PRIVATE").setInstantiationMode("EXPLICIT")),ze(hl,pl,function(e){switch(e){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";default:return}}(gl)),ze(hl,pl,"esm2017");const yl=2e3;async function bl(e,t,n){var r;const{BuildInfo:i}=vl();jo(t.sessionId,"AuthEvent did not contain a session ID");const o=await async function(e){const t=function(e){if(jo(/[0-9a-zA-Z]+/.test(e),"Can only convert alpha-numeric strings"),"undefined"!=typeof TextEncoder)return(new TextEncoder).encode(e);const t=new ArrayBuffer(e.length),n=new Uint8Array(t);for(let r=0;r<e.length;r++)n[r]=e.charCodeAt(r);return n}(e),n=await crypto.subtle.digest("SHA-256",t);return Array.from(new Uint8Array(n)).map((e=>e.toString(16).padStart(2,"0"))).join("")}(t.sessionId),s={};return _s()?s.ibi=i.packageName:ps()?s.apn=i.packageName:Oo(e,"operation-not-supported-in-this-environment"),i.displayName&&(s.appDisplayName=i.displayName),s.sessionId=o,cl(e,n,t.type,void 0,null!==(r=t.eventId)&&void 0!==r?r:void 0,s)}function wl(e){const{cordova:t}=vl();return new Promise((n=>{t.plugins.browsertab.isAvailable((r=>{let i=null;r?t.plugins.browsertab.openUrl(e):i=t.InAppBrowser.open(e,function(e=k()){return/(iPad|iPhone|iPod).*OS 7_\d/i.test(e)||/(iPad|iPhone|iPod).*OS 8_\d/i.test(e)}()?"_blank":"_system","location=yes"),n(i)}))}))}const El=20;class CordovaAuthEventManager extends AuthEventManager{constructor(){super(...arguments),this.passiveListeners=new Set,this.initPromise=new Promise((e=>{this.resolveInialized=e}))}addPassiveListener(e){this.passiveListeners.add(e)}removePassiveListener(e){this.passiveListeners.delete(e)}resetRedirect(){this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1}onEvent(e){return this.resolveInialized(),this.passiveListeners.forEach((t=>t(e))),super.onEvent(e)}async initialized(){await this.initPromise}}async function Sl(e){const t=await Il()._get(Cl(e));return t&&await Il()._remove(Cl(e)),t}function kl(e,t){var n,r;const i=function(e){const t=Rl(e),n=t.link?decodeURIComponent(t.link):void 0,r=Rl(n).link,i=t.deep_link_id?decodeURIComponent(t.deep_link_id):void 0;return Rl(i).link||i||r||n||e}(t);if(i.includes("/__/auth/callback")){const t=Rl(i),o=t.firebaseError?function(e){try{return JSON.parse(e)}catch(t){return null}}(decodeURIComponent(t.firebaseError)):null,s=null===(r=null===(n=null==o?void 0:o.code)||void 0===n?void 0:n.split("auth/"))||void 0===r?void 0:r[1],a=s?Ao(s):null;return a?{type:e.type,eventId:e.eventId,tenantId:e.tenantId,error:a,urlResponse:null,sessionId:null,postBody:null}:{type:e.type,eventId:e.eventId,tenantId:e.tenantId,sessionId:e.sessionId,urlResponse:i,postBody:null}}return null}function Tl(){const e=[],t="1234567890abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ";for(let n=0;n<El;n++){const n=Math.floor(Math.random()*t.length);e.push(t.charAt(n))}return e.join("")}function Il(){return zo(ea)}function Cl(e){return as("authEvent",e.config.apiKey,e.name)}function Rl(e){if(!(null==e?void 0:e.includes("?")))return{};const[t,...n]=e.split("?");return H(n.join("?"))}const Nl=class CordovaPopupRedirectResolver{constructor(){this._redirectPersistence=ta,this._shouldInitProactively=!0,this.eventManagers=new Map,this.originValidationPromises={},this._completeRedirectFn=Ua,this._overrideRedirectResult=Pa}async _initialize(e){const t=e._key();let n=this.eventManagers.get(t);return n||(n=new CordovaAuthEventManager(e),this.eventManagers.set(t,n),this.attachCallbackListeners(e,n)),n}_openPopup(e){Oo(e,"operation-not-supported-in-this-environment")}async _openRedirect(e,t,n,r){!function(e){var t,n,r,i,o,s,a,l,c,u;const d=vl();Uo("function"==typeof(null===(t=null==d?void 0:d.universalLinks)||void 0===t?void 0:t.subscribe),e,"invalid-cordova-configuration",{missingPlugin:"cordova-universal-links-plugin-fix"}),Uo(void 0!==(null===(n=null==d?void 0:d.BuildInfo)||void 0===n?void 0:n.packageName),e,"invalid-cordova-configuration",{missingPlugin:"cordova-plugin-buildInfo"}),Uo("function"==typeof(null===(o=null===(i=null===(r=null==d?void 0:d.cordova)||void 0===r?void 0:r.plugins)||void 0===i?void 0:i.browsertab)||void 0===o?void 0:o.openUrl),e,"invalid-cordova-configuration",{missingPlugin:"cordova-plugin-browsertab"}),Uo("function"==typeof(null===(l=null===(a=null===(s=null==d?void 0:d.cordova)||void 0===s?void 0:s.plugins)||void 0===a?void 0:a.browsertab)||void 0===l?void 0:l.isAvailable),e,"invalid-cordova-configuration",{missingPlugin:"cordova-plugin-browsertab"}),Uo("function"==typeof(null===(u=null===(c=null==d?void 0:d.cordova)||void 0===c?void 0:c.InAppBrowser)||void 0===u?void 0:u.open),e,"invalid-cordova-configuration",{missingPlugin:"cordova-plugin-inappbrowser"})}(e);const i=await this._initialize(e);await i.initialized(),i.resetRedirect(),Na.clear(),await this._originValidation(e);const o=function(e,t,n=null){return{type:t,eventId:n,urlResponse:null,sessionId:Tl(),postBody:null,tenantId:e.tenantId,error:Ao(e,"no-auth-event")}}(e,n,r);await function(e,t){return Il()._set(Cl(e),t)}(e,o);const s=await bl(e,o,t);return async function(e,t,n){const{cordova:r}=vl();let i=()=>{};try{await new Promise(((o,s)=>{let a=null;function l(){var e;o();const t=null===(e=r.plugins.browsertab)||void 0===e?void 0:e.close;"function"==typeof t&&t(),"function"==typeof(null==n?void 0:n.close)&&n.close()}function c(){a||(a=window.setTimeout((()=>{s(Ao(e,"redirect-cancelled-by-user"))}),yl))}function u(){"visible"===(null===document||void 0===document?void 0:document.visibilityState)&&c()}t.addPassiveListener(l),document.addEventListener("resume",c,!1),ps()&&document.addEventListener("visibilitychange",u,!1),i=()=>{t.removePassiveListener(l),document.removeEventListener("resume",c,!1),document.removeEventListener("visibilitychange",u,!1),a&&window.clearTimeout(a)}}))}finally{i()}}(e,i,await wl(s))}_isIframeWebStorageSupported(e,t){throw new Error("Method not implemented.")}_originValidation(e){const t=e._key();return this.originValidationPromises[t]||(this.originValidationPromises[t]=async function(e){const{BuildInfo:t}=vl(),n={};_s()?n.iosBundleId=t.packageName:ps()?n.androidPackageName=t.packageName:Oo(e,"operation-not-supported-in-this-environment"),await za(e,n)}(e)),this.originValidationPromises[t]}attachCallbackListeners(e,t){const{universalLinks:n,handleOpenURL:r,BuildInfo:i}=vl(),o=setTimeout((async()=>{await Sl(e),t.onEvent(xl())}),500),s=async n=>{clearTimeout(o);const r=await Sl(e);let i=null;r&&(null==n?void 0:n.url)&&(i=kl(r,n.url)),t.onEvent(i||xl())};void 0!==n&&"function"==typeof n.subscribe&&n.subscribe(null,s);const a=r,l=`${i.packageName.toLowerCase()}://`;vl().handleOpenURL=async e=>{if(e.toLowerCase().startsWith(l)&&s({url:e}),"function"==typeof a)try{a(e)}catch(t){console.error(t)}}}};function xl(){return{type:"unknown",eventId:null,sessionId:null,urlResponse:null,postBody:null,tenantId:null,error:Ao("no-auth-event")}}var Pl="@firebase/auth-compat",Ol="0.3.3";const Al=1e3;function Dl(){var e;return(null===(e=null===self||void 0===self?void 0:self.location)||void 0===e?void 0:e.protocol)||null}function Ml(e=k()){return!("file:"!==Dl()&&"ionic:"!==Dl()&&"capacitor:"!==Dl()||!e.toLowerCase().match(/iphone|ipad|ipod|android/))}function Ll(e=k()){return N()&&11===(null===document||void 0===document?void 0:document.documentMode)||function(e=k()){return/Edge\/\d+/.test(e)}(e)}function Ul(){try{const e=self.localStorage,t=na();if(e)return e.setItem(t,"1"),e.removeItem(t),!Ll()||P()}catch(e){return Fl()&&P()}return!1}function Fl(){return void 0!==n.g&&"WorkerGlobalScope"in n.g&&"importScripts"in n.g}function jl(){return("http:"===Dl()||"https:"===Dl()||C()||Ml())&&!(R()||I())&&Ul()&&!Fl()}function Bl(){return Ml()&&"undefined"!=typeof document}const zl={LOCAL:"local",NONE:"none",SESSION:"session"},Wl=Uo,Gl="persistence";async function ql(e){await e._initializationPromise;const t=Hl(),n=as(Gl,e.config.apiKey,e.name);t&&t.setItem(n,e._getPersistence())}function Hl(){var e;try{return(null===(e="undefined"!=typeof window?window:null)||void 0===e?void 0:e.sessionStorage)||null}catch(t){return null}}const $l=Uo;class CompatPopupRedirectResolver{constructor(){this.browserResolver=zo(dl),this.cordovaResolver=zo(Nl),this.underlyingResolver=null,this._redirectPersistence=ta,this._completeRedirectFn=Ua,this._overrideRedirectResult=Pa}async _initialize(e){return await this.selectUnderlyingResolver(),this.assertedUnderlyingResolver._initialize(e)}async _openPopup(e,t,n,r){return await this.selectUnderlyingResolver(),this.assertedUnderlyingResolver._openPopup(e,t,n,r)}async _openRedirect(e,t,n,r){return await this.selectUnderlyingResolver(),this.assertedUnderlyingResolver._openRedirect(e,t,n,r)}_isIframeWebStorageSupported(e,t){this.assertedUnderlyingResolver._isIframeWebStorageSupported(e,t)}_originValidation(e){return this.assertedUnderlyingResolver._originValidation(e)}get _shouldInitProactively(){return Bl()||this.browserResolver._shouldInitProactively}get assertedUnderlyingResolver(){return $l(this.underlyingResolver,"internal-error"),this.underlyingResolver}async selectUnderlyingResolver(){if(this.underlyingResolver)return;const e=await async function(){return!!Bl()&&new Promise((e=>{const t=setTimeout((()=>{e(!1)}),Al);document.addEventListener("deviceready",(()=>{clearTimeout(t),e(!0)}))}))}();this.underlyingResolver=e?this.cordovaResolver:this.browserResolver}}function Vl(e){return e.unwrap()}function Yl(e,t){var n;const r=null===(n=t.customData)||void 0===n?void 0:n._tokenResponse;if("auth/multi-factor-auth-required"===(null==t?void 0:t.code)){t.resolver=new MultiFactorResolver(e,function(e,t){var n;const r=X(e),i=t;return Uo(t.customData.operationType,r,"argument-error"),Uo(null===(n=i.customData._serverResponse)||void 0===n?void 0:n.mfaPendingCredential,r,"argument-error"),MultiFactorResolverImpl._fromError(r,i)}(e,t))}else if(r){const e=Kl(t),n=t;e&&(n.credential=e,n.tenantId=r.tenantId||void 0,n.email=r.email||void 0,n.phoneNumber=r.phoneNumber||void 0)}}function Kl(e){const{_tokenResponse:t}=e instanceof FirebaseError?e.customData:e;if(!t)return null;if(!(e instanceof FirebaseError)&&"temporaryProof"in t&&"phoneNumber"in t)return index_30f3030e_PhoneAuthProvider.credentialFromResult(e);const n=t.providerId;if(!n||n===ko.PASSWORD)return null;let r;switch(n){case ko.GOOGLE:r=GoogleAuthProvider;break;case ko.FACEBOOK:r=FacebookAuthProvider;break;case ko.GITHUB:r=GithubAuthProvider;break;case ko.TWITTER:r=TwitterAuthProvider;break;default:const{oauthIdToken:e,oauthAccessToken:i,oauthTokenSecret:o,pendingToken:s,nonce:a}=t;return i||o||e||s?s?n.startsWith("saml.")?SAMLAuthCredential._create(n,s):OAuthCredential._fromParams({providerId:n,signInMethod:n,pendingToken:s,idToken:e,accessToken:i}):new OAuthProvider(n).credential({idToken:e,accessToken:i,rawNonce:a}):null}return e instanceof FirebaseError?r.credentialFromError(e):r.credentialFromResult(e)}function Jl(e,t){return t.catch((t=>{throw t instanceof FirebaseError&&Yl(e,t),t})).then((e=>{const t=e.operationType,n=e.user;return{operationType:t,credential:(r=e,Kl(r)),additionalUserInfo:Xs(e),user:User.getOrCreate(n)};var r}))}async function Xl(e,t){const n=await t;return{verificationId:n.verificationId,confirm:t=>Jl(e,n.confirm(t))}}class MultiFactorResolver{constructor(e,t){this.resolver=t,this.auth=e.wrapped()}get session(){return this.resolver.session}get hints(){return this.resolver.hints}resolveSignIn(e){return Jl(Vl(this.auth),this.resolver.resolveSignIn(e))}}class User{constructor(e){this._delegate=e,this.multiFactor=function(e){const t=X(e);return Qs.has(t)||Qs.set(t,MultiFactorUserImpl._fromUser(t)),Qs.get(t)}(e)}static getOrCreate(e){return User.USER_MAP.has(e)||User.USER_MAP.set(e,new User(e)),User.USER_MAP.get(e)}delete(){return this._delegate.delete()}reload(){return this._delegate.reload()}toJSON(){return this._delegate.toJSON()}getIdTokenResult(e){return this._delegate.getIdTokenResult(e)}getIdToken(e){return this._delegate.getIdToken(e)}linkAndRetrieveDataWithCredential(e){return this.linkWithCredential(e)}async linkWithCredential(e){return Jl(this.auth,Fs(this._delegate,e))}async linkWithPhoneNumber(e,t){return Xl(this.auth,async function(e,t,n){const r=X(e);await Ds(!1,r,"phone");const i=await wa(r.auth,t,X(n));return new ConfirmationResultImpl(i,(e=>Fs(r,e)))}(this._delegate,e,t))}async linkWithPopup(e){return Jl(this.auth,async function(e,t,n){const r=X(e);Mo(r.auth,t,FederatedAuthProvider);const i=Ea(r.auth,n);return new PopupOperation(r.auth,"linkViaPopup",t,i,r).executeNotNull()}(this._delegate,e,CompatPopupRedirectResolver))}async linkWithRedirect(e){return await ql(ys(this.auth)),La(this._delegate,e,CompatPopupRedirectResolver)}reauthenticateAndRetrieveDataWithCredential(e){return this.reauthenticateWithCredential(e)}async reauthenticateWithCredential(e){return Jl(this.auth,js(this._delegate,e))}reauthenticateWithPhoneNumber(e,t){return Xl(this.auth,async function(e,t,n){const r=X(e),i=await wa(r.auth,t,X(n));return new ConfirmationResultImpl(i,(e=>js(r,e)))}(this._delegate,e,t))}reauthenticateWithPopup(e){return Jl(this.auth,async function(e,t,n){const r=X(e);Mo(r.auth,t,FederatedAuthProvider);const i=Ea(r.auth,n);return new PopupOperation(r.auth,"reauthViaPopup",t,i,r).executeNotNull()}(this._delegate,e,CompatPopupRedirectResolver))}async reauthenticateWithRedirect(e){return await ql(ys(this.auth)),Ma(this._delegate,e,CompatPopupRedirectResolver)}sendEmailVerification(e){return Vs(this._delegate,e)}async unlink(e){return await Os(this._delegate,e),this}updateEmail(e){return function(e,t){return Js(X(e),t,null)}(this._delegate,e)}updatePassword(e){return function(e,t){return Js(X(e),null,t)}(this._delegate,e)}updatePhoneNumber(e){return async function(e,t){await As(X(e),t)}(this._delegate,e)}updateProfile(e){return Ks(this._delegate,e)}verifyBeforeUpdateEmail(e,t){return Ys(this._delegate,e,t)}get emailVerified(){return this._delegate.emailVerified}get isAnonymous(){return this._delegate.isAnonymous}get metadata(){return this._delegate.metadata}get phoneNumber(){return this._delegate.phoneNumber}get providerData(){return this._delegate.providerData}get refreshToken(){return this._delegate.refreshToken}get tenantId(){return this._delegate.tenantId}get displayName(){return this._delegate.displayName}get email(){return this._delegate.email}get photoURL(){return this._delegate.photoURL}get providerId(){return this._delegate.providerId}get uid(){return this._delegate.uid}get auth(){return this._delegate.auth}}User.USER_MAP=new WeakMap;const Ql=Uo;class Auth{constructor(e,t){if(this.app=e,t.isInitialized())return this._delegate=t.getImmediate(),void this.linkUnderlyingAuth();const{apiKey:n}=e.options;Ql(n,"invalid-api-key",{appName:e.name}),Ql(n,"invalid-api-key",{appName:e.name});const r="undefined"!=typeof window?CompatPopupRedirectResolver:void 0;this._delegate=t.initialize({options:{persistence:ec(n,e.name),popupRedirectResolver:r}}),this._delegate._updateErrorMap(Co),this.linkUnderlyingAuth()}get emulatorConfig(){return this._delegate.emulatorConfig}get currentUser(){return this._delegate.currentUser?User.getOrCreate(this._delegate.currentUser):null}get languageCode(){return this._delegate.languageCode}set languageCode(e){this._delegate.languageCode=e}get settings(){return this._delegate.settings}get tenantId(){return this._delegate.tenantId}set tenantId(e){this._delegate.tenantId=e}useDeviceLanguage(){this._delegate.useDeviceLanguage()}signOut(){return this._delegate.signOut()}useEmulator(e,t){bs(this._delegate,e,t)}applyActionCode(e){return Gs(this._delegate,e)}checkActionCode(e){return qs(this._delegate,e)}confirmPasswordReset(e,t){return async function(e,t,n){await Ss(X(e),{oobCode:t,newPassword:n})}(this._delegate,e,t)}async createUserWithEmailAndPassword(e,t){return Jl(this._delegate,async function(e,t,n){const r=ys(e),i=await Rs(r,{returnSecureToken:!0,email:t,password:n}),o=await UserCredentialImpl._fromIdTokenResponse(r,"signIn",i);return await r._updateCurrentUser(o.user),o}(this._delegate,e,t))}fetchProvidersForEmail(e){return this.fetchSignInMethodsForEmail(e)}fetchSignInMethodsForEmail(e){return $s(this._delegate,e)}isSignInWithEmailLink(e){return function(e,t){const n=ActionCodeURL.parseLink(t);return"EMAIL_SIGNIN"===(null==n?void 0:n.operation)}(this._delegate,e)}async getRedirectResult(){Ql(jl(),this._delegate,"operation-not-supported-in-this-environment");const e=await async function(e,t){return await ys(e)._initializationPromise,Ua(e,t,!1)}(this._delegate,CompatPopupRedirectResolver);return e?Jl(this._delegate,Promise.resolve(e)):{credential:null,user:null}}addFrameworkForLogging(e){!function(e,t){ys(e)._logFramework(t)}(this._delegate,e)}onAuthStateChanged(e,t,n){const{next:r,error:i,complete:o}=Zl(e,t,n);return this._delegate.onAuthStateChanged(r,i,o)}onIdTokenChanged(e,t,n){const{next:r,error:i,complete:o}=Zl(e,t,n);return this._delegate.onIdTokenChanged(r,i,o)}sendSignInLinkToEmail(e,t){return Hs(this._delegate,e,t)}sendPasswordResetEmail(e,t){return Ws(this._delegate,e,t||void 0)}async setPersistence(e){let t;switch(function(e,t){Wl(Object.values(zl).includes(t),e,"invalid-persistence-type"),R()?Wl(t!==zl.SESSION,e,"unsupported-persistence-type"):I()?Wl(t===zl.NONE,e,"unsupported-persistence-type"):Fl()?Wl(t===zl.NONE||t===zl.LOCAL&&P(),e,"unsupported-persistence-type"):Wl(t===zl.NONE||Ul(),e,"unsupported-persistence-type")}(this._delegate,e),e){case zl.SESSION:t=ta;break;case zl.LOCAL:t=await zo(pa)._isAvailable()?pa:ea;break;case zl.NONE:t=ss;break;default:return Oo("argument-error",{appName:this._delegate.name})}return this._delegate.setPersistence(t)}signInAndRetrieveDataWithCredential(e){return this.signInWithCredential(e)}signInAnonymously(){return Jl(this._delegate,async function(e){var t;const n=ys(e);if(await n._initializationPromise,null===(t=n.currentUser)||void 0===t?void 0:t.isAnonymous)return new UserCredentialImpl({user:n.currentUser,providerId:null,operationType:"signIn"});const r=await Rs(n,{returnSecureToken:!0}),i=await UserCredentialImpl._fromIdTokenResponse(n,"signIn",r,!0);return await n._updateCurrentUser(i.user),i}(this._delegate))}signInWithCredential(e){return Jl(this._delegate,Us(this._delegate,e))}signInWithCustomToken(e){return Jl(this._delegate,Bs(this._delegate,e))}signInWithEmailAndPassword(e,t){return Jl(this._delegate,function(e,t,n){return Us(X(e),EmailAuthProvider.credential(t,n))}(this._delegate,e,t))}signInWithEmailLink(e,t){return Jl(this._delegate,async function(e,t,n){const r=X(e),i=EmailAuthProvider.credentialWithLink(t,n||Wo());return Uo(i._tenantId===(r.tenantId||null),r,"tenant-id-mismatch"),Us(r,i)}(this._delegate,e,t))}signInWithPhoneNumber(e,t){return Xl(this._delegate,async function(e,t,n){const r=ys(e),i=await wa(r,t,X(n));return new ConfirmationResultImpl(i,(e=>Us(r,e)))}(this._delegate,e,t))}async signInWithPopup(e){return Ql(jl(),this._delegate,"operation-not-supported-in-this-environment"),Jl(this._delegate,Ca(this._delegate,e,CompatPopupRedirectResolver))}async signInWithRedirect(e){return Ql(jl(),this._delegate,"operation-not-supported-in-this-environment"),await ql(this._delegate),Da(this._delegate,e,CompatPopupRedirectResolver)}updateCurrentUser(e){return this._delegate.updateCurrentUser(e)}verifyPasswordResetCode(e){return async function(e,t){const{data:n}=await qs(X(e),t);return n.email}(this._delegate,e)}unwrap(){return this._delegate}_delete(){return this._delegate._delete()}linkUnderlyingAuth(){this._delegate.wrapped=()=>this}}function Zl(e,t,n){let r=e;"function"!=typeof e&&({next:r,error:t,complete:n}=e);const i=r;return{next:e=>i(e&&User.getOrCreate(e)),error:t,complete:n}}function ec(e,t){const n=function(e,t){const n=Hl();if(!n)return[];const r=as(Gl,e,t);switch(n.getItem(r)){case zl.NONE:return[ss];case zl.LOCAL:return[pa,ta];case zl.SESSION:return[ta];default:return[]}}(e,t);if("undefined"==typeof self||n.includes(pa)||n.push(pa),"undefined"!=typeof window)for(const r of[ea,ta])n.includes(r)||n.push(r);return n.includes(ss)||n.push(ss),n}Auth.Persistence=zl;class PhoneAuthProvider{constructor(){this.providerId="phone",this._delegate=new index_30f3030e_PhoneAuthProvider(Vl(st.auth()))}static credential(e,t){return index_30f3030e_PhoneAuthProvider.credential(e,t)}verifyPhoneNumber(e,t){return this._delegate.verifyPhoneNumber(e,t)}unwrap(){return this._delegate}}PhoneAuthProvider.PHONE_SIGN_IN_METHOD=index_30f3030e_PhoneAuthProvider.PHONE_SIGN_IN_METHOD,PhoneAuthProvider.PROVIDER_ID=index_30f3030e_PhoneAuthProvider.PROVIDER_ID;const tc=Uo;class RecaptchaVerifier{constructor(e,t,n=st.app()){var r;tc(null===(r=n.options)||void 0===r?void 0:r.apiKey,"invalid-api-key",{appName:n.name}),this._delegate=new index_30f3030e_RecaptchaVerifier(e,t,n.auth()),this.type=this._delegate.type}clear(){this._delegate.clear()}render(){return this._delegate.render()}verify(){return this._delegate.verify()}}const nc="auth-compat";var rc;(rc=st).INTERNAL.registerComponent(new Component(nc,(e=>{const t=e.getProvider("app-compat").getImmediate(),n=e.getProvider("auth");return new Auth(t,n)}),"PUBLIC").setServiceProps({ActionCodeInfo:{Operation:{EMAIL_SIGNIN:To.EMAIL_SIGNIN,PASSWORD_RESET:To.PASSWORD_RESET,RECOVER_EMAIL:To.RECOVER_EMAIL,REVERT_SECOND_FACTOR_ADDITION:To.REVERT_SECOND_FACTOR_ADDITION,VERIFY_AND_CHANGE_EMAIL:To.VERIFY_AND_CHANGE_EMAIL,VERIFY_EMAIL:To.VERIFY_EMAIL}},EmailAuthProvider,FacebookAuthProvider,GithubAuthProvider,GoogleAuthProvider,OAuthProvider,SAMLAuthProvider,PhoneAuthProvider,PhoneMultiFactorGenerator,RecaptchaVerifier,TwitterAuthProvider,Auth,AuthCredential,Error:FirebaseError}).setInstantiationMode("LAZY").setMultipleInstances(!1)),rc.registerVersion(Pl,Ol);function ic(e){return null!=e&&"object"==typeof e&&!0===e["@@functional/placeholder"]}function oc(e){return function t(n){return 0===arguments.length||ic(n)?t:e.apply(this,arguments)}}function sc(e){return function t(n,r){switch(arguments.length){case 0:return t;case 1:return ic(n)?t:oc((function(t){return e(n,t)}));default:return ic(n)&&ic(r)?t:ic(n)?oc((function(t){return e(t,r)})):ic(r)?oc((function(t){return e(n,t)})):e(n,r)}}}const ac=Array.isArray||function(e){return null!=e&&e.length>=0&&"[object Array]"===Object.prototype.toString.call(e)};function lc(e,t,n){return function(){if(0===arguments.length)return n();var r=arguments[arguments.length-1];if(!ac(r)){for(var i=0;i<e.length;){if("function"==typeof r[e[i]])return r[e[i]].apply(r,Array.prototype.slice.call(arguments,0,-1));i+=1}if(function(e){return null!=e&&"function"==typeof e["@@transducer/step"]}(r))return t.apply(null,Array.prototype.slice.call(arguments,0,-1))(r)}return n.apply(this,arguments)}}const cc={init:function(){return this.xf["@@transducer/init"]()},result:function(e){return this.xf["@@transducer/result"](e)}};function uc(e){return"[object String]"===Object.prototype.toString.call(e)}"undefined"!=typeof Symbol&&Symbol.iterator;function dc(e,t){return Object.prototype.hasOwnProperty.call(t,e)}var hc=Object.prototype.toString;const pc=function(){return"[object Arguments]"===hc.call(arguments)?function(e){return"[object Arguments]"===hc.call(e)}:function(e){return dc("callee",e)}}();var fc=!{toString:null}.propertyIsEnumerable("toString"),mc=["constructor","valueOf","isPrototypeOf","toString","propertyIsEnumerable","hasOwnProperty","toLocaleString"],_c=function(){return arguments.propertyIsEnumerable("length")}(),gc=function(e,t){for(var n=0;n<e.length;){if(e[n]===t)return!0;n+=1}return!1};const vc="function"!=typeof Object.keys||_c?oc((function(e){if(Object(e)!==e)return[];var t,n,r=[],i=_c&&pc(e);for(t in e)!dc(t,e)||i&&"length"===t||(r[r.length]=t);if(fc)for(n=mc.length-1;n>=0;)dc(t=mc[n],e)&&!gc(r,t)&&(r[r.length]=t),n-=1;return r})):oc((function(e){return Object(e)!==e?[]:Object.keys(e)}));const yc=Number.isInteger||function(e){return e<<0===e};const bc=sc((function(e,t){var n=e<0?t.length+e:e;return uc(t)?t.charAt(n):t[n]}));const wc=sc((function(e,t){if(null!=t)return yc(e)?bc(e,t):t[e]}));function Ec(e){for(var t,n=[];!(t=e.next()).done;)n.push(t.value);return n}function Sc(e,t,n){for(var r=0,i=n.length;r<i;){if(e(t,n[r]))return!0;r+=1}return!1}const kc="function"==typeof Object.is?Object.is:function(e,t){return e===t?0!==e||1/e==1/t:e!=e&&t!=t};var Tc=oc((function(e){return null===e?"Null":void 0===e?"Undefined":Object.prototype.toString.call(e).slice(8,-1)}));const Ic=Tc;function Cc(e,t,n,r){var i=Ec(e);function o(e,t){return Rc(e,t,n.slice(),r.slice())}return!Sc((function(e,t){return!Sc(o,t,e)}),Ec(t),i)}function Rc(e,t,n,r){if(kc(e,t))return!0;var i,o,s=Ic(e);if(s!==Ic(t))return!1;if("function"==typeof e["fantasy-land/equals"]||"function"==typeof t["fantasy-land/equals"])return"function"==typeof e["fantasy-land/equals"]&&e["fantasy-land/equals"](t)&&"function"==typeof t["fantasy-land/equals"]&&t["fantasy-land/equals"](e);if("function"==typeof e.equals||"function"==typeof t.equals)return"function"==typeof e.equals&&e.equals(t)&&"function"==typeof t.equals&&t.equals(e);switch(s){case"Arguments":case"Array":case"Object":if("function"==typeof e.constructor&&"Promise"===(i=e.constructor,null==(o=String(i).match(/^function (\w*)/))?"":o[1]))return e===t;break;case"Boolean":case"Number":case"String":if(typeof e!=typeof t||!kc(e.valueOf(),t.valueOf()))return!1;break;case"Date":if(!kc(e.valueOf(),t.valueOf()))return!1;break;case"Error":return e.name===t.name&&e.message===t.message;case"RegExp":if(e.source!==t.source||e.global!==t.global||e.ignoreCase!==t.ignoreCase||e.multiline!==t.multiline||e.sticky!==t.sticky||e.unicode!==t.unicode)return!1}for(var a=n.length-1;a>=0;){if(n[a]===e)return r[a]===t;a-=1}switch(s){case"Map":return e.size===t.size&&Cc(e.entries(),t.entries(),n.concat([e]),r.concat([t]));case"Set":return e.size===t.size&&Cc(e.values(),t.values(),n.concat([e]),r.concat([t]));case"Arguments":case"Array":case"Object":case"Boolean":case"Number":case"String":case"Date":case"Error":case"RegExp":case"Int8Array":case"Uint8Array":case"Uint8ClampedArray":case"Int16Array":case"Uint16Array":case"Int32Array":case"Uint32Array":case"Float32Array":case"Float64Array":case"ArrayBuffer":break;default:return!1}var l=vc(e);if(l.length!==vc(t).length)return!1;var c=n.concat([e]),u=r.concat([t]);for(a=l.length-1;a>=0;){var d=l[a];if(!dc(d,t)||!Rc(t[d],e[d],c,u))return!1;a-=1}return!0}const Nc=sc((function(e,t){return Rc(e,t,[],[])}));function xc(e,t){return function(e,t,n){var r,i;if("function"==typeof e.indexOf)switch(typeof t){case"number":if(0===t){for(r=1/t;n<e.length;){if(0===(i=e[n])&&1/i===r)return n;n+=1}return-1}if(t!=t){for(;n<e.length;){if("number"==typeof(i=e[n])&&i!=i)return n;n+=1}return-1}return e.indexOf(t,n);case"string":case"boolean":case"function":case"undefined":return e.indexOf(t,n);case"object":if(null===t)return e.indexOf(t,n)}for(;n<e.length;){if(Nc(e[n],t))return n;n+=1}return-1}(t,e,0)>=0}var Pc=function(e){return(e<10?"0":"")+e};Date.prototype.toISOString;function Oc(e,t,n){var r,i=typeof e;switch(i){case"string":case"number":return 0===e&&1/e==-1/0?!!n._items["-0"]||(t&&(n._items["-0"]=!0),!1):null!==n._nativeSet?t?(r=n._nativeSet.size,n._nativeSet.add(e),n._nativeSet.size===r):n._nativeSet.has(e):i in n._items?e in n._items[i]||(t&&(n._items[i][e]=!0),!1):(t&&(n._items[i]={},n._items[i][e]=!0),!1);case"boolean":if(i in n._items){var o=e?1:0;return!!n._items[i][o]||(t&&(n._items[i][o]=!0),!1)}return t&&(n._items[i]=e?[!1,!0]:[!0,!1]),!1;case"function":return null!==n._nativeSet?t?(r=n._nativeSet.size,n._nativeSet.add(e),n._nativeSet.size===r):n._nativeSet.has(e):i in n._items?!!xc(e,n._items[i])||(t&&n._items[i].push(e),!1):(t&&(n._items[i]=[e]),!1);case"undefined":return!!n._items[i]||(t&&(n._items[i]=!0),!1);case"object":if(null===e)return!!n._items.null||(t&&(n._items.null=!0),!1);default:return(i=Object.prototype.toString.call(e))in n._items?!!xc(e,n._items[i])||(t&&n._items[i].push(e),!1):(t&&(n._items[i]=[e]),!1)}}const Ac=function(){function e(){this._nativeSet="function"==typeof Set?new Set:null,this._items={}}return e.prototype.add=function(e){return!Oc(e,!0,this)},e.prototype.has=function(e){return Oc(e,!1,this)},e}();function Dc(e){return e}const Mc=oc(Dc);var Lc=function(){function e(e,t){this.xf=t,this.f=e,this.set=new Ac}return e.prototype["@@transducer/init"]=cc.init,e.prototype["@@transducer/result"]=cc.result,e.prototype["@@transducer/step"]=function(e,t){return this.set.add(this.f(t))?this.xf["@@transducer/step"](e,t):e},e}();var Uc=sc(lc([],sc((function(e,t){return new Lc(e,t)})),(function(e,t){for(var n,r,i=new Ac,o=[],s=0;s<t.length;)n=e(r=t[s]),i.add(n)&&o.push(r),s+=1;return o})));const Fc=Uc(Mc);"function"==typeof Object.assign&&Object.assign;var jc="\t\n\v\f\r \xa0\u1680\u2000\u2001\u2002\u2003\u2004\u2005\u2006\u2007\u2008\u2009\u200a\u202f\u205f\u3000\u2028\u2029\ufeff";String.prototype.trim;const Bc=e=>`/activity/${e.id||e.index}`;var zc=n(2322);const Wc=({filteredActivities:e})=>{const t=(0,l.useNavigate)(),n=e=>{const n=e[Math.round(Math.random()*(e.length-1))];t(Bc(n))};return(0,zc.jsx)("div",{className:"background",children:(0,zc.jsxs)("div",{className:"filter-page",children:[(0,zc.jsx)("div",{className:"category category-any",onClick:()=>{n(e)},children:(0,zc.jsx)("div",{className:"category-text",children:"\u0427\u0442\u043e \u0443\u0433\u043e\u0434\u043d\u043e"})}),(0,zc.jsx)("div",{className:"category category-home",onClick:()=>{n(e.filter((e=>{var t;return null==(t=e.tags)?void 0:t.includes("home")})))},children:(0,zc.jsx)("div",{className:"category-text",children:"\u0414\u043e\u043c\u0430"})})]})})};var Gc=n(2498),qc=n.n(Gc);const Hc=/Android|webOS|iPhone|iPad|iPod|BlackBerry|IEMobile|Opera Mini/i.test(window.navigator.userAgent);qc().getInstance().init("10658e07a65adb501a57fdc59f4fbd34",void 0,{platform:Hc?"Mobile":"Desktop"});const $c=(e,t={})=>{qc().getInstance().logEvent(e,t)},Vc=[{title:"TikTok",code:"tiktok",urlPrefix:"https://www.tiktok.com/search?q=",shouldReplaceSpaces:!0},{title:"YouTube",code:"youtube",urlPrefix:"https://www.youtube.com/results?search_query=",shouldReplaceSpaces:!0},{title:"Google",code:"google",urlPrefix:"https://www.google.com/search?q=",shouldReplaceSpaces:!0},{title:"\u042f\u043d\u0434\u0435\u043a\u0441",code:"yandex",urlPrefix:"https://yandex.ru/search/?text=",shouldReplaceSpaces:!0},{title:"Wikipedia",code:"wikipedia",urlPrefix:"https://ru.wikipedia.org/wiki/",shouldReplaceSpaces:!0},{title:"\u042f\u043d\u0434\u0435\u043a\u0441.\u041a\u0430\u0440\u0442\u044b",code:"yandex-maps",urlPrefix:"https://yandex.ru/maps/?text="},{title:"2GIS",code:"2-gis",urlPrefix:"https://2gis.ru/search/"}],Yc=({allActivities:e,filteredActivities:t})=>{const n=(0,l.useNavigate)(),r=(0,l.useParams)(),o=e.find((({id:e})=>e===+r.id));if((0,i.useEffect)((()=>{window.scrollTo(0,0),o&&$c("Activity Viewed",{title:o.title})}),[o]),!o)return console.error(`No activity with id ${r.id}.`),(0,zc.jsx)("div",{children:"404. \u0410\u043a\u0442\u0438\u0432\u043d\u043e\u0441\u0442\u044c \u043d\u0435 \u043d\u0430\u0439\u0434\u0435\u043d\u0430!"});const{title:s,description:a,teasers:c,examples:u,services:d,children:h=[]}=o;return(0,zc.jsx)("div",{className:"background",children:(0,zc.jsxs)("div",{className:"selected-activity",children:[(0,zc.jsx)("div",{className:"refresh-activity",onClick:()=>{const e=Math.round(Math.random()*(t.length-1)),r=t[e];n(Bc(r))}}),(0,zc.jsx)("h1",{children:s}),(0,zc.jsxs)("div",{className:"modal-content",children:[null,(0,zc.jsx)("p",{children:a}),h&&h.length>0&&(0,zc.jsxs)(zc.Fragment,{children:[(0,zc.jsxs)("h3",{children:["\u0412\u0430\u0440\u0438\u0430\u043d\u0442\u044b \u0430\u043a\u0442\u0438\u0432\u043d\u043e\u0441\u0442\u0438 \xab",s,"\xbb"]}),(0,zc.jsx)("ul",{className:"inline-list",children:h.map(((e,t)=>(0,zc.jsx)("li",{children:(0,zc.jsx)(l.Link,{to:Bc(e),onClick:()=>{$c("Children Activity Selected",{title:e.title})},children:e.title})},`${e.id}-${t}`)))})]}),c&&(0,zc.jsxs)(zc.Fragment,{children:[(0,zc.jsx)("h3",{children:"\u0422\u0438\u0437\u0435\u0440\u044b"}),(0,zc.jsx)("ul",{children:null==c?void 0:c.map((({title:e,url:t},n)=>(0,zc.jsx)("li",{children:t?(0,zc.jsx)("a",{href:t,onClick:()=>{$c("Activity Teaser Clicked",{activity:o.title,title:e,url:t})},children:e||t}):e||t},`${e}_${n}`)))})]}),u&&(0,zc.jsxs)(zc.Fragment,{children:[(0,zc.jsx)("h3",{children:"\u041f\u0440\u0438\u043c\u0435\u0440\u044b"}),(0,zc.jsx)("ul",{children:u.map((({title:e,url:t},n)=>(0,zc.jsx)("li",{children:t?(0,zc.jsx)("a",{href:t,onClick:()=>{$c("Activity Service Clicked",{activity:o.title,title:e,url:t})},children:e||t}):e||t},`${e}_${n}`)))})]}),d&&(0,zc.jsxs)(zc.Fragment,{children:[(0,zc.jsx)("h3",{children:"\u0421\u0435\u0440\u0432\u0438\u0441\u044b"}),(0,zc.jsx)("ul",{children:d.map((({title:e,url:t},n)=>(0,zc.jsx)("li",{children:t?(0,zc.jsx)("a",{href:t,onClick:()=>{$c("Activity Service Clicked",{activity:o.title,title:e,url:t})},children:e||t}):e||t},`${e}_${n}`)))})]}),(0,zc.jsx)("h3",{children:"\u041f\u043e\u0438\u0441\u0441\u043b\u0435\u0434\u043e\u0432\u0430\u0442\u044c"}),(0,zc.jsx)("ul",{className:"inline-list research-service",children:Vc.map((({title:e,code:t,urlPrefix:n,shouldReplaceSpaces:r})=>(0,zc.jsx)("li",{children:(0,zc.jsx)("a",{className:`research-service-${t}`,href:`${n}${r?s.replace(" ","+"):s}`,title:e,onClick:()=>{$c("Activity Search Clicked",{provider:e,activity:s})},children:" "})})))})]})]})})},Kc=[{code:"main",title:"\u041e\u0441\u043d\u043e\u0432\u043d\u044b\u0435 \u043a\u0430\u0442\u0435\u0433\u043e\u0440\u0438\u0438",type:"additive",items:["relax","sport","health","learning","diy","thinking","game","food","water"]},{code:"amount",title:"\u041a\u043e\u043b\u0438\u0447\u0435\u0441\u0442\u0432\u043e \u0447\u0435\u043b\u043e\u0432\u0435\u043a",type:"single",items:["alone","pair","three","group"]},{code:"gender",title:"\u041f\u043e\u043b",type:"polar",items:["men","women"]},{code:"age",title:"\u0412\u043e\u0437\u0440\u0430\u0441\u0442",type:"polar",items:["kids","adults"]},{code:"children",title:"\u0414\u0435\u0442\u0438",type:"polar",items:["with-children","without-children"]},{code:"position",title:"\u041f\u043e\u043b\u043e\u0436\u0435\u043d\u0438\u0435",type:"additive",items:["sitting","staying","lying"]},{code:"location",title:"\u0413\u0434\u0435",type:"polar",items:["home","outdoor","water","forest","mountains"]},{code:"season",title:"\u0421\u0435\u0437\u043e\u043d",type:"polar",items:["winter","summer"]},{code:"weather",title:"\u041f\u043e\u0433\u043e\u0434\u0430",type:"polar",items:["good-weather","any-weather"]},{code:"gadgets",title:"\u0413\u0430\u0434\u0436\u0435\u0442\u044b",items:["computer","phone","no-gadgets"]},{code:"feelings",title:"\u0427\u0443\u0432\u0441\u0442\u0432\u0430",type:"additive",items:["vision","hearing","smell","touch","taste"]},{code:"special",title:"\u041d\u0435\u0447\u0442\u043e \u043e\u0441\u043e\u0431\u0435\u043d\u043d\u043e\u0435",items:["wow","challenging","date","birthday"]}],Jc=e=>{console.error(e),$c("Error Shown",{message:e})},Xc={apiKey:"AIzaSyCExrlbwm2DMX_lrhS516-93vUf4GSPgAA",authDomain:"tryeverything-421ed.firebaseapp.com",databaseURL:"https://tryeverything-421ed-default-rtdb.europe-west1.firebasedatabase.app",projectId:"tryeverything-421ed",storageBucket:"tryeverything-421ed.appspot.com",messagingSenderId:"768977457633",appId:"1:768977457633:web:df590da29170678cdf42a0",measurementId:"G-56RPZMD413"};let Qc,Zc;if(0===st.apps.length){const e=st.initializeApp(Xc);Qc=function(e=Fe()){const t=Oe(e,"auth");if(t.isInitialized())return t.getImmediate();const n=function(e,t){const n=Oe(e,"auth");if(n.isInitialized()){const e=n.getImmediate();if(z(n.getOptions(),null!=t?t:{}))return e;Oo(e,"already-initialized")}return n.initialize({options:t})}(e,{popupRedirectResolver:dl,persistence:[pa,ea,ta]}),r=S("authTokenSyncURL");if(r){const e=_l(r);!function(e,t,n){X(e).beforeAuthStateChanged(t,n)}(n,e,(()=>e(n.currentUser))),function(e,t,n,r){X(e).onIdTokenChanged(t,n,r)}(n,(t=>e(t)))}const i=b("auth");return i&&bs(n,`http://${i}`),n}(e),Zc=new GoogleAuthProvider}const eu=function(e=Fe(),t){const n=Oe(e,"database").getImmediate({identifier:t});if(!n._instanceStarted){const e=w("database");e&&function(e,t,n,r={}){e=X(e),e._checkNotDeleted("useEmulator"),e._instanceStarted&&St("Cannot call useEmulator() after instance has already been initialized.");const i=e._repoInternal;let o;if(i.repoInfo_.nodeAdmin)r.mockUserToken&&St('mockUserToken is not supported by the Admin SDK. For client access with mock users, please use the "firebase" package instead of "firebase-admin".'),o=new EmulatorTokenProvider(EmulatorTokenProvider.OWNER);else if(r.mockUserToken){const t="string"==typeof r.mockUserToken?r.mockUserToken:function(e,t){if(e.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const n=t||"demo-project",r=e.iat||0,i=e.sub||e.user_id;if(!i)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const o=Object.assign({iss:`https://securetoken.google.com/${n}`,aud:n,iat:r,exp:r+3600,auth_time:r,sub:i,user_id:i,firebase:{sign_in_provider:"custom",identities:{}}},e);return[m(JSON.stringify({alg:"none",type:"JWT"})),m(JSON.stringify(o)),""].join(".")}(r.mockUserToken,e.app.options.projectId);o=new EmulatorTokenProvider(t)}!function(e,t,n,r){e.repoInfo_=new RepoInfo(`${t}:${n}`,!1,e.repoInfo_.namespace,e.repoInfo_.webSocketOnly,e.repoInfo_.nodeAdmin,e.repoInfo_.persistenceKey,e.repoInfo_.includeNamespaceInQueryParams,!0),r&&(e.authTokenProvider_=r)}(i,t,n,o)}(n,...e)}return n}(),tu=mo(eu);$c("App Loaded");const nu=(new Date).getMonth(),ru=nu>3&&nu<10,iu=e=>!("summer"===e&&!ru||"winter"===e&&ru),ou=Fc([...JSON.parse(localStorage.getItem("selectedTags")||'["alone", "adults"]'),"summer","winter"]).filter(iu),su=(["alone","adults","summer","winter"].filter(iu),()=>{const[e,t]=(0,i.useState)([]),[n,r]=(0,i.useState)(JSON.parse(localStorage.getItem("likedActivities")||"[]")),[o,s]=(0,i.useState)(JSON.parse(localStorage.getItem("checkedActivities")||"[]")),[a,c]=(0,i.useState)(JSON.parse(localStorage.getItem("hiddenActivities")||"[]")),[u,d]=(0,i.useState)([]),[h,p]=(0,i.useState)(ou),[f,m]=(0,i.useState)({}),[_,g]=(0,i.useState)(JSON.parse(localStorage.getItem("isChildrenShown")||"false")),[v,y]=(0,i.useState)(JSON.parse(localStorage.getItem("isLikedShown")||"false")),[b,w]=(0,i.useState)(JSON.parse(localStorage.getItem("isUntriedShown")||"false")),[E,S]=(0,i.useState)(JSON.parse(localStorage.getItem("isHiddenShown")||"false")),[k,T]=(0,i.useState)(JSON.parse(localStorage.getItem("isUndescribedShown")||"false")),I=e=>{var t;m(e),t=e.uid,qc().getInstance().setUserId(t),vo(_o(tu,`/users/${e.uid}/settings`)).then((e=>{const t=e&&e.val()||{};t.likedActivities&&r(t.likedActivities),t.checkedActivities&&s(t.checkedActivities),t.hiddenActivities&&c(t.hiddenActivities)}))},C=(e,t)=>{f&&go(mo(eu,`/users/${f.uid}/settings/${e}`),t).catch(Jc)};if((0,i.useEffect)((()=>{Promise.all([vo(_o(tu,"/activities/")),vo(_o(tu,"/tags/"))]).then((([e,n])=>{const r=e&&e.val();console.log(r);const i=r.filter((e=>e.parent)).reduce(((e,t)=>Object.assign({},e,{[t.parent]:[...e[t.parent]||[],t]})),{});t(r.map(((e,t)=>Object.assign({},e,{id:t},wc(e.code,i)?{children:(i[e.code]||[]).sort(((e,t)=>e.title>t.title?1:-1))}:{}))).filter((e=>!(e.tags||[]).includes("trivial")))),d(n&&n.val().filter((e=>"trivial"!==e.code)))})),Qc&&function(e,t,n,r){X(e).onAuthStateChanged(t,n,r)}(Qc,(e=>{e&&I(e)}))}),[]),0===e.length||0===u.length)return null;const R=u.reduce(((e,t)=>Object.assign({},e,{[t.code]:t.title})),{}),N=e.filter((e=>"-"!==e.title)).filter((e=>_||!e.parent)).filter((e=>!v||n.includes(e.id))).filter((e=>!b||!o.includes(e.id))).filter((e=>E||!a.includes(e.id))).filter((e=>k||e.description)),x=Kc.map((e=>Object.assign({},e,{items:e.items.map((e=>({code:e,title:R[e]})))}))),P=x.reduce(((e,t)=>[...e,...t.items]),[]);return x.push({code:"rest",title:"\u0414\u0440\u0443\u0433\u0438\u0435 \u043a\u0430\u0442\u0435\u0433\u043e\u0440\u0438\u0438",items:u.filter((e=>!P.map((e=>e.code)).includes(e.code)))}),(0,zc.jsxs)("div",{className:"app",children:[(0,zc.jsx)(l.HashRouter,{children:(0,zc.jsxs)(l.Routes,{children:[(0,zc.jsx)(l.Route,{path:"activity",children:(0,zc.jsx)(l.Route,{path:":id",element:(0,zc.jsx)(Yc,{tagCodeToTitle:R,allActivities:e,filteredActivities:N,likedActivities:n,setLikedActivities:e=>{r(e),localStorage.setItem("likedActivities",JSON.stringify(e)),C("likedActivities",e)},checkedActivities:o,setCheckedActivities:e=>{s(e),localStorage.setItem("checkedActivities",JSON.stringify(e)),C("checkedActivities",e)},selectedTags:h})})}),(0,zc.jsx)(l.Route,{path:"/",element:(0,zc.jsx)(Wc,{filteredActivities:N})})]})}),(0,zc.jsxs)("p",{className:"feedback-request",children:[(0,zc.jsx)("span",{children:(0,zc.jsx)("a",{href:"https://www.icloud.com/shortcuts/9dc5e8f3309344388798cf29fe9cf209",target:"_blank",rel:"noreferrer",children:"\u0423\u0441\u0442\u0430\u043d\u043e\u0432\u0438\u0442\u044c iOS Shortcut"})}),"|",(0,zc.jsxs)("span",{children:["\u0410\u0432\u0442\u043e\u0440 \u2014"," ",(0,zc.jsx)("a",{href:"https://polyakovin.ru",target:"_blank",rel:"noreferrer",onClick:()=>{$c("Feedback Clicked")},children:"\u0418\u0433\u043e\u0440\u044c \u041f\u043e\u043b\u044f\u043a\u043e\u0432"})]})]})]})});s.init({dsn:"https://99bc17307c0e4e6b9c5a71eb6b27d720@o1303385.ingest.sentry.io/6542304",integrations:[new a.gE],tracesSampleRate:1});o.s(document.getElementById("root")).render((0,zc.jsx)(i.StrictMode,{children:(0,zc.jsx)(su,{})}))},2149:(e,t)=>{"use strict";function n(){return n=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},n.apply(this,arguments)}var r;Object.defineProperty(t,"__esModule",{value:!0}),t.Action=void 0,(r=t.Action||(t.Action={})).Pop="POP",r.Push="PUSH",r.Replace="REPLACE";const i="popstate";function o(e,t){if(!1===e||null==e)throw new Error(t)}function s(e,t){if(!e){"undefined"!=typeof console&&console.warn(t);try{throw new Error(t)}catch(n){}}}function a(e,t){return{usr:e.state,key:e.key,idx:t}}function l(e,t,r,i){return void 0===r&&(r=null),n({pathname:"string"==typeof e?e:e.pathname,search:"",hash:""},"string"==typeof t?u(t):t,{state:r,key:t&&t.key||i||Math.random().toString(36).substr(2,8)})}function c(e){let{pathname:t="/",search:n="",hash:r=""}=e;return n&&"?"!==n&&(t+="?"===n.charAt(0)?n:"?"+n),r&&"#"!==r&&(t+="#"===r.charAt(0)?r:"#"+r),t}function u(e){let t={};if(e){let n=e.indexOf("#");n>=0&&(t.hash=e.substr(n),e=e.substr(0,n));let r=e.indexOf("?");r>=0&&(t.search=e.substr(r),e=e.substr(0,r)),e&&(t.pathname=e)}return t}function d(e,r,s,u){void 0===u&&(u={});let{window:d=document.defaultView,v5Compat:h=!1}=u,p=d.history,f=t.Action.Pop,m=null,_=g();function g(){return(p.state||{idx:null}).idx}function v(){f=t.Action.Pop;let e=g(),n=null==e?null:e-_;_=e,m&&m({action:f,location:b.location,delta:n})}function y(e){let t="null"!==d.location.origin?d.location.origin:d.location.href,n="string"==typeof e?e:c(e);return o(t,"No window.location.(origin|href) available to create URL for href: "+n),new URL(n,t)}null==_&&(_=0,p.replaceState(n({},p.state,{idx:_}),""));let b={get action(){return f},get location(){return e(d,p)},listen(e){if(m)throw new Error("A history only accepts one active listener");return d.addEventListener(i,v),m=e,()=>{d.removeEventListener(i,v),m=null}},createHref:e=>r(d,e),createURL:y,encodeLocation(e){let t=y(e);return{pathname:t.pathname,search:t.search,hash:t.hash}},push:function(e,n){f=t.Action.Push;let r=l(b.location,e,n);s&&s(r,e),_=g()+1;let i=a(r,_),o=b.createHref(r);try{p.pushState(i,"",o)}catch(c){d.location.assign(o)}h&&m&&m({action:f,location:b.location,delta:1})},replace:function(e,n){f=t.Action.Replace;let r=l(b.location,e,n);s&&s(r,e),_=g();let i=a(r,_),o=b.createHref(r);p.replaceState(i,"",o),h&&m&&m({action:f,location:b.location,delta:0})},go:e=>p.go(e)};return b}let h;function p(e,t,r){return void 0===t&&(t=[]),void 0===r&&(r=new Set),e.map(((e,i)=>{let s=[...t,i],a="string"==typeof e.id?e.id:s.join("-");if(o(!0!==e.index||!e.children,"Cannot specify children on an index route"),o(!r.has(a),'Found a route id collision on id "'+a+"\".  Route id's must be globally unique within Data Router usages"),r.add(a),function(e){return!0===e.index}(e)){return n({},e,{id:a})}return n({},e,{id:a,children:e.children?p(e.children,s,r):void 0})}))}function f(e,t,n){void 0===n&&(n="/");let r=R(("string"==typeof t?u(t):t).pathname||"/",n);if(null==r)return null;let i=m(e);!function(e){e.sort(((e,t)=>e.score!==t.score?t.score-e.score:function(e,t){let n=e.length===t.length&&e.slice(0,-1).every(((e,n)=>e===t[n]));return n?e[e.length-1]-t[t.length-1]:0}(e.routesMeta.map((e=>e.childrenIndex)),t.routesMeta.map((e=>e.childrenIndex)))))}(i);let o=null;for(let s=0;null==o&&s<i.length;++s)o=T(i[s],C(r));return o}function m(e,t,n,r){void 0===t&&(t=[]),void 0===n&&(n=[]),void 0===r&&(r="");let i=(e,i,s)=>{let a={relativePath:void 0===s?e.path||"":s,caseSensitive:!0===e.caseSensitive,childrenIndex:i,route:e};a.relativePath.startsWith("/")&&(o(a.relativePath.startsWith(r),'Absolute route path "'+a.relativePath+'" nested under path "'+r+'" is not valid. An absolute child route path must start with the combined path of all its parent routes.'),a.relativePath=a.relativePath.slice(r.length));let l=D([r,a.relativePath]),c=n.concat(a);e.children&&e.children.length>0&&(o(!0!==e.index,'Index routes must not have child routes. Please remove all child routes from route path "'+l+'".'),m(e.children,t,c,l)),(null!=e.path||e.index)&&t.push({path:l,score:k(l,e.index),routesMeta:c})};return e.forEach(((e,t)=>{var n;if(""!==e.path&&null!=(n=e.path)&&n.includes("?"))for(let r of _(e.path))i(e,t,r);else i(e,t)})),t}function _(e){let t=e.split("/");if(0===t.length)return[];let[n,...r]=t,i=n.endsWith("?"),o=n.replace(/\?$/,"");if(0===r.length)return i?[o,""]:[o];let s=_(r.join("/")),a=[];return a.push(...s.map((e=>""===e?o:[o,e].join("/")))),i&&a.push(...s),a.map((t=>e.startsWith("/")&&""===t?"/":t))}!function(e){e.data="data",e.deferred="deferred",e.redirect="redirect",e.error="error"}(h||(h={}));const g=/^:\w+$/,v=3,y=2,b=1,w=10,E=-2,S=e=>"*"===e;function k(e,t){let n=e.split("/"),r=n.length;return n.some(S)&&(r+=E),t&&(r+=y),n.filter((e=>!S(e))).reduce(((e,t)=>e+(g.test(t)?v:""===t?b:w)),r)}function T(e,t){let{routesMeta:n}=e,r={},i="/",o=[];for(let s=0;s<n.length;++s){let e=n[s],a=s===n.length-1,l="/"===i?t:t.slice(i.length)||"/",c=I({path:e.relativePath,caseSensitive:e.caseSensitive,end:a},l);if(!c)return null;Object.assign(r,c.params);let u=e.route;o.push({params:r,pathname:D([i,c.pathname]),pathnameBase:M(D([i,c.pathnameBase])),route:u}),"/"!==c.pathnameBase&&(i=D([i,c.pathnameBase]))}return o}function I(e,t){"string"==typeof e&&(e={path:e,caseSensitive:!1,end:!0});let[n,r]=function(e,t,n){void 0===t&&(t=!1);void 0===n&&(n=!0);N("*"===e||!e.endsWith("*")||e.endsWith("/*"),'Route path "'+e+'" will be treated as if it were "'+e.replace(/\*$/,"/*")+'" because the `*` character must always follow a `/` in the pattern. To get rid of this warning, please change the route path to "'+e.replace(/\*$/,"/*")+'".');let r=[],i="^"+e.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^$?{}|()[\]]/g,"\\$&").replace(/\/:(\w+)/g,((e,t)=>(r.push(t),"/([^\\/]+)")));e.endsWith("*")?(r.push("*"),i+="*"===e||"/*"===e?"(.*)$":"(?:\\/(.+)|\\/*)$"):n?i+="\\/*$":""!==e&&"/"!==e&&(i+="(?:(?=\\/|$))");let o=new RegExp(i,t?void 0:"i");return[o,r]}(e.path,e.caseSensitive,e.end),i=t.match(n);if(!i)return null;let o=i[0],s=o.replace(/(.)\/+$/,"$1"),a=i.slice(1);return{params:r.reduce(((e,t,n)=>{if("*"===t){let e=a[n]||"";s=o.slice(0,o.length-e.length).replace(/(.)\/+$/,"$1")}return e[t]=function(e,t){try{return decodeURIComponent(e)}catch(n){return N(!1,'The value for the URL param "'+t+'" will not be decoded because the string "'+e+'" is a malformed URL segment. This is probably due to a bad percent encoding ('+n+")."),e}}(a[n]||"",t),e}),{}),pathname:o,pathnameBase:s,pattern:e}}function C(e){try{return decodeURI(e)}catch(t){return N(!1,'The URL path "'+e+'" could not be decoded because it is is a malformed URL segment. This is probably due to a bad percent encoding ('+t+")."),e}}function R(e,t){if("/"===t)return e;if(!e.toLowerCase().startsWith(t.toLowerCase()))return null;let n=t.endsWith("/")?t.length-1:t.length,r=e.charAt(n);return r&&"/"!==r?null:e.slice(n)||"/"}function N(e,t){if(!e){"undefined"!=typeof console&&console.warn(t);try{throw new Error(t)}catch(n){}}}function x(e,t){void 0===t&&(t="/");let{pathname:n,search:r="",hash:i=""}="string"==typeof e?u(e):e,o=n?n.startsWith("/")?n:function(e,t){let n=t.replace(/\/+$/,"").split("/");return e.split("/").forEach((e=>{".."===e?n.length>1&&n.pop():"."!==e&&n.push(e)})),n.length>1?n.join("/"):"/"}(n,t):t;return{pathname:o,search:L(r),hash:U(i)}}function P(e,t,n,r){return"Cannot include a '"+e+"' character in a manually specified `to."+t+"` field ["+JSON.stringify(r)+"].  Please separate it out to the `to."+n+'` field. Alternatively you may provide the full path as a string in <Link to="..."> and the router will parse it for you.'}function O(e){return e.filter(((e,t)=>0===t||e.route.path&&e.route.path.length>0))}function A(e,t,r,i){let s;void 0===i&&(i=!1),"string"==typeof e?s=u(e):(s=n({},e),o(!s.pathname||!s.pathname.includes("?"),P("?","pathname","search",s)),o(!s.pathname||!s.pathname.includes("#"),P("#","pathname","hash",s)),o(!s.search||!s.search.includes("#"),P("#","search","hash",s)));let a,l=""===e||""===s.pathname,c=l?"/":s.pathname;if(i||null==c)a=r;else{let e=t.length-1;if(c.startsWith("..")){let t=c.split("/");for(;".."===t[0];)t.shift(),e-=1;s.pathname=t.join("/")}a=e>=0?t[e]:"/"}let d=x(s,a),h=c&&"/"!==c&&c.endsWith("/"),p=(l||"."===c)&&r.endsWith("/");return d.pathname.endsWith("/")||!h&&!p||(d.pathname+="/"),d}const D=e=>e.join("/").replace(/\/\/+/g,"/"),M=e=>e.replace(/\/+$/,"").replace(/^\/*/,"/"),L=e=>e&&"?"!==e?e.startsWith("?")?e:"?"+e:"",U=e=>e&&"#"!==e?e.startsWith("#")?e:"#"+e:"";class AbortedDeferredError extends Error{}class DeferredData{constructor(e,t){let n;this.pendingKeysSet=new Set,this.subscribers=new Set,this.deferredKeys=[],o(e&&"object"==typeof e&&!Array.isArray(e),"defer() only accepts plain objects"),this.abortPromise=new Promise(((e,t)=>n=t)),this.controller=new AbortController;let r=()=>n(new AbortedDeferredError("Deferred data aborted"));this.unlistenAbortSignal=()=>this.controller.signal.removeEventListener("abort",r),this.controller.signal.addEventListener("abort",r),this.data=Object.entries(e).reduce(((e,t)=>{let[n,r]=t;return Object.assign(e,{[n]:this.trackPromise(n,r)})}),{}),this.done&&this.unlistenAbortSignal(),this.init=t}trackPromise(e,t){if(!(t instanceof Promise))return t;this.deferredKeys.push(e),this.pendingKeysSet.add(e);let n=Promise.race([t,this.abortPromise]).then((t=>this.onSettle(n,e,null,t)),(t=>this.onSettle(n,e,t)));return n.catch((()=>{})),Object.defineProperty(n,"_tracked",{get:()=>!0}),n}onSettle(e,t,n,r){return this.controller.signal.aborted&&n instanceof AbortedDeferredError?(this.unlistenAbortSignal(),Object.defineProperty(e,"_error",{get:()=>n}),Promise.reject(n)):(this.pendingKeysSet.delete(t),this.done&&this.unlistenAbortSignal(),n?(Object.defineProperty(e,"_error",{get:()=>n}),this.emit(!1,t),Promise.reject(n)):(Object.defineProperty(e,"_data",{get:()=>r}),this.emit(!1,t),r))}emit(e,t){this.subscribers.forEach((n=>n(e,t)))}subscribe(e){return this.subscribers.add(e),()=>this.subscribers.delete(e)}cancel(){this.controller.abort(),this.pendingKeysSet.forEach(((e,t)=>this.pendingKeysSet.delete(t))),this.emit(!0)}async resolveData(e){let t=!1;if(!this.done){let n=()=>this.cancel();e.addEventListener("abort",n),t=await new Promise((t=>{this.subscribe((r=>{e.removeEventListener("abort",n),(r||this.done)&&t(r)}))}))}return t}get done(){return 0===this.pendingKeysSet.size}get unwrappedData(){return o(null!==this.data&&this.done,"Can only unwrap data on initialized and settled deferreds"),Object.entries(this.data).reduce(((e,t)=>{let[n,r]=t;return Object.assign(e,{[n]:F(r)})}),{})}get pendingKeys(){return Array.from(this.pendingKeysSet)}}function F(e){if(!function(e){return e instanceof Promise&&!0===e._tracked}(e))return e;if(e._error)throw e._error;return e._data}class ErrorResponse{constructor(e,t,n,r){void 0===r&&(r=!1),this.status=e,this.statusText=t||"",this.internal=r,n instanceof Error?(this.data=n.toString(),this.error=n):this.data=n}}function B(e){return null!=e&&"number"==typeof e.status&&"string"==typeof e.statusText&&"boolean"==typeof e.internal&&"data"in e}const z=["post","put","patch","delete"],W=new Set(z),G=["get",...z],H=new Set(G),$=new Set([301,302,303,307,308]),V=new Set([307,308]),Y={state:"idle",location:void 0,formMethod:void 0,formAction:void 0,formEncType:void 0,formData:void 0},K={state:"idle",data:void 0,formMethod:void 0,formAction:void 0,formEncType:void 0,formData:void 0},J={state:"unblocked",proceed:void 0,reset:void 0,location:void 0},X=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,Q="undefined"!=typeof window&&void 0!==window.document&&void 0!==window.document.createElement,Z=!Q;const ee=Symbol("deferred");function te(e,t,n){void 0===n&&(n=!1);let r,i="string"==typeof e?e:c(e);if(!t||!function(e){return null!=e&&"formData"in e}(t))return{path:i};if(t.formMethod&&!Ee(t.formMethod))return{path:i,error:fe(405,{method:t.formMethod})};if(t.formData&&(r={formMethod:t.formMethod||"get",formAction:_e(i),formEncType:t&&t.formEncType||"application/x-www-form-urlencoded",formData:t.formData},Se(r.formMethod)))return{path:i,submission:r};let o=u(i),s=le(t.formData);return n&&o.search&&Ie(o.search)&&s.append("index",""),o.search="?"+s,{path:c(o),submission:r}}function ne(e,t){let n=e;if(t){let r=e.findIndex((e=>e.route.id===t));r>=0&&(n=e.slice(0,r))}return n}function re(e,t,r,i,o,s,a,l,c,u,d,h,p){let m=p?Object.values(p)[0]:h?Object.values(h)[0]:void 0,_=e.createURL(t.location),g=e.createURL(o),v=s||_.toString()===g.toString()||_.search!==g.search,y=p?Object.keys(p)[0]:void 0,b=ne(r,y).filter(((e,r)=>{if(null==e.route.loader)return!1;if(function(e,t,n){let r=!t||n.route.id!==t.route.id,i=void 0===e[n.route.id];return r||i}(t.loaderData,t.matches[r],e)||a.some((t=>t===e.route.id)))return!0;let o=t.matches[r],s=e;return oe(e,n({currentUrl:_,currentParams:o.params,nextUrl:g,nextParams:s.params},i,{actionResult:m,defaultShouldRevalidate:v||ie(o,s)}))})),w=[];return c.forEach(((e,o)=>{if(!r.some((t=>t.route.id===e.routeId)))return;let s=f(u,e.path,d);if(!s)return void w.push(n({key:o},e,{matches:null,match:null}));let a=Re(s,e.path);(l.includes(o)||oe(a,n({currentUrl:_,currentParams:t.matches[t.matches.length-1].params,nextUrl:g,nextParams:r[r.length-1].params},i,{actionResult:m,defaultShouldRevalidate:v})))&&w.push(n({key:o,matches:s,match:a},e))})),[b,w]}function ie(e,t){let n=e.route.path;return e.pathname!==t.pathname||null!=n&&n.endsWith("*")&&e.params["*"]!==t.params["*"]}function oe(e,t){if(e.route.shouldRevalidate){let n=e.route.shouldRevalidate(t);if("boolean"==typeof n)return n}return t.defaultShouldRevalidate}async function se(e,t,n,r,i,s,a,l){let u,d,p;void 0===i&&(i="/"),void 0===s&&(s=!1),void 0===a&&(a=!1);let f=new Promise(((e,t)=>p=t)),m=()=>p();t.signal.addEventListener("abort",m);try{let r=n.route[e];o(r,"Could not find the "+e+' to run on the "'+n.route.id+'" route'),d=await Promise.race([r({request:t,params:n.params,context:l}),f]),o(void 0!==d,"You defined "+("action"===e?"an action":"a loader")+' for route "'+n.route.id+"\" but didn't return anything from your `"+e+"` function. Please return a value or `null`.")}catch(v){u=h.error,d=v}finally{t.signal.removeEventListener("abort",m)}if(be(d)){let e,l=d.status;if($.has(l)){let e=d.headers.get("Location");if(o(e,"Redirects returned/thrown from loaders/actions must have a Location header"),X.test(e)){if(!s){let n=new URL(t.url),r=e.startsWith("//")?new URL(n.protocol+e):new URL(e),o=null!=R(r.pathname,i);r.origin===n.origin&&o&&(e=r.pathname+r.search+r.hash)}}else{let s=A(e,O(r.slice(0,r.indexOf(n)+1)).map((e=>e.pathnameBase)),new URL(t.url).pathname);if(o(c(s),"Unable to resolve redirect location: "+e),i){let e=s.pathname;s.pathname="/"===e?i:D([i,e])}e=c(s)}if(s)throw d.headers.set("Location",e),d;return{type:h.redirect,status:l,location:e,revalidate:null!==d.headers.get("X-Remix-Revalidate")}}if(a)throw{type:u||h.data,response:d};let p=d.headers.get("Content-Type");return e=p&&/\bapplication\/json\b/.test(p)?await d.json():await d.text(),u===h.error?{type:u,error:new ErrorResponse(l,d.statusText,e),headers:d.headers}:{type:h.data,data:e,statusCode:d.status,headers:d.headers}}return u===h.error?{type:u,error:d}:d instanceof DeferredData?{type:h.deferred,deferredData:d,statusCode:null==(_=d.init)?void 0:_.status,headers:(null==(g=d.init)?void 0:g.headers)&&new Headers(d.init.headers)}:{type:h.data,data:d};var _,g}function ae(e,t,n,r){let i=e.createURL(_e(t)).toString(),o={signal:n};if(r&&Se(r.formMethod)){let{formMethod:e,formEncType:t,formData:n}=r;o.method=e.toUpperCase(),o.body="application/x-www-form-urlencoded"===t?le(n):n}return new Request(i,o)}function le(e){let t=new URLSearchParams;for(let[n,r]of e.entries())t.append(n,r instanceof File?r.name:r);return t}function ce(e,t,n,r,i){let s,a={},l=null,c=!1,u={};return n.forEach(((n,d)=>{let h=t[d].route.id;if(o(!ye(n),"Cannot handle redirect results in processLoaderData"),ve(n)){let t=he(e,h),i=n.error;r&&(i=Object.values(r)[0],r=void 0),l=l||{},null==l[t.route.id]&&(l[t.route.id]=i),a[h]=void 0,c||(c=!0,s=B(n.error)?n.error.status:500),n.headers&&(u[h]=n.headers)}else ge(n)?(i.set(h,n.deferredData),a[h]=n.deferredData.data):a[h]=n.data,null==n.statusCode||200===n.statusCode||c||(s=n.statusCode),n.headers&&(u[h]=n.headers)})),r&&(l=r,a[Object.keys(r)[0]]=void 0),{loaderData:a,errors:l,statusCode:s||200,loaderHeaders:u}}function ue(e,t,r,i,s,a,l,c){let{loaderData:u,errors:d}=ce(t,r,i,s,c);for(let h=0;h<a.length;h++){let{key:t,match:r}=a[h];o(void 0!==l&&void 0!==l[h],"Did not find corresponding fetcher result");let i=l[h];if(ve(i)){let o=he(e.matches,null==r?void 0:r.route.id);d&&d[o.route.id]||(d=n({},d,{[o.route.id]:i.error})),e.fetchers.delete(t)}else if(ye(i))o(!1,"Unhandled fetcher revalidation redirect");else if(ge(i))o(!1,"Unhandled fetcher deferred data");else{let n={state:"idle",data:i.data,formMethod:void 0,formAction:void 0,formEncType:void 0,formData:void 0," _hasFetcherDoneAnything ":!0};e.fetchers.set(t,n)}}return{loaderData:u,errors:d}}function de(e,t,r,i){let o=n({},t);for(let n of r){let r=n.route.id;if(t.hasOwnProperty(r)?void 0!==t[r]&&(o[r]=t[r]):void 0!==e[r]&&n.route.loader&&(o[r]=e[r]),i&&i.hasOwnProperty(r))break}return o}function he(e,t){return(t?e.slice(0,e.findIndex((e=>e.route.id===t))+1):[...e]).reverse().find((e=>!0===e.route.hasErrorBoundary))||e[0]}function pe(e){let t=e.find((e=>e.index||!e.path||"/"===e.path))||{id:"__shim-error-route__"};return{matches:[{params:{},pathname:"",pathnameBase:"",route:t}],route:t}}function fe(e,t){let{pathname:n,routeId:r,method:i,type:o}=void 0===t?{}:t,s="Unknown Server Error",a="Unknown @remix-run/router error";return 400===e?(s="Bad Request",i&&n&&r?a="You made a "+i+' request to "'+n+'" but did not provide a `loader` for route "'+r+'", so there is no way to handle the request.':"defer-action"===o&&(a="defer() is not supported in actions")):403===e?(s="Forbidden",a='Route "'+r+'" does not match URL "'+n+'"'):404===e?(s="Not Found",a='No route matches URL "'+n+'"'):405===e&&(s="Method Not Allowed",i&&n&&r?a="You made a "+i.toUpperCase()+' request to "'+n+'" but did not provide an `action` for route "'+r+'", so there is no way to handle the request.':i&&(a='Invalid request method "'+i.toUpperCase()+'"')),new ErrorResponse(e||500,s,new Error(a),!0)}function me(e){for(let t=e.length-1;t>=0;t--){let n=e[t];if(ye(n))return n}}function _e(e){return c(n({},"string"==typeof e?u(e):e,{hash:""}))}function ge(e){return e.type===h.deferred}function ve(e){return e.type===h.error}function ye(e){return(e&&e.type)===h.redirect}function be(e){return null!=e&&"number"==typeof e.status&&"string"==typeof e.statusText&&"object"==typeof e.headers&&void 0!==e.body}function we(e){if(!be(e))return!1;let t=e.status,n=e.headers.get("Location");return t>=300&&t<=399&&null!=n}function Ee(e){return H.has(e)}function Se(e){return W.has(e)}async function ke(e,t,n,r,i,o){for(let s=0;s<n.length;s++){let a=n[s],l=t[s];if(!l)continue;let c=e.find((e=>e.route.id===l.route.id)),u=null!=c&&!ie(c,l)&&void 0!==(o&&o[l.route.id]);ge(a)&&(i||u)&&await Te(a,r,i).then((e=>{e&&(n[s]=e||n[s])}))}}async function Te(e,t,n){if(void 0===n&&(n=!1),!(await e.deferredData.resolveData(t))){if(n)try{return{type:h.data,data:e.deferredData.unwrappedData}}catch(r){return{type:h.error,error:r}}return{type:h.data,data:e.deferredData.data}}}function Ie(e){return new URLSearchParams(e).getAll("index").some((e=>""===e))}function Ce(e,t){let{route:n,pathname:r,params:i}=e;return{id:n.id,pathname:r,params:i,data:t[n.id],handle:n.handle}}function Re(e,t){let n="string"==typeof t?u(t).search:t.search;if(e[e.length-1].route.index&&Ie(n||""))return e[e.length-1];let r=O(e);return r[r.length-1]}t.AbortedDeferredError=AbortedDeferredError,t.ErrorResponse=ErrorResponse,t.IDLE_BLOCKER=J,t.IDLE_FETCHER=K,t.IDLE_NAVIGATION=Y,t.UNSAFE_DEFERRED_SYMBOL=ee,t.UNSAFE_DeferredData=DeferredData,t.UNSAFE_convertRoutesToDataRoutes=p,t.UNSAFE_getPathContributingMatches=O,t.UNSAFE_invariant=o,t.createBrowserHistory=function(e){return void 0===e&&(e={}),d((function(e,t){let{pathname:n,search:r,hash:i}=e.location;return l("",{pathname:n,search:r,hash:i},t.state&&t.state.usr||null,t.state&&t.state.key||"default")}),(function(e,t){return"string"==typeof t?t:c(t)}),null,e)},t.createHashHistory=function(e){return void 0===e&&(e={}),d((function(e,t){let{pathname:n="/",search:r="",hash:i=""}=u(e.location.hash.substr(1));return l("",{pathname:n,search:r,hash:i},t.state&&t.state.usr||null,t.state&&t.state.key||"default")}),(function(e,t){let n=e.document.querySelector("base"),r="";if(n&&n.getAttribute("href")){let t=e.location.href,n=t.indexOf("#");r=-1===n?t:t.slice(0,n)}return r+"#"+("string"==typeof t?t:c(t))}),(function(e,t){s("/"===e.pathname.charAt(0),"relative pathnames are not supported in hash history.push("+JSON.stringify(t)+")")}),e)},t.createMemoryHistory=function(e){void 0===e&&(e={});let n,{initialEntries:r=["/"],initialIndex:i,v5Compat:o=!1}=e;n=r.map(((e,t)=>m(e,"string"==typeof e?null:e.state,0===t?"default":void 0)));let a=p(i??n.length-1),d=t.Action.Pop,h=null;function p(e){return Math.min(Math.max(e,0),n.length-1)}function f(){return n[a]}function m(e,t,r){void 0===t&&(t=null);let i=l(n?f().pathname:"/",e,t,r);return s("/"===i.pathname.charAt(0),"relative pathnames are not supported in memory history: "+JSON.stringify(e)),i}function _(e){return"string"==typeof e?e:c(e)}return{get index(){return a},get action(){return d},get location(){return f()},createHref:_,createURL:e=>new URL(_(e),"http://localhost"),encodeLocation(e){let t="string"==typeof e?u(e):e;return{pathname:t.pathname||"",search:t.search||"",hash:t.hash||""}},push(e,r){d=t.Action.Push;let i=m(e,r);a+=1,n.splice(a,n.length,i),o&&h&&h({action:d,location:i,delta:1})},replace(e,r){d=t.Action.Replace;let i=m(e,r);n[a]=i,o&&h&&h({action:d,location:i,delta:0})},go(e){d=t.Action.Pop;let r=p(a+e),i=n[r];a=r,h&&h({action:d,location:i,delta:e})},listen:e=>(h=e,()=>{h=null})}},t.createPath=c,t.createRouter=function(e){o(e.routes.length>0,"You must provide a non-empty routes array to createRouter");let r,i=p(e.routes),s=null,a=new Set,c=null,u=null,d=null,m=null!=e.hydrationData,_=f(i,e.history.location,e.basename),g=null;if(null==_){let t=fe(404,{pathname:e.history.location.pathname}),{matches:n,route:r}=pe(i);_=n,g={[r.id]:t}}let v,y,b=!_.some((e=>e.route.loader))||null!=e.hydrationData,w={historyAction:e.history.action,location:e.history.location,matches:_,initialized:b,navigation:Y,restoreScrollPosition:null==e.hydrationData&&null,preventScrollReset:!1,revalidation:"idle",loaderData:e.hydrationData&&e.hydrationData.loaderData||{},actionData:e.hydrationData&&e.hydrationData.actionData||null,errors:e.hydrationData&&e.hydrationData.errors||g,fetchers:new Map,blockers:new Map},E=t.Action.Pop,S=!1,k=!1,T=!1,I=[],C=[],x=new Map,P=0,O=-1,A=new Map,D=new Set,M=new Map,L=new Map,U=new Map,F=!1;function B(e){w=n({},w,e),a.forEach((e=>e(w)))}function z(o,s){var a,l;let c,u=null!=w.actionData&&null!=w.navigation.formMethod&&Se(w.navigation.formMethod)&&"loading"===w.navigation.state&&!0!==(null==(a=o.state)?void 0:a._isRedirect);c=s.actionData?Object.keys(s.actionData).length>0?s.actionData:null:u?w.actionData:null;let d=s.loaderData?de(w.loaderData,s.loaderData,s.matches||[],s.errors):w.loaderData;for(let[e]of U)_e(e);let h=!0===S||null!=w.navigation.formMethod&&Se(w.navigation.formMethod)&&!0!==(null==(l=o.state)?void 0:l._isRedirect);r&&(i=r,r=void 0),B(n({},s,{actionData:c,loaderData:d,historyAction:E,location:o,initialized:!0,navigation:Y,revalidation:"idle",restoreScrollPosition:Ie(o,s.matches||w.matches),preventScrollReset:h,blockers:new Map(w.blockers)})),k||E===t.Action.Pop||(E===t.Action.Push?e.history.push(o,o.state):E===t.Action.Replace&&e.history.replace(o,o.state)),E=t.Action.Pop,S=!1,k=!1,T=!1,I=[],C=[]}async function W(s,a,l){y&&y.abort(),y=null,E=s,k=!0===(l&&l.startUninterruptedRevalidation),function(e,t){if(c&&u&&d){let n=t.map((e=>Ce(e,w.loaderData))),r=u(e,n)||e.key;c[r]=d()}}(w.location,w.matches),S=!0===(l&&l.preventScrollReset);let p=r||i,m=l&&l.overrideNavigation,_=f(p,a,e.basename);if(!_){let e=fe(404,{pathname:a.pathname}),{matches:t,route:n}=pe(p);return Ee(),void z(a,{matches:t,loaderData:{},errors:{[n.id]:e}})}if(!(g=w.location,b=a,g.pathname!==b.pathname||g.search!==b.search||g.hash===b.hash||l&&l.submission&&Se(l.submission.formMethod)))return void z(a,{matches:_});var g,b;y=new AbortController;let R,N,A=ae(e.history,a,y.signal,l&&l.submission);if(l&&l.pendingError)N={[he(_).route.id]:l.pendingError};else if(l&&l.submission&&Se(l.submission.formMethod)){let e=await async function(e,r,i,o,s){ee();let a,l=n({state:"submitting",location:r},i);B({navigation:l});let c=Re(o,r);if(c.route.action){if(a=await se("action",e,c,o,v.basename),e.signal.aborted)return{shortCircuited:!0}}else a={type:h.error,error:fe(405,{method:e.method,pathname:r.pathname,routeId:c.route.id})};if(ye(a)){let e;return e=s&&null!=s.replace?s.replace:a.location===w.location.pathname+w.location.search,await H(w,a,{submission:i,replace:e}),{shortCircuited:!0}}if(ve(a)){let e=he(o,c.route.id);return!0!==(s&&s.replace)&&(E=t.Action.Push),{pendingActionData:{},pendingActionError:{[e.route.id]:a.error}}}if(ge(a))throw fe(400,{type:"defer-action"});return{pendingActionData:{[c.route.id]:a.data}}}(A,a,l.submission,_,{replace:l.replace});if(e.shortCircuited)return;R=e.pendingActionData,N=e.pendingActionError,m=n({state:"loading",location:a},l.submission),A=new Request(A.url,{signal:A.signal})}let{shortCircuited:U,loaderData:F,errors:W}=await async function(t,s,a,l,c,u,d,h){let p=l;if(!p){p=n({state:"loading",location:s,formMethod:void 0,formAction:void 0,formEncType:void 0,formData:void 0},c)}let f=c||(p.formMethod&&p.formAction&&p.formData&&p.formEncType?{formMethod:p.formMethod,formAction:p.formAction,formData:p.formData,formEncType:p.formEncType}:void 0),m=r||i,[_,g]=re(e.history,w,a,f,s,T,I,C,M,m,e.basename,d,h);if(Ee((e=>!(a&&a.some((t=>t.route.id===e)))||_&&_.some((t=>t.route.id===e)))),0===_.length&&0===g.length)return z(s,n({matches:a,loaderData:{},errors:h||null},d?{actionData:d}:{})),{shortCircuited:!0};if(!k){g.forEach((e=>{let t=w.fetchers.get(e.key),n={state:"loading",data:t&&t.data,formMethod:void 0,formAction:void 0,formEncType:void 0,formData:void 0," _hasFetcherDoneAnything ":!0};w.fetchers.set(e.key,n)}));let e=d||w.actionData;B(n({navigation:p},e?0===Object.keys(e).length?{actionData:null}:{actionData:e}:{},g.length>0?{fetchers:new Map(w.fetchers)}:{}))}O=++P,g.forEach((e=>x.set(e.key,y)));let{results:v,loaderResults:b,fetcherResults:E}=await $(w.matches,a,_,g,t);if(t.signal.aborted)return{shortCircuited:!0};g.forEach((e=>x.delete(e.key)));let S=me(v);if(S)return await H(w,S,{replace:u}),{shortCircuited:!0};let{loaderData:R,errors:N}=ue(w,a,_,b,h,g,E,L);L.forEach(((e,t)=>{e.subscribe((n=>{(n||e.done)&&L.delete(t)}))})),function(){let e=[];for(let t of D){let n=w.fetchers.get(t);o(n,"Expected fetcher: "+t),"loading"===n.state&&(D.delete(t),e.push(t))}le(e)}();let A=ce(O);return n({loaderData:R,errors:N},A||g.length>0?{fetchers:new Map(w.fetchers)}:{})}(A,a,_,m,l&&l.submission,l&&l.replace,R,N);U||(y=null,z(a,n({matches:_},R?{actionData:R}:{},{loaderData:F,errors:W})))}function G(e){return w.fetchers.get(e)||K}async function H(r,i,s){var a;let{submission:c,replace:u,isFetchActionRedirect:d}=void 0===s?{}:s;i.revalidate&&(T=!0);let h=l(r.location,i.location,n({_isRedirect:!0},d?{_isFetchActionRedirect:!0}:{}));if(o(h,"Expected a location on the redirect navigation"),X.test(i.location)&&Q&&void 0!==(null==(a=window)?void 0:a.location)){let t=e.history.createURL(i.location),n=null==R(t.pathname,e.basename||"/");if(window.location.origin!==t.origin||n)return void(u?window.location.replace(i.location):window.location.assign(i.location))}y=null;let p=!0===u?t.Action.Replace:t.Action.Push,{formMethod:f,formAction:m,formEncType:_,formData:g}=r.navigation;!c&&f&&m&&g&&_&&(c={formMethod:f,formAction:m,formEncType:_,formData:g}),V.has(i.status)&&c&&Se(c.formMethod)?await W(p,h,{submission:n({},c,{formAction:i.location}),preventScrollReset:S}):await W(p,h,{overrideNavigation:{state:"loading",location:h,formMethod:c?c.formMethod:void 0,formAction:c?c.formAction:void 0,formEncType:c?c.formEncType:void 0,formData:c?c.formData:void 0},preventScrollReset:S})}async function $(t,n,r,i,o){let s=await Promise.all([...r.map((e=>se("loader",o,e,n,v.basename))),...i.map((t=>{if(t.matches&&t.match)return se("loader",ae(e.history,t.path,o.signal),t.match,t.matches,v.basename);return{type:h.error,error:fe(404,{pathname:t.path})}}))]),a=s.slice(0,r.length),l=s.slice(r.length);return await Promise.all([ke(t,r,a,o.signal,!1,w.loaderData),ke(t,i.map((e=>e.match)),l,o.signal,!0)]),{results:s,loaderResults:a,fetcherResults:l}}function ee(){T=!0,I.push(...Ee()),M.forEach(((e,t)=>{x.has(t)&&(C.push(t),oe(t))}))}function ne(e,t,n){let r=he(w.matches,t);ie(e),B({errors:{[r.route.id]:n},fetchers:new Map(w.fetchers)})}function ie(e){x.has(e)&&oe(e),M.delete(e),A.delete(e),D.delete(e),w.fetchers.delete(e)}function oe(e){let t=x.get(e);o(t,"Expected fetch controller: "+e),t.abort(),x.delete(e)}function le(e){for(let t of e){let e={state:"idle",data:G(t).data,formMethod:void 0,formAction:void 0,formEncType:void 0,formData:void 0," _hasFetcherDoneAnything ":!0};w.fetchers.set(t,e)}}function ce(e){let t=[];for(let[n,r]of A)if(r<e){let e=w.fetchers.get(n);o(e,"Expected fetcher: "+n),"loading"===e.state&&(oe(n),A.delete(n),t.push(n))}return le(t),t.length>0}function _e(e){w.blockers.delete(e),U.delete(e)}function be(e,t){let n=w.blockers.get(e)||J;o("unblocked"===n.state&&"blocked"===t.state||"blocked"===n.state&&"blocked"===t.state||"blocked"===n.state&&"proceeding"===t.state||"blocked"===n.state&&"unblocked"===t.state||"proceeding"===n.state&&"unblocked"===t.state,"Invalid blocker state transition: "+n.state+" -> "+t.state),w.blockers.set(e,t),B({blockers:new Map(w.blockers)})}function we(e){let{currentLocation:t,nextLocation:n,historyAction:r}=e;if(0===U.size)return;U.size>1&&N(!1,"A router only supports one blocker at a time");let i=Array.from(U.entries()),[o,s]=i[i.length-1],a=w.blockers.get(o);return a&&"proceeding"===a.state?void 0:s({currentLocation:t,nextLocation:n,historyAction:r})?o:void 0}function Ee(e){let t=[];return L.forEach(((n,r)=>{e&&!e(r)||(n.cancel(),t.push(r),L.delete(r))})),t}function Ie(e,t){if(c&&u&&d){let n=t.map((e=>Ce(e,w.loaderData))),r=u(e,n)||e.key,i=c[r];if("number"==typeof i)return i}return null}return v={get basename(){return e.basename},get state(){return w},get routes(){return i},initialize:function(){return s=e.history.listen((t=>{let{action:n,location:r,delta:i}=t;if(F)return void(F=!1);N(0===U.size||null!=i,"You are trying to use a blocker on a POP navigation to a location that was not created by @remix-run/router. This will fail silently in production. This can happen if you are navigating outside the router via `window.history.pushState`/`window.location.hash` instead of using router navigation APIs.  This can also happen if you are using createHashRouter and the user manually changes the URL.");let o=we({currentLocation:w.location,nextLocation:r,historyAction:n});return o&&null!=i?(F=!0,e.history.go(-1*i),void be(o,{state:"blocked",location:r,proceed(){be(o,{state:"proceeding",proceed:void 0,reset:void 0,location:r}),e.history.go(i)},reset(){_e(o),B({blockers:new Map(v.state.blockers)})}})):W(n,r)})),w.initialized||W(t.Action.Pop,w.location),v},subscribe:function(e){return a.add(e),()=>a.delete(e)},enableScrollRestoration:function(e,t,n){if(c=e,d=t,u=n||(e=>e.key),!m&&w.navigation===Y){m=!0;let e=Ie(w.location,w.matches);null!=e&&B({restoreScrollPosition:e})}return()=>{c=null,d=null,u=null}},navigate:async function r(i,o){if("number"==typeof i)return void e.history.go(i);let{path:s,submission:a,error:c}=te(i,o),u=w.location,d=l(w.location,s,o&&o.state);d=n({},d,e.history.encodeLocation(d));let h=o&&null!=o.replace?o.replace:void 0,p=t.Action.Push;!0===h?p=t.Action.Replace:!1===h||null!=a&&Se(a.formMethod)&&a.formAction===w.location.pathname+w.location.search&&(p=t.Action.Replace);let f=o&&"preventScrollReset"in o?!0===o.preventScrollReset:void 0,m=we({currentLocation:u,nextLocation:d,historyAction:p});if(!m)return await W(p,d,{submission:a,pendingError:c,preventScrollReset:f,replace:o&&o.replace});be(m,{state:"blocked",location:d,proceed(){be(m,{state:"proceeding",proceed:void 0,reset:void 0,location:d}),r(i,o)},reset(){_e(m),B({blockers:new Map(w.blockers)})}})},fetch:function(t,s,a,l){if(Z)throw new Error("router.fetch() was called during the server render, but it shouldn't be. You are likely calling a useFetcher() method in the body of your component. Try moving it to a useEffect or a callback.");x.has(t)&&oe(t);let c=f(r||i,a,e.basename);if(!c)return void ne(t,s,fe(404,{pathname:a}));let{path:u,submission:d}=te(a,l,!0),h=Re(c,u);S=!0===(l&&l.preventScrollReset),d&&Se(d.formMethod)?async function(t,s,a,l,c,u){if(ee(),M.delete(t),!l.route.action){let e=fe(405,{method:u.formMethod,pathname:a,routeId:s});return void ne(t,s,e)}let d=w.fetchers.get(t),h=n({state:"submitting"},u,{data:d&&d.data," _hasFetcherDoneAnything ":!0});w.fetchers.set(t,h),B({fetchers:new Map(w.fetchers)});let p=new AbortController,m=ae(e.history,a,p.signal,u);x.set(t,p);let _=await se("action",m,l,c,v.basename);if(m.signal.aborted)return void(x.get(t)===p&&x.delete(t));if(ye(_)){x.delete(t),D.add(t);let e=n({state:"loading"},u,{data:void 0," _hasFetcherDoneAnything ":!0});return w.fetchers.set(t,e),B({fetchers:new Map(w.fetchers)}),H(w,_,{isFetchActionRedirect:!0})}if(ve(_))return void ne(t,s,_.error);if(ge(_))throw fe(400,{type:"defer-action"});let g=w.navigation.location||w.location,b=ae(e.history,g,p.signal),S=r||i,k="idle"!==w.navigation.state?f(S,w.navigation.location,e.basename):w.matches;o(k,"Didn't find any matches after fetcher action");let R=++P;A.set(t,R);let N=n({state:"loading",data:_.data},u,{" _hasFetcherDoneAnything ":!0});w.fetchers.set(t,N);let[U,F]=re(e.history,w,k,u,g,T,I,C,M,S,e.basename,{[l.route.id]:_.data},void 0);F.filter((e=>e.key!==t)).forEach((e=>{let t=e.key,n=w.fetchers.get(t),r={state:"loading",data:n&&n.data,formMethod:void 0,formAction:void 0,formEncType:void 0,formData:void 0," _hasFetcherDoneAnything ":!0};w.fetchers.set(t,r),x.set(t,p)})),B({fetchers:new Map(w.fetchers)});let{results:W,loaderResults:G,fetcherResults:V}=await $(w.matches,k,U,F,b);if(p.signal.aborted)return;A.delete(t),x.delete(t),F.forEach((e=>x.delete(e.key)));let Y=me(W);if(Y)return H(w,Y);let{loaderData:K,errors:J}=ue(w,w.matches,U,G,void 0,F,V,L),X={state:"idle",data:_.data,formMethod:void 0,formAction:void 0,formEncType:void 0,formData:void 0," _hasFetcherDoneAnything ":!0};w.fetchers.set(t,X);let Q=ce(R);"loading"===w.navigation.state&&R>O?(o(E,"Expected pending action"),y&&y.abort(),z(w.navigation.location,{matches:k,loaderData:K,errors:J,fetchers:new Map(w.fetchers)})):(B(n({errors:J,loaderData:de(w.loaderData,K,k,J)},Q?{fetchers:new Map(w.fetchers)}:{})),T=!1)}(t,s,u,h,c,d):(M.set(t,{routeId:s,path:u}),async function(t,r,i,s,a,l){let c=w.fetchers.get(t),u=n({state:"loading",formMethod:void 0,formAction:void 0,formEncType:void 0,formData:void 0},l,{data:c&&c.data," _hasFetcherDoneAnything ":!0});w.fetchers.set(t,u),B({fetchers:new Map(w.fetchers)});let d=new AbortController,h=ae(e.history,i,d.signal);x.set(t,d);let p=await se("loader",h,s,a,v.basename);ge(p)&&(p=await Te(p,h.signal,!0)||p);x.get(t)===d&&x.delete(t);if(h.signal.aborted)return;if(ye(p))return void(await H(w,p));if(ve(p)){let e=he(w.matches,r);return w.fetchers.delete(t),void B({fetchers:new Map(w.fetchers),errors:{[e.route.id]:p.error}})}o(!ge(p),"Unhandled fetcher deferred data");let f={state:"idle",data:p.data,formMethod:void 0,formAction:void 0,formEncType:void 0,formData:void 0," _hasFetcherDoneAnything ":!0};w.fetchers.set(t,f),B({fetchers:new Map(w.fetchers)})}(t,s,u,h,c,d))},revalidate:function(){ee(),B({revalidation:"loading"}),"submitting"!==w.navigation.state&&("idle"!==w.navigation.state?W(E||w.historyAction,w.navigation.location,{overrideNavigation:w.navigation}):W(w.historyAction,w.location,{startUninterruptedRevalidation:!0}))},createHref:t=>e.history.createHref(t),encodeLocation:t=>e.history.encodeLocation(t),getFetcher:G,deleteFetcher:ie,dispose:function(){s&&s(),a.clear(),y&&y.abort(),w.fetchers.forEach(((e,t)=>ie(t))),w.blockers.forEach(((e,t)=>_e(t)))},getBlocker:function(e,t){let n=w.blockers.get(e)||J;return U.get(e)!==t&&U.set(e,t),n},deleteBlocker:_e,_internalFetchControllers:x,_internalActiveDeferreds:L,_internalSetRoutes:function(e){r=e}},v},t.createStaticHandler=function(e,t){o(e.length>0,"You must provide a non-empty routes array to createStaticHandler");let r=p(e),i=(t?t.basename:null)||"/";async function s(e,t,r,s,l){o(e.signal,"query()/queryRoute() requests must contain an AbortController signal");try{if(Se(e.method.toLowerCase())){let o=await async function(e,t,r,o,s){let l;if(r.route.action){if(l=await se("action",e,r,t,i,!0,s,o),e.signal.aborted){throw new Error((s?"queryRoute":"query")+"() call aborted")}}else{let t=fe(405,{method:e.method,pathname:new URL(e.url).pathname,routeId:r.route.id});if(s)throw t;l={type:h.error,error:t}}if(ye(l))throw new Response(null,{status:l.status,headers:{Location:l.location}});if(ge(l)){let e=fe(400,{type:"defer-action"});if(s)throw e;l={type:h.error,error:e}}if(s){if(ve(l))throw l.error;return{matches:[r],loaderData:{},actionData:{[r.route.id]:l.data},errors:null,statusCode:200,loaderHeaders:{},actionHeaders:{},activeDeferreds:null}}if(ve(l)){let i=he(t,r.route.id);return n({},await a(e,t,o,void 0,{[i.route.id]:l.error}),{statusCode:B(l.error)?l.error.status:500,actionData:null,actionHeaders:n({},l.headers?{[r.route.id]:l.headers}:{})})}let c=new Request(e.url,{headers:e.headers,redirect:e.redirect,signal:e.signal}),u=await a(c,t,o);return n({},u,l.statusCode?{statusCode:l.statusCode}:{},{actionData:{[r.route.id]:l.data},actionHeaders:n({},l.headers?{[r.route.id]:l.headers}:{})})}(e,r,l||Re(r,t),s,null!=l);return o}let o=await a(e,r,s,l);return be(o)?o:n({},o,{actionData:null,actionHeaders:{}})}catch(u){if((c=u)&&be(c.response)&&(c.type===h.data||h.error)){if(u.type===h.error&&!we(u.response))throw u.response;return u.response}if(we(u))return u;throw u}var c}async function a(e,t,r,o,s){let a=null!=o;if(a&&(null==o||!o.route.loader))throw fe(400,{method:e.method,pathname:new URL(e.url).pathname,routeId:null==o?void 0:o.route.id});let l=(o?[o]:ne(t,Object.keys(s||{})[0])).filter((e=>e.route.loader));if(0===l.length)return{matches:t,loaderData:t.reduce(((e,t)=>Object.assign(e,{[t.route.id]:null})),{}),errors:s||null,statusCode:200,loaderHeaders:{},activeDeferreds:null};let c=await Promise.all([...l.map((n=>se("loader",e,n,t,i,!0,a,r)))]);if(e.signal.aborted){throw new Error((a?"queryRoute":"query")+"() call aborted")}let u=new Map,d=ce(t,l,c,s,u),h=new Set(l.map((e=>e.route.id)));return t.forEach((e=>{h.has(e.route.id)||(d.loaderData[e.route.id]=null)})),n({},d,{matches:t,activeDeferreds:u.size>0?Object.fromEntries(u.entries()):null})}return{dataRoutes:r,query:async function(e,t){let{requestContext:o}=void 0===t?{}:t,a=new URL(e.url),u=e.method.toLowerCase(),d=l("",c(a),null,"default"),h=f(r,d,i);if(!Ee(u)&&"head"!==u){let e=fe(405,{method:u}),{matches:t,route:n}=pe(r);return{basename:i,location:d,matches:t,loaderData:{},actionData:null,errors:{[n.id]:e},statusCode:e.status,loaderHeaders:{},actionHeaders:{},activeDeferreds:null}}if(!h){let e=fe(404,{pathname:d.pathname}),{matches:t,route:n}=pe(r);return{basename:i,location:d,matches:t,loaderData:{},actionData:null,errors:{[n.id]:e},statusCode:e.status,loaderHeaders:{},actionHeaders:{},activeDeferreds:null}}let p=await s(e,d,h,o);return be(p)?p:n({location:d,basename:i},p)},queryRoute:async function(e,t){let{routeId:n,requestContext:o}=void 0===t?{}:t,a=new URL(e.url),u=e.method.toLowerCase(),d=l("",c(a),null,"default"),h=f(r,d,i);if(!Ee(u)&&"head"!==u&&"options"!==u)throw fe(405,{method:u});if(!h)throw fe(404,{pathname:d.pathname});let p=n?h.find((e=>e.route.id===n)):Re(h,d);if(n&&!p)throw fe(403,{pathname:d.pathname,routeId:n});if(!p)throw fe(404,{pathname:d.pathname});let m=await s(e,d,h,o,p);if(be(m))return m;let _=m.errors?Object.values(m.errors)[0]:void 0;if(void 0!==_)throw _;if(m.actionData)return Object.values(m.actionData)[0];if(m.loaderData){var g;let e=Object.values(m.loaderData)[0];return null!=(g=m.activeDeferreds)&&g[p.route.id]&&(e[ee]=m.activeDeferreds[p.route.id]),e}}}},t.defer=function(e,t){return void 0===t&&(t={}),new DeferredData(e,"number"==typeof t?{status:t}:t)},t.generatePath=function(e,t){void 0===t&&(t={});let n=e;return n.endsWith("*")&&"*"!==n&&!n.endsWith("/*")&&(N(!1,'Route path "'+n+'" will be treated as if it were "'+n.replace(/\*$/,"/*")+'" because the `*` character must always follow a `/` in the pattern. To get rid of this warning, please change the route path to "'+n.replace(/\*$/,"/*")+'".'),n=n.replace(/\*$/,"/*")),n.replace(/^:(\w+)(\??)/g,((e,n,r)=>{let i=t[n];return"?"===r?i??"":(null==i&&o(!1,'Missing ":'+n+'" param'),i)})).replace(/\/:(\w+)(\??)/g,((e,n,r)=>{let i=t[n];return"?"===r?null==i?"":"/"+i:(null==i&&o(!1,'Missing ":'+n+'" param'),"/"+i)})).replace(/\?/g,"").replace(/(\/?)\*/,((e,n,r,i)=>null==t["*"]?"/*"===i?"/":"":""+n+t["*"]))},t.getStaticContextFromError=function(e,t,r){return n({},t,{statusCode:500,errors:{[t._deepestRenderedBoundaryId||e[0].id]:r}})},t.getToPathname=function(e){return""===e||""===e.pathname?"/":"string"==typeof e?u(e).pathname:e.pathname},t.isRouteErrorResponse=B,t.joinPaths=D,t.json=function(e,t){void 0===t&&(t={});let r="number"==typeof t?{status:t}:t,i=new Headers(r.headers);return i.has("Content-Type")||i.set("Content-Type","application/json; charset=utf-8"),new Response(JSON.stringify(e),n({},r,{headers:i}))},t.matchPath=I,t.matchRoutes=f,t.normalizePathname=M,t.parsePath=u,t.redirect=function(e,t){void 0===t&&(t=302);let r=t;"number"==typeof r?r={status:r}:void 0===r.status&&(r.status=302);let i=new Headers(r.headers);return i.set("Location",e),new Response(null,n({},r,{headers:i}))},t.resolvePath=x,t.resolveTo=A,t.stripBasename=R,t.warning=N},464:(e,t,n)=>{Object.defineProperty(t,"__esModule",{value:!0});const r=n(565),i=n(4023),o=n(216),s=n(5712),a=n(2027);class BrowserClient extends r.BaseClient{constructor(e){const t=s.WINDOW.SENTRY_SDK_SOURCE||i.getSDKSource();e._metadata=e._metadata||{},e._metadata.sdk=e._metadata.sdk||{name:"sentry.javascript.browser",packages:[{name:`${t}:@sentry/browser`,version:r.SDK_VERSION}],version:r.SDK_VERSION},super(e),e.sendClientReports&&s.WINDOW.document&&s.WINDOW.document.addEventListener("visibilitychange",(()=>{"hidden"===s.WINDOW.document.visibilityState&&this._flushOutcomes()}))}eventFromException(e,t){return o.eventFromException(this._options.stackParser,e,t,this._options.attachStacktrace)}eventFromMessage(e,t="info",n){return o.eventFromMessage(this._options.stackParser,e,t,n,this._options.attachStacktrace)}sendEvent(e,t){const n=this.getIntegrationById(a.BREADCRUMB_INTEGRATION_ID);n&&n.addSentryBreadcrumb&&n.addSentryBreadcrumb(e),super.sendEvent(e,t)}_prepareEvent(e,t,n){return e.platform=e.platform||"javascript",super._prepareEvent(e,t,n)}_flushOutcomes(){const e=this._clearOutcomes();if(0===e.length)return void(("undefined"==typeof __SENTRY_DEBUG__||__SENTRY_DEBUG__)&&i.logger.log("No outcomes to send"));if(!this._dsn)return void(("undefined"==typeof __SENTRY_DEBUG__||__SENTRY_DEBUG__)&&i.logger.log("No dsn provided, will not send outcomes"));("undefined"==typeof __SENTRY_DEBUG__||__SENTRY_DEBUG__)&&i.logger.log("Sending outcomes:",e);const t=r.getEnvelopeEndpointWithUrlEncodedAuth(this._dsn,this._options),n=i.createClientReportEnvelope(e,this._options.tunnel&&i.dsnToString(this._dsn));try{const e="[object Navigator]"===Object.prototype.toString.call(s.WINDOW&&s.WINDOW.navigator);if(e&&"function"==typeof s.WINDOW.navigator.sendBeacon&&!this._options.transportOptions){s.WINDOW.navigator.sendBeacon.bind(s.WINDOW.navigator)(t,i.serializeEnvelope(n))}else this._sendEnvelope(n)}catch(o){("undefined"==typeof __SENTRY_DEBUG__||__SENTRY_DEBUG__)&&i.logger.error(o)}}}t.BrowserClient=BrowserClient},216:(e,t,n)=>{Object.defineProperty(t,"__esModule",{value:!0});const r=n(565),i=n(4023);function o(e,t){const n=l(e,t),r={type:t&&t.name,value:u(t)};return n.length&&(r.stacktrace={frames:n}),void 0===r.type&&""===r.value&&(r.value="Unrecoverable error caught"),r}function s(e,t,n,o){const s=r.getCurrentHub().getClient(),a=s&&s.getOptions().normalizeDepth,c={exception:{values:[{type:i.isEvent(t)?t.constructor.name:o?"UnhandledRejection":"Error",value:`Non-Error ${o?"promise rejection":"exception"} captured with keys: ${i.extractExceptionKeysForMessage(t)}`}]},extra:{__serialized__:i.normalizeToSize(t,a)}};if(n){const t=l(e,n);t.length&&(c.exception.values[0].stacktrace={frames:t})}return c}function a(e,t){return{exception:{values:[o(e,t)]}}}function l(e,t){const n=t.stacktrace||t.stack||"",r=function(e){if(e){if("number"==typeof e.framesToPop)return e.framesToPop;if(c.test(e.message))return 1}return 0}(t);try{return e(n,r)}catch(i){}return[]}const c=/Minified React error #\d+;/i;function u(e){const t=e&&e.message;return t?t.error&&"string"==typeof t.error.message?t.error.message:t:"No error message"}function d(e,t,n,r,o){let l;if(i.isErrorEvent(t)&&t.error){return a(e,t.error)}if(i.isDOMError(t)||i.isDOMException(t)){const o=t;if("stack"in t)l=a(e,t);else{const t=o.name||(i.isDOMError(o)?"DOMError":"DOMException"),s=o.message?`${t}: ${o.message}`:t;l=h(e,s,n,r),i.addExceptionTypeValue(l,s)}return"code"in o&&(l.tags={...l.tags,"DOMException.code":`${o.code}`}),l}if(i.isError(t))return a(e,t);if(i.isPlainObject(t)||i.isEvent(t)){return l=s(e,t,n,o),i.addExceptionMechanism(l,{synthetic:!0}),l}return l=h(e,t,n,r),i.addExceptionTypeValue(l,`${t}`,void 0),i.addExceptionMechanism(l,{synthetic:!0}),l}function h(e,t,n,r){const i={message:t};if(r&&n){const r=l(e,n);r.length&&(i.exception={values:[{value:t,stacktrace:{frames:r}}]})}return i}t.eventFromError=a,t.eventFromException=function(e,t,n,r){const o=d(e,t,n&&n.syntheticException||void 0,r);return i.addExceptionMechanism(o),o.level="error",n&&n.event_id&&(o.event_id=n.event_id),i.resolvedSyncPromise(o)},t.eventFromMessage=function(e,t,n="info",r,o){const s=h(e,t,r&&r.syntheticException||void 0,o);return s.level=n,r&&r.event_id&&(s.event_id=r.event_id),i.resolvedSyncPromise(s)},t.eventFromPlainObject=s,t.eventFromString=h,t.eventFromUnknownInput=d,t.exceptionFromError=o,t.parseStackFrames=l},5712:(e,t,n)=>{Object.defineProperty(t,"__esModule",{value:!0});const r=n(565),i=n(4023),o=i.GLOBAL_OBJ;let s=0;function a(){s++,setTimeout((()=>{s--}))}t.WINDOW=o,t.ignoreNextOnError=a,t.shouldIgnoreOnError=function(){return s>0},t.wrap=function e(t,n={},o){if("function"!=typeof t)return t;try{const e=t.__sentry_wrapped__;if(e)return e;if(i.getOriginalFunction(t))return t}catch(l){return t}const s=function(){const s=Array.prototype.slice.call(arguments);try{o&&"function"==typeof o&&o.apply(this,arguments);const r=s.map((t=>e(t,n)));return t.apply(this,r)}catch(l){throw a(),r.withScope((e=>{e.addEventProcessor((e=>(n.mechanism&&(i.addExceptionTypeValue(e,void 0,void 0),i.addExceptionMechanism(e,n.mechanism)),e.extra={...e.extra,arguments:s},e))),r.captureException(l)})),l}};try{for(const e in t)Object.prototype.hasOwnProperty.call(t,e)&&(s[e]=t[e])}catch(c){}i.markFunctionWrapped(s,t),i.addNonEnumerableProperty(t,"__sentry_wrapped__",s);try{Object.getOwnPropertyDescriptor(s,"name").configurable&&Object.defineProperty(s,"name",{get:()=>t.name})}catch(c){}return s}},5518:(e,t,n)=>{Object.defineProperty(t,"__esModule",{value:!0});const r=n(565),i=n(5712),o=n(464),s=n(1160),a=n(9289),l=n(3575),c=n(216),u=n(8986),d=n(5689),h=n(2229),p=n(9406),f=n(6722),m=n(8898),_=n(2027),g=n(6729),v=n(6396),y=n(5095);let b={};i.WINDOW.Sentry&&i.WINDOW.Sentry.Integrations&&(b=i.WINDOW.Sentry.Integrations);const w={...b,...r.Integrations,...d};t.FunctionToString=r.FunctionToString,t.Hub=r.Hub,t.InboundFilters=r.InboundFilters,t.SDK_VERSION=r.SDK_VERSION,t.Scope=r.Scope,t.addBreadcrumb=r.addBreadcrumb,t.addGlobalEventProcessor=r.addGlobalEventProcessor,t.captureEvent=r.captureEvent,t.captureException=r.captureException,t.captureMessage=r.captureMessage,t.configureScope=r.configureScope,t.createTransport=r.createTransport,t.getCurrentHub=r.getCurrentHub,t.getHubFromCarrier=r.getHubFromCarrier,t.makeMain=r.makeMain,t.setContext=r.setContext,t.setExtra=r.setExtra,t.setExtras=r.setExtras,t.setTag=r.setTag,t.setTags=r.setTags,t.setUser=r.setUser,t.startTransaction=r.startTransaction,t.withScope=r.withScope,t.WINDOW=i.WINDOW,t.BrowserClient=o.BrowserClient,t.makeFetchTransport=s.makeFetchTransport,t.makeXHRTransport=a.makeXHRTransport,t.chromeStackLineParser=l.chromeStackLineParser,t.defaultStackLineParsers=l.defaultStackLineParsers,t.defaultStackParser=l.defaultStackParser,t.geckoStackLineParser=l.geckoStackLineParser,t.opera10StackLineParser=l.opera10StackLineParser,t.opera11StackLineParser=l.opera11StackLineParser,t.winjsStackLineParser=l.winjsStackLineParser,t.eventFromException=c.eventFromException,t.eventFromMessage=c.eventFromMessage,t.close=u.close,t.defaultIntegrations=u.defaultIntegrations,t.flush=u.flush,t.forceLoad=u.forceLoad,t.init=u.init,t.lastEventId=u.lastEventId,t.onLoad=u.onLoad,t.showReportDialog=u.showReportDialog,t.wrap=u.wrap,t.Replay=h.Replay,t.makeBrowserOfflineTransport=p.makeBrowserOfflineTransport,t.GlobalHandlers=f.GlobalHandlers,t.TryCatch=m.TryCatch,t.Breadcrumbs=_.Breadcrumbs,t.LinkedErrors=g.LinkedErrors,t.HttpContext=v.HttpContext,t.Dedupe=y.Dedupe,t.Integrations=w},2027:(e,t,n)=>{Object.defineProperty(t,"__esModule",{value:!0});const r=n(565),i=n(4023),o=n(5712),s=1024,a="Breadcrumbs";class Breadcrumbs{static __initStatic(){this.id=a}__init(){this.name=Breadcrumbs.id}constructor(e){Breadcrumbs.prototype.__init.call(this),this.options={console:!0,dom:!0,fetch:!0,history:!0,sentry:!0,xhr:!0,...e}}setupOnce(){this.options.console&&i.addInstrumentationHandler("console",l),this.options.dom&&i.addInstrumentationHandler("dom",function(e){function t(t){let n,o="object"==typeof e?e.serializeAttribute:void 0,a="object"==typeof e&&"number"==typeof e.maxStringLength?e.maxStringLength:void 0;a&&a>s&&(("undefined"==typeof __SENTRY_DEBUG__||__SENTRY_DEBUG__)&&i.logger.warn(`\`dom.maxStringLength\` cannot exceed ${s}, but a value of ${a} was configured. Sentry will use ${s} instead.`),a=s),"string"==typeof o&&(o=[o]);try{n=t.event.target?i.htmlTreeAsString(t.event.target,{keyAttrs:o,maxStringLength:a}):i.htmlTreeAsString(t.event,{keyAttrs:o,maxStringLength:a})}catch(l){n="<unknown>"}0!==n.length&&r.getCurrentHub().addBreadcrumb({category:`ui.${t.name}`,message:n},{event:t.event,name:t.name,global:t.global})}return t}(this.options.dom)),this.options.xhr&&i.addInstrumentationHandler("xhr",c),this.options.fetch&&i.addInstrumentationHandler("fetch",u),this.options.history&&i.addInstrumentationHandler("history",d)}addSentryBreadcrumb(e){this.options.sentry&&r.getCurrentHub().addBreadcrumb({category:"sentry."+("transaction"===e.type?"transaction":"event"),event_id:e.event_id,level:e.level,message:i.getEventDescription(e)},{event:e})}}function l(e){for(let n=0;n<e.args.length;n++)if("ref=Ref<"===e.args[n]){e.args[n+1]="viewRef";break}const t={category:"console",data:{arguments:e.args,logger:"console"},level:i.severityLevelFromString(e.level),message:i.safeJoin(e.args," ")};if("assert"===e.level){if(!1!==e.args[0])return;t.message=`Assertion failed: ${i.safeJoin(e.args.slice(1)," ")||"console.assert"}`,t.data.arguments=e.args.slice(1)}r.getCurrentHub().addBreadcrumb(t,{input:e.args,level:e.level})}function c(e){if(e.endTimestamp){if(e.xhr.__sentry_own_request__)return;const{method:t,url:n,status_code:i,body:o}=e.xhr.__sentry_xhr__||{};r.getCurrentHub().addBreadcrumb({category:"xhr",data:{method:t,url:n,status_code:i},type:"http"},{xhr:e.xhr,input:o})}else;}function u(e){e.endTimestamp&&(e.fetchData.url.match(/sentry_key/)&&"POST"===e.fetchData.method||(e.error?r.getCurrentHub().addBreadcrumb({category:"fetch",data:e.fetchData,level:"error",type:"http"},{data:e.error,input:e.args}):r.getCurrentHub().addBreadcrumb({category:"fetch",data:{...e.fetchData,status_code:e.response.status},type:"http"},{input:e.args,response:e.response})))}function d(e){let t=e.from,n=e.to;const s=i.parseUrl(o.WINDOW.location.href);let a=i.parseUrl(t);const l=i.parseUrl(n);a.path||(a=s),s.protocol===l.protocol&&s.host===l.host&&(n=l.relative),s.protocol===a.protocol&&s.host===a.host&&(t=a.relative),r.getCurrentHub().addBreadcrumb({category:"navigation",data:{from:t,to:n}})}Breadcrumbs.__initStatic(),t.BREADCRUMB_INTEGRATION_ID=a,t.Breadcrumbs=Breadcrumbs},5095:(e,t,n)=>{Object.defineProperty(t,"__esModule",{value:!0});const r=n(4023);class Dedupe{constructor(){Dedupe.prototype.__init.call(this)}static __initStatic(){this.id="Dedupe"}__init(){this.name=Dedupe.id}setupOnce(e,t){const n=e=>{if(e.type)return e;const n=t().getIntegration(Dedupe);if(n){try{if(function(e,t){if(!t)return!1;if(function(e,t){const n=e.message,r=t.message;if(!n&&!r)return!1;if(n&&!r||!n&&r)return!1;if(n!==r)return!1;if(!o(e,t))return!1;if(!i(e,t))return!1;return!0}(e,t))return!0;if(function(e,t){const n=s(t),r=s(e);if(!n||!r)return!1;if(n.type!==r.type||n.value!==r.value)return!1;if(!o(e,t))return!1;if(!i(e,t))return!1;return!0}(e,t))return!0;return!1}(e,n._previousEvent))return("undefined"==typeof __SENTRY_DEBUG__||__SENTRY_DEBUG__)&&r.logger.warn("Event dropped due to being a duplicate of previously captured event."),null}catch(a){return n._previousEvent=e}return n._previousEvent=e}return e};n.id=this.name,e(n)}}function i(e,t){let n=a(e),r=a(t);if(!n&&!r)return!0;if(n&&!r||!n&&r)return!1;if(r.length!==n.length)return!1;for(let i=0;i<r.length;i++){const e=r[i],t=n[i];if(e.filename!==t.filename||e.lineno!==t.lineno||e.colno!==t.colno||e.function!==t.function)return!1}return!0}function o(e,t){let n=e.fingerprint,r=t.fingerprint;if(!n&&!r)return!0;if(n&&!r||!n&&r)return!1;try{return!(n.join("")!==r.join(""))}catch(i){return!1}}function s(e){return e.exception&&e.exception.values&&e.exception.values[0]}function a(e){const t=e.exception;if(t)try{return t.values[0].stacktrace.frames}catch(n){return}}Dedupe.__initStatic(),t.Dedupe=Dedupe},6722:(e,t,n)=>{Object.defineProperty(t,"__esModule",{value:!0});const r=n(565),i=n(4023),o=n(216),s=n(5712);class GlobalHandlers{static __initStatic(){this.id="GlobalHandlers"}__init(){this.name=GlobalHandlers.id}__init2(){this._installFunc={onerror:a,onunhandledrejection:l}}constructor(e){GlobalHandlers.prototype.__init.call(this),GlobalHandlers.prototype.__init2.call(this),this._options={onerror:!0,onunhandledrejection:!0,...e}}setupOnce(){Error.stackTraceLimit=50;const e=this._options;for(const n in e){const r=this._installFunc[n];r&&e[n]&&(t=n,("undefined"==typeof __SENTRY_DEBUG__||__SENTRY_DEBUG__)&&i.logger.log(`Global Handler attached: ${t}`),r(),this._installFunc[n]=void 0)}var t}}function a(){i.addInstrumentationHandler("error",(e=>{const[t,n,r]=d();if(!t.getIntegration(GlobalHandlers))return;const{msg:a,url:l,line:h,column:p,error:f}=e;if(s.shouldIgnoreOnError()||f&&f.__sentry_own_request__)return;const m=void 0===f&&i.isString(a)?function(e,t,n,r){const o=/^(?:[Uu]ncaught (?:exception: )?)?(?:((?:Eval|Internal|Range|Reference|Syntax|Type|URI|)Error): )?(.*)$/i;let s=i.isErrorEvent(e)?e.message:e,a="Error";const l=s.match(o);l&&(a=l[1],s=l[2]);const u={exception:{values:[{type:a,value:s}]}};return c(u,t,n,r)}(a,l,h,p):c(o.eventFromUnknownInput(n,f||a,void 0,r,!1),l,h,p);m.level="error",u(t,f,m,"onerror")}))}function l(){i.addInstrumentationHandler("unhandledrejection",(e=>{const[t,n,r]=d();if(!t.getIntegration(GlobalHandlers))return;let a=e;try{"reason"in e?a=e.reason:"detail"in e&&"reason"in e.detail&&(a=e.detail.reason)}catch(c){}if(s.shouldIgnoreOnError()||a&&a.__sentry_own_request__)return!0;const l=i.isPrimitive(a)?{exception:{values:[{type:"UnhandledRejection",value:`Non-Error promise rejection captured with value: ${String(a)}`}]}}:o.eventFromUnknownInput(n,a,void 0,r,!0);l.level="error",u(t,a,l,"onunhandledrejection")}))}function c(e,t,n,r){const o=e.exception=e.exception||{},s=o.values=o.values||[],a=s[0]=s[0]||{},l=a.stacktrace=a.stacktrace||{},c=l.frames=l.frames||[],u=isNaN(parseInt(r,10))?void 0:r,d=isNaN(parseInt(n,10))?void 0:n,h=i.isString(t)&&t.length>0?t:i.getLocationHref();return 0===c.length&&c.push({colno:u,filename:h,function:"?",in_app:!0,lineno:d}),e}function u(e,t,n,r){i.addExceptionMechanism(n,{handled:!1,type:r}),e.captureEvent(n,{originalException:t})}function d(){const e=r.getCurrentHub(),t=e.getClient(),n=t&&t.getOptions()||{stackParser:()=>[],attachStacktrace:!1};return[e,n.stackParser,n.attachStacktrace]}GlobalHandlers.__initStatic(),t.GlobalHandlers=GlobalHandlers},6396:(e,t,n)=>{Object.defineProperty(t,"__esModule",{value:!0});const r=n(565),i=n(5712);class HttpContext{constructor(){HttpContext.prototype.__init.call(this)}static __initStatic(){this.id="HttpContext"}__init(){this.name=HttpContext.id}setupOnce(){r.addGlobalEventProcessor((e=>{if(r.getCurrentHub().getIntegration(HttpContext)){if(!i.WINDOW.navigator&&!i.WINDOW.location&&!i.WINDOW.document)return e;const t=e.request&&e.request.url||i.WINDOW.location&&i.WINDOW.location.href,{referrer:n}=i.WINDOW.document||{},{userAgent:r}=i.WINDOW.navigator||{},o={...e.request&&e.request.headers,...n&&{Referer:n},...r&&{"User-Agent":r}},s={...e.request,...t&&{url:t},headers:o};return{...e,request:s}}return e}))}}HttpContext.__initStatic(),t.HttpContext=HttpContext},5689:(e,t,n)=>{Object.defineProperty(t,"__esModule",{value:!0});const r=n(6722),i=n(8898),o=n(2027),s=n(6729),a=n(6396),l=n(5095);t.GlobalHandlers=r.GlobalHandlers,t.TryCatch=i.TryCatch,t.Breadcrumbs=o.Breadcrumbs,t.LinkedErrors=s.LinkedErrors,t.HttpContext=a.HttpContext,t.Dedupe=l.Dedupe},6729:(e,t,n)=>{Object.defineProperty(t,"__esModule",{value:!0});const r=n(565),i=n(4023),o=n(216);class LinkedErrors{static __initStatic(){this.id="LinkedErrors"}__init(){this.name=LinkedErrors.id}constructor(e={}){LinkedErrors.prototype.__init.call(this),this._key=e.key||"cause",this._limit=e.limit||5}setupOnce(){const e=r.getCurrentHub().getClient();e&&r.addGlobalEventProcessor(((t,n)=>{const i=r.getCurrentHub().getIntegration(LinkedErrors);return i?s(e.getOptions().stackParser,i._key,i._limit,t,n):t}))}}function s(e,t,n,r,o){if(!(r.exception&&r.exception.values&&o&&i.isInstanceOf(o.originalException,Error)))return r;const s=a(e,n,o.originalException,t);return r.exception.values=[...s,...r.exception.values],r}function a(e,t,n,r,s=[]){if(!i.isInstanceOf(n[r],Error)||s.length+1>=t)return s;const l=o.exceptionFromError(e,n[r]);return a(e,t,n[r],r,[l,...s])}LinkedErrors.__initStatic(),t.LinkedErrors=LinkedErrors,t._handler=s,t._walkErrorTree=a},8898:(e,t,n)=>{Object.defineProperty(t,"__esModule",{value:!0});const r=n(4023),i=n(5712),o=["EventTarget","Window","Node","ApplicationCache","AudioTrackList","ChannelMergerNode","CryptoOperation","EventSource","FileReader","HTMLUnknownElement","IDBDatabase","IDBRequest","IDBTransaction","KeyOperation","MediaController","MessagePort","ModalWindow","Notification","SVGElementInstance","Screen","TextTrack","TextTrackCue","TextTrackList","WebSocket","WebSocketWorker","Worker","XMLHttpRequest","XMLHttpRequestEventTarget","XMLHttpRequestUpload"];class TryCatch{static __initStatic(){this.id="TryCatch"}__init(){this.name=TryCatch.id}constructor(e){TryCatch.prototype.__init.call(this),this._options={XMLHttpRequest:!0,eventTarget:!0,requestAnimationFrame:!0,setInterval:!0,setTimeout:!0,...e}}setupOnce(){this._options.setTimeout&&r.fill(i.WINDOW,"setTimeout",s),this._options.setInterval&&r.fill(i.WINDOW,"setInterval",s),this._options.requestAnimationFrame&&r.fill(i.WINDOW,"requestAnimationFrame",a),this._options.XMLHttpRequest&&"XMLHttpRequest"in i.WINDOW&&r.fill(XMLHttpRequest.prototype,"send",l);const e=this._options.eventTarget;if(e){(Array.isArray(e)?e:o).forEach(c)}}}function s(e){return function(...t){const n=t[0];return t[0]=i.wrap(n,{mechanism:{data:{function:r.getFunctionName(e)},handled:!0,type:"instrument"}}),e.apply(this,t)}}function a(e){return function(t){return e.apply(this,[i.wrap(t,{mechanism:{data:{function:"requestAnimationFrame",handler:r.getFunctionName(e)},handled:!0,type:"instrument"}})])}}function l(e){return function(...t){const n=this;return["onload","onerror","onprogress","onreadystatechange"].forEach((e=>{e in n&&"function"==typeof n[e]&&r.fill(n,e,(function(t){const n={mechanism:{data:{function:e,handler:r.getFunctionName(t)},handled:!0,type:"instrument"}},o=r.getOriginalFunction(t);return o&&(n.mechanism.data.handler=r.getFunctionName(o)),i.wrap(t,n)}))})),e.apply(this,t)}}function c(e){const t=i.WINDOW,n=t[e]&&t[e].prototype;n&&n.hasOwnProperty&&n.hasOwnProperty("addEventListener")&&(r.fill(n,"addEventListener",(function(t){return function(n,o,s){try{"function"==typeof o.handleEvent&&(o.handleEvent=i.wrap(o.handleEvent,{mechanism:{data:{function:"handleEvent",handler:r.getFunctionName(o),target:e},handled:!0,type:"instrument"}}))}catch(a){}return t.apply(this,[n,i.wrap(o,{mechanism:{data:{function:"addEventListener",handler:r.getFunctionName(o),target:e},handled:!0,type:"instrument"}}),s])}})),r.fill(n,"removeEventListener",(function(e){return function(t,n,r){const i=n;try{const n=i&&i.__sentry_wrapped__;n&&e.call(this,t,n,r)}catch(o){}return e.call(this,t,i,r)}})))}TryCatch.__initStatic(),t.TryCatch=TryCatch},8986:(e,t,n)=>{Object.defineProperty(t,"__esModule",{value:!0});const r=n(565),i=n(4023),o=n(464),s=n(5712),a=n(6722),l=n(8898),c=n(2027),u=n(6729),d=n(6396),h=n(5095),p=n(3575),f=n(1160),m=n(9289),_=[new r.Integrations.InboundFilters,new r.Integrations.FunctionToString,new l.TryCatch,new c.Breadcrumbs,new a.GlobalHandlers,new u.LinkedErrors,new h.Dedupe,new d.HttpContext];function g(e){e.startSession({ignoreDuration:!0}),e.captureSession()}t.close=function(e){const t=r.getCurrentHub().getClient();return t?t.close(e):(("undefined"==typeof __SENTRY_DEBUG__||__SENTRY_DEBUG__)&&i.logger.warn("Cannot flush events and disable SDK. No client defined."),i.resolvedSyncPromise(!1))},t.defaultIntegrations=_,t.flush=function(e){const t=r.getCurrentHub().getClient();return t?t.flush(e):(("undefined"==typeof __SENTRY_DEBUG__||__SENTRY_DEBUG__)&&i.logger.warn("Cannot flush events. No client defined."),i.resolvedSyncPromise(!1))},t.forceLoad=function(){},t.init=function(e={}){void 0===e.defaultIntegrations&&(e.defaultIntegrations=_),void 0===e.release&&("string"==typeof __SENTRY_RELEASE__&&(e.release=__SENTRY_RELEASE__),s.WINDOW.SENTRY_RELEASE&&s.WINDOW.SENTRY_RELEASE.id&&(e.release=s.WINDOW.SENTRY_RELEASE.id)),void 0===e.autoSessionTracking&&(e.autoSessionTracking=!0),void 0===e.sendClientReports&&(e.sendClientReports=!0);const t={...e,stackParser:i.stackParserFromStackParserOptions(e.stackParser||p.defaultStackParser),integrations:r.getIntegrationsToSetup(e),transport:e.transport||(i.supportsFetch()?f.makeFetchTransport:m.makeXHRTransport)};r.initAndBind(o.BrowserClient,t),e.autoSessionTracking&&function(){if(void 0===s.WINDOW.document)return void(("undefined"==typeof __SENTRY_DEBUG__||__SENTRY_DEBUG__)&&i.logger.warn("Session tracking in non-browser environment with @sentry/browser is not supported."));const e=r.getCurrentHub();if(!e.captureSession)return;g(e),i.addInstrumentationHandler("history",(({from:e,to:t})=>{void 0!==e&&e!==t&&g(r.getCurrentHub())}))}()},t.lastEventId=function(){return r.getCurrentHub().lastEventId()},t.onLoad=function(e){e()},t.showReportDialog=function(e={},t=r.getCurrentHub()){if(!s.WINDOW.document)return void(("undefined"==typeof __SENTRY_DEBUG__||__SENTRY_DEBUG__)&&i.logger.error("Global document not defined in showReportDialog call"));const{client:n,scope:o}=t.getStackTop(),a=e.dsn||n&&n.getDsn();if(!a)return void(("undefined"==typeof __SENTRY_DEBUG__||__SENTRY_DEBUG__)&&i.logger.error("DSN not configured for showReportDialog call"));o&&(e.user={...o.getUser(),...e.user}),e.eventId||(e.eventId=t.lastEventId());const l=s.WINDOW.document.createElement("script");l.async=!0,l.src=r.getReportDialogEndpoint(a,e),e.onLoad&&(l.onload=e.onLoad);const c=s.WINDOW.document.head||s.WINDOW.document.body;c?c.appendChild(l):("undefined"==typeof __SENTRY_DEBUG__||__SENTRY_DEBUG__)&&i.logger.error("Not injecting report dialog. No injection point found in HTML")},t.wrap=function(e){return s.wrap(e)()}},3575:(e,t,n)=>{Object.defineProperty(t,"__esModule",{value:!0});const r=n(4023),i="?";function o(e,t,n,r){const i={filename:e,abs_path:e,function:t,in_app:!0};return void 0!==n&&(i.lineno=n),void 0!==r&&(i.colno=r),i}const s=/^\s*at (?:(.*\).*?|.*?) ?\((?:address at )?)?(?:async )?((?:file|https?|blob|chrome-extension|address|native|eval|webpack|<anonymous>|[-a-z]+:|.*bundle|\/)?.*?)(?::(\d+))?(?::(\d+))?\)?\s*$/i,a=/\((\S*)(?::(\d+))(?::(\d+))\)/,l=[30,e=>{const t=s.exec(e);if(t){if(t[2]&&0===t[2].indexOf("eval")){const e=a.exec(t[2]);e&&(t[2]=e[1],t[3]=e[2],t[4]=e[3])}const[e,n]=b(t[1]||i,t[2]);return o(n,e,t[3]?+t[3]:void 0,t[4]?+t[4]:void 0)}}],c=/^\s*(.*?)(?:\((.*?)\))?(?:^|@)?((?:file|https?|blob|chrome|webpack|resource|moz-extension|safari-extension|safari-web-extension|capacitor)?:\/.*?|\[native code\]|[^@]*(?:bundle|\d+\.js)|\/[\w\-. /=]+)(?::(\d+))?(?::(\d+))?\s*$/i,u=/(\S+) line (\d+)(?: > eval line \d+)* > eval/i,d=[50,e=>{const t=c.exec(e);if(t){if(t[3]&&t[3].indexOf(" > eval")>-1){const e=u.exec(t[3]);e&&(t[1]=t[1]||"eval",t[3]=e[1],t[4]=e[2],t[5]="")}let e=t[3],n=t[1]||i;return[n,e]=b(n,e),o(e,n,t[4]?+t[4]:void 0,t[5]?+t[5]:void 0)}}],h=/^\s*at (?:((?:\[object object\])?.+) )?\(?((?:file|ms-appx|https?|webpack|blob):.*?):(\d+)(?::(\d+))?\)?\s*$/i,p=[40,e=>{const t=h.exec(e);return t?o(t[2],t[1]||i,+t[3],t[4]?+t[4]:void 0):void 0}],f=/ line (\d+).*script (?:in )?(\S+)(?:: in function (\S+))?$/i,m=[10,e=>{const t=f.exec(e);return t?o(t[2],t[3]||i,+t[1]):void 0}],_=/ line (\d+), column (\d+)\s*(?:in (?:<anonymous function: ([^>]+)>|([^)]+))\(.*\))? in (.*):\s*$/i,g=[20,e=>{const t=_.exec(e);return t?o(t[5],t[3]||t[4]||i,+t[1],+t[2]):void 0}],v=[l,d,p],y=r.createStackParser(...v),b=(e,t)=>{const n=-1!==e.indexOf("safari-extension"),r=-1!==e.indexOf("safari-web-extension");return n||r?[-1!==e.indexOf("@")?e.split("@")[0]:i,n?`safari-extension:${t}`:`safari-web-extension:${t}`]:[e,t]};t.chromeStackLineParser=l,t.defaultStackLineParsers=v,t.defaultStackParser=y,t.geckoStackLineParser=d,t.opera10StackLineParser=m,t.opera11StackLineParser=g,t.winjsStackLineParser=p},1160:(e,t,n)=>{Object.defineProperty(t,"__esModule",{value:!0});const r=n(565),i=n(4023),o=n(5445);t.makeFetchTransport=function(e,t=o.getNativeFetchImplementation()){return r.createTransport(e,(function(n){const r={body:n.body,method:"POST",referrerPolicy:"origin",headers:e.headers,keepalive:n.body.length<=65536,...e.fetchOptions};try{return t(e.url,r).then((e=>({statusCode:e.status,headers:{"x-sentry-rate-limits":e.headers.get("X-Sentry-Rate-Limits"),"retry-after":e.headers.get("Retry-After")}})))}catch(s){return o.clearCachedFetchImplementation(),i.rejectedSyncPromise(s)}}))}},9406:(e,t,n)=>{Object.defineProperty(t,"__esModule",{value:!0});const r=n(565),i=n(4023);function o(e){return new Promise(((t,n)=>{e.oncomplete=e.onsuccess=()=>t(e.result),e.onabort=e.onerror=()=>n(e.error)}))}function s(e,t){const n=indexedDB.open(e);n.onupgradeneeded=()=>n.result.createObjectStore(t);const r=o(n);return e=>r.then((n=>e(n.transaction(t,"readwrite").objectStore(t))))}function a(e){return o(e.getAllKeys())}function l(e,t,n){return e((e=>a(e).then((r=>{if(!(r.length>=n))return e.put(t,Math.max(...r,0)+1),o(e.transaction)}))))}function c(e){return e((e=>a(e).then((t=>{if(0!==t.length)return o(e.get(t[0])).then((n=>(e.delete(t[0]),o(e.transaction).then((()=>n)))))}))))}function u(e){let t;function n(){return null==t&&(t=s(e.dbName||"sentry-offline",e.storeName||"queue")),t}return{insert:async t=>{try{const r=await i.serializeEnvelope(t,e.textEncoder);await l(n(),r,e.maxQueueSize||30)}catch(r){}},pop:async()=>{try{const t=await c(n());if(t)return i.parseEnvelope(t,e.textEncoder||new TextEncoder,e.textDecoder||new TextDecoder)}catch(t){}}}}t.createStore=s,t.insert=l,t.makeBrowserOfflineTransport=function(e){return function(e){return t=>e({...t,createStore:u})}(r.makeOfflineTransport(e))},t.pop=c},5445:(e,t,n)=>{Object.defineProperty(t,"__esModule",{value:!0});const r=n(4023),i=n(5712);let o;t.clearCachedFetchImplementation=function(){o=void 0},t.getNativeFetchImplementation=function(){if(o)return o;if(r.isNativeFetch(i.WINDOW.fetch))return o=i.WINDOW.fetch.bind(i.WINDOW);const e=i.WINDOW.document;let t=i.WINDOW.fetch;if(e&&"function"==typeof e.createElement)try{const n=e.createElement("iframe");n.hidden=!0,e.head.appendChild(n);const r=n.contentWindow;r&&r.fetch&&(t=r.fetch),e.head.removeChild(n)}catch(n){("undefined"==typeof __SENTRY_DEBUG__||__SENTRY_DEBUG__)&&r.logger.warn("Could not create sandbox iframe for pure fetch check, bailing to window.fetch: ",n)}return o=t.bind(i.WINDOW)}},9289:(e,t,n)=>{Object.defineProperty(t,"__esModule",{value:!0});const r=n(565),i=n(4023),o=4;t.makeXHRTransport=function(e){return r.createTransport(e,(function(t){return new i.SyncPromise(((n,r)=>{const i=new XMLHttpRequest;i.onerror=r,i.onreadystatechange=()=>{i.readyState===o&&n({statusCode:i.status,headers:{"x-sentry-rate-limits":i.getResponseHeader("X-Sentry-Rate-Limits"),"retry-after":i.getResponseHeader("Retry-After")}})},i.open("POST",e.url);for(const t in e.headers)Object.prototype.hasOwnProperty.call(e.headers,t)&&i.setRequestHeader(t,e.headers[t]);i.send(t.body)}))}))}},5249:(e,t,n)=>{Object.defineProperty(t,"__esModule",{value:!0});const r=n(4023),i="7";function o(e){const t=e.protocol?`${e.protocol}:`:"",n=e.port?`:${e.port}`:"";return`${t}//${e.host}${n}${e.path?`/${e.path}`:""}/api/`}t.getEnvelopeEndpointWithUrlEncodedAuth=function(e,t={}){const n="string"==typeof t?t:t.tunnel,s="string"!=typeof t&&t._metadata?t._metadata.sdk:void 0;return n||`${function(e){return`${o(e)}${e.projectId}/envelope/`}(e)}?${function(e,t){return r.urlEncode({sentry_key:e.publicKey,sentry_version:i,...t&&{sentry_client:`${t.name}/${t.version}`}})}(e,s)}`},t.getReportDialogEndpoint=function(e,t){const n=r.makeDsn(e),i=`${o(n)}embed/error-page/`;let s=`dsn=${r.dsnToString(n)}`;for(const r in t)if("dsn"!==r)if("user"===r){const e=t.user;if(!e)continue;e.name&&(s+=`&name=${encodeURIComponent(e.name)}`),e.email&&(s+=`&email=${encodeURIComponent(e.email)}`)}else s+=`&${encodeURIComponent(r)}=${encodeURIComponent(t[r])}`;return`${i}?${s}`}},5173:(e,t,n)=>{Object.defineProperty(t,"__esModule",{value:!0});const r=n(4023),i=n(5249),o=n(5604),s=n(7602),a=n(4754),l=n(9085),c="Not capturing exception because it's already been captured.";class BaseClient{__init(){this._integrations={}}__init2(){this._integrationsInitialized=!1}__init3(){this._numProcessing=0}__init4(){this._outcomes={}}constructor(e){if(BaseClient.prototype.__init.call(this),BaseClient.prototype.__init2.call(this),BaseClient.prototype.__init3.call(this),BaseClient.prototype.__init4.call(this),this._options=e,e.dsn){this._dsn=r.makeDsn(e.dsn);const t=i.getEnvelopeEndpointWithUrlEncodedAuth(this._dsn,e);this._transport=e.transport({recordDroppedEvent:this.recordDroppedEvent.bind(this),...e.transportOptions,url:t})}else("undefined"==typeof __SENTRY_DEBUG__||__SENTRY_DEBUG__)&&r.logger.warn("No DSN provided, client will not do anything.")}captureException(e,t,n){if(r.checkOrSetAlreadyCaught(e))return void(("undefined"==typeof __SENTRY_DEBUG__||__SENTRY_DEBUG__)&&r.logger.log(c));let i=t&&t.event_id;return this._process(this.eventFromException(e,t).then((e=>this._captureEvent(e,t,n))).then((e=>{i=e}))),i}captureMessage(e,t,n,i){let o=n&&n.event_id;const s=r.isPrimitive(e)?this.eventFromMessage(String(e),t,n):this.eventFromException(e,n);return this._process(s.then((e=>this._captureEvent(e,n,i))).then((e=>{o=e}))),o}captureEvent(e,t,n){if(t&&t.originalException&&r.checkOrSetAlreadyCaught(t.originalException))return void(("undefined"==typeof __SENTRY_DEBUG__||__SENTRY_DEBUG__)&&r.logger.log(c));let i=t&&t.event_id;return this._process(this._captureEvent(e,t,n).then((e=>{i=e}))),i}captureSession(e){this._isEnabled()?"string"!=typeof e.release?("undefined"==typeof __SENTRY_DEBUG__||__SENTRY_DEBUG__)&&r.logger.warn("Discarded session because of missing or non-string release"):(this.sendSession(e),a.updateSession(e,{init:!1})):("undefined"==typeof __SENTRY_DEBUG__||__SENTRY_DEBUG__)&&r.logger.warn("SDK not enabled, will not capture session.")}getDsn(){return this._dsn}getOptions(){return this._options}getSdkMetadata(){return this._options._metadata}getTransport(){return this._transport}flush(e){const t=this._transport;return t?this._isClientDoneProcessing(e).then((n=>t.flush(e).then((e=>n&&e)))):r.resolvedSyncPromise(!0)}close(e){return this.flush(e).then((e=>(this.getOptions().enabled=!1,e)))}setupIntegrations(){this._isEnabled()&&!this._integrationsInitialized&&(this._integrations=s.setupIntegrations(this._options.integrations),this._integrationsInitialized=!0)}getIntegrationById(e){return this._integrations[e]}getIntegration(e){try{return this._integrations[e.id]||null}catch(t){return("undefined"==typeof __SENTRY_DEBUG__||__SENTRY_DEBUG__)&&r.logger.warn(`Cannot retrieve integration ${e.id} from the current Client`),null}}addIntegration(e){s.setupIntegration(e,this._integrations)}sendEvent(e,t={}){if(this._dsn){let n=o.createEventEnvelope(e,this._dsn,this._options._metadata,this._options.tunnel);for(const e of t.attachments||[])n=r.addItemToEnvelope(n,r.createAttachmentEnvelopeItem(e,this._options.transportOptions&&this._options.transportOptions.textEncoder));this._sendEnvelope(n)}}sendSession(e){if(this._dsn){const t=o.createSessionEnvelope(e,this._dsn,this._options._metadata,this._options.tunnel);this._sendEnvelope(t)}}recordDroppedEvent(e,t,n){if(this._options.sendClientReports){const n=`${e}:${t}`;("undefined"==typeof __SENTRY_DEBUG__||__SENTRY_DEBUG__)&&r.logger.log(`Adding outcome: "${n}"`),this._outcomes[n]=this._outcomes[n]+1||1}}_updateSessionFromEvent(e,t){let n=!1,r=!1;const i=t.exception&&t.exception.values;if(i){r=!0;for(const e of i){const t=e.mechanism;if(t&&!1===t.handled){n=!0;break}}}const o="ok"===e.status;(o&&0===e.errors||o&&n)&&(a.updateSession(e,{...n&&{status:"crashed"},errors:e.errors||Number(r||n)}),this.captureSession(e))}_isClientDoneProcessing(e){return new r.SyncPromise((t=>{let n=0;const r=setInterval((()=>{0==this._numProcessing?(clearInterval(r),t(!0)):(n+=1,e&&n>=e&&(clearInterval(r),t(!1)))}),1)}))}_isEnabled(){return!1!==this.getOptions().enabled&&void 0!==this._dsn}_prepareEvent(e,t,n){const r=this.getOptions(),i=Object.keys(this._integrations);return!t.integrations&&i.length>0&&(t.integrations=i),l.prepareEvent(r,e,t,n)}_captureEvent(e,t={},n){return this._processEvent(e,t,n).then((e=>e.event_id),(e=>{if("undefined"==typeof __SENTRY_DEBUG__||__SENTRY_DEBUG__){const t=e;"log"===t.logLevel?r.logger.log(t.message):r.logger.warn(t)}}))}_processEvent(e,t,n){const i=this.getOptions(),{sampleRate:o}=i;if(!this._isEnabled())return r.rejectedSyncPromise(new r.SentryError("SDK not enabled, will not capture event.","log"));const s=d(e),a=u(e),l=e.type||"error",c=`before send for type \`${l}\``;if(a&&"number"==typeof o&&Math.random()>o)return this.recordDroppedEvent("sample_rate","error",e),r.rejectedSyncPromise(new r.SentryError(`Discarding event because it's not included in the random sample (sampling rate = ${o})`,"log"));const h="replay_event"===l?"replay":l;return this._prepareEvent(e,t,n).then((n=>{if(null===n)throw this.recordDroppedEvent("event_processor",h,e),new r.SentryError("An event processor returned `null`, will not send event.","log");if(t.data&&!0===t.data.__sentry__)return n;const o=function(e,t,n){const{beforeSend:r,beforeSendTransaction:i}=e;if(u(t)&&r)return r(t,n);if(d(t)&&i)return i(t,n);return t}(i,n,t);return function(e,t){const n=`${t} must return \`null\` or a valid event.`;if(r.isThenable(e))return e.then((e=>{if(!r.isPlainObject(e)&&null!==e)throw new r.SentryError(n);return e}),(e=>{throw new r.SentryError(`${t} rejected with ${e}`)}));if(!r.isPlainObject(e)&&null!==e)throw new r.SentryError(n);return e}(o,c)})).then((i=>{if(null===i)throw this.recordDroppedEvent("before_send",h,e),new r.SentryError(`${c} returned \`null\`, will not send event.`,"log");const o=n&&n.getSession();!s&&o&&this._updateSessionFromEvent(o,i);const a=i.transaction_info;if(s&&a&&i.transaction!==e.transaction){const e="custom";i.transaction_info={...a,source:e}}return this.sendEvent(i,t),i})).then(null,(e=>{if(e instanceof r.SentryError)throw e;throw this.captureException(e,{data:{__sentry__:!0},originalException:e}),new r.SentryError(`Event processing pipeline threw an error, original event will not be sent. Details have been sent as a new event.\nReason: ${e}`)}))}_process(e){this._numProcessing++,e.then((e=>(this._numProcessing--,e)),(e=>(this._numProcessing--,e)))}_sendEnvelope(e){this._transport&&this._dsn?this._transport.send(e).then(null,(e=>{("undefined"==typeof __SENTRY_DEBUG__||__SENTRY_DEBUG__)&&r.logger.error("Error while sending event:",e)})):("undefined"==typeof __SENTRY_DEBUG__||__SENTRY_DEBUG__)&&r.logger.error("Transport disabled")}_clearOutcomes(){const e=this._outcomes;return this._outcomes={},Object.keys(e).map((t=>{const[n,r]=t.split(":");return{reason:n,category:r,quantity:e[t]}}))}}function u(e){return void 0===e.type}function d(e){return"transaction"===e.type}t.BaseClient=BaseClient},5604:(e,t,n)=>{Object.defineProperty(t,"__esModule",{value:!0});const r=n(4023);t.createEventEnvelope=function(e,t,n,i){const o=r.getSdkMetadataForEnvelopeHeader(n),s=e.type&&"replay_event"!==e.type?e.type:"event";!function(e,t){t&&(e.sdk=e.sdk||{},e.sdk.name=e.sdk.name||t.name,e.sdk.version=e.sdk.version||t.version,e.sdk.integrations=[...e.sdk.integrations||[],...t.integrations||[]],e.sdk.packages=[...e.sdk.packages||[],...t.packages||[]])}(e,n&&n.sdk);const a=r.createEventEnvelopeHeaders(e,o,i,t);delete e.sdkProcessingMetadata;const l=[{type:s},e];return r.createEnvelope(a,[l])},t.createSessionEnvelope=function(e,t,n,i){const o=r.getSdkMetadataForEnvelopeHeader(n),s={sent_at:(new Date).toISOString(),...o&&{sdk:o},...!!i&&{dsn:r.dsnToString(t)}},a="aggregates"in e?[{type:"sessions"},e]:[{type:"session"},e];return r.createEnvelope(s,[a])}},4928:(e,t,n)=>{Object.defineProperty(t,"__esModule",{value:!0});const r=n(2204);t.addBreadcrumb=function(e){r.getCurrentHub().addBreadcrumb(e)},t.captureEvent=function(e,t){return r.getCurrentHub().captureEvent(e,t)},t.captureException=function(e,t){return r.getCurrentHub().captureException(e,{captureContext:t})},t.captureMessage=function(e,t){const n="string"==typeof t?t:void 0,i="string"!=typeof t?{captureContext:t}:void 0;return r.getCurrentHub().captureMessage(e,n,i)},t.configureScope=function(e){r.getCurrentHub().configureScope(e)},t.setContext=function(e,t){r.getCurrentHub().setContext(e,t)},t.setExtra=function(e,t){r.getCurrentHub().setExtra(e,t)},t.setExtras=function(e){r.getCurrentHub().setExtras(e)},t.setTag=function(e,t){r.getCurrentHub().setTag(e,t)},t.setTags=function(e){r.getCurrentHub().setTags(e)},t.setUser=function(e){r.getCurrentHub().setUser(e)},t.startTransaction=function(e,t){return r.getCurrentHub().startTransaction({...e},t)},t.withScope=function(e){r.getCurrentHub().withScope(e)}},2204:(e,t,n)=>{Object.defineProperty(t,"__esModule",{value:!0});const r=n(4023),i=n(3654),o=n(4754),s=4,a=100;class Hub{__init(){this._stack=[{}]}constructor(e,t=new i.Scope,n=s){this._version=n,Hub.prototype.__init.call(this),this.getStackTop().scope=t,e&&this.bindClient(e)}isOlderThan(e){return this._version<e}bindClient(e){this.getStackTop().client=e,e&&e.setupIntegrations&&e.setupIntegrations()}pushScope(){const e=i.Scope.clone(this.getScope());return this.getStack().push({client:this.getClient(),scope:e}),e}popScope(){return!(this.getStack().length<=1)&&!!this.getStack().pop()}withScope(e){const t=this.pushScope();try{e(t)}finally{this.popScope()}}getClient(){return this.getStackTop().client}getScope(){return this.getStackTop().scope}getStack(){return this._stack}getStackTop(){return this._stack[this._stack.length-1]}captureException(e,t){const n=this._lastEventId=t&&t.event_id?t.event_id:r.uuid4(),i=new Error("Sentry syntheticException");return this._withClient(((r,o)=>{r.captureException(e,{originalException:e,syntheticException:i,...t,event_id:n},o)})),n}captureMessage(e,t,n){const i=this._lastEventId=n&&n.event_id?n.event_id:r.uuid4(),o=new Error(e);return this._withClient(((r,s)=>{r.captureMessage(e,t,{originalException:e,syntheticException:o,...n,event_id:i},s)})),i}captureEvent(e,t){const n=t&&t.event_id?t.event_id:r.uuid4();return e.type||(this._lastEventId=n),this._withClient(((r,i)=>{r.captureEvent(e,{...t,event_id:n},i)})),n}lastEventId(){return this._lastEventId}addBreadcrumb(e,t){const{scope:n,client:i}=this.getStackTop();if(!n||!i)return;const{beforeBreadcrumb:o=null,maxBreadcrumbs:s=a}=i.getOptions&&i.getOptions()||{};if(s<=0)return;const l={timestamp:r.dateTimestampInSeconds(),...e},c=o?r.consoleSandbox((()=>o(l,t))):l;null!==c&&n.addBreadcrumb(c,s)}setUser(e){const t=this.getScope();t&&t.setUser(e)}setTags(e){const t=this.getScope();t&&t.setTags(e)}setExtras(e){const t=this.getScope();t&&t.setExtras(e)}setTag(e,t){const n=this.getScope();n&&n.setTag(e,t)}setExtra(e,t){const n=this.getScope();n&&n.setExtra(e,t)}setContext(e,t){const n=this.getScope();n&&n.setContext(e,t)}configureScope(e){const{scope:t,client:n}=this.getStackTop();t&&n&&e(t)}run(e){const t=c(this);try{e(this)}finally{c(t)}}getIntegration(e){const t=this.getClient();if(!t)return null;try{return t.getIntegration(e)}catch(n){return("undefined"==typeof __SENTRY_DEBUG__||__SENTRY_DEBUG__)&&r.logger.warn(`Cannot retrieve integration ${e.id} from the current Hub`),null}}startTransaction(e,t){return this._callExtensionMethod("startTransaction",e,t)}traceHeaders(){return this._callExtensionMethod("traceHeaders")}captureSession(e=!1){if(e)return this.endSession();this._sendSessionUpdate()}endSession(){const e=this.getStackTop(),t=e&&e.scope,n=t&&t.getSession();n&&o.closeSession(n),this._sendSessionUpdate(),t&&t.setSession()}startSession(e){const{scope:t,client:n}=this.getStackTop(),{release:i,environment:s}=n&&n.getOptions()||{},{userAgent:a}=r.GLOBAL_OBJ.navigator||{},l=o.makeSession({release:i,environment:s,...t&&{user:t.getUser()},...a&&{userAgent:a},...e});if(t){const e=t.getSession&&t.getSession();e&&"ok"===e.status&&o.updateSession(e,{status:"exited"}),this.endSession(),t.setSession(l)}return l}shouldSendDefaultPii(){const e=this.getClient(),t=e&&e.getOptions();return Boolean(t&&t.sendDefaultPii)}_sendSessionUpdate(){const{scope:e,client:t}=this.getStackTop();if(!e)return;const n=e.getSession();n&&t&&t.captureSession&&t.captureSession(n)}_withClient(e){const{scope:t,client:n}=this.getStackTop();n&&e(n,t)}_callExtensionMethod(e,...t){const n=l().__SENTRY__;if(n&&n.extensions&&"function"==typeof n.extensions[e])return n.extensions[e].apply(this,t);("undefined"==typeof __SENTRY_DEBUG__||__SENTRY_DEBUG__)&&r.logger.warn(`Extension method ${e} couldn't be found, doing nothing.`)}}function l(){return r.GLOBAL_OBJ.__SENTRY__=r.GLOBAL_OBJ.__SENTRY__||{extensions:{},hub:void 0},r.GLOBAL_OBJ}function c(e){const t=l(),n=d(t);return h(t,e),n}function u(e){return!!(e&&e.__SENTRY__&&e.__SENTRY__.hub)}function d(e){return r.getGlobalSingleton("hub",(()=>new Hub),e)}function h(e,t){if(!e)return!1;return(e.__SENTRY__=e.__SENTRY__||{}).hub=t,!0}t.API_VERSION=s,t.Hub=Hub,t.getCurrentHub=function(){const e=l();return u(e)&&!d(e).isOlderThan(s)||h(e,new Hub),r.isNodeEnv()?function(e){try{const t=l().__SENTRY__,n=t&&t.extensions&&t.extensions.domain&&t.extensions.domain.active;if(!n)return d(e);if(!u(n)||d(n).isOlderThan(s)){const t=d(e).getStackTop();h(n,new Hub(t.client,i.Scope.clone(t.scope)))}return d(n)}catch(t){return d(e)}}(e):d(e)},t.getHubFromCarrier=d,t.getMainCarrier=l,t.makeMain=c,t.setHubOnCarrier=h},565:(e,t,n)=>{Object.defineProperty(t,"__esModule",{value:!0});const r=n(4928),i=n(2204),o=n(4754),s=n(3005),a=n(3654),l=n(5249),c=n(5173),u=n(7122),d=n(2123),h=n(3981),p=n(3037),f=n(7602),m=n(7413),_=n(9085),g=n(8627),v=n(6123),y=n(7360);t.addBreadcrumb=r.addBreadcrumb,t.captureEvent=r.captureEvent,t.captureException=r.captureException,t.captureMessage=r.captureMessage,t.configureScope=r.configureScope,t.setContext=r.setContext,t.setExtra=r.setExtra,t.setExtras=r.setExtras,t.setTag=r.setTag,t.setTags=r.setTags,t.setUser=r.setUser,t.startTransaction=r.startTransaction,t.withScope=r.withScope,t.Hub=i.Hub,t.getCurrentHub=i.getCurrentHub,t.getHubFromCarrier=i.getHubFromCarrier,t.getMainCarrier=i.getMainCarrier,t.makeMain=i.makeMain,t.setHubOnCarrier=i.setHubOnCarrier,t.closeSession=o.closeSession,t.makeSession=o.makeSession,t.updateSession=o.updateSession,t.SessionFlusher=s.SessionFlusher,t.Scope=a.Scope,t.addGlobalEventProcessor=a.addGlobalEventProcessor,t.getEnvelopeEndpointWithUrlEncodedAuth=l.getEnvelopeEndpointWithUrlEncodedAuth,t.getReportDialogEndpoint=l.getReportDialogEndpoint,t.BaseClient=c.BaseClient,t.initAndBind=u.initAndBind,t.createTransport=d.createTransport,t.makeOfflineTransport=h.makeOfflineTransport,t.SDK_VERSION=p.SDK_VERSION,t.getIntegrationsToSetup=f.getIntegrationsToSetup,t.Integrations=m,t.prepareEvent=_.prepareEvent,t.hasTracingEnabled=g.hasTracingEnabled,t.FunctionToString=v.FunctionToString,t.InboundFilters=y.InboundFilters},7602:(e,t,n)=>{Object.defineProperty(t,"__esModule",{value:!0});const r=n(4023),i=n(2204),o=n(3654),s=[];function a(e,t){t[e.name]=e,-1===s.indexOf(e.name)&&(e.setupOnce(o.addGlobalEventProcessor,i.getCurrentHub),s.push(e.name),("undefined"==typeof __SENTRY_DEBUG__||__SENTRY_DEBUG__)&&r.logger.log(`Integration installed: ${e.name}`))}t.getIntegrationsToSetup=function(e){const t=e.defaultIntegrations||[],n=e.integrations;let i;t.forEach((e=>{e.isDefaultInstance=!0})),i=Array.isArray(n)?[...t,...n]:"function"==typeof n?r.arrayify(n(t)):t;const o=function(e){const t={};return e.forEach((e=>{const{name:n}=e,r=t[n];r&&!r.isDefaultInstance&&e.isDefaultInstance||(t[n]=e)})),Object.values(t)}(i),s=o.findIndex((e=>"Debug"===e.name));if(-1!==s){const[e]=o.splice(s,1);o.push(e)}return o},t.installedIntegrations=s,t.setupIntegration=a,t.setupIntegrations=function(e){const t={};return e.forEach((e=>{e&&a(e,t)})),t}},6123:(e,t,n)=>{Object.defineProperty(t,"__esModule",{value:!0});const r=n(4023);let i;class FunctionToString{constructor(){FunctionToString.prototype.__init.call(this)}static __initStatic(){this.id="FunctionToString"}__init(){this.name=FunctionToString.id}setupOnce(){i=Function.prototype.toString,Function.prototype.toString=function(...e){const t=r.getOriginalFunction(this)||this;return i.apply(t,e)}}}FunctionToString.__initStatic(),t.FunctionToString=FunctionToString},7360:(e,t,n)=>{Object.defineProperty(t,"__esModule",{value:!0});const r=n(4023),i=[/^Script error\.?$/,/^Javascript error: Script error\.? on line 0$/];class InboundFilters{static __initStatic(){this.id="InboundFilters"}__init(){this.name=InboundFilters.id}constructor(e={}){this._options=e,InboundFilters.prototype.__init.call(this)}setupOnce(e,t){const n=e=>{const n=t();if(n){const t=n.getIntegration(InboundFilters);if(t){const r=n.getClient(),i=r?r.getOptions():{};return s(e,o(t._options,i))?null:e}}return e};n.id=this.name,e(n)}}function o(e={},t={}){return{allowUrls:[...e.allowUrls||[],...t.allowUrls||[]],denyUrls:[...e.denyUrls||[],...t.denyUrls||[]],ignoreErrors:[...e.ignoreErrors||[],...t.ignoreErrors||[],...i],ignoreInternal:void 0===e.ignoreInternal||e.ignoreInternal}}function s(e,t){return t.ignoreInternal&&function(e){try{return"SentryError"===e.exception.values[0].type}catch(t){}return!1}(e)?(("undefined"==typeof __SENTRY_DEBUG__||__SENTRY_DEBUG__)&&r.logger.warn(`Event dropped due to being internal Sentry Error.\nEvent: ${r.getEventDescription(e)}`),!0):function(e,t){if(!t||!t.length)return!1;return function(e){if(e.message)return[e.message];if(e.exception)try{const{type:t="",value:n=""}=e.exception.values&&e.exception.values[0]||{};return[`${n}`,`${t}: ${n}`]}catch(t){return("undefined"==typeof __SENTRY_DEBUG__||__SENTRY_DEBUG__)&&r.logger.error(`Cannot extract message for event ${r.getEventDescription(e)}`),[]}return[]}(e).some((e=>r.stringMatchesSomePattern(e,t)))}(e,t.ignoreErrors)?(("undefined"==typeof __SENTRY_DEBUG__||__SENTRY_DEBUG__)&&r.logger.warn(`Event dropped due to being matched by \`ignoreErrors\` option.\nEvent: ${r.getEventDescription(e)}`),!0):function(e,t){if(!t||!t.length)return!1;const n=a(e);return!!n&&r.stringMatchesSomePattern(n,t)}(e,t.denyUrls)?(("undefined"==typeof __SENTRY_DEBUG__||__SENTRY_DEBUG__)&&r.logger.warn(`Event dropped due to being matched by \`denyUrls\` option.\nEvent: ${r.getEventDescription(e)}.\nUrl: ${a(e)}`),!0):!function(e,t){if(!t||!t.length)return!0;const n=a(e);return!n||r.stringMatchesSomePattern(n,t)}(e,t.allowUrls)&&(("undefined"==typeof __SENTRY_DEBUG__||__SENTRY_DEBUG__)&&r.logger.warn(`Event dropped due to not being matched by \`allowUrls\` option.\nEvent: ${r.getEventDescription(e)}.\nUrl: ${a(e)}`),!0)}function a(e){try{let n;try{n=e.exception.values[0].stacktrace.frames}catch(t){}return n?function(e=[]){for(let t=e.length-1;t>=0;t--){const n=e[t];if(n&&"<anonymous>"!==n.filename&&"[native code]"!==n.filename)return n.filename||null}return null}(n):null}catch(n){return("undefined"==typeof __SENTRY_DEBUG__||__SENTRY_DEBUG__)&&r.logger.error(`Cannot extract url for event ${r.getEventDescription(e)}`),null}}InboundFilters.__initStatic(),t.InboundFilters=InboundFilters,t._mergeOptions=o,t._shouldDropEvent=s},7413:(e,t,n)=>{Object.defineProperty(t,"__esModule",{value:!0});const r=n(6123),i=n(7360);t.FunctionToString=r.FunctionToString,t.InboundFilters=i.InboundFilters},3654:(e,t,n)=>{Object.defineProperty(t,"__esModule",{value:!0});const r=n(4023),i=n(4754);class Scope{constructor(){this._notifyingListeners=!1,this._scopeListeners=[],this._eventProcessors=[],this._breadcrumbs=[],this._attachments=[],this._user={},this._tags={},this._extra={},this._contexts={},this._sdkProcessingMetadata={}}static clone(e){const t=new Scope;return e&&(t._breadcrumbs=[...e._breadcrumbs],t._tags={...e._tags},t._extra={...e._extra},t._contexts={...e._contexts},t._user=e._user,t._level=e._level,t._span=e._span,t._session=e._session,t._transactionName=e._transactionName,t._fingerprint=e._fingerprint,t._eventProcessors=[...e._eventProcessors],t._requestSession=e._requestSession,t._attachments=[...e._attachments],t._sdkProcessingMetadata={...e._sdkProcessingMetadata}),t}addScopeListener(e){this._scopeListeners.push(e)}addEventProcessor(e){return this._eventProcessors.push(e),this}setUser(e){return this._user=e||{},this._session&&i.updateSession(this._session,{user:e}),this._notifyScopeListeners(),this}getUser(){return this._user}getRequestSession(){return this._requestSession}setRequestSession(e){return this._requestSession=e,this}setTags(e){return this._tags={...this._tags,...e},this._notifyScopeListeners(),this}setTag(e,t){return this._tags={...this._tags,[e]:t},this._notifyScopeListeners(),this}setExtras(e){return this._extra={...this._extra,...e},this._notifyScopeListeners(),this}setExtra(e,t){return this._extra={...this._extra,[e]:t},this._notifyScopeListeners(),this}setFingerprint(e){return this._fingerprint=e,this._notifyScopeListeners(),this}setLevel(e){return this._level=e,this._notifyScopeListeners(),this}setTransactionName(e){return this._transactionName=e,this._notifyScopeListeners(),this}setContext(e,t){return null===t?delete this._contexts[e]:this._contexts[e]=t,this._notifyScopeListeners(),this}setSpan(e){return this._span=e,this._notifyScopeListeners(),this}getSpan(){return this._span}getTransaction(){const e=this.getSpan();return e&&e.transaction}setSession(e){return e?this._session=e:delete this._session,this._notifyScopeListeners(),this}getSession(){return this._session}update(e){if(!e)return this;if("function"==typeof e){const t=e(this);return t instanceof Scope?t:this}return e instanceof Scope?(this._tags={...this._tags,...e._tags},this._extra={...this._extra,...e._extra},this._contexts={...this._contexts,...e._contexts},e._user&&Object.keys(e._user).length&&(this._user=e._user),e._level&&(this._level=e._level),e._fingerprint&&(this._fingerprint=e._fingerprint),e._requestSession&&(this._requestSession=e._requestSession)):r.isPlainObject(e)&&(this._tags={...this._tags,...e.tags},this._extra={...this._extra,...e.extra},this._contexts={...this._contexts,...e.contexts},e.user&&(this._user=e.user),e.level&&(this._level=e.level),e.fingerprint&&(this._fingerprint=e.fingerprint),e.requestSession&&(this._requestSession=e.requestSession)),this}clear(){return this._breadcrumbs=[],this._tags={},this._extra={},this._user={},this._contexts={},this._level=void 0,this._transactionName=void 0,this._fingerprint=void 0,this._requestSession=void 0,this._span=void 0,this._session=void 0,this._notifyScopeListeners(),this._attachments=[],this}addBreadcrumb(e,t){const n="number"==typeof t?t:100;if(n<=0)return this;const i={timestamp:r.dateTimestampInSeconds(),...e};return this._breadcrumbs=[...this._breadcrumbs,i].slice(-n),this._notifyScopeListeners(),this}getLastBreadcrumb(){return this._breadcrumbs[this._breadcrumbs.length-1]}clearBreadcrumbs(){return this._breadcrumbs=[],this._notifyScopeListeners(),this}addAttachment(e){return this._attachments.push(e),this}getAttachments(){return this._attachments}clearAttachments(){return this._attachments=[],this}applyToEvent(e,t={}){if(this._extra&&Object.keys(this._extra).length&&(e.extra={...this._extra,...e.extra}),this._tags&&Object.keys(this._tags).length&&(e.tags={...this._tags,...e.tags}),this._user&&Object.keys(this._user).length&&(e.user={...this._user,...e.user}),this._contexts&&Object.keys(this._contexts).length&&(e.contexts={...this._contexts,...e.contexts}),this._level&&(e.level=this._level),this._transactionName&&(e.transaction=this._transactionName),this._span){e.contexts={trace:this._span.getTraceContext(),...e.contexts};const t=this._span.transaction&&this._span.transaction.name;t&&(e.tags={transaction:t,...e.tags})}return this._applyFingerprint(e),e.breadcrumbs=[...e.breadcrumbs||[],...this._breadcrumbs],e.breadcrumbs=e.breadcrumbs.length>0?e.breadcrumbs:void 0,e.sdkProcessingMetadata={...e.sdkProcessingMetadata,...this._sdkProcessingMetadata},this._notifyEventProcessors([...o(),...this._eventProcessors],e,t)}setSDKProcessingMetadata(e){return this._sdkProcessingMetadata={...this._sdkProcessingMetadata,...e},this}_notifyEventProcessors(e,t,n,i=0){return new r.SyncPromise(((o,s)=>{const a=e[i];if(null===t||"function"!=typeof a)o(t);else{const l=a({...t},n);("undefined"==typeof __SENTRY_DEBUG__||__SENTRY_DEBUG__)&&a.id&&null===l&&r.logger.log(`Event processor "${a.id}" dropped event`),r.isThenable(l)?l.then((t=>this._notifyEventProcessors(e,t,n,i+1).then(o))).then(null,s):this._notifyEventProcessors(e,l,n,i+1).then(o).then(null,s)}}))}_notifyScopeListeners(){this._notifyingListeners||(this._notifyingListeners=!0,this._scopeListeners.forEach((e=>{e(this)})),this._notifyingListeners=!1)}_applyFingerprint(e){e.fingerprint=e.fingerprint?r.arrayify(e.fingerprint):[],this._fingerprint&&(e.fingerprint=e.fingerprint.concat(this._fingerprint)),e.fingerprint&&!e.fingerprint.length&&delete e.fingerprint}}function o(){return r.getGlobalSingleton("globalEventProcessors",(()=>[]))}t.Scope=Scope,t.addGlobalEventProcessor=function(e){o().push(e)}},7122:(e,t,n)=>{Object.defineProperty(t,"__esModule",{value:!0});const r=n(4023),i=n(2204);t.initAndBind=function(e,t){!0===t.debug&&("undefined"==typeof __SENTRY_DEBUG__||__SENTRY_DEBUG__?r.logger.enable():console.warn("[Sentry] Cannot initialize SDK with `debug` option using a non-debug bundle."));const n=i.getCurrentHub(),o=n.getScope();o&&o.update(t.initialScope);const s=new e(t);n.bindClient(s)}},4754:(e,t,n)=>{Object.defineProperty(t,"__esModule",{value:!0});const r=n(4023);function i(e,t={}){if(t.user&&(!e.ipAddress&&t.user.ip_address&&(e.ipAddress=t.user.ip_address),e.did||t.did||(e.did=t.user.id||t.user.email||t.user.username)),e.timestamp=t.timestamp||r.timestampInSeconds(),t.ignoreDuration&&(e.ignoreDuration=t.ignoreDuration),t.sid&&(e.sid=32===t.sid.length?t.sid:r.uuid4()),void 0!==t.init&&(e.init=t.init),!e.did&&t.did&&(e.did=`${t.did}`),"number"==typeof t.started&&(e.started=t.started),e.ignoreDuration)e.duration=void 0;else if("number"==typeof t.duration)e.duration=t.duration;else{const t=e.timestamp-e.started;e.duration=t>=0?t:0}t.release&&(e.release=t.release),t.environment&&(e.environment=t.environment),!e.ipAddress&&t.ipAddress&&(e.ipAddress=t.ipAddress),!e.userAgent&&t.userAgent&&(e.userAgent=t.userAgent),"number"==typeof t.errors&&(e.errors=t.errors),t.status&&(e.status=t.status)}t.closeSession=function(e,t){let n={};t?n={status:t}:"ok"===e.status&&(n={status:"exited"}),i(e,n)},t.makeSession=function(e){const t=r.timestampInSeconds(),n={sid:r.uuid4(),init:!0,timestamp:t,started:t,duration:0,status:"ok",errors:0,ignoreDuration:!1,toJSON:()=>function(e){return r.dropUndefinedKeys({sid:`${e.sid}`,init:e.init,started:new Date(1e3*e.started).toISOString(),timestamp:new Date(1e3*e.timestamp).toISOString(),status:e.status,errors:e.errors,did:"number"==typeof e.did||"string"==typeof e.did?`${e.did}`:void 0,duration:e.duration,attrs:{release:e.release,environment:e.environment,ip_address:e.ipAddress,user_agent:e.userAgent}})}(n)};return e&&i(n,e),n},t.updateSession=i},3005:(e,t,n)=>{Object.defineProperty(t,"__esModule",{value:!0});const r=n(4023),i=n(2204);class SessionFlusher{__init(){this.flushTimeout=60}__init2(){this._pendingAggregates={}}__init3(){this._isEnabled=!0}constructor(e,t){SessionFlusher.prototype.__init.call(this),SessionFlusher.prototype.__init2.call(this),SessionFlusher.prototype.__init3.call(this),this._client=e,this._intervalId=setInterval((()=>this.flush()),1e3*this.flushTimeout),this._sessionAttrs=t}flush(){const e=this.getSessionAggregates();0!==e.aggregates.length&&(this._pendingAggregates={},this._client.sendSession(e))}getSessionAggregates(){const e=Object.keys(this._pendingAggregates).map((e=>this._pendingAggregates[parseInt(e)])),t={attrs:this._sessionAttrs,aggregates:e};return r.dropUndefinedKeys(t)}close(){clearInterval(this._intervalId),this._isEnabled=!1,this.flush()}incrementSessionStatusCount(){if(!this._isEnabled)return;const e=i.getCurrentHub().getScope(),t=e&&e.getRequestSession();t&&t.status&&(this._incrementSessionStatusCount(t.status,new Date),e&&e.setRequestSession(void 0))}_incrementSessionStatusCount(e,t){const n=new Date(t).setSeconds(0,0);this._pendingAggregates[n]=this._pendingAggregates[n]||{};const r=this._pendingAggregates[n];switch(r.started||(r.started=new Date(n).toISOString()),e){case"errored":return r.errored=(r.errored||0)+1,r.errored;case"ok":return r.exited=(r.exited||0)+1,r.exited;default:return r.crashed=(r.crashed||0)+1,r.crashed}}}t.SessionFlusher=SessionFlusher},2123:(e,t,n)=>{Object.defineProperty(t,"__esModule",{value:!0});const r=n(4023),i=30;function o(e,t){if("event"===t||"transaction"===t)return Array.isArray(e)?e[1]:void 0}t.DEFAULT_TRANSPORT_BUFFER_SIZE=i,t.createTransport=function(e,t,n=r.makePromiseBuffer(e.bufferSize||i)){let s={};return{send:function(i){const a=[];if(r.forEachEnvelopeItem(i,((t,n)=>{const i=r.envelopeItemTypeToDataCategory(n);if(r.isRateLimited(s,i)){const r=o(t,n);e.recordDroppedEvent("ratelimit_backoff",i,r)}else a.push(t)})),0===a.length)return r.resolvedSyncPromise();const l=r.createEnvelope(i[0],a),c=t=>{r.forEachEnvelopeItem(l,((n,i)=>{const s=o(n,i);e.recordDroppedEvent(t,r.envelopeItemTypeToDataCategory(i),s)}))};return n.add((()=>t({body:r.serializeEnvelope(l,e.textEncoder)}).then((e=>(void 0!==e.statusCode&&(e.statusCode<200||e.statusCode>=300)&&("undefined"==typeof __SENTRY_DEBUG__||__SENTRY_DEBUG__)&&r.logger.warn(`Sentry responded with status code ${e.statusCode} to sent event.`),s=r.updateRateLimits(s,e),e)),(e=>{throw c("network_error"),e})))).then((e=>e),(e=>{if(e instanceof r.SentryError)return("undefined"==typeof __SENTRY_DEBUG__||__SENTRY_DEBUG__)&&r.logger.error("Skipped sending event because buffer is full."),c("queue_overflow"),r.resolvedSyncPromise();throw e}))},flush:e=>n.drain(e)}}},3981:(e,t,n)=>{Object.defineProperty(t,"__esModule",{value:!0});const r=n(4023),i=100,o=5e3,s=36e5;function a(e,t){("undefined"==typeof __SENTRY_DEBUG__||__SENTRY_DEBUG__)&&r.logger.info(`[Offline]: ${e}`,t)}t.MIN_DELAY=i,t.START_DELAY=o,t.makeOfflineTransport=function(e){return t=>{const n=e(t),l=t.createStore?t.createStore(t):void 0;let c,u=o;function d(e){l&&(c&&clearTimeout(c),c=setTimeout((async()=>{c=void 0;const e=await l.pop();e&&(a("Attempting to send previously queued event"),p(e).catch((e=>{a("Failed to retry sending",e)})))}),e),"number"!=typeof c&&c.unref&&c.unref())}function h(){c||(d(u),u=Math.min(2*u,s))}async function p(e){try{const t=await n.send(e);let s=i;if(t)if(t.headers&&t.headers["retry-after"])s=r.parseRetryAfterHeader(t.headers["retry-after"]);else if((t.statusCode||0)>=400)return t;return d(s),u=o,t}catch(s){if(l&&await function(e,n,i){return!r.envelopeContainsItemType(e,["replay_event","replay_recording","client_report"])&&(!t.shouldStore||t.shouldStore(e,n,i))}(e,s,u))return await l.insert(e),h(),a("Error sending. Event queued",s),{};throw s}}return t.flushAtStartup&&h(),{send:p,flush:e=>n.flush(e)}}}},8627:(e,t,n)=>{Object.defineProperty(t,"__esModule",{value:!0});const r=n(2204);t.hasTracingEnabled=function(e){if("boolean"==typeof __SENTRY_TRACING__&&!__SENTRY_TRACING__)return!1;const t=r.getCurrentHub().getClient(),n=e||t&&t.getOptions();return!!n&&(n.enableTracing||"tracesSampleRate"in n||"tracesSampler"in n)}},9085:(e,t,n)=>{Object.defineProperty(t,"__esModule",{value:!0});const r=n(4023),i=n(3654);function o(e,t){const n=r.GLOBAL_OBJ._sentryDebugIds;if(!n)return;const i=Object.keys(n).reduce(((e,r)=>{const i=t(r);for(const t of i)if(t.abs_path){e[t.abs_path]=n[r];break}return e}),{}),o=new Set;try{e.exception.values.forEach((e=>{e.stacktrace.frames.forEach((e=>{e.abs_path&&o.add(e.abs_path)}))}))}catch(a){}e.debug_meta=e.debug_meta||{},e.debug_meta.images=e.debug_meta.images||[];const s=e.debug_meta.images;o.forEach((e=>{i[e]&&s.push({type:"sourcemap",code_file:e,debug_id:i[e]})}))}t.applyDebugMetadata=o,t.prepareEvent=function(e,t,n,s){const{normalizeDepth:a=3,normalizeMaxBreadth:l=1e3}=e,c={...t,event_id:t.event_id||n.event_id||r.uuid4(),timestamp:t.timestamp||r.dateTimestampInSeconds()},u=n.integrations||e.integrations.map((e=>e.name));!function(e,t){const{environment:n,release:i,dist:o,maxValueLength:s=250}=t;"environment"in e||(e.environment="environment"in t?n:"production");void 0===e.release&&void 0!==i&&(e.release=i);void 0===e.dist&&void 0!==o&&(e.dist=o);e.message&&(e.message=r.truncate(e.message,s));const a=e.exception&&e.exception.values&&e.exception.values[0];a&&a.value&&(a.value=r.truncate(a.value,s));const l=e.request;l&&l.url&&(l.url=r.truncate(l.url,s))}(c,e),function(e,t){t.length>0&&(e.sdk=e.sdk||{},e.sdk.integrations=[...e.sdk.integrations||[],...t])}(c,u),o(c,e.stackParser);let d=s;n.captureContext&&(d=i.Scope.clone(d).update(n.captureContext));let h=r.resolvedSyncPromise(c);if(d){if(d.getAttachments){const e=[...n.attachments||[],...d.getAttachments()];e.length&&(n.attachments=e)}h=d.applyToEvent(c,n)}return h.then((e=>"number"==typeof a&&a>0?function(e,t,n){if(!e)return null;const i={...e,...e.breadcrumbs&&{breadcrumbs:e.breadcrumbs.map((e=>({...e,...e.data&&{data:r.normalize(e.data,t,n)}})))},...e.user&&{user:r.normalize(e.user,t,n)},...e.contexts&&{contexts:r.normalize(e.contexts,t,n)},...e.extra&&{extra:r.normalize(e.extra,t,n)}};e.contexts&&e.contexts.trace&&i.contexts&&(i.contexts.trace=e.contexts.trace,e.contexts.trace.data&&(i.contexts.trace.data=r.normalize(e.contexts.trace.data,t,n)));e.spans&&(i.spans=e.spans.map((e=>(e.data&&(e.data=r.normalize(e.data,t,n)),e))));return i}(e,a,l):e))}},3037:(e,t)=>{Object.defineProperty(t,"__esModule",{value:!0});t.SDK_VERSION="7.39.0"},7565:(e,t)=>{Object.defineProperty(t,"__esModule",{value:!0});t.REACT_MOUNT_OP="ui.react.mount",t.REACT_RENDER_OP="ui.react.render",t.REACT_UPDATE_OP="ui.react.update"},8153:(e,t,n)=>{var{_interopDefault:r,_interopNamespace:i}=n(3363);Object.defineProperty(t,"__esModule",{value:!0});const o=n(5518),s=n(4023),a=n(3463),l=n(2784),c=r(a),u=i(l),d="/home/runner/work/sentry-javascript/sentry-javascript/packages/react/src/errorboundary.tsx";function h(e){const t=e.match(/^([^.]+)/);return null!==t&&parseInt(t[0])>=17}const p="unknown",f={componentStack:null,error:null,eventId:null};class ErrorBoundary extends u.Component{constructor(...e){super(...e),ErrorBoundary.prototype.__init.call(this),ErrorBoundary.prototype.__init2.call(this)}__init(){this.state=f}componentDidCatch(e,{componentStack:t}){const{beforeCapture:n,onError:r,showDialog:i,dialogOptions:a}=this.props;o.withScope((l=>{if(h(u.version)&&s.isError(e)){const n=new Error(e.message);n.name=`React ErrorBoundary ${n.name}`,n.stack=t,e.cause=n}n&&n(l,e,t);const c=o.captureException(e,{contexts:{react:{componentStack:t}}});r&&r(e,t,c),i&&o.showReportDialog({...a,eventId:c}),this.setState({error:e,componentStack:t,eventId:c})}))}componentDidMount(){const{onMount:e}=this.props;e&&e()}componentWillUnmount(){const{error:e,componentStack:t,eventId:n}=this.state,{onUnmount:r}=this.props;r&&r(e,t,n)}__init2(){this.resetErrorBoundary=()=>{const{onReset:e}=this.props,{error:t,componentStack:n,eventId:r}=this.state;e&&e(t,n,r),this.setState(f)}}render(){const{fallback:e,children:t}=this.props,n=this.state;if(n.error){let t;return t="function"==typeof e?e({error:n.error,componentStack:n.componentStack,resetError:this.resetErrorBoundary,eventId:n.eventId}):e,u.isValidElement(t)?t:(e&&("undefined"==typeof __SENTRY_DEBUG__||__SENTRY_DEBUG__)&&s.logger.warn("fallback did not produce a valid ReactElement"),null)}return"function"==typeof t?t():t}}t.ErrorBoundary=ErrorBoundary,t.UNKNOWN_COMPONENT=p,t.isAtLeastReact17=h,t.withErrorBoundary=function(e,t){const n=e.displayName||e.name||p,r=n=>u.createElement(ErrorBoundary,{...t,__self:this,__source:{fileName:d,lineNumber:185}},u.createElement(e,{...n,__self:this,__source:{fileName:d,lineNumber:186}}));return r.displayName=`errorBoundary(${n})`,c(r,e),r}},608:(e,t,n)=>{Object.defineProperty(t,"__esModule",{value:!0});const r=n(5518),i=n(4634),o=n(7252),s=n(8153),a=n(1178),l=n(3077),c=n(1743),u=n(2878);t.init=i.init,t.Profiler=o.Profiler,t.useProfiler=o.useProfiler,t.withProfiler=o.withProfiler,t.ErrorBoundary=s.ErrorBoundary,t.withErrorBoundary=s.withErrorBoundary,t.createReduxEnhancer=a.createReduxEnhancer,t.reactRouterV3Instrumentation=l.reactRouterV3Instrumentation,t.reactRouterV4Instrumentation=c.reactRouterV4Instrumentation,t.reactRouterV5Instrumentation=c.reactRouterV5Instrumentation,t.withSentryRouting=c.withSentryRouting,t.reactRouterV6Instrumentation=u.reactRouterV6Instrumentation,t.withSentryReactRouterV6Routing=u.withSentryReactRouterV6Routing,t.wrapCreateBrowserRouter=u.wrapCreateBrowserRouter,t.wrapUseRoutes=u.wrapUseRoutes;for(const d in r)"default"===d||t.hasOwnProperty(d)||(t[d]=r[d])},7252:(e,t,n)=>{var{_interopDefault:r,_interopNamespace:i}=n(3363);Object.defineProperty(t,"__esModule",{value:!0});const o=n(5518),s=n(4023),a=n(3463),l=n(2784),c=n(7565),u=r(a),d=i(l),h="/home/runner/work/sentry-javascript/sentry-javascript/packages/react/src/profiler.tsx",p="unknown";class Profiler extends d.Component{__init(){this._mountSpan=void 0}__init2(){this._updateSpan=void 0}static __initStatic(){this.defaultProps={disabled:!1,includeRender:!0,includeUpdates:!0}}constructor(e){super(e),Profiler.prototype.__init.call(this),Profiler.prototype.__init2.call(this);const{name:t,disabled:n=!1}=this.props;if(n)return;const r=f();r&&(this._mountSpan=r.startChild({description:`<${t}>`,op:c.REACT_MOUNT_OP}))}componentDidMount(){this._mountSpan&&this._mountSpan.finish()}shouldComponentUpdate({updateProps:e,includeUpdates:t=!0}){if(t&&this._mountSpan&&e!==this.props.updateProps){const t=Object.keys(e).filter((t=>e[t]!==this.props.updateProps[t]));if(t.length>0){const e=s.timestampWithMs();this._updateSpan=this._mountSpan.startChild({data:{changedProps:t},description:`<${this.props.name}>`,op:c.REACT_UPDATE_OP,startTimestamp:e})}}return!0}componentDidUpdate(){this._updateSpan&&(this._updateSpan.finish(),this._updateSpan=void 0)}componentWillUnmount(){const{name:e,includeRender:t=!0}=this.props;this._mountSpan&&t&&this._mountSpan.startChild({description:`<${e}>`,endTimestamp:s.timestampWithMs(),op:c.REACT_RENDER_OP,startTimestamp:this._mountSpan.endTimestamp})}render(){return this.props.children}}function f(e=o.getCurrentHub()){if(e){const t=e.getScope();if(t)return t.getTransaction()}}Profiler.__initStatic(),t.Profiler=Profiler,t.UNKNOWN_COMPONENT=p,t.getActiveTransaction=f,t.useProfiler=function(e,t={disabled:!1,hasRenderSpan:!0}){const[n]=d.useState((()=>{if(t&&t.disabled)return;const n=f();return n?n.startChild({description:`<${e}>`,op:c.REACT_MOUNT_OP}):void 0}));d.useEffect((()=>(n&&n.finish(),()=>{n&&t.hasRenderSpan&&n.startChild({description:`<${e}>`,endTimestamp:s.timestampWithMs(),op:c.REACT_RENDER_OP,startTimestamp:n.endTimestamp})})),[])},t.withProfiler=function(e,t){const n=t&&t.name||e.displayName||e.name||p,r=r=>d.createElement(Profiler,{...t,name:n,updateProps:r,__self:this,__source:{fileName:h,lineNumber:146}},d.createElement(e,{...r,__self:this,__source:{fileName:h,lineNumber:147}}));return r.displayName=`profiler(${n})`,u(r,e),r}},1743:(e,t,n)=>{var{_interopDefault:r,_interopNamespace:i}=n(3363);Object.defineProperty(t,"__esModule",{value:!0});const o=n(5518),s=n(3463),a=n(2784),l=r(s),c=i(a),u="/home/runner/work/sentry-javascript/sentry-javascript/packages/react/src/reactrouter.tsx";let d;function h(e,t,n=[],r){function i(e){if(0===n.length||!r)return[e,"url"];const t=p(n,e,r);for(let n=0;n<t.length;n++)if(t[n].match.isExact)return[t[n].match.path,"route"];return[e,"url"]}const s={"routing.instrumentation":t};return(t,n=!0,r=!0)=>{const a=e&&e.location?e.location.pathname:o.WINDOW&&o.WINDOW.location?o.WINDOW.location.pathname:void 0;if(n&&a){const[e,n]=i(a);d=t({name:e,op:"pageload",tags:s,metadata:{source:n}})}r&&e.listen&&e.listen(((e,n)=>{if(n&&("PUSH"===n||"POP"===n)){d&&d.finish();const[n,r]=i(e.pathname);d=t({name:n,op:"navigation",tags:s,metadata:{source:r}})}}))}}function p(e,t,n,r=[]){return e.some((e=>{const i=e.path?n(t,e):r.length?r[r.length-1].match:function(e){return{path:"/",url:"/",params:{},isExact:"/"===e}}(t);return i&&(r.push({route:e,match:i}),e.routes&&p(e.routes,t,n,r)),!!i})),r}t.reactRouterV4Instrumentation=function(e,t,n){return h(e,"react-router-v4",t,n)},t.reactRouterV5Instrumentation=function(e,t,n){return h(e,"react-router-v5",t,n)},t.withSentryRouting=function(e){const t=e.displayName||e.name,n=t=>(d&&t&&t.computedMatch&&t.computedMatch.isExact&&d.setName(t.computedMatch.path,"route"),c.createElement(e,{...t,__self:this,__source:{fileName:u,lineNumber:174}}));return n.displayName=`sentryRoute(${t})`,l(n,e),n}},3077:(e,t,n)=>{Object.defineProperty(t,"__esModule",{value:!0});const r=n(5518);function i(e,t,n,r){let i=t.pathname;n({location:t,routes:e},((e,t,n)=>{if(e||!n)return r(i);const o=function(e){if(!Array.isArray(e)||0===e.length)return"";const t=e.filter((e=>!!e.path));let n=-1;for(let r=t.length-1;r>=0;r--){const e=t[r];if(e.path&&e.path.startsWith("/")){n=r;break}}return t.slice(n).filter((({path:e})=>!!e)).map((({path:e})=>e)).join("")}(n.routes||[]);return 0===o.length||"/*"===o?r(i):(i=o,r(i,"route"))}))}t.reactRouterV3Instrumentation=function(e,t,n){return(o,s=!0,a=!0)=>{let l,c;s&&r.WINDOW&&r.WINDOW.location&&i(t,r.WINDOW.location,n,((e,t="url")=>{c=e,l=o({name:c,op:"pageload",tags:{"routing.instrumentation":"react-router-v3"},metadata:{source:t}})})),a&&e.listen&&e.listen((e=>{if("PUSH"===e.action||"POP"===e.action){l&&l.finish();const r={"routing.instrumentation":"react-router-v3"};c&&(r.from=c),i(t,e,n,((e,t="url")=>{c=e,l=o({name:c,op:"navigation",tags:r,metadata:{source:t}})}))}}))}}},2878:(e,t,n)=>{var{_interopDefault:r}=n(3363);Object.defineProperty(t,"__esModule",{value:!0});const i=n(5518),o=n(4023),s=n(3463),a=n(2784),l=r(s),c=r(a),u="/home/runner/work/sentry-javascript/sentry-javascript/packages/react/src/reactrouterv6.tsx";let d,h,p,f,m,_,g,v;const y={"routing.instrumentation":"react-router-v6"};function b(e,t,n){if(!e||0===e.length)return[t.pathname,"url"];let r="";if(n)for(let i=0;i<n.length;i++){const e=n[i],s=e.route;if(s){if(s.index)return[e.pathname,"route"];const n=s.path;if(n){const i="/"===n[0]||"/"===r[r.length-1]?n:`/${n}`;if(r+=i,e.pathname===t.pathname)return o.getNumberOfUrlSegments(r)!==o.getNumberOfUrlSegments(e.pathname)&&"/*"!==r.slice(-2)?[i,"route"]:[r,"route"]}}}return[t.pathname,"url"]}function w(e,t,n){const r=Array.isArray(n)?n:_(t,e);d&&r&&d.setName(...b(t,e,r))}function E(e,t,n,r){const i=Array.isArray(r)?r:_(t,e);if(v&&("PUSH"===n||"POP"===n)&&i){d&&d.finish();const[n,r]=b(t,e,i);d=g({name:n,op:"navigation",tags:y,metadata:{source:r}})}}t.reactRouterV6Instrumentation=function(e,t,n,r,o){return(s,a=!0,l=!0)=>{const c=i.WINDOW&&i.WINDOW.location&&i.WINDOW.location.pathname;a&&c&&(d=s({name:c,op:"pageload",tags:y,metadata:{source:"url"}})),h=e,p=t,f=n,_=o,m=r,g=s,v=l}},t.withSentryReactRouterV6Routing=function(e){if(!(h&&p&&f&&m&&_&&g))return("undefined"==typeof __SENTRY_DEBUG__||__SENTRY_DEBUG__)&&o.logger.warn(`reactRouterV6Instrumentation was unable to wrap Routes because of one or more missing parameters.\n      useEffect: ${h}. useLocation: ${p}. useNavigationType: ${f}.\n      createRoutesFromChildren: ${m}. matchRoutes: ${_}. customStartTransaction: ${g}.`),e;let t=!0;const n=n=>{const r=p(),i=f();return h((()=>{const e=m(n.children);t?(w(r,e),t=!1):E(r,e,i)}),[r,i]),c.createElement(e,{...n,__self:this,__source:{fileName:u,lineNumber:197}})};return l(n,e),n},t.wrapCreateBrowserRouter=function(e){return function(t,n){const r=e(t,n);return"POP"===r.state.historyAction&&d&&w(r.state.location,t),r.subscribe((e=>{const n=e.location;v&&("PUSH"===e.historyAction||"POP"===e.historyAction)&&d&&E(n,t,e.historyAction)})),r}},t.wrapUseRoutes=function(e){if(!(h&&p&&f&&_&&g))return("undefined"==typeof __SENTRY_DEBUG__||__SENTRY_DEBUG__)&&o.logger.warn("reactRouterV6Instrumentation was unable to wrap `useRoutes` because of one or more missing parameters."),e;let t=!0;return(n,r)=>c.createElement((()=>{const i=e(n,r),o=p(),s=f(),a="string"==typeof r||r&&r.pathname?r:o;return h((()=>{const e="string"==typeof a?{pathname:a}:a;t?(w(e,n),t=!1):E(e,n,s)}),[s,a]),i}),{__self:this,__source:{fileName:u,lineNumber:248}})}},1178:(e,t,n)=>{Object.defineProperty(t,"__esModule",{value:!0});const r=n(5518),i="redux.action",o="info",s={actionTransformer:e=>e,stateTransformer:e=>e||null};t.createReduxEnhancer=function(e){const t={...s,...e};return e=>(n,s)=>e(((e,s)=>{const a=n(e,s);return r.configureScope((e=>{const n=t.actionTransformer(s);null!=n&&e.addBreadcrumb({category:i,data:n,type:o});const r=t.stateTransformer(a);null!=r?e.setContext("state",{state:{type:"redux",value:r}}):e.setContext("state",null);const{configureScopeWithState:l}=t;"function"==typeof l&&l(e,a)})),a}),s)}},4634:(e,t,n)=>{Object.defineProperty(t,"__esModule",{value:!0});const r=n(5518);t.init=function(e){e._metadata=e._metadata||{},e._metadata.sdk=e._metadata.sdk||{name:"sentry.javascript.react",packages:[{name:"npm:@sentry/react",version:r.SDK_VERSION}],version:r.SDK_VERSION},r.init(e)}},2229:(e,t,n)=>{Object.defineProperty(t,"__esModule",{value:!0});const r=n(565),i=n(4023),o=i.GLOBAL_OBJ,s="sentryReplaySession",a="replay_event",l="Unable to send Replay",c=3e5,u=c,d=36e5,h=5e3,p=3;var f;function m(e){const t=null==e?void 0:e.host;return Boolean(t&&t.shadowRoot&&t.shadowRoot===e)}function _({maskInputOptions:e,tagName:t,type:n}){return e[t.toLowerCase()]||e[n]||"input"===t&&!n&&e.text}function g({input:e,maskInputSelector:t,unmaskInputSelector:n,maskInputOptions:r,tagName:i,type:o,value:s,maskInputFn:a}){let l=s||"";return n&&e.matches(n)||(_({maskInputOptions:r,tagName:i,type:o})||t&&e.matches(t))&&(l=a?a(l):"*".repeat(l.length)),l}!function(e){e[e.Document=0]="Document",e[e.DocumentType=1]="DocumentType",e[e.Element=2]="Element",e[e.Text=3]="Text",e[e.CDATA=4]="CDATA",e[e.Comment=5]="Comment"}(f||(f={}));const v="__rrweb_original__";let y=1;const b=new RegExp("[^a-z0-9-_:]"),w=-2;function E(e){return e?e.replace(/[\S]/g,"*"):""}function S(e){try{const t=e.rules||e.cssRules;return t?Array.from(t).map(k).join(""):null}catch(t){return null}}function k(e){let t=e.cssText;if(function(e){return"styleSheet"in e}(e))try{t=S(e.styleSheet)||t}catch(n){}return t}let T,I;const C=/url\((?:(')([^']*)'|(")(.*?)"|([^)]*))\)/gm,R=/^(?!www\.|(?:http|ftp)s?:\/\/|[A-Za-z]:\\|\/\/|#).*/,N=/^(data:)([^,]*),(.*)/i;function x(e,t){return(e||"").replace(C,((e,n,r,i,o,s)=>{const a=r||o||s,l=n||i||"";if(!a)return e;if(!R.test(a))return`url(${l}${a}${l})`;if(N.test(a))return`url(${l}${a}${l})`;if("/"===a[0])return`url(${l}${function(e){let t="";return t=e.indexOf("//")>-1?e.split("/").slice(0,3).join("/"):e.split("/")[0],t=t.split("?")[0],t}(t)+a}${l})`;const c=t.split("/"),u=a.split("/");c.pop();for(const t of u)"."!==t&&(".."===t?c.pop():c.push(t));return`url(${l}${c.join("/")}${l})`}))}const P=/^[^ \t\n\r\u000c]+/,O=/^[, \t\n\r\u000c]+/;function A(e,t){if(!t||""===t.trim())return t;const n=e.createElement("a");return n.href=t,n.href}function D(){const e=document.createElement("a");return e.href="",e.href}function M(e,t,n,r,i,o){return r?"src"===n||"href"===n||"xlink:href"===n&&"#"!==r[0]?A(e,r):"background"!==n||"table"!==t&&"td"!==t&&"th"!==t?"srcset"===n?function(e,t){if(""===t.trim())return t;let n=0;function r(e){let r,i=e.exec(t.substring(n));return i?(r=i[0],n+=r.length,r):""}let i=[];for(;r(O),!(n>=t.length);){let o=r(P);if(","===o.slice(-1))o=A(e,o.substring(0,o.length-1)),i.push(o);else{let r="";o=A(e,o);let s=!1;for(;;){let e=t.charAt(n);if(""===e){i.push((o+r).trim());break}if(s)")"===e&&(s=!1);else{if(","===e){n+=1,i.push((o+r).trim());break}"("===e&&(s=!0)}r+=e,n+=1}}}return i.join(", ")}(e,r):"style"===n?x(r,D()):"object"===t&&"data"===n?A(e,r):i&&["placeholder","title","aria-label"].indexOf(n)>-1?o?o(r):E(r):r:A(e,r):r}function L(e,t,n,r,i){if(!e)return!1;if(e.nodeType!==e.ELEMENT_NODE)return L(e.parentNode,t,n,r,i);if(r&&(e.matches(r)||e.closest(r)))return!1;if(i)return!0;if("string"==typeof t){if(e.classList.contains(t))return!0}else for(let o=0;o<e.classList.length;o++){const n=e.classList[o];if(t.test(n))return!0}return!(!n||!e.matches(n))||L(e.parentNode,t,n,r,i)}function U(e,t){var n;const{doc:r,blockClass:i,blockSelector:o,unblockSelector:s,maskTextClass:a,maskTextSelector:l,unmaskTextSelector:c,inlineStylesheet:u,maskInputSelector:d,unmaskInputSelector:h,maskAllText:p,maskInputOptions:m={},maskTextFn:_,maskInputFn:y,dataURLOptions:w={},inlineImages:k,recordCanvas:C,keepIframeSrcFn:R}=t;let N;if(r.__sn){const e=r.__sn.id;N=1===e?void 0:e}switch(e.nodeType){case e.DOCUMENT_NODE:return"CSS1Compat"!==e.compatMode?{type:f.Document,childNodes:[],compatMode:e.compatMode,rootId:N}:{type:f.Document,childNodes:[],rootId:N};case e.DOCUMENT_TYPE_NODE:return{type:f.DocumentType,name:e.name,publicId:e.publicId,systemId:e.systemId,rootId:N};case e.ELEMENT_NODE:const t=function(e,t,n,r){if(r&&e.matches(r))return!1;if("string"==typeof t){if(e.classList.contains(t))return!0}else for(let i=0;i<e.classList.length;i++){const n=e.classList[i];if(t.test(n))return!0}return!!n&&e.matches(n)}(e,i,o,s),U=function(e){if(e instanceof HTMLFormElement)return"form";const t=e.tagName.toLowerCase().trim();return b.test(t)?"div":t}(e);let F={};for(const{name:n,value:i}of Array.from(e.attributes))z(U,n)||(F[n]=M(r,U,n,i,p,_));if("link"===U&&u){const t=Array.from(r.styleSheets).find((t=>t.href===e.href));let n=null;t&&(n=S(t)),n&&(delete F.rel,delete F.href,F._cssText=x(n,t.href))}if("style"===U&&e.sheet&&!(e.innerText||e.textContent||"").trim().length){const t=S(e.sheet);t&&(F._cssText=x(t,D()))}if("input"===U||"textarea"===U||"select"===U){const t=e.value;"radio"!==F.type&&"checkbox"!==F.type&&"submit"!==F.type&&"button"!==F.type&&t?F.value=g({input:e,type:F.type,tagName:U,value:t,maskInputSelector:d,unmaskInputSelector:h,maskInputOptions:m,maskInputFn:y}):e.checked&&(F.checked=e.checked)}if("option"===U&&(e.selected&&!m.select?F.selected=!0:delete F.selected),"canvas"===U&&C)if("2d"===e.__context)(function(e){const t=e.getContext("2d");if(!t)return!0;for(let n=0;n<e.width;n+=50)for(let r=0;r<e.height;r+=50){const i=t.getImageData,o=v in i?i[v]:i;if(new Uint32Array(o.call(t,n,r,Math.min(50,e.width-n),Math.min(50,e.height-r)).data.buffer).some((e=>0!==e)))return!1}return!0})(e)||(F.rr_dataURL=e.toDataURL(w.type,w.quality));else if(!("__context"in e)){const t=e.toDataURL(w.type,w.quality),n=document.createElement("canvas");n.width=e.width,n.height=e.height;t!==n.toDataURL(w.type,w.quality)&&(F.rr_dataURL=t)}if("img"===U&&k){T||(T=r.createElement("canvas"),I=T.getContext("2d"));const t=e,n=t.crossOrigin;t.crossOrigin="anonymous";const i=()=>{try{T.width=t.naturalWidth,T.height=t.naturalHeight,I.drawImage(t,0,0),F.rr_dataURL=T.toDataURL(w.type,w.quality)}catch(e){console.warn(`Cannot inline img src=${t.currentSrc}! Error: ${e}`)}n?F.crossOrigin=n:delete F.crossOrigin};t.complete&&0!==t.naturalWidth?i():t.onload=i}if("audio"!==U&&"video"!==U||(F.rr_mediaState=e.paused?"paused":"played",F.rr_mediaCurrentTime=e.currentTime),e.scrollLeft&&(F.rr_scrollLeft=e.scrollLeft),e.scrollTop&&(F.rr_scrollTop=e.scrollTop),t){const{width:t,height:n}=e.getBoundingClientRect();F={class:F.class,rr_width:`${t}px`,rr_height:`${n}px`}}return"iframe"!==U||R(F.src)||(e.contentDocument||(F.rr_src=F.src),delete F.src),{type:f.Element,tagName:U,attributes:F,childNodes:[],isSVG:(O=e,Boolean("svg"===O.tagName||O.ownerSVGElement)||void 0),needBlock:t,rootId:N};case e.TEXT_NODE:const B=e.parentNode&&e.parentNode.tagName;let W=e.textContent;const G="STYLE"===B||void 0,H="SCRIPT"===B||void 0;if(G&&W){try{e.nextSibling||e.previousSibling||(null===(n=e.parentNode.sheet)||void 0===n?void 0:n.cssRules)&&(W=(P=e.parentNode.sheet).cssRules?Array.from(P.cssRules).map((e=>e.cssText||"")).join(""):"")}catch(A){console.warn(`Cannot get CSS styles from text's parentNode. Error: ${A}`,e)}W=x(W,D())}return H&&(W="SCRIPT_PLACEHOLDER"),"TEXTAREA"===B&&W?W="":!G&&!H&&L(e,a,l,c,p)&&W&&(W=_?_(W):E(W)),{type:f.Text,textContent:W||"",isStyle:G,rootId:N};case e.CDATA_SECTION_NODE:return{type:f.CDATA,textContent:"",rootId:N};case e.COMMENT_NODE:return{type:f.Comment,textContent:e.textContent||"",rootId:N};default:return!1}var P,O}function F(e){return null==e?"":e.toLowerCase()}function B(e,t){const{doc:n,map:r,blockClass:i,blockSelector:o,unblockSelector:s,maskTextClass:a,maskTextSelector:l,unmaskTextSelector:c,skipChild:u=!1,inlineStylesheet:d=!0,maskInputSelector:h,unmaskInputSelector:p,maskAllText:_,maskInputOptions:g={},maskTextFn:v,maskInputFn:b,slimDOMOptions:E,dataURLOptions:S={},inlineImages:k=!1,recordCanvas:T=!1,onSerialize:I,onIframeLoad:C,iframeLoadTimeout:R=5e3,keepIframeSrcFn:N=(()=>!1)}=t;let{preserveWhiteSpace:x=!0}=t;const P=U(e,{doc:n,blockClass:i,blockSelector:o,unblockSelector:s,maskTextClass:a,maskTextSelector:l,unmaskTextSelector:c,inlineStylesheet:d,maskInputSelector:h,unmaskInputSelector:p,maskAllText:_,maskInputOptions:g,maskTextFn:v,maskInputFn:b,dataURLOptions:S,inlineImages:k,recordCanvas:T,keepIframeSrcFn:N});if(!P)return console.warn(e,"not serialized"),null;let O;O="__sn"in e?e.__sn.id:!function(e,t){if(t.comment&&e.type===f.Comment)return!0;if(e.type===f.Element){if(t.script&&("script"===e.tagName||"link"===e.tagName&&("preload"===e.attributes.rel||"modulepreload"===e.attributes.rel)&&"script"===e.attributes.as||"link"===e.tagName&&"prefetch"===e.attributes.rel&&"string"==typeof e.attributes.href&&e.attributes.href.endsWith(".js")))return!0;if(t.headFavicon&&("link"===e.tagName&&"shortcut icon"===e.attributes.rel||"meta"===e.tagName&&(F(e.attributes.name).match(/^msapplication-tile(image|color)$/)||"application-name"===F(e.attributes.name)||"icon"===F(e.attributes.rel)||"apple-touch-icon"===F(e.attributes.rel)||"shortcut icon"===F(e.attributes.rel))))return!0;if("meta"===e.tagName){if(t.headMetaDescKeywords&&F(e.attributes.name).match(/^description|keywords$/))return!0;if(t.headMetaSocial&&(F(e.attributes.property).match(/^(og|twitter|fb):/)||F(e.attributes.name).match(/^(og|twitter):/)||"pinterest"===F(e.attributes.name)))return!0;if(t.headMetaRobots&&("robots"===F(e.attributes.name)||"googlebot"===F(e.attributes.name)||"bingbot"===F(e.attributes.name)))return!0;if(t.headMetaHttpEquiv&&void 0!==e.attributes["http-equiv"])return!0;if(t.headMetaAuthorship&&("author"===F(e.attributes.name)||"generator"===F(e.attributes.name)||"framework"===F(e.attributes.name)||"publisher"===F(e.attributes.name)||"progid"===F(e.attributes.name)||F(e.attributes.property).match(/^article:/)||F(e.attributes.property).match(/^product:/)))return!0;if(t.headMetaVerification&&("google-site-verification"===F(e.attributes.name)||"yandex-verification"===F(e.attributes.name)||"csrf-token"===F(e.attributes.name)||"p:domain_verify"===F(e.attributes.name)||"verify-v1"===F(e.attributes.name)||"verification"===F(e.attributes.name)||"shopify-checkout-api-token"===F(e.attributes.name)))return!0}}return!1}(P,E)&&(x||P.type!==f.Text||P.isStyle||P.textContent.replace(/^\s+|\s+$/gm,"").length)?y++:w;const A=Object.assign(P,{id:O});if(e.__sn=A,O===w)return null;r[O]=e,I&&I(e);let D=!u;if(A.type===f.Element&&(D=D&&!A.needBlock,delete A.needBlock,e.shadowRoot&&(A.isShadowHost=!0)),(A.type===f.Document||A.type===f.Element)&&D){E.headWhitespace&&P.type===f.Element&&"head"===P.tagName&&(x=!1);const t={doc:n,map:r,blockClass:i,blockSelector:o,unblockSelector:s,maskTextClass:a,maskTextSelector:l,unmaskTextSelector:c,skipChild:u,inlineStylesheet:d,maskInputSelector:h,unmaskInputSelector:p,maskAllText:_,maskInputOptions:g,maskTextFn:v,maskInputFn:b,slimDOMOptions:E,dataURLOptions:S,inlineImages:k,recordCanvas:T,preserveWhiteSpace:x,onSerialize:I,onIframeLoad:C,iframeLoadTimeout:R,keepIframeSrcFn:N};for(const n of Array.from(e.childNodes)){const e=B(n,t);e&&A.childNodes.push(e)}if(function(e){return e.nodeType===e.ELEMENT_NODE}(e)&&e.shadowRoot)for(const n of Array.from(e.shadowRoot.childNodes)){const e=B(n,t);e&&(e.isShadow=!0,A.childNodes.push(e))}}return e.parentNode&&m(e.parentNode)&&(A.isShadow=!0),A.type===f.Element&&"iframe"===A.tagName&&function(e,t,n){const r=e.contentWindow;if(!r)return;let i,o=!1;try{i=r.document.readyState}catch(a){return}if("complete"!==i){const r=setTimeout((()=>{o||(t(),o=!0)}),n);return void e.addEventListener("load",(()=>{clearTimeout(r),o=!0,t()}))}const s="about:blank";r.location.href===s&&e.src!==s&&""!==e.src?e.addEventListener("load",t):setTimeout(t,0)}(e,(()=>{const t=e.contentDocument;if(t&&C){const n=B(t,{doc:t,map:r,blockClass:i,blockSelector:o,unblockSelector:s,maskTextClass:a,maskTextSelector:l,unmaskTextSelector:c,skipChild:!1,inlineStylesheet:d,maskInputSelector:h,unmaskInputSelector:p,maskAllText:_,maskInputOptions:g,maskTextFn:v,maskInputFn:b,slimDOMOptions:E,dataURLOptions:S,inlineImages:k,recordCanvas:T,preserveWhiteSpace:x,onSerialize:I,onIframeLoad:C,iframeLoadTimeout:R,keepIframeSrcFn:N});n&&C(e,n)}}),R),A}function z(e,t,n){return("video"===e||"audio"===e)&&"autoplay"===t}var W,G,H,$,V,Y;function K(e,t,n=document){const r={capture:!0,passive:!0};return n.addEventListener(e,t,r),()=>n.removeEventListener(e,t,r)}!function(e){e[e.DomContentLoaded=0]="DomContentLoaded",e[e.Load=1]="Load",e[e.FullSnapshot=2]="FullSnapshot",e[e.IncrementalSnapshot=3]="IncrementalSnapshot",e[e.Meta=4]="Meta",e[e.Custom=5]="Custom",e[e.Plugin=6]="Plugin"}(W||(W={})),function(e){e[e.Mutation=0]="Mutation",e[e.MouseMove=1]="MouseMove",e[e.MouseInteraction=2]="MouseInteraction",e[e.Scroll=3]="Scroll",e[e.ViewportResize=4]="ViewportResize",e[e.Input=5]="Input",e[e.TouchMove=6]="TouchMove",e[e.MediaInteraction=7]="MediaInteraction",e[e.StyleSheetRule=8]="StyleSheetRule",e[e.CanvasMutation=9]="CanvasMutation",e[e.Font=10]="Font",e[e.Log=11]="Log",e[e.Drag=12]="Drag",e[e.StyleDeclaration=13]="StyleDeclaration"}(G||(G={})),function(e){e[e.MouseUp=0]="MouseUp",e[e.MouseDown=1]="MouseDown",e[e.Click=2]="Click",e[e.ContextMenu=3]="ContextMenu",e[e.DblClick=4]="DblClick",e[e.Focus=5]="Focus",e[e.Blur=6]="Blur",e[e.TouchStart=7]="TouchStart",e[e.TouchMove_Departed=8]="TouchMove_Departed",e[e.TouchEnd=9]="TouchEnd",e[e.TouchCancel=10]="TouchCancel"}(H||(H={})),function(e){e[e["2D"]=0]="2D",e[e.WebGL=1]="WebGL",e[e.WebGL2=2]="WebGL2"}($||($={})),function(e){e[e.Play=0]="Play",e[e.Pause=1]="Pause",e[e.Seeked=2]="Seeked",e[e.VolumeChange=3]="VolumeChange"}(V||(V={})),function(e){e.Start="start",e.Pause="pause",e.Resume="resume",e.Resize="resize",e.Finish="finish",e.FullsnapshotRebuilded="fullsnapshot-rebuilded",e.LoadStylesheetStart="load-stylesheet-start",e.LoadStylesheetEnd="load-stylesheet-end",e.SkipStart="skip-start",e.SkipEnd="skip-end",e.MouseInteraction="mouse-interaction",e.EventCast="event-cast",e.CustomEvent="custom-event",e.Flush="flush",e.StateChange="state-change",e.PlayBack="play-back"}(Y||(Y={}));const J="Please stop import mirror directly. Instead of that,\r\nnow you can use replayer.getMirror() to access the mirror instance of a replayer,\r\nor you can use record.mirror to access the mirror instance during recording.";let X={map:{},getId:()=>(console.error(J),-1),getNode:()=>(console.error(J),null),removeNodeFromMap(){console.error(J)},has:()=>(console.error(J),!1),reset(){console.error(J)}};function Q(e,t,n={}){let r=null,i=0;return function(o){let s=Date.now();i||!1!==n.leading||(i=s);let a=t-(s-i),l=this,c=arguments;a<=0||a>t?(r&&(clearTimeout(r),r=null),i=s,e.apply(l,c)):r||!1===n.trailing||(r=setTimeout((()=>{i=!1===n.leading?0:Date.now(),r=null,e.apply(l,c)}),a))}}function Z(e,t,n,r,i=window){const o=i.Object.getOwnPropertyDescriptor(e,t);return i.Object.defineProperty(e,t,r?n:{set(e){setTimeout((()=>{n.set.call(this,e)}),0),o&&o.set&&o.set.call(this,e)}}),()=>Z(e,t,o||{},!0)}function ee(e,t,n){try{if(!(t in e))return()=>{};const r=e[t],i=n(r);return"function"==typeof i&&(i.prototype=i.prototype||{},Object.defineProperties(i,{__rrweb_original__:{enumerable:!1,value:r}})),e[t]=i,()=>{e[t]=r}}catch(r){return()=>{}}}function te(){return window.innerHeight||document.documentElement&&document.documentElement.clientHeight||document.body&&document.body.clientHeight}function ne(){return window.innerWidth||document.documentElement&&document.documentElement.clientWidth||document.body&&document.body.clientWidth}function re(e,t,n,r){if(!e)return!1;if(e.nodeType===e.ELEMENT_NODE){let i=!1;const o=r&&e.matches(r);return"string"==typeof t?i=void 0!==e.closest?!o&&null!==e.closest("."+t):!o&&e.classList.contains(t):!o&&e.classList.forEach((e=>{t.test(e)&&(i=!0)})),!i&&n&&(i=e.matches(n)),!o&&i||re(e.parentNode,t,n,r)}return e.nodeType,e.TEXT_NODE,re(e.parentNode,t,n,r)}function ie(e){return"__sn"in e&&e.__sn.id===w}function oe(e,t){if(m(e))return!1;const n=t.getId(e);return!t.has(n)||(!e.parentNode||e.parentNode.nodeType!==e.DOCUMENT_NODE)&&(!e.parentNode||oe(e.parentNode,t))}function se(e){return Boolean(e.changedTouches)}function ae(e){return"__sn"in e&&(e.__sn.type===f.Element&&"iframe"===e.__sn.tagName)}function le(e){return Boolean(null==e?void 0:e.shadowRoot)}function ce(e){return"__ln"in e}"undefined"!=typeof window&&window.Proxy&&window.Reflect&&(X=new Proxy(X,{get:(e,t,n)=>("map"===t&&console.error(J),Reflect.get(e,t,n))}));class DoubleLinkedList{constructor(){this.length=0,this.head=null}get(e){if(e>=this.length)throw new Error("Position outside of list range");let t=this.head;for(let n=0;n<e;n++)t=(null==t?void 0:t.next)||null;return t}addNode(e){const t={value:e,previous:null,next:null};if(e.__ln=t,e.previousSibling&&ce(e.previousSibling)){const n=e.previousSibling.__ln.next;t.next=n,t.previous=e.previousSibling.__ln,e.previousSibling.__ln.next=t,n&&(n.previous=t)}else if(e.nextSibling&&ce(e.nextSibling)&&e.nextSibling.__ln.previous){const n=e.nextSibling.__ln.previous;t.previous=n,t.next=e.nextSibling.__ln,e.nextSibling.__ln.previous=t,n&&(n.next=t)}else this.head&&(this.head.previous=t),t.next=this.head,this.head=t;this.length++}removeNode(e){const t=e.__ln;this.head&&(t.previous?(t.previous.next=t.next,t.next&&(t.next.previous=t.previous)):(this.head=t.next,this.head&&(this.head.previous=null)),e.__ln&&delete e.__ln,this.length--)}}const ue=(e,t)=>`${e}@${t}`;function de(e){return"__sn"in e}class MutationBuffer{constructor(){this.frozen=!1,this.locked=!1,this.texts=[],this.attributes=[],this.removes=[],this.mapRemoves=[],this.movedMap={},this.addedSet=new Set,this.movedSet=new Set,this.droppedSet=new Set,this.processMutations=e=>{e.forEach(this.processMutation),this.emit()},this.emit=()=>{if(this.frozen||this.locked)return;const e=[],t=new DoubleLinkedList,n=e=>{let t=e,n=w;for(;n===w;)t=t&&t.nextSibling,n=t&&this.mirror.getId(t);return n},r=r=>{var i,o,s,a,l;const c=r.getRootNode?null===(i=r.getRootNode())||void 0===i?void 0:i.host:null;let u=c;for(;null===(s=null===(o=null==u?void 0:u.getRootNode)||void 0===o?void 0:o.call(u))||void 0===s?void 0:s.host;)u=(null===(l=null===(a=null==u?void 0:u.getRootNode)||void 0===a?void 0:a.call(u))||void 0===l?void 0:l.host)||null;const d=!(this.doc.contains(r)||u&&this.doc.contains(u));if(!r.parentNode||d)return;const h=m(r.parentNode)?this.mirror.getId(c):this.mirror.getId(r.parentNode),p=n(r);if(-1===h||-1===p)return t.addNode(r);let f=B(r,{doc:this.doc,map:this.mirror.map,blockClass:this.blockClass,blockSelector:this.blockSelector,unblockSelector:this.unblockSelector,maskTextClass:this.maskTextClass,maskTextSelector:this.maskTextSelector,unmaskTextSelector:this.unmaskTextSelector,maskInputSelector:this.maskInputSelector,unmaskInputSelector:this.unmaskInputSelector,skipChild:!0,inlineStylesheet:this.inlineStylesheet,maskAllText:this.maskAllText,maskInputOptions:this.maskInputOptions,maskTextFn:this.maskTextFn,maskInputFn:this.maskInputFn,slimDOMOptions:this.slimDOMOptions,recordCanvas:this.recordCanvas,inlineImages:this.inlineImages,onSerialize:e=>{ae(e)&&this.iframeManager.addIframe(e),le(r)&&this.shadowDomManager.addShadowRoot(r.shadowRoot,document)},onIframeLoad:(e,t)=>{this.iframeManager.attachIframe(e,t),this.shadowDomManager.observeAttachShadow(e)}});f&&e.push({parentId:h,nextId:p,node:f})};for(;this.mapRemoves.length;)this.mirror.removeNodeFromMap(this.mapRemoves.shift());for(const s of this.movedSet)pe(this.removes,s,this.mirror)&&!this.movedSet.has(s.parentNode)||r(s);for(const s of this.addedSet)fe(this.droppedSet,s)||pe(this.removes,s,this.mirror)?fe(this.movedSet,s)?r(s):this.droppedSet.add(s):r(s);let i=null;for(;t.length;){let e=null;if(i){const t=this.mirror.getId(i.value.parentNode),r=n(i.value);-1!==t&&-1!==r&&(e=i)}if(!e)for(let r=t.length-1;r>=0;r--){const i=t.get(r);if(i){const t=this.mirror.getId(i.value.parentNode),r=n(i.value);if(-1!==t&&-1!==r){e=i;break}}}if(!e){for(;t.head;)t.removeNode(t.head.value);break}i=e.previous,t.removeNode(e.value),r(e.value)}const o={texts:this.texts.map((e=>({id:this.mirror.getId(e.node),value:e.value}))).filter((e=>this.mirror.has(e.id))),attributes:this.attributes.map((e=>({id:this.mirror.getId(e.node),attributes:e.attributes}))).filter((e=>this.mirror.has(e.id))),removes:this.removes,adds:e};(o.texts.length||o.attributes.length||o.removes.length||o.adds.length)&&(this.texts=[],this.attributes=[],this.removes=[],this.addedSet=new Set,this.movedSet=new Set,this.droppedSet=new Set,this.movedMap={},this.mutationCb(o))},this.processMutation=e=>{if(!ie(e.target))switch(e.type){case"characterData":{const t=e.target.textContent;re(e.target,this.blockClass,this.blockSelector,this.unblockSelector)||t===e.oldValue||this.texts.push({value:L(e.target,this.maskTextClass,this.maskTextSelector,this.unmaskTextSelector,this.maskAllText)&&t?this.maskTextFn?this.maskTextFn(t):t.replace(/[\S]/g,"*"):t,node:e.target});break}case"attributes":{const n=e.target;let r=e.target.getAttribute(e.attributeName);if("value"===e.attributeName&&(r=g({input:n,maskInputSelector:this.maskInputSelector,unmaskInputSelector:this.unmaskInputSelector,maskInputOptions:this.maskInputOptions,tagName:e.target.tagName,type:e.target.getAttribute("type"),value:r,maskInputFn:this.maskInputFn})),re(e.target,this.blockClass,this.blockSelector,this.unblockSelector)||r===e.oldValue)return;let i=this.attributes.find((t=>t.node===e.target));if(i||(i={node:e.target,attributes:{}},this.attributes.push(i)),"style"===e.attributeName){const r=this.doc.createElement("span");e.oldValue&&r.setAttribute("style",e.oldValue),void 0!==i.attributes.style&&null!==i.attributes.style||(i.attributes.style={});try{const e=i.attributes.style;for(const t of Array.from(n.style)){const i=n.style.getPropertyValue(t),o=n.style.getPropertyPriority(t);i===r.style.getPropertyValue(t)&&o===r.style.getPropertyPriority(t)||(e[t]=""===o?i:[i,o])}for(const t of Array.from(r.style))""===n.style.getPropertyValue(t)&&(e[t]=!1)}catch(t){console.warn("[rrweb] Error when parsing update to style attribute:",t)}}else i.attributes[e.attributeName]=M(this.doc,e.target.tagName,e.attributeName,r,this.maskAllText,this.maskTextFn);break}case"childList":e.addedNodes.forEach((t=>this.genAdds(t,e.target))),e.removedNodes.forEach((t=>{const n=this.mirror.getId(t),r=m(e.target)?this.mirror.getId(e.target.host):this.mirror.getId(e.target);re(e.target,this.blockClass,this.blockSelector,this.unblockSelector)||ie(t)||(this.addedSet.has(t)?(he(this.addedSet,t),this.droppedSet.add(t)):this.addedSet.has(e.target)&&-1===n||oe(e.target,this.mirror)||(this.movedSet.has(t)&&this.movedMap[ue(n,r)]?he(this.movedSet,t):this.removes.push({parentId:r,id:n,isShadow:!!m(e.target)||void 0})),this.mapRemoves.push(t))}))}},this.genAdds=(e,t)=>{if(!t||!re(t,this.blockClass,this.blockSelector,this.unblockSelector)){if(de(e)){if(ie(e))return;this.movedSet.add(e);let n=null;t&&de(t)&&(n=t.__sn.id),n&&(this.movedMap[ue(e.__sn.id,n)]=!0)}else this.addedSet.add(e),this.droppedSet.delete(e);re(e,this.blockClass,this.blockSelector,this.unblockSelector)||e.childNodes.forEach((e=>this.genAdds(e)))}}}init(e){["mutationCb","blockClass","blockSelector","unblockSelector","maskTextClass","maskTextSelector","unmaskTextSelector","maskInputSelector","unmaskInputSelector","inlineStylesheet","maskAllText","maskInputOptions","maskTextFn","maskInputFn","recordCanvas","inlineImages","slimDOMOptions","doc","mirror","iframeManager","shadowDomManager","canvasManager"].forEach((t=>{this[t]=e[t]}))}freeze(){this.frozen=!0,this.canvasManager.freeze()}unfreeze(){this.frozen=!1,this.canvasManager.unfreeze(),this.emit()}isFrozen(){return this.frozen}lock(){this.locked=!0,this.canvasManager.lock()}unlock(){this.locked=!1,this.canvasManager.unlock(),this.emit()}reset(){this.shadowDomManager.reset(),this.canvasManager.reset()}}function he(e,t){e.delete(t),t.childNodes.forEach((t=>he(e,t)))}function pe(e,t,n){const{parentNode:r}=t;if(!r)return!1;const i=n.getId(r);return!!e.some((e=>e.id===i))||pe(e,r,n)}function fe(e,t){const{parentNode:n}=t;return!!n&&(!!e.has(n)||fe(e,n))}const me=e=>(...t)=>{try{return e(...t)}catch(n){try{n.__rrweb__=!0}catch(r){}throw n}},_e=[];function ge(e){try{if("composedPath"in e){const t=e.composedPath();if(t.length)return t[0]}else if("path"in e&&e.path.length)return e.path[0]}catch(t){}return e&&e.target}function ve(e,t){var n,r;const i=new MutationBuffer;_e.push(i),i.init(e);let o=window.MutationObserver||window.__rrMutationObserver;const s=null===(r=null===(n=null===window||void 0===window?void 0:window.Zone)||void 0===n?void 0:n.__symbol__)||void 0===r?void 0:r.call(n,"MutationObserver");s&&window[s]&&(o=window[s]);const a=new o(me(i.processMutations.bind(i)));return a.observe(t,{attributes:!0,attributeOldValue:!0,characterData:!0,characterDataOldValue:!0,childList:!0,subtree:!0}),a}function ye({mouseInteractionCb:e,doc:t,mirror:n,blockClass:r,blockSelector:i,unblockSelector:o,sampling:s}){if(!1===s.mouseInteraction)return()=>{};const a=!0===s.mouseInteraction||void 0===s.mouseInteraction?{}:s.mouseInteraction,l=[];return Object.keys(H).filter((e=>Number.isNaN(Number(e))&&!e.endsWith("_Departed")&&!1!==a[e])).forEach((s=>{const a=s.toLowerCase(),c=me((t=>s=>{const a=ge(s);if(re(a,r,i,o))return;const l=se(s)?s.changedTouches[0]:s;if(!l)return;const c=n.getId(a),{clientX:u,clientY:d}=l;me(e)({type:H[t],id:c,x:u,y:d})})(s));l.push(K(a,c,t))})),me((()=>{l.forEach((e=>e()))}))}function be({scrollCb:e,doc:t,mirror:n,blockClass:r,blockSelector:i,unblockSelector:o,sampling:s}){const a=Q((s=>{const a=ge(s);if(!a||re(a,r,i,o))return;const l=n.getId(a);if(a===t){const n=t.scrollingElement||t.documentElement;me(e)({id:l,x:n.scrollLeft,y:n.scrollTop})}else me(e)({id:l,x:a.scrollLeft,y:a.scrollTop})}),s.scroll||100);return K("scroll",me(a),t)}function we(e,t){const n=Object.assign({},e);return t||delete n.userTriggered,n}const Ee=["INPUT","TEXTAREA","SELECT"],Se=new WeakMap;function ke({inputCb:e,doc:t,mirror:n,blockClass:r,blockSelector:i,unblockSelector:o,ignoreClass:s,ignoreSelector:a,maskInputSelector:l,unmaskInputSelector:c,maskInputOptions:u,maskInputFn:d,sampling:h,userTriggeredOnInput:p}){function f(e){let n=ge(e);const h=e.isTrusted;if(n&&"OPTION"===n.tagName&&(n=n.parentElement),!n||!n.tagName||Ee.indexOf(n.tagName)<0||re(n,r,i,o))return;const f=n.type;if(n.classList.contains(s)||a&&n.matches(a))return;let v=n.value,y=!1;"radio"===f||"checkbox"===f?y=n.checked:function({tagName:e,type:t,maskInputOptions:n,maskInputSelector:r}){return r||_({maskInputOptions:n,tagName:e,type:t})}({maskInputOptions:u,maskInputSelector:l,tagName:n.tagName,type:f})&&(v=g({input:n,maskInputOptions:u,maskInputSelector:l,unmaskInputSelector:c,tagName:n.tagName,type:f,value:v,maskInputFn:d})),m(n,me(we)({text:v,isChecked:y,userTriggered:h},p));const b=n.name;"radio"===f&&b&&y&&t.querySelectorAll(`input[type="radio"][name="${b}"]`).forEach((e=>{e!==n&&m(e,me(we)({text:e.value,isChecked:!y,userTriggered:!1},p))}))}function m(t,r){const i=Se.get(t);if(!i||i.text!==r.text||i.isChecked!==r.isChecked){Se.set(t,r);const i=n.getId(t);e(Object.assign(Object.assign({},r),{id:i}))}}const v=("last"===h.input?["change"]:["input","change"]).map((e=>K(e,me(f),t))),y=Object.getOwnPropertyDescriptor(HTMLInputElement.prototype,"value"),b=[[HTMLInputElement.prototype,"value"],[HTMLInputElement.prototype,"checked"],[HTMLSelectElement.prototype,"value"],[HTMLTextAreaElement.prototype,"value"],[HTMLSelectElement.prototype,"selectedIndex"],[HTMLOptionElement.prototype,"selected"]];return y&&y.set&&v.push(...b.map((e=>Z(e[0],e[1],{set(){me(f)({target:this})}})))),me((()=>{v.forEach((e=>e()))}))}function Te(e){return function(e,t){if(Ce("CSSGroupingRule")&&e.parentRule instanceof CSSGroupingRule||Ce("CSSMediaRule")&&e.parentRule instanceof CSSMediaRule||Ce("CSSSupportsRule")&&e.parentRule instanceof CSSSupportsRule||Ce("CSSConditionRule")&&e.parentRule instanceof CSSConditionRule){const n=Array.from(e.parentRule.cssRules).indexOf(e);t.unshift(n)}else{const n=Array.from(e.parentStyleSheet.cssRules).indexOf(e);t.unshift(n)}return t}(e,[])}function Ie(e,t={}){const n=e.doc.defaultView;if(!n)return()=>{};!function(e,t){const{mutationCb:n,mousemoveCb:r,mouseInteractionCb:i,scrollCb:o,viewportResizeCb:s,inputCb:a,mediaInteractionCb:l,styleSheetRuleCb:c,styleDeclarationCb:u,canvasMutationCb:d,fontCb:h}=e;e.mutationCb=(...e)=>{t.mutation&&t.mutation(...e),n(...e)},e.mousemoveCb=(...e)=>{t.mousemove&&t.mousemove(...e),r(...e)},e.mouseInteractionCb=(...e)=>{t.mouseInteraction&&t.mouseInteraction(...e),i(...e)},e.scrollCb=(...e)=>{t.scroll&&t.scroll(...e),o(...e)},e.viewportResizeCb=(...e)=>{t.viewportResize&&t.viewportResize(...e),s(...e)},e.inputCb=(...e)=>{t.input&&t.input(...e),a(...e)},e.mediaInteractionCb=(...e)=>{t.mediaInteaction&&t.mediaInteaction(...e),l(...e)},e.styleSheetRuleCb=(...e)=>{t.styleSheetRule&&t.styleSheetRule(...e),c(...e)},e.styleDeclarationCb=(...e)=>{t.styleDeclaration&&t.styleDeclaration(...e),u(...e)},e.canvasMutationCb=(...e)=>{t.canvasMutation&&t.canvasMutation(...e),d(...e)},e.fontCb=(...e)=>{t.font&&t.font(...e),h(...e)}}(e,t);const r=ve(e,e.doc),i=function({mousemoveCb:e,sampling:t,doc:n,mirror:r}){if(!1===t.mousemove)return()=>{};const i="number"==typeof t.mousemove?t.mousemove:50,o="number"==typeof t.mousemoveCallback?t.mousemoveCallback:500;let s,a=[];const l=Q((t=>{const n=Date.now()-s;me(e)(a.map((e=>(e.timeOffset-=n,e))),t),a=[],s=null}),o),c=Q((e=>{const t=ge(e),{clientX:n,clientY:i}=se(e)?e.changedTouches[0]:e;s||(s=Date.now()),a.push({x:n,y:i,id:r.getId(t),timeOffset:Date.now()-s}),l("undefined"!=typeof DragEvent&&e instanceof DragEvent?G.Drag:e instanceof MouseEvent?G.MouseMove:G.TouchMove)}),i,{trailing:!1}),u=[K("mousemove",me(c),n),K("touchmove",me(c),n),K("drag",me(c),n)];return me((()=>{u.forEach((e=>e()))}))}(e),o=ye(e),s=be(e),a=function({viewportResizeCb:e}){let t=-1,n=-1;const r=Q((()=>{const r=te(),i=ne();t===r&&n===i||(me(e)({width:Number(i),height:Number(r)}),t=r,n=i)}),200);return K("resize",me(r),window)}(e),l=ke(e),c=function({mediaInteractionCb:e,blockClass:t,blockSelector:n,unblockSelector:r,mirror:i,sampling:o}){const s=s=>Q(me((o=>{const a=ge(o);if(!a||re(a,t,n,r))return;const{currentTime:l,volume:c,muted:u}=a;e({type:s,id:i.getId(a),currentTime:l,volume:c,muted:u})})),o.media||500),a=[K("play",s(0)),K("pause",s(1)),K("seeked",s(2)),K("volumechange",s(3))];return me((()=>{a.forEach((e=>e()))}))}(e),u=function({styleSheetRuleCb:e,mirror:t},{win:n}){if(!n.CSSStyleSheet||!n.CSSStyleSheet.prototype)return()=>{};const r=n.CSSStyleSheet.prototype.insertRule;n.CSSStyleSheet.prototype.insertRule=new Proxy(r,{apply:me(((n,r,i)=>{const[o,s]=i,a=t.getId(r.ownerNode);return-1!==a&&e({id:a,adds:[{rule:o,index:s}]}),n.apply(r,i)}))});const i=n.CSSStyleSheet.prototype.deleteRule;n.CSSStyleSheet.prototype.deleteRule=new Proxy(i,{apply:me(((n,r,i)=>{const[o]=i,s=t.getId(r.ownerNode);return-1!==s&&e({id:s,removes:[{index:o}]}),n.apply(r,i)}))});const o={};Re("CSSGroupingRule")?o.CSSGroupingRule=n.CSSGroupingRule:(Re("CSSMediaRule")&&(o.CSSMediaRule=n.CSSMediaRule),Re("CSSConditionRule")&&(o.CSSConditionRule=n.CSSConditionRule),Re("CSSSupportsRule")&&(o.CSSSupportsRule=n.CSSSupportsRule));const s={};return Object.entries(o).forEach((([n,r])=>{s[n]={insertRule:r.prototype.insertRule,deleteRule:r.prototype.deleteRule},r.prototype.insertRule=new Proxy(s[n].insertRule,{apply:me(((n,r,i)=>{const[o,s]=i,a=t.getId(r.parentStyleSheet.ownerNode);return-1!==a&&e({id:a,adds:[{rule:o,index:[...Te(r),s||0]}]}),n.apply(r,i)}))}),r.prototype.deleteRule=new Proxy(s[n].deleteRule,{apply:me(((n,r,i)=>{const[o]=i,s=t.getId(r.parentStyleSheet.ownerNode);return-1!==s&&e({id:s,removes:[{index:[...Te(r),o]}]}),n.apply(r,i)}))})})),me((()=>{n.CSSStyleSheet.prototype.insertRule=r,n.CSSStyleSheet.prototype.deleteRule=i,Object.entries(o).forEach((([e,t])=>{t.prototype.insertRule=s[e].insertRule,t.prototype.deleteRule=s[e].deleteRule}))}))}(e,{win:n}),d=function({styleDeclarationCb:e,mirror:t},{win:n}){const r=n.CSSStyleDeclaration.prototype.setProperty;n.CSSStyleDeclaration.prototype.setProperty=new Proxy(r,{apply:me(((n,r,i)=>{var o,s;const[a,l,c]=i,u=t.getId(null===(s=null===(o=r.parentRule)||void 0===o?void 0:o.parentStyleSheet)||void 0===s?void 0:s.ownerNode);return-1!==u&&e({id:u,set:{property:a,value:l,priority:c},index:Te(r.parentRule)}),n.apply(r,i)}))});const i=n.CSSStyleDeclaration.prototype.removeProperty;return n.CSSStyleDeclaration.prototype.removeProperty=new Proxy(i,{apply:me(((n,r,i)=>{var o,s;const[a]=i,l=t.getId(null===(s=null===(o=r.parentRule)||void 0===o?void 0:o.parentStyleSheet)||void 0===s?void 0:s.ownerNode);return-1!==l&&e({id:l,remove:{property:a},index:Te(r.parentRule)}),n.apply(r,i)}))}),me((()=>{n.CSSStyleDeclaration.prototype.setProperty=r,n.CSSStyleDeclaration.prototype.removeProperty=i}))}(e,{win:n}),h=e.collectFonts?function({fontCb:e,doc:t}){const n=t.defaultView;if(!n)return()=>{};const r=[],i=new WeakMap,o=n.FontFace;n.FontFace=function(e,t,n){const r=new o(e,t,n);return i.set(r,{family:e,buffer:"string"!=typeof t,descriptors:n,fontSource:"string"==typeof t?t:JSON.stringify(Array.from(new Uint8Array(t)))}),r};const s=ee(t.fonts,"add",(function(t){return function(n){return setTimeout((()=>{const t=i.get(n);t&&(e(t),i.delete(n))}),0),t.apply(this,[n])}}));return r.push((()=>{n.FontFace=o})),r.push(s),me((()=>{r.forEach((e=>e()))}))}(e):()=>{},p=[];for(const f of e.plugins)p.push(f.observer(f.callback,n,f.options));return me((()=>{_e.forEach((e=>e.reset())),r.disconnect(),i(),o(),s(),a(),l(),c();try{u(),d()}catch(e){}h(),p.forEach((e=>e()))}))}function Ce(e){return void 0!==window[e]}function Re(e){return Boolean(void 0!==window[e]&&window[e].prototype&&"insertRule"in window[e].prototype&&"deleteRule"in window[e].prototype)}class IframeManager{constructor(e){this.iframes=new WeakMap,this.mutationCb=e.mutationCb}addIframe(e){this.iframes.set(e,!0)}addLoadListener(e){this.loadListener=e}attachIframe(e,t){var n;this.mutationCb({adds:[{parentId:e.__sn.id,nextId:null,node:t}],removes:[],texts:[],attributes:[],isAttachIframe:!0}),null===(n=this.loadListener)||void 0===n||n.call(this,e)}}class ShadowDomManager{constructor(e){this.restorePatches=[],this.mutationCb=e.mutationCb,this.scrollCb=e.scrollCb,this.bypassOptions=e.bypassOptions,this.mirror=e.mirror;const t=this;this.restorePatches.push(ee(HTMLElement.prototype,"attachShadow",(function(e){return function(){const n=e.apply(this,arguments);return this.shadowRoot&&t.addShadowRoot(this.shadowRoot,this.ownerDocument),n}})))}addShadowRoot(e,t){ve(Object.assign(Object.assign({},this.bypassOptions),{doc:t,mutationCb:this.mutationCb,mirror:this.mirror,shadowDomManager:this}),e),be(Object.assign(Object.assign({},this.bypassOptions),{scrollCb:this.scrollCb,doc:e,mirror:this.mirror}))}observeAttachShadow(e){if(e.contentWindow){const t=this;this.restorePatches.push(ee(e.contentWindow.HTMLElement.prototype,"attachShadow",(function(n){return function(){const r=n.apply(this,arguments);return this.shadowRoot&&t.addShadowRoot(this.shadowRoot,e.contentDocument),r}})))}}reset(){this.restorePatches.forEach((e=>e()))}}for(var Ne="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",xe="undefined"==typeof Uint8Array?[]:new Uint8Array(256),Pe=0;Pe<Ne.length;Pe++)xe[Ne.charCodeAt(Pe)]=Pe;var Oe=function(e){var t,n=new Uint8Array(e),r=n.length,i="";for(t=0;t<r;t+=3)i+=Ne[n[t]>>2],i+=Ne[(3&n[t])<<4|n[t+1]>>4],i+=Ne[(15&n[t+1])<<2|n[t+2]>>6],i+=Ne[63&n[t+2]];return r%3==2?i=i.substring(0,i.length-1)+"=":r%3==1&&(i=i.substring(0,i.length-2)+"=="),i};const Ae=new Map;const De=(e,t,n)=>{if(!e||!Ue(e,t)&&"object"!=typeof e)return;const r=function(e,t){let n=Ae.get(e);return n||(n=new Map,Ae.set(e,n)),n.has(t)||n.set(t,[]),n.get(t)}(n,e.constructor.name);let i=r.indexOf(e);return-1===i&&(i=r.length,r.push(e)),i};function Me(e,t,n){if(e instanceof Array)return e.map((e=>Me(e,t,n)));if(null===e)return e;if(e instanceof Float32Array||e instanceof Float64Array||e instanceof Int32Array||e instanceof Uint32Array||e instanceof Uint8Array||e instanceof Uint16Array||e instanceof Int16Array||e instanceof Int8Array||e instanceof Uint8ClampedArray){return{rr_type:e.constructor.name,args:[Object.values(e)]}}if(e instanceof ArrayBuffer){return{rr_type:e.constructor.name,base64:Oe(e)}}if(e instanceof DataView){return{rr_type:e.constructor.name,args:[Me(e.buffer,t,n),e.byteOffset,e.byteLength]}}if(e instanceof HTMLImageElement){const t=e.constructor.name,{src:n}=e;return{rr_type:t,src:n}}if(e instanceof ImageData){return{rr_type:e.constructor.name,args:[Me(e.data,t,n),e.width,e.height]}}if(Ue(e,t)||"object"==typeof e){return{rr_type:e.constructor.name,index:De(e,t,n)}}return e}const Le=(e,t,n)=>[...e].map((e=>Me(e,t,n))),Ue=(e,t)=>{const n=["WebGLActiveInfo","WebGLBuffer","WebGLFramebuffer","WebGLProgram","WebGLRenderbuffer","WebGLShader","WebGLShaderPrecisionFormat","WebGLTexture","WebGLUniformLocation","WebGLVertexArrayObject","WebGLVertexArrayObjectOES"].filter((e=>"function"==typeof t[e]));return Boolean(n.find((n=>e instanceof t[n])))};function Fe(e,t,n,r,i,o,s,a){const l=[],c=Object.getOwnPropertyNames(e);for(const d of c)try{if("function"!=typeof e[d])continue;const c=ee(e,d,(function(l){return function(...c){const u=l.apply(this,c);if(De(u,a,e),!re(this.canvas,r,o,i)){s.getId(this.canvas);const r=Le([...c],a,e),i={type:t,property:d,args:r};n(this.canvas,i)}return u}}));l.push(c)}catch(u){const r=Z(e,d,{set(e){n(this.canvas,{type:t,property:d,args:[e],setter:!0})}});l.push(r)}return l}class CanvasManager{reset(){this.pendingCanvasMutations.clear(),this.resetObservers&&this.resetObservers()}freeze(){this.frozen=!0}unfreeze(){this.frozen=!1}lock(){this.locked=!0}unlock(){this.locked=!1}constructor(e){this.pendingCanvasMutations=new Map,this.rafStamps={latestId:0,invokeId:null},this.frozen=!1,this.locked=!1,this.processMutation=function(e,t){!(this.rafStamps.invokeId&&this.rafStamps.latestId!==this.rafStamps.invokeId)&&this.rafStamps.invokeId||(this.rafStamps.invokeId=this.rafStamps.latestId),this.pendingCanvasMutations.has(e)||this.pendingCanvasMutations.set(e,[]),this.pendingCanvasMutations.get(e).push(t)},this.mutationCb=e.mutationCb,this.mirror=e.mirror,!0===e.recordCanvas&&this.initCanvasMutationObserver(e.win,e.blockClass,e.blockSelector,e.unblockSelector)}initCanvasMutationObserver(e,t,n,r){this.startRAFTimestamping(),this.startPendingCanvasMutationFlusher();const i=function(e,t,n,r){const i=[];try{const o=ee(e.HTMLCanvasElement.prototype,"getContext",(function(e){return function(i,...o){return re(this,t,n,r)||"__context"in this||(this.__context=i),e.apply(this,[i,...o])}}));i.push(o)}catch(o){console.error("failed to patch HTMLCanvasElement.prototype.getContext")}return()=>{i.forEach((e=>e()))}}(e,t,r,n),o=function(e,t,n,r,i,o){const s=[],a=Object.getOwnPropertyNames(t.CanvasRenderingContext2D.prototype);for(const c of a)try{if("function"!=typeof t.CanvasRenderingContext2D.prototype[c])continue;const o=ee(t.CanvasRenderingContext2D.prototype,c,(function(t){return function(...o){return re(this.canvas,n,i,r)||setTimeout((()=>{const t=[...o];if("drawImage"===c&&t[0]&&t[0]instanceof HTMLCanvasElement){const e=t[0],n=e.getContext("2d");let r=null==n?void 0:n.getImageData(0,0,e.width,e.height),i=null==r?void 0:r.data;t[0]=JSON.stringify(i)}e(this.canvas,{type:$["2D"],property:c,args:t})}),0),t.apply(this,o)}}));s.push(o)}catch(l){const n=Z(t.CanvasRenderingContext2D.prototype,c,{set(t){e(this.canvas,{type:$["2D"],property:c,args:[t],setter:!0})}});s.push(n)}return()=>{s.forEach((e=>e()))}}(this.processMutation.bind(this),e,t,r,n,this.mirror),s=function(e,t,n,r,i,o){const s=[];return s.push(...Fe(t.WebGLRenderingContext.prototype,$.WebGL,e,n,r,i,o,t)),void 0!==t.WebGL2RenderingContext&&s.push(...Fe(t.WebGL2RenderingContext.prototype,$.WebGL2,e,n,r,i,o,t)),()=>{s.forEach((e=>e()))}}(this.processMutation.bind(this),e,t,r,n,this.mirror);this.resetObservers=()=>{i(),o(),s()}}startPendingCanvasMutationFlusher(){requestAnimationFrame((()=>this.flushPendingCanvasMutations()))}startRAFTimestamping(){const e=t=>{this.rafStamps.latestId=t,requestAnimationFrame(e)};requestAnimationFrame(e)}flushPendingCanvasMutations(){this.pendingCanvasMutations.forEach(((e,t)=>{const n=this.mirror.getId(t);this.flushPendingCanvasMutationFor(t,n)})),requestAnimationFrame((()=>this.flushPendingCanvasMutations()))}flushPendingCanvasMutationFor(e,t){if(this.frozen||this.locked)return;const n=this.pendingCanvasMutations.get(e);if(!n||-1===t)return;const r=n.map((e=>{const t=function(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(null!=e&&"function"==typeof Object.getOwnPropertySymbols){var i=0;for(r=Object.getOwnPropertySymbols(e);i<r.length;i++)t.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(e,r[i])&&(n[r[i]]=e[r[i]])}return n}(e,["type"]);return t})),{type:i}=n[0];this.mutationCb({id:t,type:i,commands:r}),this.pendingCanvasMutations.delete(e)}}function je(e){return Object.assign(Object.assign({},e),{timestamp:Date.now()})}let Be,ze;const We={map:{},getId:e=>e&&e.__sn?e.__sn.id:-1,getNode(e){return this.map[e]||null},removeNodeFromMap(e){const t=e.__sn&&e.__sn.id;delete this.map[t],e.childNodes&&e.childNodes.forEach((e=>this.removeNodeFromMap(e)))},has(e){return this.map.hasOwnProperty(e)},reset(){this.map={}}};function Ge(e={}){const{emit:t,checkoutEveryNms:n,checkoutEveryNth:r,blockClass:i="rr-block",blockSelector:o=null,unblockSelector:s=null,ignoreClass:a="rr-ignore",ignoreSelector:l=null,maskTextClass:c="rr-mask",maskTextSelector:u=null,maskInputSelector:d=null,unmaskTextSelector:h=null,unmaskInputSelector:p=null,inlineStylesheet:f=!0,maskAllText:m=!1,maskAllInputs:_,maskInputOptions:g,slimDOMOptions:v,maskInputFn:y,maskTextFn:b,hooks:w,packFn:E,sampling:S={},mousemoveWait:k,recordCanvas:T=!1,userTriggeredOnInput:I=!1,collectFonts:C=!1,inlineImages:R=!1,plugins:N,keepIframeSrcFn:x=(()=>!1)}=e;if(!t)throw new Error("emit function is required");void 0!==k&&void 0===S.mousemove&&(S.mousemove=k);const P=!0===_?{color:!0,date:!0,"datetime-local":!0,email:!0,month:!0,number:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0,textarea:!0,select:!0,password:!0}:void 0!==g?g:{password:!0},O=!0===v||"all"===v?{script:!0,comment:!0,headFavicon:!0,headWhitespace:!0,headMetaSocial:!0,headMetaRobots:!0,headMetaHttpEquiv:!0,headMetaVerification:!0,headMetaAuthorship:"all"===v,headMetaDescKeywords:"all"===v}:v||{};let A;!function(e=window){"NodeList"in e&&!e.NodeList.prototype.forEach&&(e.NodeList.prototype.forEach=Array.prototype.forEach),"DOMTokenList"in e&&!e.DOMTokenList.prototype.forEach&&(e.DOMTokenList.prototype.forEach=Array.prototype.forEach),Node.prototype.contains||(Node.prototype.contains=function(e){if(!(0 in arguments))throw new TypeError("1 argument is required");do{if(this===e)return!0}while(e=e&&e.parentNode);return!1})}();let D=0;Be=(e,i)=>{var o;if(!(null===(o=_e[0])||void 0===o?void 0:o.isFrozen())||e.type===W.FullSnapshot||e.type===W.IncrementalSnapshot&&e.data.source===G.Mutation||_e.forEach((e=>e.unfreeze())),t((e=>{for(const t of N||[])t.eventProcessor&&(e=t.eventProcessor(e));return E&&(e=E(e)),e})(e),i),e.type===W.FullSnapshot)A=e,D=0;else if(e.type===W.IncrementalSnapshot){if(e.data.source===G.Mutation&&e.data.isAttachIframe)return;D++;const t=r&&D>=r,i=n&&e.timestamp-A.timestamp>n;(t||i)&&ze(!0)}};const M=e=>{Be(je({type:W.IncrementalSnapshot,data:Object.assign({source:G.Mutation},e)}))},L=e=>Be(je({type:W.IncrementalSnapshot,data:Object.assign({source:G.Scroll},e)})),U=e=>Be(je({type:W.IncrementalSnapshot,data:Object.assign({source:G.CanvasMutation},e)})),F=new IframeManager({mutationCb:M}),z=new CanvasManager({recordCanvas:T,mutationCb:U,win:window,blockClass:i,blockSelector:o,unblockSelector:s,mirror:We}),H=new ShadowDomManager({mutationCb:M,scrollCb:L,bypassOptions:{blockClass:i,blockSelector:o,unblockSelector:s,maskTextClass:c,maskTextSelector:u,unmaskTextSelector:h,maskInputSelector:d,unmaskInputSelector:p,inlineStylesheet:f,maskAllText:m,maskInputOptions:P,maskTextFn:b,maskInputFn:y,recordCanvas:T,inlineImages:R,sampling:S,slimDOMOptions:O,iframeManager:F,canvasManager:z},mirror:We});ze=(e=!1)=>{var t,n,r,a;Be(je({type:W.Meta,data:{href:window.location.href,width:ne(),height:te()}}),e),_e.forEach((e=>e.lock()));const[l,_]=function(e,t){const{blockClass:n="rr-block",blockSelector:r=null,unblockSelector:i=null,maskTextClass:o="rr-mask",maskTextSelector:s=null,unmaskTextSelector:a=null,inlineStylesheet:l=!0,inlineImages:c=!1,recordCanvas:u=!1,maskInputSelector:d=null,unmaskInputSelector:h=null,maskAllText:p=!1,maskAllInputs:f=!1,maskTextFn:m,maskInputFn:_,slimDOM:g=!1,dataURLOptions:v,preserveWhiteSpace:y,onSerialize:b,onIframeLoad:w,iframeLoadTimeout:E,keepIframeSrcFn:S=(()=>!1)}=t||{},k={};return[B(e,{doc:e,map:k,blockClass:n,blockSelector:r,unblockSelector:i,maskTextClass:o,maskTextSelector:s,unmaskTextSelector:a,skipChild:!1,inlineStylesheet:l,maskInputSelector:d,unmaskInputSelector:h,maskAllText:p,maskInputOptions:!0===f?{color:!0,date:!0,"datetime-local":!0,email:!0,month:!0,number:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0,textarea:!0,select:!0,password:!0}:!1===f?{password:!0}:f,maskTextFn:m,maskInputFn:_,slimDOMOptions:!0===g||"all"===g?{script:!0,comment:!0,headFavicon:!0,headWhitespace:!0,headMetaDescKeywords:"all"===g,headMetaSocial:!0,headMetaRobots:!0,headMetaHttpEquiv:!0,headMetaAuthorship:!0,headMetaVerification:!0}:!1===g?{}:g,dataURLOptions:v,inlineImages:c,recordCanvas:u,preserveWhiteSpace:y,onSerialize:b,onIframeLoad:w,iframeLoadTimeout:E,keepIframeSrcFn:S}),k]}(document,{blockClass:i,blockSelector:o,unblockSelector:s,maskTextClass:c,maskTextSelector:u,unmaskTextSelector:h,maskInputSelector:d,unmaskInputSelector:p,inlineStylesheet:f,maskAllText:m,maskAllInputs:P,maskTextFn:b,slimDOM:O,recordCanvas:T,inlineImages:R,onSerialize:e=>{ae(e)&&F.addIframe(e),le(e)&&H.addShadowRoot(e.shadowRoot,document)},onIframeLoad:(e,t)=>{F.attachIframe(e,t),H.observeAttachShadow(e)},keepIframeSrcFn:x});if(!l)return console.warn("Failed to snapshot the document");We.map=_,Be(je({type:W.FullSnapshot,data:{node:l,initialOffset:{left:void 0!==window.pageXOffset?window.pageXOffset:(null===document||void 0===document?void 0:document.documentElement.scrollLeft)||(null===(n=null===(t=null===document||void 0===document?void 0:document.body)||void 0===t?void 0:t.parentElement)||void 0===n?void 0:n.scrollLeft)||(null===document||void 0===document?void 0:document.body.scrollLeft)||0,top:void 0!==window.pageYOffset?window.pageYOffset:(null===document||void 0===document?void 0:document.documentElement.scrollTop)||(null===(a=null===(r=null===document||void 0===document?void 0:document.body)||void 0===r?void 0:r.parentElement)||void 0===a?void 0:a.scrollTop)||(null===document||void 0===document?void 0:document.body.scrollTop)||0}}})),_e.forEach((e=>e.unlock()))};try{const e=[];e.push(K("DOMContentLoaded",(()=>{Be(je({type:W.DomContentLoaded,data:{}}))})));const t=e=>{var t;return me(Ie)({mutationCb:M,mousemoveCb:(e,t)=>Be(je({type:W.IncrementalSnapshot,data:{source:t,positions:e}})),mouseInteractionCb:e=>Be(je({type:W.IncrementalSnapshot,data:Object.assign({source:G.MouseInteraction},e)})),scrollCb:L,viewportResizeCb:e=>Be(je({type:W.IncrementalSnapshot,data:Object.assign({source:G.ViewportResize},e)})),inputCb:e=>Be(je({type:W.IncrementalSnapshot,data:Object.assign({source:G.Input},e)})),mediaInteractionCb:e=>Be(je({type:W.IncrementalSnapshot,data:Object.assign({source:G.MediaInteraction},e)})),styleSheetRuleCb:e=>Be(je({type:W.IncrementalSnapshot,data:Object.assign({source:G.StyleSheetRule},e)})),styleDeclarationCb:e=>Be(je({type:W.IncrementalSnapshot,data:Object.assign({source:G.StyleDeclaration},e)})),canvasMutationCb:U,fontCb:e=>Be(je({type:W.IncrementalSnapshot,data:Object.assign({source:G.Font},e)})),blockClass:i,ignoreClass:a,ignoreSelector:l,maskTextClass:c,maskTextSelector:u,unmaskTextSelector:h,maskInputSelector:d,unmaskInputSelector:p,maskInputOptions:P,inlineStylesheet:f,sampling:S,recordCanvas:T,inlineImages:R,userTriggeredOnInput:I,collectFonts:C,doc:e,maskAllText:m,maskInputFn:y,maskTextFn:b,blockSelector:o,unblockSelector:s,slimDOMOptions:O,mirror:We,iframeManager:F,shadowDomManager:H,canvasManager:z,plugins:(null===(t=null==N?void 0:N.filter((e=>e.observer)))||void 0===t?void 0:t.map((e=>({observer:e.observer,options:e.options,callback:t=>Be(je({type:W.Plugin,data:{plugin:e.name,payload:t}}))}))))||[]},w)};F.addLoadListener((n=>{try{e.push(t(n.contentDocument))}catch(r){console.warn(r)}}));const n=()=>{ze(),e.push(t(document))};return"interactive"===document.readyState||"complete"===document.readyState?n():e.push(K("load",(()=>{Be(je({type:W.Load,data:{}})),n()}),window)),()=>{e.forEach((e=>e()))}}catch($){console.warn($)}}Ge.addCustomEvent=(e,t)=>{if(!Be)throw new Error("please add custom event after start recording");Be(je({type:W.Custom,data:{tag:e,payload:t}}))},Ge.freezePage=()=>{_e.forEach((e=>e.freeze()))},Ge.takeFullSnapshot=e=>{if(!ze)throw new Error("please take full snapshot after start recording");ze(e)},Ge.mirror=We;const qe=["name","type","startTime","transferSize","duration"];function He(e){return function(t){return qe.every((n=>e[n]===t[n]))}}function $e(e){const t=new PerformanceObserver((t=>{const n=function(e,t){const[n,r,i]=e.reduce(((e,t)=>("navigation"===t.entryType?e[0].push(t):"largest-contentful-paint"===t.entryType?e[1].push(t):e[2].push(t),e)),[[],[],[]]),o=[],s=[];let a=r.length?r[r.length-1]:void 0;return t.forEach((e=>{if("largest-contentful-paint"!==e.entryType)if("navigation"!==e.entryType)o.push(e);else{const t=e;e.duration>0&&!n.find(He(t))&&!s.find(He(t))&&s.push(t)}else(!a||a.startTime<e.startTime)&&(a=e)})),[...a?[a]:[],...n,...i,...o,...s].sort(((e,t)=>e.startTime-t.startTime))}(e.performanceEvents,t.getEntries());e.performanceEvents=n}));return["element","event","first-input","largest-contentful-paint","layout-shift","longtask","navigation","paint","resource"].forEach((e=>{try{t.observe({type:e,buffered:!0})}catch(n){}})),t}const Ve='/*! pako 2.1.0 https://github.com/nodeca/pako @license (MIT AND Zlib) */\nfunction t(t){let e=t.length;for(;--e>=0;)t[e]=0}const e=new Uint8Array([0,0,0,0,0,0,0,0,1,1,1,1,2,2,2,2,3,3,3,3,4,4,4,4,5,5,5,5,0]),a=new Uint8Array([0,0,0,0,1,1,2,2,3,3,4,4,5,5,6,6,7,7,8,8,9,9,10,10,11,11,12,12,13,13]),i=new Uint8Array([0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,2,3,7]),n=new Uint8Array([16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15]),s=new Array(576);t(s);const r=new Array(60);t(r);const o=new Array(512);t(o);const l=new Array(256);t(l);const h=new Array(29);t(h);const d=new Array(30);function _(t,e,a,i,n){this.static_tree=t,this.extra_bits=e,this.extra_base=a,this.elems=i,this.max_length=n,this.has_stree=t&&t.length}let f,c,u;function w(t,e){this.dyn_tree=t,this.max_code=0,this.stat_desc=e}t(d);const m=t=>t<256?o[t]:o[256+(t>>>7)],b=(t,e)=>{t.pending_buf[t.pending++]=255&e,t.pending_buf[t.pending++]=e>>>8&255},g=(t,e,a)=>{t.bi_valid>16-a?(t.bi_buf|=e<<t.bi_valid&65535,b(t,t.bi_buf),t.bi_buf=e>>16-t.bi_valid,t.bi_valid+=a-16):(t.bi_buf|=e<<t.bi_valid&65535,t.bi_valid+=a)},p=(t,e,a)=>{g(t,a[2*e],a[2*e+1])},k=(t,e)=>{let a=0;do{a|=1&t,t>>>=1,a<<=1}while(--e>0);return a>>>1},v=(t,e,a)=>{const i=new Array(16);let n,s,r=0;for(n=1;n<=15;n++)r=r+a[n-1]<<1,i[n]=r;for(s=0;s<=e;s++){let e=t[2*s+1];0!==e&&(t[2*s]=k(i[e]++,e))}},y=t=>{let e;for(e=0;e<286;e++)t.dyn_ltree[2*e]=0;for(e=0;e<30;e++)t.dyn_dtree[2*e]=0;for(e=0;e<19;e++)t.bl_tree[2*e]=0;t.dyn_ltree[512]=1,t.opt_len=t.static_len=0,t.sym_next=t.matches=0},x=t=>{t.bi_valid>8?b(t,t.bi_buf):t.bi_valid>0&&(t.pending_buf[t.pending++]=t.bi_buf),t.bi_buf=0,t.bi_valid=0},z=(t,e,a,i)=>{const n=2*e,s=2*a;return t[n]<t[s]||t[n]===t[s]&&i[e]<=i[a]},A=(t,e,a)=>{const i=t.heap[a];let n=a<<1;for(;n<=t.heap_len&&(n<t.heap_len&&z(e,t.heap[n+1],t.heap[n],t.depth)&&n++,!z(e,i,t.heap[n],t.depth));)t.heap[a]=t.heap[n],a=n,n<<=1;t.heap[a]=i},E=(t,i,n)=>{let s,r,o,_,f=0;if(0!==t.sym_next)do{s=255&t.pending_buf[t.sym_buf+f++],s+=(255&t.pending_buf[t.sym_buf+f++])<<8,r=t.pending_buf[t.sym_buf+f++],0===s?p(t,r,i):(o=l[r],p(t,o+256+1,i),_=e[o],0!==_&&(r-=h[o],g(t,r,_)),s--,o=m(s),p(t,o,n),_=a[o],0!==_&&(s-=d[o],g(t,s,_)))}while(f<t.sym_next);p(t,256,i)},R=(t,e)=>{const a=e.dyn_tree,i=e.stat_desc.static_tree,n=e.stat_desc.has_stree,s=e.stat_desc.elems;let r,o,l,h=-1;for(t.heap_len=0,t.heap_max=573,r=0;r<s;r++)0!==a[2*r]?(t.heap[++t.heap_len]=h=r,t.depth[r]=0):a[2*r+1]=0;for(;t.heap_len<2;)l=t.heap[++t.heap_len]=h<2?++h:0,a[2*l]=1,t.depth[l]=0,t.opt_len--,n&&(t.static_len-=i[2*l+1]);for(e.max_code=h,r=t.heap_len>>1;r>=1;r--)A(t,a,r);l=s;do{r=t.heap[1],t.heap[1]=t.heap[t.heap_len--],A(t,a,1),o=t.heap[1],t.heap[--t.heap_max]=r,t.heap[--t.heap_max]=o,a[2*l]=a[2*r]+a[2*o],t.depth[l]=(t.depth[r]>=t.depth[o]?t.depth[r]:t.depth[o])+1,a[2*r+1]=a[2*o+1]=l,t.heap[1]=l++,A(t,a,1)}while(t.heap_len>=2);t.heap[--t.heap_max]=t.heap[1],((t,e)=>{const a=e.dyn_tree,i=e.max_code,n=e.stat_desc.static_tree,s=e.stat_desc.has_stree,r=e.stat_desc.extra_bits,o=e.stat_desc.extra_base,l=e.stat_desc.max_length;let h,d,_,f,c,u,w=0;for(f=0;f<=15;f++)t.bl_count[f]=0;for(a[2*t.heap[t.heap_max]+1]=0,h=t.heap_max+1;h<573;h++)d=t.heap[h],f=a[2*a[2*d+1]+1]+1,f>l&&(f=l,w++),a[2*d+1]=f,d>i||(t.bl_count[f]++,c=0,d>=o&&(c=r[d-o]),u=a[2*d],t.opt_len+=u*(f+c),s&&(t.static_len+=u*(n[2*d+1]+c)));if(0!==w){do{for(f=l-1;0===t.bl_count[f];)f--;t.bl_count[f]--,t.bl_count[f+1]+=2,t.bl_count[l]--,w-=2}while(w>0);for(f=l;0!==f;f--)for(d=t.bl_count[f];0!==d;)_=t.heap[--h],_>i||(a[2*_+1]!==f&&(t.opt_len+=(f-a[2*_+1])*a[2*_],a[2*_+1]=f),d--)}})(t,e),v(a,h,t.bl_count)},Z=(t,e,a)=>{let i,n,s=-1,r=e[1],o=0,l=7,h=4;for(0===r&&(l=138,h=3),e[2*(a+1)+1]=65535,i=0;i<=a;i++)n=r,r=e[2*(i+1)+1],++o<l&&n===r||(o<h?t.bl_tree[2*n]+=o:0!==n?(n!==s&&t.bl_tree[2*n]++,t.bl_tree[32]++):o<=10?t.bl_tree[34]++:t.bl_tree[36]++,o=0,s=n,0===r?(l=138,h=3):n===r?(l=6,h=3):(l=7,h=4))},U=(t,e,a)=>{let i,n,s=-1,r=e[1],o=0,l=7,h=4;for(0===r&&(l=138,h=3),i=0;i<=a;i++)if(n=r,r=e[2*(i+1)+1],!(++o<l&&n===r)){if(o<h)do{p(t,n,t.bl_tree)}while(0!=--o);else 0!==n?(n!==s&&(p(t,n,t.bl_tree),o--),p(t,16,t.bl_tree),g(t,o-3,2)):o<=10?(p(t,17,t.bl_tree),g(t,o-3,3)):(p(t,18,t.bl_tree),g(t,o-11,7));o=0,s=n,0===r?(l=138,h=3):n===r?(l=6,h=3):(l=7,h=4)}};let S=!1;const D=(t,e,a,i)=>{g(t,0+(i?1:0),3),x(t),b(t,a),b(t,~a),a&&t.pending_buf.set(t.window.subarray(e,e+a),t.pending),t.pending+=a};var T=(t,e,a,i)=>{let o,l,h=0;t.level>0?(2===t.strm.data_type&&(t.strm.data_type=(t=>{let e,a=4093624447;for(e=0;e<=31;e++,a>>>=1)if(1&a&&0!==t.dyn_ltree[2*e])return 0;if(0!==t.dyn_ltree[18]||0!==t.dyn_ltree[20]||0!==t.dyn_ltree[26])return 1;for(e=32;e<256;e++)if(0!==t.dyn_ltree[2*e])return 1;return 0})(t)),R(t,t.l_desc),R(t,t.d_desc),h=(t=>{let e;for(Z(t,t.dyn_ltree,t.l_desc.max_code),Z(t,t.dyn_dtree,t.d_desc.max_code),R(t,t.bl_desc),e=18;e>=3&&0===t.bl_tree[2*n[e]+1];e--);return t.opt_len+=3*(e+1)+5+5+4,e})(t),o=t.opt_len+3+7>>>3,l=t.static_len+3+7>>>3,l<=o&&(o=l)):o=l=a+5,a+4<=o&&-1!==e?D(t,e,a,i):4===t.strategy||l===o?(g(t,2+(i?1:0),3),E(t,s,r)):(g(t,4+(i?1:0),3),((t,e,a,i)=>{let s;for(g(t,e-257,5),g(t,a-1,5),g(t,i-4,4),s=0;s<i;s++)g(t,t.bl_tree[2*n[s]+1],3);U(t,t.dyn_ltree,e-1),U(t,t.dyn_dtree,a-1)})(t,t.l_desc.max_code+1,t.d_desc.max_code+1,h+1),E(t,t.dyn_ltree,t.dyn_dtree)),y(t),i&&x(t)},O={_tr_init:t=>{S||((()=>{let t,n,w,m,b;const g=new Array(16);for(w=0,m=0;m<28;m++)for(h[m]=w,t=0;t<1<<e[m];t++)l[w++]=m;for(l[w-1]=m,b=0,m=0;m<16;m++)for(d[m]=b,t=0;t<1<<a[m];t++)o[b++]=m;for(b>>=7;m<30;m++)for(d[m]=b<<7,t=0;t<1<<a[m]-7;t++)o[256+b++]=m;for(n=0;n<=15;n++)g[n]=0;for(t=0;t<=143;)s[2*t+1]=8,t++,g[8]++;for(;t<=255;)s[2*t+1]=9,t++,g[9]++;for(;t<=279;)s[2*t+1]=7,t++,g[7]++;for(;t<=287;)s[2*t+1]=8,t++,g[8]++;for(v(s,287,g),t=0;t<30;t++)r[2*t+1]=5,r[2*t]=k(t,5);f=new _(s,e,257,286,15),c=new _(r,a,0,30,15),u=new _(new Array(0),i,0,19,7)})(),S=!0),t.l_desc=new w(t.dyn_ltree,f),t.d_desc=new w(t.dyn_dtree,c),t.bl_desc=new w(t.bl_tree,u),t.bi_buf=0,t.bi_valid=0,y(t)},_tr_stored_block:D,_tr_flush_block:T,_tr_tally:(t,e,a)=>(t.pending_buf[t.sym_buf+t.sym_next++]=e,t.pending_buf[t.sym_buf+t.sym_next++]=e>>8,t.pending_buf[t.sym_buf+t.sym_next++]=a,0===e?t.dyn_ltree[2*a]++:(t.matches++,e--,t.dyn_ltree[2*(l[a]+256+1)]++,t.dyn_dtree[2*m(e)]++),t.sym_next===t.sym_end),_tr_align:t=>{g(t,2,3),p(t,256,s),(t=>{16===t.bi_valid?(b(t,t.bi_buf),t.bi_buf=0,t.bi_valid=0):t.bi_valid>=8&&(t.pending_buf[t.pending++]=255&t.bi_buf,t.bi_buf>>=8,t.bi_valid-=8)})(t)}};var F=(t,e,a,i)=>{let n=65535&t|0,s=t>>>16&65535|0,r=0;for(;0!==a;){r=a>2e3?2e3:a,a-=r;do{n=n+e[i++]|0,s=s+n|0}while(--r);n%=65521,s%=65521}return n|s<<16|0};const L=new Uint32Array((()=>{let t,e=[];for(var a=0;a<256;a++){t=a;for(var i=0;i<8;i++)t=1&t?3988292384^t>>>1:t>>>1;e[a]=t}return e})());var N=(t,e,a,i)=>{const n=L,s=i+a;t^=-1;for(let a=i;a<s;a++)t=t>>>8^n[255&(t^e[a])];return-1^t},I={2:"need dictionary",1:"stream end",0:"","-1":"file error","-2":"stream error","-3":"data error","-4":"insufficient memory","-5":"buffer error","-6":"incompatible version"},B={Z_NO_FLUSH:0,Z_PARTIAL_FLUSH:1,Z_SYNC_FLUSH:2,Z_FULL_FLUSH:3,Z_FINISH:4,Z_BLOCK:5,Z_TREES:6,Z_OK:0,Z_STREAM_END:1,Z_NEED_DICT:2,Z_ERRNO:-1,Z_STREAM_ERROR:-2,Z_DATA_ERROR:-3,Z_MEM_ERROR:-4,Z_BUF_ERROR:-5,Z_NO_COMPRESSION:0,Z_BEST_SPEED:1,Z_BEST_COMPRESSION:9,Z_DEFAULT_COMPRESSION:-1,Z_FILTERED:1,Z_HUFFMAN_ONLY:2,Z_RLE:3,Z_FIXED:4,Z_DEFAULT_STRATEGY:0,Z_BINARY:0,Z_TEXT:1,Z_UNKNOWN:2,Z_DEFLATED:8};const{_tr_init:C,_tr_stored_block:H,_tr_flush_block:M,_tr_tally:j,_tr_align:K}=O,{Z_NO_FLUSH:P,Z_PARTIAL_FLUSH:Y,Z_FULL_FLUSH:G,Z_FINISH:X,Z_BLOCK:W,Z_OK:q,Z_STREAM_END:J,Z_STREAM_ERROR:Q,Z_DATA_ERROR:V,Z_BUF_ERROR:$,Z_DEFAULT_COMPRESSION:tt,Z_FILTERED:et,Z_HUFFMAN_ONLY:at,Z_RLE:it,Z_FIXED:nt,Z_DEFAULT_STRATEGY:st,Z_UNKNOWN:rt,Z_DEFLATED:ot}=B,lt=(t,e)=>(t.msg=I[e],e),ht=t=>2*t-(t>4?9:0),dt=t=>{let e=t.length;for(;--e>=0;)t[e]=0},_t=t=>{let e,a,i,n=t.w_size;e=t.hash_size,i=e;do{a=t.head[--i],t.head[i]=a>=n?a-n:0}while(--e);e=n,i=e;do{a=t.prev[--i],t.prev[i]=a>=n?a-n:0}while(--e)};let ft=(t,e,a)=>(e<<t.hash_shift^a)&t.hash_mask;const ct=t=>{const e=t.state;let a=e.pending;a>t.avail_out&&(a=t.avail_out),0!==a&&(t.output.set(e.pending_buf.subarray(e.pending_out,e.pending_out+a),t.next_out),t.next_out+=a,e.pending_out+=a,t.total_out+=a,t.avail_out-=a,e.pending-=a,0===e.pending&&(e.pending_out=0))},ut=(t,e)=>{M(t,t.block_start>=0?t.block_start:-1,t.strstart-t.block_start,e),t.block_start=t.strstart,ct(t.strm)},wt=(t,e)=>{t.pending_buf[t.pending++]=e},mt=(t,e)=>{t.pending_buf[t.pending++]=e>>>8&255,t.pending_buf[t.pending++]=255&e},bt=(t,e,a,i)=>{let n=t.avail_in;return n>i&&(n=i),0===n?0:(t.avail_in-=n,e.set(t.input.subarray(t.next_in,t.next_in+n),a),1===t.state.wrap?t.adler=F(t.adler,e,n,a):2===t.state.wrap&&(t.adler=N(t.adler,e,n,a)),t.next_in+=n,t.total_in+=n,n)},gt=(t,e)=>{let a,i,n=t.max_chain_length,s=t.strstart,r=t.prev_length,o=t.nice_match;const l=t.strstart>t.w_size-262?t.strstart-(t.w_size-262):0,h=t.window,d=t.w_mask,_=t.prev,f=t.strstart+258;let c=h[s+r-1],u=h[s+r];t.prev_length>=t.good_match&&(n>>=2),o>t.lookahead&&(o=t.lookahead);do{if(a=e,h[a+r]===u&&h[a+r-1]===c&&h[a]===h[s]&&h[++a]===h[s+1]){s+=2,a++;do{}while(h[++s]===h[++a]&&h[++s]===h[++a]&&h[++s]===h[++a]&&h[++s]===h[++a]&&h[++s]===h[++a]&&h[++s]===h[++a]&&h[++s]===h[++a]&&h[++s]===h[++a]&&s<f);if(i=258-(f-s),s=f-258,i>r){if(t.match_start=e,r=i,i>=o)break;c=h[s+r-1],u=h[s+r]}}}while((e=_[e&d])>l&&0!=--n);return r<=t.lookahead?r:t.lookahead},pt=t=>{const e=t.w_size;let a,i,n;do{if(i=t.window_size-t.lookahead-t.strstart,t.strstart>=e+(e-262)&&(t.window.set(t.window.subarray(e,e+e-i),0),t.match_start-=e,t.strstart-=e,t.block_start-=e,t.insert>t.strstart&&(t.insert=t.strstart),_t(t),i+=e),0===t.strm.avail_in)break;if(a=bt(t.strm,t.window,t.strstart+t.lookahead,i),t.lookahead+=a,t.lookahead+t.insert>=3)for(n=t.strstart-t.insert,t.ins_h=t.window[n],t.ins_h=ft(t,t.ins_h,t.window[n+1]);t.insert&&(t.ins_h=ft(t,t.ins_h,t.window[n+3-1]),t.prev[n&t.w_mask]=t.head[t.ins_h],t.head[t.ins_h]=n,n++,t.insert--,!(t.lookahead+t.insert<3)););}while(t.lookahead<262&&0!==t.strm.avail_in)},kt=(t,e)=>{let a,i,n,s=t.pending_buf_size-5>t.w_size?t.w_size:t.pending_buf_size-5,r=0,o=t.strm.avail_in;do{if(a=65535,n=t.bi_valid+42>>3,t.strm.avail_out<n)break;if(n=t.strm.avail_out-n,i=t.strstart-t.block_start,a>i+t.strm.avail_in&&(a=i+t.strm.avail_in),a>n&&(a=n),a<s&&(0===a&&e!==X||e===P||a!==i+t.strm.avail_in))break;r=e===X&&a===i+t.strm.avail_in?1:0,H(t,0,0,r),t.pending_buf[t.pending-4]=a,t.pending_buf[t.pending-3]=a>>8,t.pending_buf[t.pending-2]=~a,t.pending_buf[t.pending-1]=~a>>8,ct(t.strm),i&&(i>a&&(i=a),t.strm.output.set(t.window.subarray(t.block_start,t.block_start+i),t.strm.next_out),t.strm.next_out+=i,t.strm.avail_out-=i,t.strm.total_out+=i,t.block_start+=i,a-=i),a&&(bt(t.strm,t.strm.output,t.strm.next_out,a),t.strm.next_out+=a,t.strm.avail_out-=a,t.strm.total_out+=a)}while(0===r);return o-=t.strm.avail_in,o&&(o>=t.w_size?(t.matches=2,t.window.set(t.strm.input.subarray(t.strm.next_in-t.w_size,t.strm.next_in),0),t.strstart=t.w_size,t.insert=t.strstart):(t.window_size-t.strstart<=o&&(t.strstart-=t.w_size,t.window.set(t.window.subarray(t.w_size,t.w_size+t.strstart),0),t.matches<2&&t.matches++,t.insert>t.strstart&&(t.insert=t.strstart)),t.window.set(t.strm.input.subarray(t.strm.next_in-o,t.strm.next_in),t.strstart),t.strstart+=o,t.insert+=o>t.w_size-t.insert?t.w_size-t.insert:o),t.block_start=t.strstart),t.high_water<t.strstart&&(t.high_water=t.strstart),r?4:e!==P&&e!==X&&0===t.strm.avail_in&&t.strstart===t.block_start?2:(n=t.window_size-t.strstart,t.strm.avail_in>n&&t.block_start>=t.w_size&&(t.block_start-=t.w_size,t.strstart-=t.w_size,t.window.set(t.window.subarray(t.w_size,t.w_size+t.strstart),0),t.matches<2&&t.matches++,n+=t.w_size,t.insert>t.strstart&&(t.insert=t.strstart)),n>t.strm.avail_in&&(n=t.strm.avail_in),n&&(bt(t.strm,t.window,t.strstart,n),t.strstart+=n,t.insert+=n>t.w_size-t.insert?t.w_size-t.insert:n),t.high_water<t.strstart&&(t.high_water=t.strstart),n=t.bi_valid+42>>3,n=t.pending_buf_size-n>65535?65535:t.pending_buf_size-n,s=n>t.w_size?t.w_size:n,i=t.strstart-t.block_start,(i>=s||(i||e===X)&&e!==P&&0===t.strm.avail_in&&i<=n)&&(a=i>n?n:i,r=e===X&&0===t.strm.avail_in&&a===i?1:0,H(t,t.block_start,a,r),t.block_start+=a,ct(t.strm)),r?3:1)},vt=(t,e)=>{let a,i;for(;;){if(t.lookahead<262){if(pt(t),t.lookahead<262&&e===P)return 1;if(0===t.lookahead)break}if(a=0,t.lookahead>=3&&(t.ins_h=ft(t,t.ins_h,t.window[t.strstart+3-1]),a=t.prev[t.strstart&t.w_mask]=t.head[t.ins_h],t.head[t.ins_h]=t.strstart),0!==a&&t.strstart-a<=t.w_size-262&&(t.match_length=gt(t,a)),t.match_length>=3)if(i=j(t,t.strstart-t.match_start,t.match_length-3),t.lookahead-=t.match_length,t.match_length<=t.max_lazy_match&&t.lookahead>=3){t.match_length--;do{t.strstart++,t.ins_h=ft(t,t.ins_h,t.window[t.strstart+3-1]),a=t.prev[t.strstart&t.w_mask]=t.head[t.ins_h],t.head[t.ins_h]=t.strstart}while(0!=--t.match_length);t.strstart++}else t.strstart+=t.match_length,t.match_length=0,t.ins_h=t.window[t.strstart],t.ins_h=ft(t,t.ins_h,t.window[t.strstart+1]);else i=j(t,0,t.window[t.strstart]),t.lookahead--,t.strstart++;if(i&&(ut(t,!1),0===t.strm.avail_out))return 1}return t.insert=t.strstart<2?t.strstart:2,e===X?(ut(t,!0),0===t.strm.avail_out?3:4):t.sym_next&&(ut(t,!1),0===t.strm.avail_out)?1:2},yt=(t,e)=>{let a,i,n;for(;;){if(t.lookahead<262){if(pt(t),t.lookahead<262&&e===P)return 1;if(0===t.lookahead)break}if(a=0,t.lookahead>=3&&(t.ins_h=ft(t,t.ins_h,t.window[t.strstart+3-1]),a=t.prev[t.strstart&t.w_mask]=t.head[t.ins_h],t.head[t.ins_h]=t.strstart),t.prev_length=t.match_length,t.prev_match=t.match_start,t.match_length=2,0!==a&&t.prev_length<t.max_lazy_match&&t.strstart-a<=t.w_size-262&&(t.match_length=gt(t,a),t.match_length<=5&&(t.strategy===et||3===t.match_length&&t.strstart-t.match_start>4096)&&(t.match_length=2)),t.prev_length>=3&&t.match_length<=t.prev_length){n=t.strstart+t.lookahead-3,i=j(t,t.strstart-1-t.prev_match,t.prev_length-3),t.lookahead-=t.prev_length-1,t.prev_length-=2;do{++t.strstart<=n&&(t.ins_h=ft(t,t.ins_h,t.window[t.strstart+3-1]),a=t.prev[t.strstart&t.w_mask]=t.head[t.ins_h],t.head[t.ins_h]=t.strstart)}while(0!=--t.prev_length);if(t.match_available=0,t.match_length=2,t.strstart++,i&&(ut(t,!1),0===t.strm.avail_out))return 1}else if(t.match_available){if(i=j(t,0,t.window[t.strstart-1]),i&&ut(t,!1),t.strstart++,t.lookahead--,0===t.strm.avail_out)return 1}else t.match_available=1,t.strstart++,t.lookahead--}return t.match_available&&(i=j(t,0,t.window[t.strstart-1]),t.match_available=0),t.insert=t.strstart<2?t.strstart:2,e===X?(ut(t,!0),0===t.strm.avail_out?3:4):t.sym_next&&(ut(t,!1),0===t.strm.avail_out)?1:2};function xt(t,e,a,i,n){this.good_length=t,this.max_lazy=e,this.nice_length=a,this.max_chain=i,this.func=n}const zt=[new xt(0,0,0,0,kt),new xt(4,4,8,4,vt),new xt(4,5,16,8,vt),new xt(4,6,32,32,vt),new xt(4,4,16,16,yt),new xt(8,16,32,32,yt),new xt(8,16,128,128,yt),new xt(8,32,128,256,yt),new xt(32,128,258,1024,yt),new xt(32,258,258,4096,yt)];function At(){this.strm=null,this.status=0,this.pending_buf=null,this.pending_buf_size=0,this.pending_out=0,this.pending=0,this.wrap=0,this.gzhead=null,this.gzindex=0,this.method=ot,this.last_flush=-1,this.w_size=0,this.w_bits=0,this.w_mask=0,this.window=null,this.window_size=0,this.prev=null,this.head=null,this.ins_h=0,this.hash_size=0,this.hash_bits=0,this.hash_mask=0,this.hash_shift=0,this.block_start=0,this.match_length=0,this.prev_match=0,this.match_available=0,this.strstart=0,this.match_start=0,this.lookahead=0,this.prev_length=0,this.max_chain_length=0,this.max_lazy_match=0,this.level=0,this.strategy=0,this.good_match=0,this.nice_match=0,this.dyn_ltree=new Uint16Array(1146),this.dyn_dtree=new Uint16Array(122),this.bl_tree=new Uint16Array(78),dt(this.dyn_ltree),dt(this.dyn_dtree),dt(this.bl_tree),this.l_desc=null,this.d_desc=null,this.bl_desc=null,this.bl_count=new Uint16Array(16),this.heap=new Uint16Array(573),dt(this.heap),this.heap_len=0,this.heap_max=0,this.depth=new Uint16Array(573),dt(this.depth),this.sym_buf=0,this.lit_bufsize=0,this.sym_next=0,this.sym_end=0,this.opt_len=0,this.static_len=0,this.matches=0,this.insert=0,this.bi_buf=0,this.bi_valid=0}const Et=t=>{if(!t)return 1;const e=t.state;return!e||e.strm!==t||42!==e.status&&57!==e.status&&69!==e.status&&73!==e.status&&91!==e.status&&103!==e.status&&113!==e.status&&666!==e.status?1:0},Rt=t=>{if(Et(t))return lt(t,Q);t.total_in=t.total_out=0,t.data_type=rt;const e=t.state;return e.pending=0,e.pending_out=0,e.wrap<0&&(e.wrap=-e.wrap),e.status=2===e.wrap?57:e.wrap?42:113,t.adler=2===e.wrap?0:1,e.last_flush=-2,C(e),q},Zt=t=>{const e=Rt(t);var a;return e===q&&((a=t.state).window_size=2*a.w_size,dt(a.head),a.max_lazy_match=zt[a.level].max_lazy,a.good_match=zt[a.level].good_length,a.nice_match=zt[a.level].nice_length,a.max_chain_length=zt[a.level].max_chain,a.strstart=0,a.block_start=0,a.lookahead=0,a.insert=0,a.match_length=a.prev_length=2,a.match_available=0,a.ins_h=0),e},Ut=(t,e,a,i,n,s)=>{if(!t)return Q;let r=1;if(e===tt&&(e=6),i<0?(r=0,i=-i):i>15&&(r=2,i-=16),n<1||n>9||a!==ot||i<8||i>15||e<0||e>9||s<0||s>nt||8===i&&1!==r)return lt(t,Q);8===i&&(i=9);const o=new At;return t.state=o,o.strm=t,o.status=42,o.wrap=r,o.gzhead=null,o.w_bits=i,o.w_size=1<<o.w_bits,o.w_mask=o.w_size-1,o.hash_bits=n+7,o.hash_size=1<<o.hash_bits,o.hash_mask=o.hash_size-1,o.hash_shift=~~((o.hash_bits+3-1)/3),o.window=new Uint8Array(2*o.w_size),o.head=new Uint16Array(o.hash_size),o.prev=new Uint16Array(o.w_size),o.lit_bufsize=1<<n+6,o.pending_buf_size=4*o.lit_bufsize,o.pending_buf=new Uint8Array(o.pending_buf_size),o.sym_buf=o.lit_bufsize,o.sym_end=3*(o.lit_bufsize-1),o.level=e,o.strategy=s,o.method=a,Zt(t)};var St={deflateInit:(t,e)=>Ut(t,e,ot,15,8,st),deflateInit2:Ut,deflateReset:Zt,deflateResetKeep:Rt,deflateSetHeader:(t,e)=>Et(t)||2!==t.state.wrap?Q:(t.state.gzhead=e,q),deflate:(t,e)=>{if(Et(t)||e>W||e<0)return t?lt(t,Q):Q;const a=t.state;if(!t.output||0!==t.avail_in&&!t.input||666===a.status&&e!==X)return lt(t,0===t.avail_out?$:Q);const i=a.last_flush;if(a.last_flush=e,0!==a.pending){if(ct(t),0===t.avail_out)return a.last_flush=-1,q}else if(0===t.avail_in&&ht(e)<=ht(i)&&e!==X)return lt(t,$);if(666===a.status&&0!==t.avail_in)return lt(t,$);if(42===a.status&&0===a.wrap&&(a.status=113),42===a.status){let e=ot+(a.w_bits-8<<4)<<8,i=-1;if(i=a.strategy>=at||a.level<2?0:a.level<6?1:6===a.level?2:3,e|=i<<6,0!==a.strstart&&(e|=32),e+=31-e%31,mt(a,e),0!==a.strstart&&(mt(a,t.adler>>>16),mt(a,65535&t.adler)),t.adler=1,a.status=113,ct(t),0!==a.pending)return a.last_flush=-1,q}if(57===a.status)if(t.adler=0,wt(a,31),wt(a,139),wt(a,8),a.gzhead)wt(a,(a.gzhead.text?1:0)+(a.gzhead.hcrc?2:0)+(a.gzhead.extra?4:0)+(a.gzhead.name?8:0)+(a.gzhead.comment?16:0)),wt(a,255&a.gzhead.time),wt(a,a.gzhead.time>>8&255),wt(a,a.gzhead.time>>16&255),wt(a,a.gzhead.time>>24&255),wt(a,9===a.level?2:a.strategy>=at||a.level<2?4:0),wt(a,255&a.gzhead.os),a.gzhead.extra&&a.gzhead.extra.length&&(wt(a,255&a.gzhead.extra.length),wt(a,a.gzhead.extra.length>>8&255)),a.gzhead.hcrc&&(t.adler=N(t.adler,a.pending_buf,a.pending,0)),a.gzindex=0,a.status=69;else if(wt(a,0),wt(a,0),wt(a,0),wt(a,0),wt(a,0),wt(a,9===a.level?2:a.strategy>=at||a.level<2?4:0),wt(a,3),a.status=113,ct(t),0!==a.pending)return a.last_flush=-1,q;if(69===a.status){if(a.gzhead.extra){let e=a.pending,i=(65535&a.gzhead.extra.length)-a.gzindex;for(;a.pending+i>a.pending_buf_size;){let n=a.pending_buf_size-a.pending;if(a.pending_buf.set(a.gzhead.extra.subarray(a.gzindex,a.gzindex+n),a.pending),a.pending=a.pending_buf_size,a.gzhead.hcrc&&a.pending>e&&(t.adler=N(t.adler,a.pending_buf,a.pending-e,e)),a.gzindex+=n,ct(t),0!==a.pending)return a.last_flush=-1,q;e=0,i-=n}let n=new Uint8Array(a.gzhead.extra);a.pending_buf.set(n.subarray(a.gzindex,a.gzindex+i),a.pending),a.pending+=i,a.gzhead.hcrc&&a.pending>e&&(t.adler=N(t.adler,a.pending_buf,a.pending-e,e)),a.gzindex=0}a.status=73}if(73===a.status){if(a.gzhead.name){let e,i=a.pending;do{if(a.pending===a.pending_buf_size){if(a.gzhead.hcrc&&a.pending>i&&(t.adler=N(t.adler,a.pending_buf,a.pending-i,i)),ct(t),0!==a.pending)return a.last_flush=-1,q;i=0}e=a.gzindex<a.gzhead.name.length?255&a.gzhead.name.charCodeAt(a.gzindex++):0,wt(a,e)}while(0!==e);a.gzhead.hcrc&&a.pending>i&&(t.adler=N(t.adler,a.pending_buf,a.pending-i,i)),a.gzindex=0}a.status=91}if(91===a.status){if(a.gzhead.comment){let e,i=a.pending;do{if(a.pending===a.pending_buf_size){if(a.gzhead.hcrc&&a.pending>i&&(t.adler=N(t.adler,a.pending_buf,a.pending-i,i)),ct(t),0!==a.pending)return a.last_flush=-1,q;i=0}e=a.gzindex<a.gzhead.comment.length?255&a.gzhead.comment.charCodeAt(a.gzindex++):0,wt(a,e)}while(0!==e);a.gzhead.hcrc&&a.pending>i&&(t.adler=N(t.adler,a.pending_buf,a.pending-i,i))}a.status=103}if(103===a.status){if(a.gzhead.hcrc){if(a.pending+2>a.pending_buf_size&&(ct(t),0!==a.pending))return a.last_flush=-1,q;wt(a,255&t.adler),wt(a,t.adler>>8&255),t.adler=0}if(a.status=113,ct(t),0!==a.pending)return a.last_flush=-1,q}if(0!==t.avail_in||0!==a.lookahead||e!==P&&666!==a.status){let i=0===a.level?kt(a,e):a.strategy===at?((t,e)=>{let a;for(;;){if(0===t.lookahead&&(pt(t),0===t.lookahead)){if(e===P)return 1;break}if(t.match_length=0,a=j(t,0,t.window[t.strstart]),t.lookahead--,t.strstart++,a&&(ut(t,!1),0===t.strm.avail_out))return 1}return t.insert=0,e===X?(ut(t,!0),0===t.strm.avail_out?3:4):t.sym_next&&(ut(t,!1),0===t.strm.avail_out)?1:2})(a,e):a.strategy===it?((t,e)=>{let a,i,n,s;const r=t.window;for(;;){if(t.lookahead<=258){if(pt(t),t.lookahead<=258&&e===P)return 1;if(0===t.lookahead)break}if(t.match_length=0,t.lookahead>=3&&t.strstart>0&&(n=t.strstart-1,i=r[n],i===r[++n]&&i===r[++n]&&i===r[++n])){s=t.strstart+258;do{}while(i===r[++n]&&i===r[++n]&&i===r[++n]&&i===r[++n]&&i===r[++n]&&i===r[++n]&&i===r[++n]&&i===r[++n]&&n<s);t.match_length=258-(s-n),t.match_length>t.lookahead&&(t.match_length=t.lookahead)}if(t.match_length>=3?(a=j(t,1,t.match_length-3),t.lookahead-=t.match_length,t.strstart+=t.match_length,t.match_length=0):(a=j(t,0,t.window[t.strstart]),t.lookahead--,t.strstart++),a&&(ut(t,!1),0===t.strm.avail_out))return 1}return t.insert=0,e===X?(ut(t,!0),0===t.strm.avail_out?3:4):t.sym_next&&(ut(t,!1),0===t.strm.avail_out)?1:2})(a,e):zt[a.level].func(a,e);if(3!==i&&4!==i||(a.status=666),1===i||3===i)return 0===t.avail_out&&(a.last_flush=-1),q;if(2===i&&(e===Y?K(a):e!==W&&(H(a,0,0,!1),e===G&&(dt(a.head),0===a.lookahead&&(a.strstart=0,a.block_start=0,a.insert=0))),ct(t),0===t.avail_out))return a.last_flush=-1,q}return e!==X?q:a.wrap<=0?J:(2===a.wrap?(wt(a,255&t.adler),wt(a,t.adler>>8&255),wt(a,t.adler>>16&255),wt(a,t.adler>>24&255),wt(a,255&t.total_in),wt(a,t.total_in>>8&255),wt(a,t.total_in>>16&255),wt(a,t.total_in>>24&255)):(mt(a,t.adler>>>16),mt(a,65535&t.adler)),ct(t),a.wrap>0&&(a.wrap=-a.wrap),0!==a.pending?q:J)},deflateEnd:t=>{if(Et(t))return Q;const e=t.state.status;return t.state=null,113===e?lt(t,V):q},deflateSetDictionary:(t,e)=>{let a=e.length;if(Et(t))return Q;const i=t.state,n=i.wrap;if(2===n||1===n&&42!==i.status||i.lookahead)return Q;if(1===n&&(t.adler=F(t.adler,e,a,0)),i.wrap=0,a>=i.w_size){0===n&&(dt(i.head),i.strstart=0,i.block_start=0,i.insert=0);let t=new Uint8Array(i.w_size);t.set(e.subarray(a-i.w_size,a),0),e=t,a=i.w_size}const s=t.avail_in,r=t.next_in,o=t.input;for(t.avail_in=a,t.next_in=0,t.input=e,pt(i);i.lookahead>=3;){let t=i.strstart,e=i.lookahead-2;do{i.ins_h=ft(i,i.ins_h,i.window[t+3-1]),i.prev[t&i.w_mask]=i.head[i.ins_h],i.head[i.ins_h]=t,t++}while(--e);i.strstart=t,i.lookahead=2,pt(i)}return i.strstart+=i.lookahead,i.block_start=i.strstart,i.insert=i.lookahead,i.lookahead=0,i.match_length=i.prev_length=2,i.match_available=0,t.next_in=r,t.input=o,t.avail_in=s,i.wrap=n,q},deflateInfo:"pako deflate (from Nodeca project)"};const Dt=(t,e)=>Object.prototype.hasOwnProperty.call(t,e);var Tt=function(t){const e=Array.prototype.slice.call(arguments,1);for(;e.length;){const a=e.shift();if(a){if("object"!=typeof a)throw new TypeError(a+"must be non-object");for(const e in a)Dt(a,e)&&(t[e]=a[e])}}return t},Ot=t=>{let e=0;for(let a=0,i=t.length;a<i;a++)e+=t[a].length;const a=new Uint8Array(e);for(let e=0,i=0,n=t.length;e<n;e++){let n=t[e];a.set(n,i),i+=n.length}return a};let Ft=!0;try{String.fromCharCode.apply(null,new Uint8Array(1))}catch(t){Ft=!1}const Lt=new Uint8Array(256);for(let t=0;t<256;t++)Lt[t]=t>=252?6:t>=248?5:t>=240?4:t>=224?3:t>=192?2:1;Lt[254]=Lt[254]=1;var Nt=t=>{if("function"==typeof TextEncoder&&TextEncoder.prototype.encode)return(new TextEncoder).encode(t);let e,a,i,n,s,r=t.length,o=0;for(n=0;n<r;n++)a=t.charCodeAt(n),55296==(64512&a)&&n+1<r&&(i=t.charCodeAt(n+1),56320==(64512&i)&&(a=65536+(a-55296<<10)+(i-56320),n++)),o+=a<128?1:a<2048?2:a<65536?3:4;for(e=new Uint8Array(o),s=0,n=0;s<o;n++)a=t.charCodeAt(n),55296==(64512&a)&&n+1<r&&(i=t.charCodeAt(n+1),56320==(64512&i)&&(a=65536+(a-55296<<10)+(i-56320),n++)),a<128?e[s++]=a:a<2048?(e[s++]=192|a>>>6,e[s++]=128|63&a):a<65536?(e[s++]=224|a>>>12,e[s++]=128|a>>>6&63,e[s++]=128|63&a):(e[s++]=240|a>>>18,e[s++]=128|a>>>12&63,e[s++]=128|a>>>6&63,e[s++]=128|63&a);return e},It=(t,e)=>{const a=e||t.length;if("function"==typeof TextDecoder&&TextDecoder.prototype.decode)return(new TextDecoder).decode(t.subarray(0,e));let i,n;const s=new Array(2*a);for(n=0,i=0;i<a;){let e=t[i++];if(e<128){s[n++]=e;continue}let r=Lt[e];if(r>4)s[n++]=65533,i+=r-1;else{for(e&=2===r?31:3===r?15:7;r>1&&i<a;)e=e<<6|63&t[i++],r--;r>1?s[n++]=65533:e<65536?s[n++]=e:(e-=65536,s[n++]=55296|e>>10&1023,s[n++]=56320|1023&e)}}return((t,e)=>{if(e<65534&&t.subarray&&Ft)return String.fromCharCode.apply(null,t.length===e?t:t.subarray(0,e));let a="";for(let i=0;i<e;i++)a+=String.fromCharCode(t[i]);return a})(s,n)},Bt=(t,e)=>{(e=e||t.length)>t.length&&(e=t.length);let a=e-1;for(;a>=0&&128==(192&t[a]);)a--;return a<0||0===a?e:a+Lt[t[a]]>e?a:e};var Ct=function(){this.input=null,this.next_in=0,this.avail_in=0,this.total_in=0,this.output=null,this.next_out=0,this.avail_out=0,this.total_out=0,this.msg="",this.state=null,this.data_type=2,this.adler=0};const Ht=Object.prototype.toString,{Z_NO_FLUSH:Mt,Z_SYNC_FLUSH:jt,Z_FULL_FLUSH:Kt,Z_FINISH:Pt,Z_OK:Yt,Z_STREAM_END:Gt,Z_DEFAULT_COMPRESSION:Xt,Z_DEFAULT_STRATEGY:Wt,Z_DEFLATED:qt}=B;function Jt(t){this.options=Tt({level:Xt,method:qt,chunkSize:16384,windowBits:15,memLevel:8,strategy:Wt},t||{});let e=this.options;e.raw&&e.windowBits>0?e.windowBits=-e.windowBits:e.gzip&&e.windowBits>0&&e.windowBits<16&&(e.windowBits+=16),this.err=0,this.msg="",this.ended=!1,this.chunks=[],this.strm=new Ct,this.strm.avail_out=0;let a=St.deflateInit2(this.strm,e.level,e.method,e.windowBits,e.memLevel,e.strategy);if(a!==Yt)throw new Error(I[a]);if(e.header&&St.deflateSetHeader(this.strm,e.header),e.dictionary){let t;if(t="string"==typeof e.dictionary?Nt(e.dictionary):"[object ArrayBuffer]"===Ht.call(e.dictionary)?new Uint8Array(e.dictionary):e.dictionary,a=St.deflateSetDictionary(this.strm,t),a!==Yt)throw new Error(I[a]);this._dict_set=!0}}function Qt(t,e){const a=new Jt(e);if(a.push(t,!0),a.err)throw a.msg||I[a.err];return a.result}Jt.prototype.push=function(t,e){const a=this.strm,i=this.options.chunkSize;let n,s;if(this.ended)return!1;for(s=e===~~e?e:!0===e?Pt:Mt,"string"==typeof t?a.input=Nt(t):"[object ArrayBuffer]"===Ht.call(t)?a.input=new Uint8Array(t):a.input=t,a.next_in=0,a.avail_in=a.input.length;;)if(0===a.avail_out&&(a.output=new Uint8Array(i),a.next_out=0,a.avail_out=i),(s===jt||s===Kt)&&a.avail_out<=6)this.onData(a.output.subarray(0,a.next_out)),a.avail_out=0;else{if(n=St.deflate(a,s),n===Gt)return a.next_out>0&&this.onData(a.output.subarray(0,a.next_out)),n=St.deflateEnd(this.strm),this.onEnd(n),this.ended=!0,n===Yt;if(0!==a.avail_out){if(s>0&&a.next_out>0)this.onData(a.output.subarray(0,a.next_out)),a.avail_out=0;else if(0===a.avail_in)break}else this.onData(a.output)}return!0},Jt.prototype.onData=function(t){this.chunks.push(t)},Jt.prototype.onEnd=function(t){t===Yt&&(this.result=Ot(this.chunks)),this.chunks=[],this.err=t,this.msg=this.strm.msg};var Vt={Deflate:Jt,deflate:Qt,deflateRaw:function(t,e){return(e=e||{}).raw=!0,Qt(t,e)},gzip:function(t,e){return(e=e||{}).gzip=!0,Qt(t,e)},constants:B};var $t=function(t,e){let a,i,n,s,r,o,l,h,d,_,f,c,u,w,m,b,g,p,k,v,y,x,z,A;const E=t.state;a=t.next_in,z=t.input,i=a+(t.avail_in-5),n=t.next_out,A=t.output,s=n-(e-t.avail_out),r=n+(t.avail_out-257),o=E.dmax,l=E.wsize,h=E.whave,d=E.wnext,_=E.window,f=E.hold,c=E.bits,u=E.lencode,w=E.distcode,m=(1<<E.lenbits)-1,b=(1<<E.distbits)-1;t:do{c<15&&(f+=z[a++]<<c,c+=8,f+=z[a++]<<c,c+=8),g=u[f&m];e:for(;;){if(p=g>>>24,f>>>=p,c-=p,p=g>>>16&255,0===p)A[n++]=65535&g;else{if(!(16&p)){if(0==(64&p)){g=u[(65535&g)+(f&(1<<p)-1)];continue e}if(32&p){E.mode=16191;break t}t.msg="invalid literal/length code",E.mode=16209;break t}k=65535&g,p&=15,p&&(c<p&&(f+=z[a++]<<c,c+=8),k+=f&(1<<p)-1,f>>>=p,c-=p),c<15&&(f+=z[a++]<<c,c+=8,f+=z[a++]<<c,c+=8),g=w[f&b];a:for(;;){if(p=g>>>24,f>>>=p,c-=p,p=g>>>16&255,!(16&p)){if(0==(64&p)){g=w[(65535&g)+(f&(1<<p)-1)];continue a}t.msg="invalid distance code",E.mode=16209;break t}if(v=65535&g,p&=15,c<p&&(f+=z[a++]<<c,c+=8,c<p&&(f+=z[a++]<<c,c+=8)),v+=f&(1<<p)-1,v>o){t.msg="invalid distance too far back",E.mode=16209;break t}if(f>>>=p,c-=p,p=n-s,v>p){if(p=v-p,p>h&&E.sane){t.msg="invalid distance too far back",E.mode=16209;break t}if(y=0,x=_,0===d){if(y+=l-p,p<k){k-=p;do{A[n++]=_[y++]}while(--p);y=n-v,x=A}}else if(d<p){if(y+=l+d-p,p-=d,p<k){k-=p;do{A[n++]=_[y++]}while(--p);if(y=0,d<k){p=d,k-=p;do{A[n++]=_[y++]}while(--p);y=n-v,x=A}}}else if(y+=d-p,p<k){k-=p;do{A[n++]=_[y++]}while(--p);y=n-v,x=A}for(;k>2;)A[n++]=x[y++],A[n++]=x[y++],A[n++]=x[y++],k-=3;k&&(A[n++]=x[y++],k>1&&(A[n++]=x[y++]))}else{y=n-v;do{A[n++]=A[y++],A[n++]=A[y++],A[n++]=A[y++],k-=3}while(k>2);k&&(A[n++]=A[y++],k>1&&(A[n++]=A[y++]))}break}}break}}while(a<i&&n<r);k=c>>3,a-=k,c-=k<<3,f&=(1<<c)-1,t.next_in=a,t.next_out=n,t.avail_in=a<i?i-a+5:5-(a-i),t.avail_out=n<r?r-n+257:257-(n-r),E.hold=f,E.bits=c};const te=new Uint16Array([3,4,5,6,7,8,9,10,11,13,15,17,19,23,27,31,35,43,51,59,67,83,99,115,131,163,195,227,258,0,0]),ee=new Uint8Array([16,16,16,16,16,16,16,16,17,17,17,17,18,18,18,18,19,19,19,19,20,20,20,20,21,21,21,21,16,72,78]),ae=new Uint16Array([1,2,3,4,5,7,9,13,17,25,33,49,65,97,129,193,257,385,513,769,1025,1537,2049,3073,4097,6145,8193,12289,16385,24577,0,0]),ie=new Uint8Array([16,16,16,16,17,17,18,18,19,19,20,20,21,21,22,22,23,23,24,24,25,25,26,26,27,27,28,28,29,29,64,64]);var ne=(t,e,a,i,n,s,r,o)=>{const l=o.bits;let h,d,_,f,c,u,w=0,m=0,b=0,g=0,p=0,k=0,v=0,y=0,x=0,z=0,A=null;const E=new Uint16Array(16),R=new Uint16Array(16);let Z,U,S,D=null;for(w=0;w<=15;w++)E[w]=0;for(m=0;m<i;m++)E[e[a+m]]++;for(p=l,g=15;g>=1&&0===E[g];g--);if(p>g&&(p=g),0===g)return n[s++]=20971520,n[s++]=20971520,o.bits=1,0;for(b=1;b<g&&0===E[b];b++);for(p<b&&(p=b),y=1,w=1;w<=15;w++)if(y<<=1,y-=E[w],y<0)return-1;if(y>0&&(0===t||1!==g))return-1;for(R[1]=0,w=1;w<15;w++)R[w+1]=R[w]+E[w];for(m=0;m<i;m++)0!==e[a+m]&&(r[R[e[a+m]]++]=m);if(0===t?(A=D=r,u=20):1===t?(A=te,D=ee,u=257):(A=ae,D=ie,u=0),z=0,m=0,w=b,c=s,k=p,v=0,_=-1,x=1<<p,f=x-1,1===t&&x>852||2===t&&x>592)return 1;for(;;){Z=w-v,r[m]+1<u?(U=0,S=r[m]):r[m]>=u?(U=D[r[m]-u],S=A[r[m]-u]):(U=96,S=0),h=1<<w-v,d=1<<k,b=d;do{d-=h,n[c+(z>>v)+d]=Z<<24|U<<16|S|0}while(0!==d);for(h=1<<w-1;z&h;)h>>=1;if(0!==h?(z&=h-1,z+=h):z=0,m++,0==--E[w]){if(w===g)break;w=e[a+r[m]]}if(w>p&&(z&f)!==_){for(0===v&&(v=p),c+=b,k=w-v,y=1<<k;k+v<g&&(y-=E[k+v],!(y<=0));)k++,y<<=1;if(x+=1<<k,1===t&&x>852||2===t&&x>592)return 1;_=z&f,n[_]=p<<24|k<<16|c-s|0}}return 0!==z&&(n[c+z]=w-v<<24|64<<16|0),o.bits=p,0};const{Z_FINISH:se,Z_BLOCK:re,Z_TREES:oe,Z_OK:le,Z_STREAM_END:he,Z_NEED_DICT:de,Z_STREAM_ERROR:_e,Z_DATA_ERROR:fe,Z_MEM_ERROR:ce,Z_BUF_ERROR:ue,Z_DEFLATED:we}=B,me=16209,be=t=>(t>>>24&255)+(t>>>8&65280)+((65280&t)<<8)+((255&t)<<24);function ge(){this.strm=null,this.mode=0,this.last=!1,this.wrap=0,this.havedict=!1,this.flags=0,this.dmax=0,this.check=0,this.total=0,this.head=null,this.wbits=0,this.wsize=0,this.whave=0,this.wnext=0,this.window=null,this.hold=0,this.bits=0,this.length=0,this.offset=0,this.extra=0,this.lencode=null,this.distcode=null,this.lenbits=0,this.distbits=0,this.ncode=0,this.nlen=0,this.ndist=0,this.have=0,this.next=null,this.lens=new Uint16Array(320),this.work=new Uint16Array(288),this.lendyn=null,this.distdyn=null,this.sane=0,this.back=0,this.was=0}const pe=t=>{if(!t)return 1;const e=t.state;return!e||e.strm!==t||e.mode<16180||e.mode>16211?1:0},ke=t=>{if(pe(t))return _e;const e=t.state;return t.total_in=t.total_out=e.total=0,t.msg="",e.wrap&&(t.adler=1&e.wrap),e.mode=16180,e.last=0,e.havedict=0,e.flags=-1,e.dmax=32768,e.head=null,e.hold=0,e.bits=0,e.lencode=e.lendyn=new Int32Array(852),e.distcode=e.distdyn=new Int32Array(592),e.sane=1,e.back=-1,le},ve=t=>{if(pe(t))return _e;const e=t.state;return e.wsize=0,e.whave=0,e.wnext=0,ke(t)},ye=(t,e)=>{let a;if(pe(t))return _e;const i=t.state;return e<0?(a=0,e=-e):(a=5+(e>>4),e<48&&(e&=15)),e&&(e<8||e>15)?_e:(null!==i.window&&i.wbits!==e&&(i.window=null),i.wrap=a,i.wbits=e,ve(t))},xe=(t,e)=>{if(!t)return _e;const a=new ge;t.state=a,a.strm=t,a.window=null,a.mode=16180;const i=ye(t,e);return i!==le&&(t.state=null),i};let ze,Ae,Ee=!0;const Re=t=>{if(Ee){ze=new Int32Array(512),Ae=new Int32Array(32);let e=0;for(;e<144;)t.lens[e++]=8;for(;e<256;)t.lens[e++]=9;for(;e<280;)t.lens[e++]=7;for(;e<288;)t.lens[e++]=8;for(ne(1,t.lens,0,288,ze,0,t.work,{bits:9}),e=0;e<32;)t.lens[e++]=5;ne(2,t.lens,0,32,Ae,0,t.work,{bits:5}),Ee=!1}t.lencode=ze,t.lenbits=9,t.distcode=Ae,t.distbits=5},Ze=(t,e,a,i)=>{let n;const s=t.state;return null===s.window&&(s.wsize=1<<s.wbits,s.wnext=0,s.whave=0,s.window=new Uint8Array(s.wsize)),i>=s.wsize?(s.window.set(e.subarray(a-s.wsize,a),0),s.wnext=0,s.whave=s.wsize):(n=s.wsize-s.wnext,n>i&&(n=i),s.window.set(e.subarray(a-i,a-i+n),s.wnext),(i-=n)?(s.window.set(e.subarray(a-i,a),0),s.wnext=i,s.whave=s.wsize):(s.wnext+=n,s.wnext===s.wsize&&(s.wnext=0),s.whave<s.wsize&&(s.whave+=n))),0};var Ue={inflateReset:ve,inflateReset2:ye,inflateResetKeep:ke,inflateInit:t=>xe(t,15),inflateInit2:xe,inflate:(t,e)=>{let a,i,n,s,r,o,l,h,d,_,f,c,u,w,m,b,g,p,k,v,y,x,z=0;const A=new Uint8Array(4);let E,R;const Z=new Uint8Array([16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15]);if(pe(t)||!t.output||!t.input&&0!==t.avail_in)return _e;a=t.state,16191===a.mode&&(a.mode=16192),r=t.next_out,n=t.output,l=t.avail_out,s=t.next_in,i=t.input,o=t.avail_in,h=a.hold,d=a.bits,_=o,f=l,x=le;t:for(;;)switch(a.mode){case 16180:if(0===a.wrap){a.mode=16192;break}for(;d<16;){if(0===o)break t;o--,h+=i[s++]<<d,d+=8}if(2&a.wrap&&35615===h){0===a.wbits&&(a.wbits=15),a.check=0,A[0]=255&h,A[1]=h>>>8&255,a.check=N(a.check,A,2,0),h=0,d=0,a.mode=16181;break}if(a.head&&(a.head.done=!1),!(1&a.wrap)||(((255&h)<<8)+(h>>8))%31){t.msg="incorrect header check",a.mode=me;break}if((15&h)!==we){t.msg="unknown compression method",a.mode=me;break}if(h>>>=4,d-=4,y=8+(15&h),0===a.wbits&&(a.wbits=y),y>15||y>a.wbits){t.msg="invalid window size",a.mode=me;break}a.dmax=1<<a.wbits,a.flags=0,t.adler=a.check=1,a.mode=512&h?16189:16191,h=0,d=0;break;case 16181:for(;d<16;){if(0===o)break t;o--,h+=i[s++]<<d,d+=8}if(a.flags=h,(255&a.flags)!==we){t.msg="unknown compression method",a.mode=me;break}if(57344&a.flags){t.msg="unknown header flags set",a.mode=me;break}a.head&&(a.head.text=h>>8&1),512&a.flags&&4&a.wrap&&(A[0]=255&h,A[1]=h>>>8&255,a.check=N(a.check,A,2,0)),h=0,d=0,a.mode=16182;case 16182:for(;d<32;){if(0===o)break t;o--,h+=i[s++]<<d,d+=8}a.head&&(a.head.time=h),512&a.flags&&4&a.wrap&&(A[0]=255&h,A[1]=h>>>8&255,A[2]=h>>>16&255,A[3]=h>>>24&255,a.check=N(a.check,A,4,0)),h=0,d=0,a.mode=16183;case 16183:for(;d<16;){if(0===o)break t;o--,h+=i[s++]<<d,d+=8}a.head&&(a.head.xflags=255&h,a.head.os=h>>8),512&a.flags&&4&a.wrap&&(A[0]=255&h,A[1]=h>>>8&255,a.check=N(a.check,A,2,0)),h=0,d=0,a.mode=16184;case 16184:if(1024&a.flags){for(;d<16;){if(0===o)break t;o--,h+=i[s++]<<d,d+=8}a.length=h,a.head&&(a.head.extra_len=h),512&a.flags&&4&a.wrap&&(A[0]=255&h,A[1]=h>>>8&255,a.check=N(a.check,A,2,0)),h=0,d=0}else a.head&&(a.head.extra=null);a.mode=16185;case 16185:if(1024&a.flags&&(c=a.length,c>o&&(c=o),c&&(a.head&&(y=a.head.extra_len-a.length,a.head.extra||(a.head.extra=new Uint8Array(a.head.extra_len)),a.head.extra.set(i.subarray(s,s+c),y)),512&a.flags&&4&a.wrap&&(a.check=N(a.check,i,c,s)),o-=c,s+=c,a.length-=c),a.length))break t;a.length=0,a.mode=16186;case 16186:if(2048&a.flags){if(0===o)break t;c=0;do{y=i[s+c++],a.head&&y&&a.length<65536&&(a.head.name+=String.fromCharCode(y))}while(y&&c<o);if(512&a.flags&&4&a.wrap&&(a.check=N(a.check,i,c,s)),o-=c,s+=c,y)break t}else a.head&&(a.head.name=null);a.length=0,a.mode=16187;case 16187:if(4096&a.flags){if(0===o)break t;c=0;do{y=i[s+c++],a.head&&y&&a.length<65536&&(a.head.comment+=String.fromCharCode(y))}while(y&&c<o);if(512&a.flags&&4&a.wrap&&(a.check=N(a.check,i,c,s)),o-=c,s+=c,y)break t}else a.head&&(a.head.comment=null);a.mode=16188;case 16188:if(512&a.flags){for(;d<16;){if(0===o)break t;o--,h+=i[s++]<<d,d+=8}if(4&a.wrap&&h!==(65535&a.check)){t.msg="header crc mismatch",a.mode=me;break}h=0,d=0}a.head&&(a.head.hcrc=a.flags>>9&1,a.head.done=!0),t.adler=a.check=0,a.mode=16191;break;case 16189:for(;d<32;){if(0===o)break t;o--,h+=i[s++]<<d,d+=8}t.adler=a.check=be(h),h=0,d=0,a.mode=16190;case 16190:if(0===a.havedict)return t.next_out=r,t.avail_out=l,t.next_in=s,t.avail_in=o,a.hold=h,a.bits=d,de;t.adler=a.check=1,a.mode=16191;case 16191:if(e===re||e===oe)break t;case 16192:if(a.last){h>>>=7&d,d-=7&d,a.mode=16206;break}for(;d<3;){if(0===o)break t;o--,h+=i[s++]<<d,d+=8}switch(a.last=1&h,h>>>=1,d-=1,3&h){case 0:a.mode=16193;break;case 1:if(Re(a),a.mode=16199,e===oe){h>>>=2,d-=2;break t}break;case 2:a.mode=16196;break;case 3:t.msg="invalid block type",a.mode=me}h>>>=2,d-=2;break;case 16193:for(h>>>=7&d,d-=7&d;d<32;){if(0===o)break t;o--,h+=i[s++]<<d,d+=8}if((65535&h)!=(h>>>16^65535)){t.msg="invalid stored block lengths",a.mode=me;break}if(a.length=65535&h,h=0,d=0,a.mode=16194,e===oe)break t;case 16194:a.mode=16195;case 16195:if(c=a.length,c){if(c>o&&(c=o),c>l&&(c=l),0===c)break t;n.set(i.subarray(s,s+c),r),o-=c,s+=c,l-=c,r+=c,a.length-=c;break}a.mode=16191;break;case 16196:for(;d<14;){if(0===o)break t;o--,h+=i[s++]<<d,d+=8}if(a.nlen=257+(31&h),h>>>=5,d-=5,a.ndist=1+(31&h),h>>>=5,d-=5,a.ncode=4+(15&h),h>>>=4,d-=4,a.nlen>286||a.ndist>30){t.msg="too many length or distance symbols",a.mode=me;break}a.have=0,a.mode=16197;case 16197:for(;a.have<a.ncode;){for(;d<3;){if(0===o)break t;o--,h+=i[s++]<<d,d+=8}a.lens[Z[a.have++]]=7&h,h>>>=3,d-=3}for(;a.have<19;)a.lens[Z[a.have++]]=0;if(a.lencode=a.lendyn,a.lenbits=7,E={bits:a.lenbits},x=ne(0,a.lens,0,19,a.lencode,0,a.work,E),a.lenbits=E.bits,x){t.msg="invalid code lengths set",a.mode=me;break}a.have=0,a.mode=16198;case 16198:for(;a.have<a.nlen+a.ndist;){for(;z=a.lencode[h&(1<<a.lenbits)-1],m=z>>>24,b=z>>>16&255,g=65535&z,!(m<=d);){if(0===o)break t;o--,h+=i[s++]<<d,d+=8}if(g<16)h>>>=m,d-=m,a.lens[a.have++]=g;else{if(16===g){for(R=m+2;d<R;){if(0===o)break t;o--,h+=i[s++]<<d,d+=8}if(h>>>=m,d-=m,0===a.have){t.msg="invalid bit length repeat",a.mode=me;break}y=a.lens[a.have-1],c=3+(3&h),h>>>=2,d-=2}else if(17===g){for(R=m+3;d<R;){if(0===o)break t;o--,h+=i[s++]<<d,d+=8}h>>>=m,d-=m,y=0,c=3+(7&h),h>>>=3,d-=3}else{for(R=m+7;d<R;){if(0===o)break t;o--,h+=i[s++]<<d,d+=8}h>>>=m,d-=m,y=0,c=11+(127&h),h>>>=7,d-=7}if(a.have+c>a.nlen+a.ndist){t.msg="invalid bit length repeat",a.mode=me;break}for(;c--;)a.lens[a.have++]=y}}if(a.mode===me)break;if(0===a.lens[256]){t.msg="invalid code -- missing end-of-block",a.mode=me;break}if(a.lenbits=9,E={bits:a.lenbits},x=ne(1,a.lens,0,a.nlen,a.lencode,0,a.work,E),a.lenbits=E.bits,x){t.msg="invalid literal/lengths set",a.mode=me;break}if(a.distbits=6,a.distcode=a.distdyn,E={bits:a.distbits},x=ne(2,a.lens,a.nlen,a.ndist,a.distcode,0,a.work,E),a.distbits=E.bits,x){t.msg="invalid distances set",a.mode=me;break}if(a.mode=16199,e===oe)break t;case 16199:a.mode=16200;case 16200:if(o>=6&&l>=258){t.next_out=r,t.avail_out=l,t.next_in=s,t.avail_in=o,a.hold=h,a.bits=d,$t(t,f),r=t.next_out,n=t.output,l=t.avail_out,s=t.next_in,i=t.input,o=t.avail_in,h=a.hold,d=a.bits,16191===a.mode&&(a.back=-1);break}for(a.back=0;z=a.lencode[h&(1<<a.lenbits)-1],m=z>>>24,b=z>>>16&255,g=65535&z,!(m<=d);){if(0===o)break t;o--,h+=i[s++]<<d,d+=8}if(b&&0==(240&b)){for(p=m,k=b,v=g;z=a.lencode[v+((h&(1<<p+k)-1)>>p)],m=z>>>24,b=z>>>16&255,g=65535&z,!(p+m<=d);){if(0===o)break t;o--,h+=i[s++]<<d,d+=8}h>>>=p,d-=p,a.back+=p}if(h>>>=m,d-=m,a.back+=m,a.length=g,0===b){a.mode=16205;break}if(32&b){a.back=-1,a.mode=16191;break}if(64&b){t.msg="invalid literal/length code",a.mode=me;break}a.extra=15&b,a.mode=16201;case 16201:if(a.extra){for(R=a.extra;d<R;){if(0===o)break t;o--,h+=i[s++]<<d,d+=8}a.length+=h&(1<<a.extra)-1,h>>>=a.extra,d-=a.extra,a.back+=a.extra}a.was=a.length,a.mode=16202;case 16202:for(;z=a.distcode[h&(1<<a.distbits)-1],m=z>>>24,b=z>>>16&255,g=65535&z,!(m<=d);){if(0===o)break t;o--,h+=i[s++]<<d,d+=8}if(0==(240&b)){for(p=m,k=b,v=g;z=a.distcode[v+((h&(1<<p+k)-1)>>p)],m=z>>>24,b=z>>>16&255,g=65535&z,!(p+m<=d);){if(0===o)break t;o--,h+=i[s++]<<d,d+=8}h>>>=p,d-=p,a.back+=p}if(h>>>=m,d-=m,a.back+=m,64&b){t.msg="invalid distance code",a.mode=me;break}a.offset=g,a.extra=15&b,a.mode=16203;case 16203:if(a.extra){for(R=a.extra;d<R;){if(0===o)break t;o--,h+=i[s++]<<d,d+=8}a.offset+=h&(1<<a.extra)-1,h>>>=a.extra,d-=a.extra,a.back+=a.extra}if(a.offset>a.dmax){t.msg="invalid distance too far back",a.mode=me;break}a.mode=16204;case 16204:if(0===l)break t;if(c=f-l,a.offset>c){if(c=a.offset-c,c>a.whave&&a.sane){t.msg="invalid distance too far back",a.mode=me;break}c>a.wnext?(c-=a.wnext,u=a.wsize-c):u=a.wnext-c,c>a.length&&(c=a.length),w=a.window}else w=n,u=r-a.offset,c=a.length;c>l&&(c=l),l-=c,a.length-=c;do{n[r++]=w[u++]}while(--c);0===a.length&&(a.mode=16200);break;case 16205:if(0===l)break t;n[r++]=a.length,l--,a.mode=16200;break;case 16206:if(a.wrap){for(;d<32;){if(0===o)break t;o--,h|=i[s++]<<d,d+=8}if(f-=l,t.total_out+=f,a.total+=f,4&a.wrap&&f&&(t.adler=a.check=a.flags?N(a.check,n,f,r-f):F(a.check,n,f,r-f)),f=l,4&a.wrap&&(a.flags?h:be(h))!==a.check){t.msg="incorrect data check",a.mode=me;break}h=0,d=0}a.mode=16207;case 16207:if(a.wrap&&a.flags){for(;d<32;){if(0===o)break t;o--,h+=i[s++]<<d,d+=8}if(4&a.wrap&&h!==(4294967295&a.total)){t.msg="incorrect length check",a.mode=me;break}h=0,d=0}a.mode=16208;case 16208:x=he;break t;case me:x=fe;break t;case 16210:return ce;default:return _e}return t.next_out=r,t.avail_out=l,t.next_in=s,t.avail_in=o,a.hold=h,a.bits=d,(a.wsize||f!==t.avail_out&&a.mode<me&&(a.mode<16206||e!==se))&&Ze(t,t.output,t.next_out,f-t.avail_out),_-=t.avail_in,f-=t.avail_out,t.total_in+=_,t.total_out+=f,a.total+=f,4&a.wrap&&f&&(t.adler=a.check=a.flags?N(a.check,n,f,t.next_out-f):F(a.check,n,f,t.next_out-f)),t.data_type=a.bits+(a.last?64:0)+(16191===a.mode?128:0)+(16199===a.mode||16194===a.mode?256:0),(0===_&&0===f||e===se)&&x===le&&(x=ue),x},inflateEnd:t=>{if(pe(t))return _e;let e=t.state;return e.window&&(e.window=null),t.state=null,le},inflateGetHeader:(t,e)=>{if(pe(t))return _e;const a=t.state;return 0==(2&a.wrap)?_e:(a.head=e,e.done=!1,le)},inflateSetDictionary:(t,e)=>{const a=e.length;let i,n,s;return pe(t)?_e:(i=t.state,0!==i.wrap&&16190!==i.mode?_e:16190===i.mode&&(n=1,n=F(n,e,a,0),n!==i.check)?fe:(s=Ze(t,e,a,a),s?(i.mode=16210,ce):(i.havedict=1,le)))},inflateInfo:"pako inflate (from Nodeca project)"};var Se=function(){this.text=0,this.time=0,this.xflags=0,this.os=0,this.extra=null,this.extra_len=0,this.name="",this.comment="",this.hcrc=0,this.done=!1};const De=Object.prototype.toString,{Z_NO_FLUSH:Te,Z_FINISH:Oe,Z_OK:Fe,Z_STREAM_END:Le,Z_NEED_DICT:Ne,Z_STREAM_ERROR:Ie,Z_DATA_ERROR:Be,Z_MEM_ERROR:Ce}=B;function He(t){this.options=Tt({chunkSize:65536,windowBits:15,to:""},t||{});const e=this.options;e.raw&&e.windowBits>=0&&e.windowBits<16&&(e.windowBits=-e.windowBits,0===e.windowBits&&(e.windowBits=-15)),!(e.windowBits>=0&&e.windowBits<16)||t&&t.windowBits||(e.windowBits+=32),e.windowBits>15&&e.windowBits<48&&0==(15&e.windowBits)&&(e.windowBits|=15),this.err=0,this.msg="",this.ended=!1,this.chunks=[],this.strm=new Ct,this.strm.avail_out=0;let a=Ue.inflateInit2(this.strm,e.windowBits);if(a!==Fe)throw new Error(I[a]);if(this.header=new Se,Ue.inflateGetHeader(this.strm,this.header),e.dictionary&&("string"==typeof e.dictionary?e.dictionary=Nt(e.dictionary):"[object ArrayBuffer]"===De.call(e.dictionary)&&(e.dictionary=new Uint8Array(e.dictionary)),e.raw&&(a=Ue.inflateSetDictionary(this.strm,e.dictionary),a!==Fe)))throw new Error(I[a])}He.prototype.push=function(t,e){const a=this.strm,i=this.options.chunkSize,n=this.options.dictionary;let s,r,o;if(this.ended)return!1;for(r=e===~~e?e:!0===e?Oe:Te,"[object ArrayBuffer]"===De.call(t)?a.input=new Uint8Array(t):a.input=t,a.next_in=0,a.avail_in=a.input.length;;){for(0===a.avail_out&&(a.output=new Uint8Array(i),a.next_out=0,a.avail_out=i),s=Ue.inflate(a,r),s===Ne&&n&&(s=Ue.inflateSetDictionary(a,n),s===Fe?s=Ue.inflate(a,r):s===Be&&(s=Ne));a.avail_in>0&&s===Le&&a.state.wrap>0&&0!==t[a.next_in];)Ue.inflateReset(a),s=Ue.inflate(a,r);switch(s){case Ie:case Be:case Ne:case Ce:return this.onEnd(s),this.ended=!0,!1}if(o=a.avail_out,a.next_out&&(0===a.avail_out||s===Le))if("string"===this.options.to){let t=Bt(a.output,a.next_out),e=a.next_out-t,n=It(a.output,t);a.next_out=e,a.avail_out=i-e,e&&a.output.set(a.output.subarray(t,t+e),0),this.onData(n)}else this.onData(a.output.length===a.next_out?a.output:a.output.subarray(0,a.next_out));if(s!==Fe||0!==o){if(s===Le)return s=Ue.inflateEnd(this.strm),this.onEnd(s),this.ended=!0,!0;if(0===a.avail_in)break}}return!0},He.prototype.onData=function(t){this.chunks.push(t)},He.prototype.onEnd=function(t){t===Fe&&("string"===this.options.to?this.result=this.chunks.join(""):this.result=Ot(this.chunks)),this.chunks=[],this.err=t,this.msg=this.strm.msg};const{Deflate:Me,deflate:je,deflateRaw:Ke,gzip:Pe}=Vt;var Ye=Me,Ge=je,Xe=B;const We=new class{constructor(){this._init()}clear(){this._init()}addEvent(t){if(!t)throw new Error("Adding invalid event");const e=this._hasEvents?",":"";this.deflate.push(e+t,Xe.Z_SYNC_FLUSH),this._hasEvents=!0}finish(){if(this.deflate.push("]",Xe.Z_FINISH),this.deflate.err)throw this.deflate.err;const t=this.deflate.result;return this._init(),t}_init(){this._hasEvents=!1,this.deflate=new Ye,this.deflate.push("[",Xe.Z_NO_FLUSH)}},qe={clear:()=>{We.clear()},addEvent:t=>We.addEvent(t),finish:()=>We.finish(),compress:t=>function(t){return Ge(t)}(t)};addEventListener("message",(function(t){const e=t.data.method,a=t.data.id,i=t.data.arg;if(e in qe&&"function"==typeof qe[e])try{const t=qe[e](i);postMessage({id:a,method:e,success:!0,response:t})}catch(t){postMessage({id:a,method:e,success:!1,response:t.message}),console.error(t)}})),postMessage({id:void 0,method:"init",success:!0,response:void 0});';class EventBufferArray{constructor(){this.events=[]}get hasEvents(){return this.events.length>0}destroy(){this.events=[]}async addEvent(e,t){t?this.events=[e]:this.events.push(e)}finish(){return new Promise((e=>{const t=this.events;this.events=[],e(JSON.stringify(t))}))}}class WorkerHandler{constructor(e){this._worker=e,this._id=0}ensureReady(){return this._ensureReadyPromise||(this._ensureReadyPromise=new Promise(((e,t)=>{this._worker.addEventListener("message",(({data:n})=>{n.success?e():t()}),{once:!0}),this._worker.addEventListener("error",(e=>{t(e)}),{once:!0})}))),this._ensureReadyPromise}destroy(){("undefined"==typeof __SENTRY_DEBUG__||__SENTRY_DEBUG__)&&i.logger.log("[Replay] Destroying compression worker"),this._worker.terminate()}postMessage(e,t){const n=this._getAndIncrementId();return new Promise(((r,o)=>{const s=({data:t})=>{const a=t;if(a.method===e&&a.id===n){if(this._worker.removeEventListener("message",s),!a.success)return("undefined"==typeof __SENTRY_DEBUG__||__SENTRY_DEBUG__)&&i.logger.error("[Replay]",a.response),void o(new Error("Error in compression worker"));r(a.response)}};this._worker.addEventListener("message",s),this._worker.postMessage({id:n,method:e,arg:t})}))}_getAndIncrementId(){return this._id++}}class EventBufferCompressionWorker{constructor(e){this._worker=new WorkerHandler(e),this.hasEvents=!1}ensureReady(){return this._worker.ensureReady()}destroy(){this._worker.destroy()}async addEvent(e,t){return this.hasEvents=!0,t&&await this._clear(),this._sendEventToWorker(e)}finish(){return this._finishRequest()}_sendEventToWorker(e){return this._worker.postMessage("addEvent",JSON.stringify(e))}async _finishRequest(){const e=await this._worker.postMessage("finish");return this.hasEvents=!1,e}_clear(){return this._worker.postMessage("clear")}}class EventBufferProxy{constructor(e){this._fallback=new EventBufferArray,this._compression=new EventBufferCompressionWorker(e),this._used=this._fallback,this._ensureWorkerIsLoadedPromise=this._ensureWorkerIsLoaded()}get hasEvents(){return this._used.hasEvents}destroy(){this._fallback.destroy(),this._compression.destroy()}addEvent(e,t){return this._used.addEvent(e,t)}async finish(){return await this.ensureWorkerIsLoaded(),this._used.finish()}ensureWorkerIsLoaded(){return this._ensureWorkerIsLoadedPromise}async _ensureWorkerIsLoaded(){try{await this._compression.ensureReady()}catch(e){return void(("undefined"==typeof __SENTRY_DEBUG__||__SENTRY_DEBUG__)&&i.logger.log("[Replay] Failed to load the compression worker, falling back to simple buffer"))}await this._switchToCompressionWorker()}async _switchToCompressionWorker(){const{events:e}=this._fallback,t=[];for(const r of e)t.push(this._compression.addEvent(r));this._used=this._compression;try{await Promise.all(t)}catch(n){("undefined"==typeof __SENTRY_DEBUG__||__SENTRY_DEBUG__)&&i.logger.warn("[Replay] Failed to add events when switching buffers.",n)}}}function Ye({useCompression:e}){if(e&&window.Worker)try{const e=function(){const e=new Blob([Ve]);return URL.createObjectURL(e)}();("undefined"==typeof __SENTRY_DEBUG__||__SENTRY_DEBUG__)&&i.logger.log("[Replay] Using compression worker");const t=new Worker(e);return new EventBufferProxy(t)}catch(t){("undefined"==typeof __SENTRY_DEBUG__||__SENTRY_DEBUG__)&&i.logger.log("[Replay] Failed to create compression worker")}return("undefined"==typeof __SENTRY_DEBUG__||__SENTRY_DEBUG__)&&i.logger.log("[Replay] Using simple buffer"),new EventBufferArray}function Ke(e,t,n=+new Date){return null===e||void 0===t||t<0||0!==t&&e+t<=n}function Je(e,t,n=+new Date){return Ke(e.started,d,n)||Ke(e.lastActivity,t,n)}function Xe(e){if("sessionStorage"in o)try{o.sessionStorage.setItem(s,JSON.stringify(e))}catch(t){}}function Qe(e){return void 0!==e&&Math.random()<e}function Ze(e){const t=(new Date).getTime();return{id:e.id||i.uuid4(),started:e.started||t,lastActivity:e.lastActivity||t,segmentId:e.segmentId||0,sampled:e.sampled}}function et({sessionSampleRate:e,errorSampleRate:t,stickySession:n=!1}){const r=function(e,t){return Qe(e)?"session":!!Qe(t)&&"error"}(e,t),o=Ze({sampled:r});return("undefined"==typeof __SENTRY_DEBUG__||__SENTRY_DEBUG__)&&i.logger.log(`[Replay] Creating new session: ${o.id}`),n&&Xe(o),o}function tt({expiry:e,currentSession:t,stickySession:n,sessionSampleRate:r,errorSampleRate:a}){const l=t||n&&function(){if(!("sessionStorage"in o))return null;try{const e=o.sessionStorage.getItem(s);return e?Ze(JSON.parse(e)):null}catch(e){return null}}();if(l){if(!Je(l,e))return{type:"saved",session:l};if("error"===l.sampled){return{type:"new",session:Ze({sampled:!1})}}("undefined"==typeof __SENTRY_DEBUG__||__SENTRY_DEBUG__)&&i.logger.log("[Replay] Session has expired")}return{type:"new",session:et({stickySession:n,sessionSampleRate:r,errorSampleRate:a})}}async function nt(e,t,n){if(!e.eventBuffer)return null;if(e.isPaused())return null;const o=t.timestamp>9999999999?t.timestamp:1e3*t.timestamp;if(o+c<(new Date).getTime())return null;const s=e.getContext().earliestEvent;e.session&&0===e.session.segmentId&&(!s||o<s)&&(e.getContext().earliestEvent=o);try{return await e.eventBuffer.addEvent(t,n)}catch(a){("undefined"==typeof __SENTRY_DEBUG__||__SENTRY_DEBUG__)&&i.logger.error(a),e.stop("addEvent");const t=r.getCurrentHub().getClient();t&&t.recordDroppedEvent("internal_sdk_error","replay")}}function rt(e){return{timestamp:(new Date).getTime()/1e3,type:"default",...e}}function it(e,t){"sentry.transaction"!==t.category&&("ui.click"===t.category?e.triggerUserActivity():e.checkAndHandleExpiredSession(),e.addUpdate((()=>(nt(e,{type:W.Custom,timestamp:1e3*(t.timestamp||0),data:{tag:"breadcrumb",payload:t}}),"console"===t.category))))}const ot=e=>t=>{if(!e.isEnabled())return;const n=function(e){let t,n;try{n=function(e){if(function(e){return!!e.target}(e.event))return e.event.target;return e.event}(e),t=i.htmlTreeAsString(n)}catch(r){t="<unknown>"}if(0===t.length)return null;return rt({category:`ui.${e.name}`,message:t,data:{...n?{nodeId:Ge.mirror.getId(n)}:{}}})}(t);n&&it(e,n)};function st(e,t){return t.map((({type:t,start:n,end:r,name:i,data:o})=>nt(e,{type:W.Custom,timestamp:n,data:{tag:"performanceSpan",payload:{op:t,description:i,startTimestamp:n,endTimestamp:r,data:o}}})))}function at(e,t){return("undefined"!=typeof __SENTRY_DEBUG__&&!__SENTRY_DEBUG__||!e.getOptions()._experiments.traceInternals)&&function(e){const t=r.getCurrentHub().getClient(),n=t&&t.getDsn();return!!n&&e.includes(n.host)}(t)}function lt(e){return(t,n)=>{if(t.type===a)return delete t.breadcrumbs,t;if(function(e,t){return!(e.type||!e.exception||!e.exception.values||!e.exception.values.length)&&(!(!t.originalException||!t.originalException.__rrweb__)||e.exception.values.some((e=>!!(e.stacktrace&&e.stacktrace.frames&&e.stacktrace.frames.length)&&e.stacktrace.frames.some((e=>e.filename&&e.filename.includes("/rrweb/src/"))))))}(t,n)&&!e.getOptions()._experiments.captureExceptions)return("undefined"==typeof __SENTRY_DEBUG__||__SENTRY_DEBUG__)&&i.logger.log("[Replay] Ignoring error from rrweb internals",t),null;if(t.type&&"session"!==e.recordingMode||(t.tags={...t.tags,replayId:e.getSessionId()}),"transaction"===t.type&&t.contexts&&t.contexts.trace&&t.contexts.trace.trace_id)return e.getContext().traceIds.add(t.contexts.trace.trace_id),t;if(t.type||e.getContext().errorIds.add(t.event_id),("undefined"==typeof __SENTRY_DEBUG__||__SENTRY_DEBUG__)&&e.getOptions()._experiments.traceInternals){const e=function(e){return{type:"Unknown",value:"n/a",...e.exception&&e.exception.values&&e.exception.values[0]}}(t);!function(e){const{category:t,level:n,message:i,...o}=e;r.addBreadcrumb({category:t||"console",level:n||"debug",message:`[debug]: ${i}`,...o})}({message:`Tagging event (${t.event_id}) - ${t.message} - ${e.type}: ${e.value}`})}return"error"===e.recordingMode&&t.exception&&t.message!==l&&setTimeout((async()=>{await e.flushImmediate(),e.stopRecording()&&(e.recordingMode="session",e.startRecording())})),t}}function ct(e){return t=>{if(!e.isEnabled())return;const n=function(e){const{from:t,to:n}=e,r=(new Date).getTime()/1e3;return{type:"navigation.push",start:r,end:r,name:n,data:{previous:t}}}(t);null!==n&&(e.getContext().urls.push(n.name),e.triggerUserActivity(),e.addUpdate((()=>(st(e,[n]),!1))))}}let ut=null;const dt=e=>t=>{if(!e.isEnabled())return;const n=function(e){const t=e.getLastBreadcrumb&&e.getLastBreadcrumb();if(ut===t||!t)return null;if(ut=t,t.category&&(["fetch","xhr","sentry.event","sentry.transaction"].includes(t.category)||t.category.startsWith("ui.")))return null;return rt(t)}(t);n&&it(e,n)};function ht(e){const t=r.getCurrentHub().getScope();t&&t.addScopeListener(dt(e)),i.addInstrumentationHandler("dom",ot(e)),i.addInstrumentationHandler("fetch",function(e){return t=>{if(!e.isEnabled())return;const n=function(e){if(!e.endTimestamp)return null;const{startTimestamp:t,endTimestamp:n,fetchData:r,response:i}=e;return{type:"resource.fetch",start:t/1e3,end:n/1e3,name:r.url,data:{method:r.method,statusCode:i.status}}}(t);null!==n&&(at(e,n.name)||e.addUpdate((()=>(st(e,[n]),!0))))}}(e)),i.addInstrumentationHandler("xhr",function(e){return t=>{if(!e.isEnabled())return;const n=function(e){if(e.xhr.__sentry_own_request__)return null;if(e.startTimestamp&&(e.xhr.__sentry_xhr__=e.xhr.__sentry_xhr__||{},e.xhr.__sentry_xhr__.startTimestamp=e.startTimestamp),!e.endTimestamp)return null;const{method:t,url:n,status_code:r}=e.xhr.__sentry_xhr__||{};return void 0===n?null:{type:"resource.xhr",name:n,start:(e.xhr.__sentry_xhr__?e.xhr.__sentry_xhr__.startTimestamp||0:e.endTimestamp)/1e3,end:e.endTimestamp/1e3,data:{method:t,statusCode:r}}}(t);null!==n&&(at(e,n.name)||e.addUpdate((()=>(st(e,[n]),!0))))}}(e)),i.addInstrumentationHandler("history",ct(e)),r.addGlobalEventProcessor(lt(e))}function pt(e){const{jsHeapSizeLimit:t,totalJSHeapSize:n,usedJSHeapSize:r}=e,i=(new Date).getTime()/1e3;return{type:"memory",name:"memory",start:i,end:i,data:{memory:{jsHeapSizeLimit:t,totalJSHeapSize:n,usedJSHeapSize:r}}}}const ft={resource:function(e){const{entryType:t,initiatorType:n,name:r,responseEnd:i,startTime:o,encodedBodySize:s,transferSize:a}=e;if(["fetch","xmlhttprequest"].includes(n))return null;return{type:`${t}.${n}`,start:_t(o),end:_t(i),name:r,data:{size:a,encodedBodySize:s}}},paint:function(e){const{duration:t,entryType:n,name:r,startTime:i}=e,o=_t(i);return{type:n,name:r,start:o,end:o+t}},navigation:function(e){const{entryType:t,name:n,duration:r,domComplete:i,startTime:o,transferSize:s,type:a}=e;if(0===r)return null;return{type:`${t}.${a}`,start:_t(o),end:_t(i),name:n,data:{size:s,duration:r}}},"largest-contentful-paint":function(e){const{entryType:t,startTime:n,size:r}=e;let i=0;if(o.performance){const e=o.performance.getEntriesByType("navigation")[0];i=e&&e.activationStart||0}const s=Math.max(n-i,0),a=_t(i)+s/1e3;return{type:t,name:t,start:a,end:a,data:{value:s,size:r,nodeId:Ge.mirror.getId(e.element)}}}};function mt(e){return void 0===ft[e.entryType]?null:ft[e.entryType](e)}function _t(e){return((i.browserPerformanceTimeOrigin||o.performance.timeOrigin)+e)/1e3}let gt;async function vt({recordingData:e,replayId:t,segmentId:n,includeReplayStartTimestamp:o,eventContext:s,timestamp:c,session:u,options:d}){const h=function({recordingData:e,headers:t}){let n;const r=`${JSON.stringify(t)}\n`;if("string"==typeof e)n=`${r}${e}`;else{const t=(new TextEncoder).encode(r);n=new Uint8Array(t.length+e.length),n.set(t),n.set(e,t.length)}return n}({recordingData:e,headers:{segment_id:n}}),{urls:p,errorIds:f,traceIds:m,initialTimestamp:_}=s,g=r.getCurrentHub(),v=g.getClient(),y=g.getScope(),b=v&&v.getTransport(),w=v&&v.getDsn();if(!(v&&y&&b&&w&&u.sampled))return;const E={type:a,...o?{replay_start_timestamp:_/1e3}:{},timestamp:c/1e3,error_ids:f,trace_ids:m,urls:p,replay_id:t,segment_id:n,replay_type:u.sampled},S=await async function({client:e,scope:t,replayId:n,event:i}){const o="object"!=typeof e._integrations||null===e._integrations||Array.isArray(e._integrations)?void 0:Object.keys(e._integrations),s=await r.prepareEvent(e.getOptions(),i,{event_id:n,integrations:o},t);if(!s)return null;s.platform=s.platform||"javascript";const a=e.getSdkMetadata&&e.getSdkMetadata(),{name:l,version:c}=a&&a.sdk||{};return s.sdk={...s.sdk,name:l||"sentry.javascript.unknown",version:c||"0.0.0"},s}({scope:y,client:v,replayId:t,event:E});if(!S)return v.recordDroppedEvent("event_processor","replay",E),void(("undefined"==typeof __SENTRY_DEBUG__||__SENTRY_DEBUG__)&&i.logger.log("An event processor returned `null`, will not send event."));S.contexts={...S.contexts,replay:{...S.contexts&&S.contexts.replay,session_sample_rate:d.sessionSampleRate,error_sample_rate:d.errorSampleRate}};const k=function(e,t,n,r){return i.createEnvelope(i.createEventEnvelopeHeaders(e,i.getSdkMetadataForEnvelopeHeader(e),r,n),[[{type:"replay_event"},e],[{type:"replay_recording",length:"string"==typeof t?(new TextEncoder).encode(t).length:t.length},t]])}(S,h,w,v.getOptions().tunnel);let T;try{T=await b.send(k)}catch(I){throw new Error(l)}if(!T)return T;if("number"==typeof T.statusCode&&(T.statusCode<200||T.statusCode>=300))throw new TransportStatusCodeError(T.statusCode);return T}class TransportStatusCodeError extends Error{constructor(e){super(`Transport returned status code ${e}`)}}async function yt(e,t={count:0,interval:h}){const{recordingData:n,options:i}=e;if(n.length)try{return await vt(e),!0}catch(o){if(o instanceof TransportStatusCodeError)throw o;if(r.setContext("Replays",{_retryCount:t.count}),("undefined"==typeof __SENTRY_DEBUG__||__SENTRY_DEBUG__)&&i._experiments&&i._experiments.captureExceptions&&r.captureException(o),t.count>=p)throw new Error(`${l} - max retries exceeded`);return t.interval*=++t.count,await new Promise(((n,r)=>{setTimeout((async()=>{try{await yt(e,t),n(!0)}catch(o){r(o)}}),t.interval)}))}}class ReplayContainer{__init(){this.eventBuffer=null}__init2(){this.performanceEvents=[]}__init3(){this.recordingMode="session"}__init4(){this._performanceObserver=null}__init5(){this._flushLock=null}__init6(){this._lastActivity=(new Date).getTime()}__init7(){this._isEnabled=!1}__init8(){this._isPaused=!1}__init9(){this._hasInitializedCoreListeners=!1}__init10(){this._stopRecording=null}__init11(){this._context={errorIds:new Set,traceIds:new Set,urls:[],earliestEvent:null,initialTimestamp:(new Date).getTime(),initialUrl:""}}constructor({options:e,recordingOptions:t}){ReplayContainer.prototype.__init.call(this),ReplayContainer.prototype.__init2.call(this),ReplayContainer.prototype.__init3.call(this),ReplayContainer.prototype.__init4.call(this),ReplayContainer.prototype.__init5.call(this),ReplayContainer.prototype.__init6.call(this),ReplayContainer.prototype.__init7.call(this),ReplayContainer.prototype.__init8.call(this),ReplayContainer.prototype.__init9.call(this),ReplayContainer.prototype.__init10.call(this),ReplayContainer.prototype.__init11.call(this),ReplayContainer.prototype.__init12.call(this),ReplayContainer.prototype.__init13.call(this),ReplayContainer.prototype.__init14.call(this),ReplayContainer.prototype.__init15.call(this),ReplayContainer.prototype.__init16.call(this),this._recordingOptions=t,this._options=e,this._debouncedFlush=function(e,t,n){let r,i,o;const s=n&&n.maxWait?Math.max(n.maxWait,t):0;function a(){return l(),r=e(),r}function l(){void 0!==i&&clearTimeout(i),void 0!==o&&clearTimeout(o),i=o=void 0}function c(){return i&&clearTimeout(i),i=setTimeout(a,t),s&&void 0===o&&(o=setTimeout(a,s)),r}return c.cancel=l,c.flush=function(){return void 0!==i||void 0!==o?a():r},c}((()=>this._flush()),this._options.flushMinDelay,{maxWait:this._options.flushMaxDelay})}getContext(){return this._context}isEnabled(){return this._isEnabled}isPaused(){return this._isPaused}getOptions(){return this._options}start(){this._setInitialState(),this._loadAndCheckSession()&&(this.session?this.session.sampled&&("error"===this.session.sampled&&(this.recordingMode="error"),this._updateSessionActivity(),this.eventBuffer=Ye({useCompression:this._options.useCompression}),this._addListeners(),this._isEnabled=!0,this.startRecording()):this._handleException(new Error("No session found")))}startRecording(){try{this._stopRecording=Ge({...this._recordingOptions,..."error"===this.recordingMode&&{checkoutEveryNms:6e4},emit:this._handleRecordingEmit})}catch(e){this._handleException(e)}}stopRecording(){try{return!!this._stopRecording&&(this._stopRecording(),this._stopRecording=void 0,!0)}catch(e){return this._handleException(e),!1}}stop(e){if(this._isEnabled)try{if("undefined"==typeof __SENTRY_DEBUG__||__SENTRY_DEBUG__){const t="[Replay] Stopping Replay"+(e?` triggered by ${e}`:"");(this.getOptions()._experiments.traceInternals?console.warn:i.logger.log)(t)}this._isEnabled=!1,this._removeListeners(),this.stopRecording(),this.eventBuffer&&this.eventBuffer.destroy(),this.eventBuffer=null,this._debouncedFlush.cancel()}catch(t){this._handleException(t)}}pause(){this._isPaused=!0,this.stopRecording()}resume(){this._loadAndCheckSession()&&(this._isPaused=!1,this.startRecording())}addUpdate(e){const t=e();"error"!==this.recordingMode&&!0!==t&&this._debouncedFlush()}triggerUserActivity(){if(this._updateUserActivity(),this._stopRecording)this.checkAndHandleExpiredSession(),this._updateSessionActivity();else{if(!this._loadAndCheckSession())return;this.resume()}}flushImmediate(){return this._debouncedFlush(),this._debouncedFlush.flush()}getSessionId(){return this.session&&this.session.id}checkAndHandleExpiredSession(e){const t=this.getSessionId();if(this._lastActivity&&Ke(this._lastActivity,d))return void this.pause();if(!this._loadAndCheckSession(e))return;return t===this.getSessionId()||(this._triggerFullSnapshot(),!1)}_handleException(e){("undefined"==typeof __SENTRY_DEBUG__||__SENTRY_DEBUG__)&&i.logger.error("[Replay]",e),("undefined"==typeof __SENTRY_DEBUG__||__SENTRY_DEBUG__)&&this._options._experiments&&this._options._experiments.captureExceptions&&r.captureException(e)}_loadAndCheckSession(e=c){const{type:t,session:n}=tt({expiry:e,stickySession:Boolean(this._options.stickySession),currentSession:this.session,sessionSampleRate:this._options.sessionSampleRate,errorSampleRate:this._options.errorSampleRate});"new"===t&&this._setInitialState();const r=this.getSessionId();return n.id!==r&&(n.previousSessionId=r),this.session=n,!!this.session.sampled||(this.stop("session unsampled"),!1)}_setInitialState(){const e=`${o.location.pathname}${o.location.hash}${o.location.search}`,t=`${o.location.origin}${e}`;this.performanceEvents=[],this._clearContext(),this._context.initialUrl=t,this._context.initialTimestamp=(new Date).getTime(),this._context.urls.push(t)}_addListeners(){try{o.document.addEventListener("visibilitychange",this._handleVisibilityChange),o.addEventListener("blur",this._handleWindowBlur),o.addEventListener("focus",this._handleWindowFocus),function(e){const t=r.getCurrentHub().getClient();if(!t)return;const n=t.recordDroppedEvent.bind(t);t.recordDroppedEvent=(t,r,i)=>(i&&!i.type&&i.event_id&&e.delete(i.event_id),n(t,r,i)),gt=n}(this._context.errorIds),this._hasInitializedCoreListeners||(ht(this),this._hasInitializedCoreListeners=!0)}catch(e){this._handleException(e)}"PerformanceObserver"in o&&(this._performanceObserver=$e(this))}_removeListeners(){try{o.document.removeEventListener("visibilitychange",this._handleVisibilityChange),o.removeEventListener("blur",this._handleWindowBlur),o.removeEventListener("focus",this._handleWindowFocus),function(){const e=r.getCurrentHub().getClient();e&&gt&&(e.recordDroppedEvent=gt)}(),this._performanceObserver&&(this._performanceObserver.disconnect(),this._performanceObserver=null)}catch(e){this._handleException(e)}}__init12(){this._handleRecordingEmit=(e,t)=>{this.checkAndHandleExpiredSession()?this.addUpdate((()=>("error"===this.recordingMode&&2===e.type&&this._setInitialState(),nt(this,e,t),2===e.type&&(this.session&&this.session.previousSessionId||("error"===this.recordingMode&&this.session&&this._context.earliestEvent&&(this.session.started=this._context.earliestEvent,this._maybeSaveSession()),"session"===this.recordingMode&&this.flushImmediate()),!0)))):("undefined"==typeof __SENTRY_DEBUG__||__SENTRY_DEBUG__)&&i.logger.error("[Replay] Received replay event after session expired.")}}__init13(){this._handleVisibilityChange=()=>{"visible"===o.document.visibilityState?this._doChangeToForegroundTasks():this._doChangeToBackgroundTasks()}}__init14(){this._handleWindowBlur=()=>{const e=rt({category:"ui.blur"});this._doChangeToBackgroundTasks(e)}}__init15(){this._handleWindowFocus=()=>{const e=rt({category:"ui.focus"});this._doChangeToForegroundTasks(e)}}_doChangeToBackgroundTasks(e){if(!this.session)return;const t=Je(this.session,u);e&&!t&&this._createCustomBreadcrumb(e),this._conditionalFlush()}_doChangeToForegroundTasks(e){if(!this.session)return;this.checkAndHandleExpiredSession(u)?e&&this._createCustomBreadcrumb(e):("undefined"==typeof __SENTRY_DEBUG__||__SENTRY_DEBUG__)&&i.logger.log("[Replay] Document has become active, but session has expired")}_triggerFullSnapshot(){try{("undefined"==typeof __SENTRY_DEBUG__||__SENTRY_DEBUG__)&&i.logger.log("[Replay] Taking full rrweb snapshot"),Ge.takeFullSnapshot(!0)}catch(e){this._handleException(e)}}_updateUserActivity(e=(new Date).getTime()){this._lastActivity=e}_updateSessionActivity(e=(new Date).getTime()){this.session&&(this.session.lastActivity=e,this._maybeSaveSession())}_createCustomBreadcrumb(e){this.addUpdate((()=>{nt(this,{type:W.Custom,timestamp:e.timestamp||0,data:{tag:"breadcrumb",payload:e}})}))}_addPerformanceEntries(){const e=[...this.performanceEvents];return this.performanceEvents=[],Promise.all(st(this,function(e){return e.map(mt).filter(Boolean)}(e)))}_conditionalFlush(){"error"!==this.recordingMode&&this.flushImmediate()}_clearContext(){this._context.errorIds.clear(),this._context.traceIds.clear(),this._context.urls=[],this._context.earliestEvent=null}_popEventContext(){this._context.earliestEvent&&this._context.earliestEvent<this._context.initialTimestamp&&(this._context.initialTimestamp=this._context.earliestEvent);const e={initialTimestamp:this._context.initialTimestamp,initialUrl:this._context.initialUrl,errorIds:Array.from(this._context.errorIds).filter(Boolean),traceIds:Array.from(this._context.traceIds).filter(Boolean),urls:this._context.urls};return this._clearContext(),e}async _runFlush(){if(this.session&&this.eventBuffer){if(await this._addPerformanceEntries(),this.eventBuffer&&this.eventBuffer.hasEvents&&(await async function(e){try{return Promise.all(st(e,[pt(o.performance.memory)]))}catch(t){return[]}}(this),this.eventBuffer))try{const e=await this.eventBuffer.finish(),t=this.session.id,n=this._popEventContext(),r=this.session.segmentId++;this._maybeSaveSession(),await yt({replayId:t,recordingData:e,segmentId:r,includeReplayStartTimestamp:0===r,eventContext:n,session:this.session,options:this.getOptions(),timestamp:(new Date).getTime()})}catch(e){this._handleException(e),this.stop("sendReplay");const t=r.getCurrentHub().getClient();t&&t.recordDroppedEvent("send_error","replay")}}else("undefined"==typeof __SENTRY_DEBUG__||__SENTRY_DEBUG__)&&i.logger.error("[Replay] No session or eventBuffer found to flush.")}__init16(){this._flush=async()=>{if(this._isEnabled)if(this.checkAndHandleExpiredSession())if(this.session){if(this._debouncedFlush.cancel(),!this._flushLock)return this._flushLock=this._runFlush(),await this._flushLock,void(this._flushLock=null);try{await this._flushLock}catch(e){("undefined"==typeof __SENTRY_DEBUG__||__SENTRY_DEBUG__)&&i.logger.error(e)}finally{this._debouncedFlush()}}else("undefined"==typeof __SENTRY_DEBUG__||__SENTRY_DEBUG__)&&i.logger.error("[Replay] No session found to flush.");else("undefined"==typeof __SENTRY_DEBUG__||__SENTRY_DEBUG__)&&i.logger.error("[Replay] Attempting to finish replay event after session expired.")}}_maybeSaveSession(){this.session&&this._options.stickySession&&Xe(this.session)}}function bt(e,t,n,r){const i=[...e,..."string"==typeof r?r.split(","):[],...t];return void 0!==n&&("string"==typeof n&&i.push(`.${n}`),console.warn("[Replay] You are using a deprecated configuration item for privacy. Read the documentation on how to use the new privacy configuration.")),i.join(",")}function wt({mask:e,unmask:t,block:n,unblock:r,ignore:i,blockClass:o,blockSelector:s,maskTextClass:a,maskTextSelector:l,ignoreClass:c}){const u=bt(e,[".sentry-mask","[data-sentry-mask]"],a,l),d=bt(t,[".sentry-unmask","[data-sentry-unmask]"]),h={maskTextSelector:u,unmaskTextSelector:d,maskInputSelector:u,unmaskInputSelector:d,blockSelector:bt(n,[".sentry-block","[data-sentry-block]",'base[href="/"]'],o,s),unblockSelector:bt(r,[".sentry-unblock","[data-sentry-unblock]"]),ignoreSelector:bt(i,[".sentry-ignore","[data-sentry-ignore]"],c)};return o instanceof RegExp&&(h.blockClass=o),a instanceof RegExp&&(h.maskTextClass=a),h}function Et(){return"undefined"!=typeof window&&(!i.isNodeEnv()||"undefined"!=typeof process&&"renderer"===process.type)}const St='img,image,svg,video,object,picture,embed,map,audio,link[rel="icon"],link[rel="apple-touch-icon"]';let kt=!1;class Replay{static __initStatic(){this.id="Replay"}__init(){this.name=Replay.id}constructor({flushMinDelay:e=5e3,flushMaxDelay:t=5500,stickySession:n=!0,useCompression:r=!0,_experiments:i={},sessionSampleRate:o,errorSampleRate:s,maskAllText:a=!0,maskAllInputs:l=!0,blockAllMedia:c=!0,mask:u=[],unmask:d=[],block:h=[],unblock:p=[],ignore:f=[],maskFn:m,blockClass:_,blockSelector:g,maskInputOptions:v,maskTextClass:y,maskTextSelector:b,ignoreClass:w}={}){if(Replay.prototype.__init.call(this),this._recordingOptions={maskAllInputs:l,maskAllText:a,maskInputOptions:{...v||{},password:!0},maskTextFn:m,maskInputFn:m,...wt({mask:u,unmask:d,block:h,unblock:p,ignore:f,blockClass:_,blockSelector:g,maskTextClass:y,maskTextSelector:b,ignoreClass:w}),slimDOMOptions:"all",inlineStylesheet:!0,inlineImages:!1,collectFonts:!0},this._initialOptions={flushMinDelay:e,flushMaxDelay:t,stickySession:n,sessionSampleRate:o,errorSampleRate:s,useCompression:r,blockAllMedia:c,_experiments:i},"number"==typeof o&&(console.warn(`[Replay] You are passing \`sessionSampleRate\` to the Replay integration.\nThis option is deprecated and will be removed soon.\nInstead, configure \`replaysSessionSampleRate\` directly in the SDK init options, e.g.:\nSentry.init({ replaysSessionSampleRate: ${o} })`),this._initialOptions.sessionSampleRate=o),"number"==typeof s&&(console.warn(`[Replay] You are passing \`errorSampleRate\` to the Replay integration.\nThis option is deprecated and will be removed soon.\nInstead, configure \`replaysOnErrorSampleRate\` directly in the SDK init options, e.g.:\nSentry.init({ replaysOnErrorSampleRate: ${s} })`),this._initialOptions.errorSampleRate=s),this._initialOptions.blockAllMedia&&(this._recordingOptions.blockSelector=this._recordingOptions.blockSelector?`${this._recordingOptions.blockSelector},${St}`:St),this._isInitialized&&Et())throw new Error("Multiple Sentry Session Replay instances are not supported");this._isInitialized=!0}get _isInitialized(){return kt}set _isInitialized(e){kt=e}setupOnce(){Et()&&(this._setup(),setTimeout((()=>this.start())))}start(){this._replay&&this._replay.start()}stop(){this._replay&&this._replay.stop()}flush(){if(this._replay&&this._replay.isEnabled())return this._replay.flushImmediate()}_setup(){const e=function(e){const t=r.getCurrentHub().getClient(),n=t&&t.getOptions(),o={sessionSampleRate:0,errorSampleRate:0,...i.dropUndefinedKeys(e)};if(!n)return console.warn("SDK client is not available."),o;null==e.sessionSampleRate&&null==e.errorSampleRate&&null==n.replaysSessionSampleRate&&null==n.replaysOnErrorSampleRate&&console.warn("Replay is disabled because neither `replaysSessionSampleRate` nor `replaysOnErrorSampleRate` are set.");"number"==typeof n.replaysSessionSampleRate&&(o.sessionSampleRate=n.replaysSessionSampleRate);"number"==typeof n.replaysOnErrorSampleRate&&(o.errorSampleRate=n.replaysOnErrorSampleRate);return o}(this._initialOptions);this._replay=new ReplayContainer({options:e,recordingOptions:this._recordingOptions})}}Replay.__initStatic(),t.Replay=Replay},9263:(e,t,n)=>{Object.defineProperty(t,"__esModule",{value:!0});const r=n(4023),i=n(1083),o=n(1818);t.registerBackgroundTabDetection=function(){o.WINDOW&&o.WINDOW.document?o.WINDOW.document.addEventListener("visibilitychange",(()=>{const e=i.getActiveTransaction();if(o.WINDOW.document.hidden&&e){const t="cancelled";("undefined"==typeof __SENTRY_DEBUG__||__SENTRY_DEBUG__)&&r.logger.log(`[Tracing] Transaction: ${t} -> since tab moved to the background, op: ${e.op}`),e.status||e.setStatus(t),e.setTag("visibilitychange","document.hidden"),e.finish()}})):("undefined"==typeof __SENTRY_DEBUG__||__SENTRY_DEBUG__)&&r.logger.warn("[Tracing] Could not set up background tab detection due to lack of global document")}},1956:(e,t,n)=>{Object.defineProperty(t,"__esModule",{value:!0});const r=n(4023),i=n(3232),o=n(2524);n(565);const s=n(9263),a=n(4987),l=n(9006),c=n(4537),u=n(1818),d="BrowserTracing",h={idleTimeout:o.DEFAULT_IDLE_TIMEOUT,finalTimeout:o.DEFAULT_FINAL_TIMEOUT,heartbeatInterval:o.DEFAULT_HEARTBEAT_INTERVAL,markBackgroundTransactions:!0,routingInstrumentation:c.instrumentRoutingWithDefaults,startTransactionOnLocationChange:!0,startTransactionOnPageLoad:!0,enableLongTask:!0,_experiments:{},...l.defaultRequestInstrumentationOptions};class BrowserTracing{__init(){this.name=d}constructor(e){BrowserTracing.prototype.__init.call(this),this.options={...h,...e},void 0!==this.options._experiments.enableLongTask&&(this.options.enableLongTask=this.options._experiments.enableLongTask),e&&!e.tracePropagationTargets&&e.tracingOrigins&&(this.options.tracePropagationTargets=e.tracingOrigins),a.startTrackingWebVitals(),this.options.enableLongTask&&a.startTrackingLongTasks()}setupOnce(e,t){this._getCurrentHub=t;const{routingInstrumentation:n,startTransactionOnLocationChange:r,startTransactionOnPageLoad:i,markBackgroundTransactions:o,traceFetch:a,traceXHR:c,tracePropagationTargets:u,shouldCreateSpanForRequest:d,_experiments:h}=this.options;n((e=>this._createRouteTransaction(e)),i,r),o&&s.registerBackgroundTabDetection(),h.enableInteractions&&this._registerInteractionListener(),l.instrumentOutgoingRequests({traceFetch:a,traceXHR:c,tracePropagationTargets:u,shouldCreateSpanForRequest:d})}_createRouteTransaction(e){if(!this._getCurrentHub)return void(("undefined"==typeof __SENTRY_DEBUG__||__SENTRY_DEBUG__)&&r.logger.warn(`[Tracing] Did not create ${e.op} transaction because _getCurrentHub is invalid.`));const{beforeNavigate:t,idleTimeout:n,finalTimeout:o,heartbeatInterval:s}=this.options,l="pageload"===e.op,c=l?p("sentry-trace"):null,d=l?p("baggage"):null,h=c?r.extractTraceparentData(c):void 0,f=d?r.baggageHeaderToDynamicSamplingContext(d):void 0,m={...e,...h,metadata:{...e.metadata,dynamicSamplingContext:h&&!f?{}:f},trimEnd:!0},_="function"==typeof t?t(m):m,g=void 0===_?{...m,sampled:!1}:_;g.metadata=g.name!==m.name?{...g.metadata,source:"custom"}:g.metadata,this._latestRouteName=g.name,this._latestRouteSource=g.metadata&&g.metadata.source,!1===g.sampled&&("undefined"==typeof __SENTRY_DEBUG__||__SENTRY_DEBUG__)&&r.logger.log(`[Tracing] Will not send ${g.op} transaction because of beforeNavigate.`),("undefined"==typeof __SENTRY_DEBUG__||__SENTRY_DEBUG__)&&r.logger.log(`[Tracing] Starting ${g.op} transaction on scope`);const v=this._getCurrentHub(),{location:y}=u.WINDOW,b=i.startIdleTransaction(v,g,n,o,!0,{location:y},s);return b.registerBeforeFinishCallback((e=>{a.addPerformanceEntries(e)})),b}_registerInteractionListener(){let e;const t=()=>{const{idleTimeout:t,finalTimeout:n,heartbeatInterval:o}=this.options,s="ui.action.click";if(e&&(e.finish(),e=void 0),!this._getCurrentHub)return void(("undefined"==typeof __SENTRY_DEBUG__||__SENTRY_DEBUG__)&&r.logger.warn(`[Tracing] Did not create ${s} transaction because _getCurrentHub is invalid.`));if(!this._latestRouteName)return void(("undefined"==typeof __SENTRY_DEBUG__||__SENTRY_DEBUG__)&&r.logger.warn(`[Tracing] Did not create ${s} transaction because _latestRouteName is missing.`));const a=this._getCurrentHub(),{location:l}=u.WINDOW,c={name:this._latestRouteName,op:s,trimEnd:!0,metadata:{source:this._latestRouteSource||"url"}};e=i.startIdleTransaction(a,c,t,n,!0,{location:l},o)};["click"].forEach((e=>{addEventListener(e,t,{once:!1,capture:!0})}))}}function p(e){const t=r.getDomElement(`meta[name=${e}]`);return t?t.getAttribute("content"):null}t.BROWSER_TRACING_INTEGRATION_ID=d,t.BrowserTracing=BrowserTracing,t.getMetaContent=p},4987:(e,t,n)=>{Object.defineProperty(t,"__esModule",{value:!0});const r=n(4023),i=n(1083),o=n(1818),s=n(3612),a=n(4709),l=n(6985),c=n(6790),u=n(9038),d=n(9030);function h(){return o.WINDOW&&o.WINDOW.addEventListener&&o.WINDOW.performance}let p,f,m=0,_={};function g(e,t,n,r,i){const o=i+n,s=o+r;return d._startChild(e,{description:t.name,endTimestamp:s,op:t.entryType,startTimestamp:o}),o}function v(e,t,n,r,o,s){const a=s?t[s]:t[`${n}End`],l=t[`${n}Start`];l&&a&&d._startChild(e,{op:"browser",description:o||n,startTimestamp:r+i.msToSec(l),endTimestamp:r+i.msToSec(a)})}function y(e,t,n,r,i,o){if("xmlhttprequest"===t.initiatorType||"fetch"===t.initiatorType)return;const s={};"transferSize"in t&&(s["Transfer Size"]=t.transferSize),"encodedBodySize"in t&&(s["Encoded Body Size"]=t.encodedBodySize),"decodedBodySize"in t&&(s["Decoded Body Size"]=t.decodedBodySize),"renderBlockingStatus"in t&&(s["resource.render_blocking_status"]=t.renderBlockingStatus);const a=o+r,l=a+i;d._startChild(e,{description:n,endTimestamp:l,op:t.initiatorType?`resource.${t.initiatorType}`:"resource.other",startTimestamp:a,data:s})}t._addMeasureSpans=g,t._addResourceSpans=y,t.addPerformanceEntries=function(e){const t=h();if(!t||!o.WINDOW.performance.getEntries||!r.browserPerformanceTimeOrigin)return;("undefined"==typeof __SENTRY_DEBUG__||__SENTRY_DEBUG__)&&r.logger.log("[Tracing] Adding & adjusting spans using Performance API");const n=i.msToSec(r.browserPerformanceTimeOrigin),s=t.getEntries();let a,l;if(s.slice(m).forEach((t=>{const s=i.msToSec(t.startTime),u=i.msToSec(t.duration);if(!("navigation"===e.op&&n+s<e.startTimestamp))switch(t.entryType){case"navigation":!function(e,t,n){["unloadEvent","redirect","domContentLoadedEvent","loadEvent","connect"].forEach((r=>{v(e,t,r,n)})),v(e,t,"secureConnection",n,"TLS/SSL","connectEnd"),v(e,t,"fetch",n,"cache","domainLookupStart"),v(e,t,"domainLookup",n,"DNS"),function(e,t,n){d._startChild(e,{op:"browser",description:"request",startTimestamp:n+i.msToSec(t.requestStart),endTimestamp:n+i.msToSec(t.responseEnd)}),d._startChild(e,{op:"browser",description:"response",startTimestamp:n+i.msToSec(t.responseStart),endTimestamp:n+i.msToSec(t.responseEnd)})}(e,t,n)}(e,t,n),a=n+i.msToSec(t.responseStart),l=n+i.msToSec(t.requestStart);break;case"mark":case"paint":case"measure":{g(e,t,s,u,n);const i=c.getVisibilityWatcher(),o=t.startTime<i.firstHiddenTime;"first-paint"===t.name&&o&&(("undefined"==typeof __SENTRY_DEBUG__||__SENTRY_DEBUG__)&&r.logger.log("[Measurements] Adding FP"),_.fp={value:t.startTime,unit:"millisecond"}),"first-contentful-paint"===t.name&&o&&(("undefined"==typeof __SENTRY_DEBUG__||__SENTRY_DEBUG__)&&r.logger.log("[Measurements] Adding FCP"),_.fcp={value:t.startTime,unit:"millisecond"});break}case"resource":{const r=t.name.replace(o.WINDOW.location.origin,"");y(e,t,r,s,u,n);break}}})),m=Math.max(s.length-1,0),function(e){const t=o.WINDOW.navigator;if(!t)return;const n=t.connection;n&&(n.effectiveType&&e.setTag("effectiveConnectionType",n.effectiveType),n.type&&e.setTag("connectionType",n.type),d.isMeasurementValue(n.rtt)&&(_["connection.rtt"]={value:n.rtt,unit:"millisecond"}));d.isMeasurementValue(t.deviceMemory)&&e.setTag("deviceMemory",`${t.deviceMemory} GB`);d.isMeasurementValue(t.hardwareConcurrency)&&e.setTag("hardwareConcurrency",String(t.hardwareConcurrency))}(e),"pageload"===e.op){"number"==typeof a&&(("undefined"==typeof __SENTRY_DEBUG__||__SENTRY_DEBUG__)&&r.logger.log("[Measurements] Adding TTFB"),_.ttfb={value:1e3*(a-e.startTimestamp),unit:"millisecond"},"number"==typeof l&&l<=a&&(_["ttfb.requestTime"]={value:1e3*(a-l),unit:"millisecond"})),["fcp","fp","lcp"].forEach((t=>{if(!_[t]||n>=e.startTimestamp)return;const o=_[t].value,s=n+i.msToSec(o),a=Math.abs(1e3*(s-e.startTimestamp)),l=a-o;("undefined"==typeof __SENTRY_DEBUG__||__SENTRY_DEBUG__)&&r.logger.log(`[Measurements] Normalized ${t} from ${o} to ${a} (${l})`),_[t].value=a}));const t=_["mark.fid"];t&&_.fid&&(d._startChild(e,{description:"first input delay",endTimestamp:t.value+i.msToSec(_.fid.value),op:"ui.action",startTimestamp:t.value}),delete _["mark.fid"]),"fcp"in _||delete _.cls,Object.keys(_).forEach((t=>{e.setMeasurement(t,_[t].value,_[t].unit)})),function(e){p&&(("undefined"==typeof __SENTRY_DEBUG__||__SENTRY_DEBUG__)&&r.logger.log("[Measurements] Adding LCP Data"),p.element&&e.setTag("lcp.element",r.htmlTreeAsString(p.element)),p.id&&e.setTag("lcp.id",p.id),p.url&&e.setTag("lcp.url",p.url.trim().slice(0,200)),e.setTag("lcp.size",p.size));f&&f.sources&&(("undefined"==typeof __SENTRY_DEBUG__||__SENTRY_DEBUG__)&&r.logger.log("[Measurements] Adding CLS Data"),f.sources.forEach(((t,n)=>e.setTag(`cls.source.${n+1}`,r.htmlTreeAsString(t.node)))))}(e)}p=void 0,f=void 0,_={}},t.startTrackingLongTasks=function(){u.observe("longtask",(e=>{for(const t of e){const e=i.getActiveTransaction();if(!e)return;const n=i.msToSec(r.browserPerformanceTimeOrigin+t.startTime),o=i.msToSec(t.duration);e.startChild({description:"Main UI thread blocked",op:"ui.long-task",startTimestamp:n,endTimestamp:n+o})}}))},t.startTrackingWebVitals=function(){const e=h();e&&r.browserPerformanceTimeOrigin&&(e.mark&&o.WINDOW.performance.mark("sentry-tracing-init"),s.onCLS((e=>{const t=e.entries.pop();t&&(("undefined"==typeof __SENTRY_DEBUG__||__SENTRY_DEBUG__)&&r.logger.log("[Measurements] Adding CLS"),_.cls={value:e.value,unit:""},f=t)})),l.onLCP((e=>{const t=e.entries.pop();t&&(("undefined"==typeof __SENTRY_DEBUG__||__SENTRY_DEBUG__)&&r.logger.log("[Measurements] Adding LCP"),_.lcp={value:e.value,unit:"millisecond"},p=t)})),a.onFID((e=>{const t=e.entries.pop();if(!t)return;const n=i.msToSec(r.browserPerformanceTimeOrigin),o=i.msToSec(t.startTime);("undefined"==typeof __SENTRY_DEBUG__||__SENTRY_DEBUG__)&&r.logger.log("[Measurements] Adding FID"),_.fid={value:e.value,unit:"millisecond"},_["mark.fid"]={value:n+o,unit:"second"}})))}},9030:(e,t)=>{Object.defineProperty(t,"__esModule",{value:!0}),t._startChild=function(e,{startTimestamp:t,...n}){return t&&e.startTimestamp>t&&(e.startTimestamp=t),e.startChild({startTimestamp:t,...n})},t.isMeasurementValue=function(e){return"number"==typeof e&&isFinite(e)}},9006:(e,t,n)=>{Object.defineProperty(t,"__esModule",{value:!0});const r=n(565),i=n(4023),o=["localhost",/^\//],s={traceFetch:!0,traceXHR:!0,tracingOrigins:o,tracePropagationTargets:o};function a(e,t){return i.stringMatchesSomePattern(e,t||o)}function l(e,t,n,o){if(!r.hasTracingEnabled()||!e.fetchData||!t(e.fetchData.url))return;if(e.endTimestamp){const t=e.fetchData.__span;if(!t)return;const n=o[t];return void(n&&(e.response?n.setHttpStatus(e.response.status):e.error&&n.setStatus("internal_error"),n.finish(),delete o[t]))}const s=r.getCurrentHub().getScope(),a=s&&s.getSpan(),l=a&&a.transaction;if(a&&l){const t=a.startChild({data:{...e.fetchData,type:"fetch"},description:`${e.fetchData.method} ${e.fetchData.url}`,op:"http.client"});e.fetchData.__span=t.spanId,o[t.spanId]=t;const r=e.args[0];e.args[1]=e.args[1]||{};const s=e.args[1];n(e.fetchData.url)&&(s.headers=function(e,t,n,r){const o=i.dynamicSamplingContextToSentryBaggageHeader(t),s=n.toTraceparent(),a="undefined"!=typeof Request&&i.isInstanceOf(e,Request)?e.headers:r.headers;if(a){if("undefined"!=typeof Headers&&i.isInstanceOf(a,Headers)){const e=new Headers(a);return e.append("sentry-trace",s),o&&e.append(i.BAGGAGE_HEADER_NAME,o),e}if(Array.isArray(a)){const e=[...a,["sentry-trace",s]];return o&&e.push([i.BAGGAGE_HEADER_NAME,o]),e}{const e="baggage"in a?a.baggage:void 0,t=[];return Array.isArray(e)?t.push(...e):e&&t.push(e),o&&t.push(o),{...a,"sentry-trace":s,baggage:t.length>0?t.join(","):void 0}}}return{"sentry-trace":s,baggage:o}}(r,l.getDynamicSamplingContext(),t,s))}}function c(e,t,n,o){if(!r.hasTracingEnabled()||e.xhr&&e.xhr.__sentry_own_request__||!(e.xhr&&e.xhr.__sentry_xhr__&&t(e.xhr.__sentry_xhr__.url)))return;const s=e.xhr.__sentry_xhr__;if(e.endTimestamp){const t=e.xhr.__sentry_xhr_span_id__;if(!t)return;const n=o[t];return void(n&&(n.setHttpStatus(s.status_code),n.finish(),delete o[t]))}const a=r.getCurrentHub().getScope(),l=a&&a.getSpan(),c=l&&l.transaction;if(l&&c){const t=l.startChild({data:{...s.data,type:"xhr",method:s.method,url:s.url},description:`${s.method} ${s.url}`,op:"http.client"});if(e.xhr.__sentry_xhr_span_id__=t.spanId,o[e.xhr.__sentry_xhr_span_id__]=t,e.xhr.setRequestHeader&&n(e.xhr.__sentry_xhr__.url))try{e.xhr.setRequestHeader("sentry-trace",t.toTraceparent());const n=c.getDynamicSamplingContext(),r=i.dynamicSamplingContextToSentryBaggageHeader(n);r&&e.xhr.setRequestHeader(i.BAGGAGE_HEADER_NAME,r)}catch(u){}}}t.DEFAULT_TRACE_PROPAGATION_TARGETS=o,t.defaultRequestInstrumentationOptions=s,t.fetchCallback=l,t.instrumentOutgoingRequests=function(e){const{traceFetch:t,traceXHR:n,tracePropagationTargets:r,tracingOrigins:o,shouldCreateSpanForRequest:u}={traceFetch:s.traceFetch,traceXHR:s.traceXHR,...e},d="function"==typeof u?u:e=>!0,h=e=>a(e,r||o),p={};t&&i.addInstrumentationHandler("fetch",(e=>{l(e,d,h,p)})),n&&i.addInstrumentationHandler("xhr",(e=>{c(e,d,h,p)}))},t.shouldAttachHeaders=a,t.xhrCallback=c},4537:(e,t,n)=>{Object.defineProperty(t,"__esModule",{value:!0});const r=n(4023),i=n(1818);t.instrumentRoutingWithDefaults=function(e,t=!0,n=!0){if(!i.WINDOW||!i.WINDOW.location)return void(("undefined"==typeof __SENTRY_DEBUG__||__SENTRY_DEBUG__)&&r.logger.warn("Could not initialize routing instrumentation due to invalid location"));let o,s=i.WINDOW.location.href;t&&(o=e({name:i.WINDOW.location.pathname,op:"pageload",metadata:{source:"url"}})),n&&r.addInstrumentationHandler("history",(({to:t,from:n})=>{void 0===n&&s&&-1!==s.indexOf(t)?s=void 0:n!==t&&(s=void 0,o&&(("undefined"==typeof __SENTRY_DEBUG__||__SENTRY_DEBUG__)&&r.logger.log(`[Tracing] Finishing current transaction with op: ${o.op}`),o.finish()),o=e({name:i.WINDOW.location.pathname,op:"navigation",metadata:{source:"url"}}))}))}},1818:(e,t,n)=>{Object.defineProperty(t,"__esModule",{value:!0});const r=n(4023).GLOBAL_OBJ;t.WINDOW=r},3612:(e,t,n)=>{Object.defineProperty(t,"__esModule",{value:!0});const r=n(1320),i=n(4756),o=n(9038),s=n(357);t.onCLS=e=>{const t=i.initMetric("CLS",0);let n,a=0,l=[];const c=e=>{e.forEach((e=>{if(!e.hadRecentInput){const r=l[0],i=l[l.length-1];a&&0!==l.length&&e.startTime-i.startTime<1e3&&e.startTime-r.startTime<5e3?(a+=e.value,l.push(e)):(a=e.value,l=[e]),a>t.value&&(t.value=a,t.entries=l,n&&n())}}))},u=o.observe("layout-shift",c);u&&(n=r.bindReporter(e,t),s.onHidden((()=>{c(u.takeRecords()),n(!0)})))}},4709:(e,t,n)=>{Object.defineProperty(t,"__esModule",{value:!0});const r=n(1320),i=n(6790),o=n(4756),s=n(9038),a=n(357);t.onFID=e=>{const t=i.getVisibilityWatcher(),n=o.initMetric("FID");let l;const c=e=>{e.startTime<t.firstHiddenTime&&(n.value=e.processingStart-e.startTime,n.entries.push(e),l(!0))},u=e=>{e.forEach(c)},d=s.observe("first-input",u);l=r.bindReporter(e,n),d&&a.onHidden((()=>{u(d.takeRecords()),d.disconnect()}),!0)}},6985:(e,t,n)=>{Object.defineProperty(t,"__esModule",{value:!0});const r=n(1320),i=n(3400),o=n(6790),s=n(4756),a=n(9038),l=n(357),c={};t.onLCP=e=>{const t=o.getVisibilityWatcher(),n=s.initMetric("LCP");let u;const d=e=>{const r=e[e.length-1];if(r){const e=Math.max(r.startTime-i.getActivationStart(),0);e<t.firstHiddenTime&&(n.value=e,n.entries=[r],u())}},h=a.observe("largest-contentful-paint",d);if(h){u=r.bindReporter(e,n);const t=()=>{c[n.id]||(d(h.takeRecords()),h.disconnect(),c[n.id]=!0,u(!0))};["keydown","click"].forEach((e=>{addEventListener(e,t,{once:!0,capture:!0})})),l.onHidden(t,!0)}}},1320:(e,t)=>{Object.defineProperty(t,"__esModule",{value:!0});t.bindReporter=(e,t,n)=>{let r,i;return o=>{t.value>=0&&(o||n)&&(i=t.value-(r||0),(i||void 0===r)&&(r=t.value,t.delta=i,e(t)))}}},2847:(e,t)=>{Object.defineProperty(t,"__esModule",{value:!0});t.generateUniqueID=()=>`v3-${Date.now()}-${Math.floor(8999999999999*Math.random())+1e12}`},3400:(e,t,n)=>{Object.defineProperty(t,"__esModule",{value:!0});const r=n(2557);t.getActivationStart=()=>{const e=r.getNavigationEntry();return e&&e.activationStart||0}},2557:(e,t,n)=>{Object.defineProperty(t,"__esModule",{value:!0});const r=n(1818);t.getNavigationEntry=()=>r.WINDOW.__WEB_VITALS_POLYFILL__?r.WINDOW.performance&&(performance.getEntriesByType&&performance.getEntriesByType("navigation")[0]||(()=>{const e=r.WINDOW.performance.timing,t=r.WINDOW.performance.navigation.type,n={entryType:"navigation",startTime:0,type:2==t?"back_forward":1===t?"reload":"navigate"};for(const r in e)"navigationStart"!==r&&"toJSON"!==r&&(n[r]=Math.max(e[r]-e.navigationStart,0));return n})()):r.WINDOW.performance&&performance.getEntriesByType&&performance.getEntriesByType("navigation")[0]},6790:(e,t,n)=>{Object.defineProperty(t,"__esModule",{value:!0});const r=n(1818),i=n(357);let o=-1;t.getVisibilityWatcher=()=>(o<0&&(o="hidden"!==r.WINDOW.document.visibilityState||r.WINDOW.document.prerendering?1/0:0,i.onHidden((({timeStamp:e})=>{o=e}),!0)),{get firstHiddenTime(){return o}})},4756:(e,t,n)=>{Object.defineProperty(t,"__esModule",{value:!0});const r=n(1818),i=n(2847),o=n(3400),s=n(2557);t.initMetric=(e,t)=>{const n=s.getNavigationEntry();let a="navigate";return n&&(a=r.WINDOW.document.prerendering||o.getActivationStart()>0?"prerender":n.type.replace(/_/g,"-")),{name:e,value:void 0===t?-1:t,rating:"good",delta:0,entries:[],id:i.generateUniqueID(),navigationType:a}}},9038:(e,t)=>{Object.defineProperty(t,"__esModule",{value:!0});t.observe=(e,t,n)=>{try{if(PerformanceObserver.supportedEntryTypes.includes(e)){const r=new PerformanceObserver((e=>{t(e.getEntries())}));return r.observe(Object.assign({type:e,buffered:!0},n||{})),r}}catch(r){}}},357:(e,t,n)=>{Object.defineProperty(t,"__esModule",{value:!0});const r=n(1818);t.onHidden=(e,t)=>{const n=i=>{"pagehide"!==i.type&&"hidden"!==r.WINDOW.document.visibilityState||(e(i),t&&(removeEventListener("visibilitychange",n,!0),removeEventListener("pagehide",n,!0)))};addEventListener("visibilitychange",n,!0),addEventListener("pagehide",n,!0)}},4404:(e,t,n)=>{Object.defineProperty(t,"__esModule",{value:!0});const r=n(4023),i=n(1083);function o(){const e=i.getActiveTransaction();if(e){const t="internal_error";("undefined"==typeof __SENTRY_DEBUG__||__SENTRY_DEBUG__)&&r.logger.log(`[Tracing] Transaction: ${t} -> Global error occured`),e.setStatus(t)}}t.registerErrorInstrumentation=function(){r.addInstrumentationHandler("error",o),r.addInstrumentationHandler("unhandledrejection",o)}},3232:(e,t,n)=>{e=n.nmd(e),Object.defineProperty(t,"__esModule",{value:!0});const r=n(565),i=n(4023),o=n(4404),s=n(2524),a=n(3817);function l(){const e=this.getScope();if(e){const t=e.getSpan();if(t)return{"sentry-trace":t.toTraceparent()}}return{}}function c(e,t,n){if(!r.hasTracingEnabled(t))return e.sampled=!1,e;if(void 0!==e.sampled)return e.setMetadata({sampleRate:Number(e.sampled)}),e;let o;return"function"==typeof t.tracesSampler?(o=t.tracesSampler(n),e.setMetadata({sampleRate:Number(o)})):void 0!==n.parentSampled?o=n.parentSampled:void 0!==t.tracesSampleRate?(o=t.tracesSampleRate,e.setMetadata({sampleRate:Number(o)})):(o=1,e.setMetadata({sampleRate:o})),function(e){if(i.isNaN(e)||"number"!=typeof e&&"boolean"!=typeof e)return("undefined"==typeof __SENTRY_DEBUG__||__SENTRY_DEBUG__)&&i.logger.warn(`[Tracing] Given sample rate is invalid. Sample rate must be a boolean or a number between 0 and 1. Got ${JSON.stringify(e)} of type ${JSON.stringify(typeof e)}.`),!1;if(e<0||e>1)return("undefined"==typeof __SENTRY_DEBUG__||__SENTRY_DEBUG__)&&i.logger.warn(`[Tracing] Given sample rate is invalid. Sample rate must be between 0 and 1. Got ${e}.`),!1;return!0}(o)?o?(e.sampled=Math.random()<o,e.sampled?(("undefined"==typeof __SENTRY_DEBUG__||__SENTRY_DEBUG__)&&i.logger.log(`[Tracing] starting ${e.op} transaction - ${e.name}`),e):(("undefined"==typeof __SENTRY_DEBUG__||__SENTRY_DEBUG__)&&i.logger.log(`[Tracing] Discarding transaction because it's not included in the random sample (sampling rate = ${Number(o)})`),e)):(("undefined"==typeof __SENTRY_DEBUG__||__SENTRY_DEBUG__)&&i.logger.log("[Tracing] Discarding transaction because "+("function"==typeof t.tracesSampler?"tracesSampler returned 0 or false":"a negative sampling decision was inherited or tracesSampleRate is set to 0")),e.sampled=!1,e):(("undefined"==typeof __SENTRY_DEBUG__||__SENTRY_DEBUG__)&&i.logger.warn("[Tracing] Discarding transaction because of invalid sample rate."),e.sampled=!1,e)}function u(e,t){const n=this.getClient(),r=n&&n.getOptions()||{},o=r.instrumenter||"sentry",s=e.instrumenter||"sentry";o!==s&&(("undefined"==typeof __SENTRY_DEBUG__||__SENTRY_DEBUG__)&&i.logger.error(`A transaction was started with instrumenter=\`${s}\`, but the SDK is configured with the \`${o}\` instrumenter.\nThe transaction will not be sampled. Please use the ${o} instrumentation to start transactions.`),e.sampled=!1);let l=new a.Transaction(e,this);return l=c(l,r,{parentSampled:e.parentSampled,transactionContext:e,...t}),l.sampled&&l.initSpanRecorder(r._experiments&&r._experiments.maxSpans),l}function d(){const e=r.getMainCarrier();e.__SENTRY__&&(e.__SENTRY__.extensions=e.__SENTRY__.extensions||{},e.__SENTRY__.extensions.startTransaction||(e.__SENTRY__.extensions.startTransaction=u),e.__SENTRY__.extensions.traceHeaders||(e.__SENTRY__.extensions.traceHeaders=l))}t._addTracingExtensions=d,t.addExtensionMethods=function(){d(),i.isNodeEnv()&&function(){const t=r.getMainCarrier();if(!t.__SENTRY__)return;const n={mongodb:()=>new(i.dynamicRequire(e,"./integrations/node/mongo").Mongo),mongoose:()=>new(i.dynamicRequire(e,"./integrations/node/mongo").Mongo)({mongoose:!0}),mysql:()=>new(i.dynamicRequire(e,"./integrations/node/mysql").Mysql),pg:()=>new(i.dynamicRequire(e,"./integrations/node/postgres").Postgres)},o=Object.keys(n).filter((e=>!!i.loadModule(e))).map((e=>{try{return n[e]()}catch(t){return}})).filter((e=>e));o.length>0&&(t.__SENTRY__.integrations=[...t.__SENTRY__.integrations||[],...o])}(),o.registerErrorInstrumentation()},t.startIdleTransaction=function(e,t,n,r,i,o,a){const l=e.getClient(),u=l&&l.getOptions()||{};let d=new s.IdleTransaction(t,e,n,r,a,i);return d=c(d,u,{parentSampled:t.parentSampled,transactionContext:t,...o}),d.sampled&&d.initSpanRecorder(u._experiments&&u._experiments.maxSpans),d}},2524:(e,t,n)=>{Object.defineProperty(t,"__esModule",{value:!0});const r=n(4023),i=n(9171),o=n(3817);class IdleTransactionSpanRecorder extends i.SpanRecorder{constructor(e,t,n,r){super(r),this._pushActivity=e,this._popActivity=t,this.transactionSpanId=n}add(e){e.spanId!==this.transactionSpanId&&(e.finish=t=>{e.endTimestamp="number"==typeof t?t:r.timestampWithMs(),this._popActivity(e.spanId)},void 0===e.endTimestamp&&this._pushActivity(e.spanId)),super.add(e)}}class IdleTransaction extends o.Transaction{__init(){this.activities={}}__init2(){this._heartbeatCounter=0}__init3(){this._finished=!1}__init4(){this._beforeFinishCallbacks=[]}constructor(e,t,n=1e3,i=3e4,o=5e3,a=!1){super(e,t),this._idleHub=t,this._idleTimeout=n,this._finalTimeout=i,this._heartbeatInterval=o,this._onScope=a,IdleTransaction.prototype.__init.call(this),IdleTransaction.prototype.__init2.call(this),IdleTransaction.prototype.__init3.call(this),IdleTransaction.prototype.__init4.call(this),a&&(s(t),("undefined"==typeof __SENTRY_DEBUG__||__SENTRY_DEBUG__)&&r.logger.log(`Setting idle transaction on scope. Span ID: ${this.spanId}`),t.configureScope((e=>e.setSpan(this)))),this._startIdleTimeout(),setTimeout((()=>{this._finished||(this.setStatus("deadline_exceeded"),this.finish())}),this._finalTimeout)}finish(e=r.timestampWithMs()){if(this._finished=!0,this.activities={},this.spanRecorder){("undefined"==typeof __SENTRY_DEBUG__||__SENTRY_DEBUG__)&&r.logger.log("[Tracing] finishing IdleTransaction",new Date(1e3*e).toISOString(),this.op);for(const t of this._beforeFinishCallbacks)t(this,e);this.spanRecorder.spans=this.spanRecorder.spans.filter((t=>{if(t.spanId===this.spanId)return!0;t.endTimestamp||(t.endTimestamp=e,t.setStatus("cancelled"),("undefined"==typeof __SENTRY_DEBUG__||__SENTRY_DEBUG__)&&r.logger.log("[Tracing] cancelling span since transaction ended early",JSON.stringify(t,void 0,2)));const n=t.startTimestamp<e;return n||("undefined"==typeof __SENTRY_DEBUG__||__SENTRY_DEBUG__)&&r.logger.log("[Tracing] discarding Span since it happened after Transaction was finished",JSON.stringify(t,void 0,2)),n})),("undefined"==typeof __SENTRY_DEBUG__||__SENTRY_DEBUG__)&&r.logger.log("[Tracing] flushing IdleTransaction")}else("undefined"==typeof __SENTRY_DEBUG__||__SENTRY_DEBUG__)&&r.logger.log("[Tracing] No active IdleTransaction");return this._onScope&&s(this._idleHub),super.finish(e)}registerBeforeFinishCallback(e){this._beforeFinishCallbacks.push(e)}initSpanRecorder(e){if(!this.spanRecorder){const t=e=>{this._finished||this._pushActivity(e)},n=e=>{this._finished||this._popActivity(e)};this.spanRecorder=new IdleTransactionSpanRecorder(t,n,this.spanId,e),("undefined"==typeof __SENTRY_DEBUG__||__SENTRY_DEBUG__)&&r.logger.log("Starting heartbeat"),this._pingHeartbeat()}this.spanRecorder.add(this)}_cancelIdleTimeout(){this._idleTimeoutID&&(clearTimeout(this._idleTimeoutID),this._idleTimeoutID=void 0)}_startIdleTimeout(e){this._cancelIdleTimeout(),this._idleTimeoutID=setTimeout((()=>{this._finished||0!==Object.keys(this.activities).length||this.finish(e)}),this._idleTimeout)}_pushActivity(e){this._cancelIdleTimeout(),("undefined"==typeof __SENTRY_DEBUG__||__SENTRY_DEBUG__)&&r.logger.log(`[Tracing] pushActivity: ${e}`),this.activities[e]=!0,("undefined"==typeof __SENTRY_DEBUG__||__SENTRY_DEBUG__)&&r.logger.log("[Tracing] new activities count",Object.keys(this.activities).length)}_popActivity(e){if(this.activities[e]&&(("undefined"==typeof __SENTRY_DEBUG__||__SENTRY_DEBUG__)&&r.logger.log(`[Tracing] popActivity ${e}`),delete this.activities[e],("undefined"==typeof __SENTRY_DEBUG__||__SENTRY_DEBUG__)&&r.logger.log("[Tracing] new activities count",Object.keys(this.activities).length)),0===Object.keys(this.activities).length){const e=r.timestampWithMs()+this._idleTimeout/1e3;this._startIdleTimeout(e)}}_beat(){if(this._finished)return;const e=Object.keys(this.activities).join("");e===this._prevHeartbeatString?this._heartbeatCounter++:this._heartbeatCounter=1,this._prevHeartbeatString=e,this._heartbeatCounter>=3?(("undefined"==typeof __SENTRY_DEBUG__||__SENTRY_DEBUG__)&&r.logger.log("[Tracing] Transaction finished because of no change for 3 heart beats"),this.setStatus("deadline_exceeded"),this.finish()):this._pingHeartbeat()}_pingHeartbeat(){("undefined"==typeof __SENTRY_DEBUG__||__SENTRY_DEBUG__)&&r.logger.log(`pinging Heartbeat -> current counter: ${this._heartbeatCounter}`),setTimeout((()=>{this._beat()}),this._heartbeatInterval)}}function s(e){const t=e.getScope();if(t){t.getTransaction()&&t.setSpan(void 0)}}t.DEFAULT_FINAL_TIMEOUT=3e4,t.DEFAULT_HEARTBEAT_INTERVAL=5e3,t.DEFAULT_IDLE_TIMEOUT=1e3,t.IdleTransaction=IdleTransaction,t.IdleTransactionSpanRecorder=IdleTransactionSpanRecorder},8428:(e,t,n)=>{const r=n(3232),i=n(7714),o=n(1956),s=n(9006),a=n(9171),l=n(6984),c=n(3817),u=n(2524),d=n(1083),h=n(4023);("undefined"==typeof __SENTRY_TRACING__||__SENTRY_TRACING__)&&r.addExtensionMethods(),r.addExtensionMethods,r.startIdleTransaction,o.BROWSER_TRACING_INTEGRATION_ID,t.gE=o.BrowserTracing,s.defaultRequestInstrumentationOptions,s.instrumentOutgoingRequests,a.Span,a.spanStatusfromHttpCode,c.Transaction,u.IdleTransaction,d.getActiveTransaction,d.hasTracingEnabled,h.TRACEPARENT_REGEXP,h.extractTraceparentData,h.stripUrlQueryAndFragment},7714:(e,t,n)=>{Object.defineProperty(t,"__esModule",{value:!0});const r=n(2512),i=n(9638),o=n(9925),s=n(3830),a=n(3084),l=n(2926),c=n(353),u=n(1956);n(565),n(4023),t.Express=r.Express,t.Postgres=i.Postgres,t.Mysql=o.Mysql,t.Mongo=s.Mongo,t.Prisma=a.Prisma,t.GraphQL=l.GraphQL,t.Apollo=c.Apollo,t.BrowserTracing=u.BrowserTracing},353:(e,t,n)=>{var{_optionalChain:r}=n(3363);Object.defineProperty(t,"__esModule",{value:!0});const i=n(4023),o=n(9992);class Apollo{static __initStatic(){this.id="Apollo"}__init(){this.name=Apollo.id}constructor(e={useNestjs:!1}){Apollo.prototype.__init.call(this),this._useNest=!!e.useNestjs}setupOnce(e,t){if(o.shouldDisableAutoInstrumentation(t))("undefined"==typeof __SENTRY_DEBUG__||__SENTRY_DEBUG__)&&i.logger.log("Apollo Integration is skipped because of instrumenter configuration.");else if(this._useNest){const e=i.loadModule("@nestjs/graphql");if(!e)return void(("undefined"==typeof __SENTRY_DEBUG__||__SENTRY_DEBUG__)&&i.logger.error("Apollo-NestJS Integration was unable to require @nestjs/graphql package."));i.fill(e.GraphQLFactory.prototype,"mergeWithSchema",(function(e){return function(...n){return i.fill(this.resolversExplorerService,"explore",(function(e){return function(){return s(i.arrayify(e.call(this)),t)}})),e.call(this,...n)}}))}else{const e=i.loadModule("apollo-server-core");if(!e)return void(("undefined"==typeof __SENTRY_DEBUG__||__SENTRY_DEBUG__)&&i.logger.error("Apollo Integration was unable to require apollo-server-core package."));i.fill(e.ApolloServerBase.prototype,"constructSchema",(function(e){return function(){if(!this.config.resolvers)return("undefined"==typeof __SENTRY_DEBUG__||__SENTRY_DEBUG__)&&(this.config.schema?(i.logger.warn("Apollo integration is not able to trace `ApolloServer` instances constructed via `schema` property.If you are using NestJS with Apollo, please use `Sentry.Integrations.Apollo({ useNestjs: true })` instead."),i.logger.warn()):this.config.modules&&i.logger.warn("Apollo integration is not able to trace `ApolloServer` instances constructed via `modules` property."),i.logger.error("Skipping tracing as no resolvers found on the `ApolloServer` instance.")),e.call(this);const n=i.arrayify(this.config.resolvers);return this.config.resolvers=s(n,t),e.call(this)}}))}}}function s(e,t){return e.map((e=>(Object.keys(e).forEach((n=>{Object.keys(e[n]).forEach((o=>{"function"==typeof e[n][o]&&function(e,t,n,o){i.fill(e[t],n,(function(e){return function(...s){const a=o().getScope(),l=r([a,"optionalAccess",e=>e.getSpan,"call",e=>e()]),c=r([l,"optionalAccess",e=>e.startChild,"call",e=>e({description:`${t}.${n}`,op:"graphql.resolve"})]),u=e.call(this,...s);return i.isThenable(u)?u.then((e=>(r([c,"optionalAccess",e=>e.finish,"call",e=>e()]),e))):(r([c,"optionalAccess",e=>e.finish,"call",e=>e()]),u)}}))}(e,n,o,t)}))})),e)))}Apollo.__initStatic(),t.Apollo=Apollo},2512:(e,t,n)=>{var{_optionalChain:r}=n(3363);Object.defineProperty(t,"__esModule",{value:!0});const i=n(4023),o=n(9992);class Express{static __initStatic(){this.id="Express"}__init(){this.name=Express.id}constructor(e={}){Express.prototype.__init.call(this),this._router=e.router||e.app,this._methods=(Array.isArray(e.methods)?e.methods:[]).concat("use")}setupOnce(e,t){this._router?o.shouldDisableAutoInstrumentation(t)?("undefined"==typeof __SENTRY_DEBUG__||__SENTRY_DEBUG__)&&i.logger.log("Express Integration is skipped because of instrumenter configuration."):(function(e,t=[]){t.forEach((t=>function(e,t){const n=e[t];return e[t]=function(...e){return n.call(this,...function(e,t){return e.map((e=>"function"==typeof e?s(e,t):Array.isArray(e)?e.map((e=>"function"==typeof e?s(e,t):e)):e))}(e,t))},e}(e,t)))}(this._router,this._methods),function(e){const t="settings"in e;t&&void 0===e._router&&e.lazyrouter&&e.lazyrouter();const n=t?e._router:e;if(!n)return("undefined"==typeof __SENTRY_DEBUG__||__SENTRY_DEBUG__)&&i.logger.debug("Cannot instrument router for URL Parameterization (did not find a valid router)."),void(("undefined"==typeof __SENTRY_DEBUG__||__SENTRY_DEBUG__)&&i.logger.debug("Routing instrumentation is currently only supported in Express 4."));const o=Object.getPrototypeOf(n),s=o.process_params;o.process_params=function(e,t,n,o,a){n._reconstructedRoute||(n._reconstructedRoute="");const{layerRoutePath:l,isRegex:c,isArray:u,numExtraSegments:d}=function(e){const t=r([e,"access",e=>e.route,"optionalAccess",e=>e.path]),n=i.isRegExp(t),o=Array.isArray(t);if(!t)return{isRegex:n,isArray:o,numExtraSegments:0};const s=o?Math.max((l=t,l.reduce(((e,t)=>e+i.getNumberOfUrlSegments(t.toString())),0)-i.getNumberOfUrlSegments(e.path||"")),0):0,a=function(e,t){if(e)return t.map((e=>e.toString())).join(",");return t&&t.toString()}(o,t);var l;return{layerRoutePath:a,isRegex:n,isArray:o,numExtraSegments:s}}(e);(l||c||u)&&(n._hasParameters=!0);const h=(l||e.path||"").split("/").filter((e=>e.length>0&&(c||u||!e.includes("*")))).join("/");h&&h.length>0&&(n._reconstructedRoute+=`/${h}${c?"/":""}`);if(i.getNumberOfUrlSegments(n.originalUrl||"")+d===i.getNumberOfUrlSegments(n._reconstructedRoute)){n._hasParameters||n._reconstructedRoute!==n.originalUrl&&(n._reconstructedRoute=n.originalUrl);const e=o.__sentry_transaction;if(e&&"custom"!==e.metadata.source){const t=n._reconstructedRoute||"/";e.setName(...i.extractPathForTransaction(n,{path:!0,method:!0,customRoute:t}))}}return s.call(this,e,t,n,o,a)}}(this._router)):("undefined"==typeof __SENTRY_DEBUG__||__SENTRY_DEBUG__)&&i.logger.error("ExpressIntegration is missing an Express instance")}}function s(e,t){const n=e.length;switch(n){case 2:return function(n,r){const i=r.__sentry_transaction;if(i){const n=i.startChild({description:e.name,op:`middleware.express.${t}`});r.once("finish",(()=>{n.finish()}))}return e.call(this,n,r)};case 3:return function(n,i,o){const s=i.__sentry_transaction,a=r([s,"optionalAccess",e=>e.startChild,"call",n=>n({description:e.name,op:`middleware.express.${t}`})]);e.call(this,n,i,(function(...e){r([a,"optionalAccess",e=>e.finish,"call",e=>e()]),o.call(this,...e)}))};case 4:return function(n,i,o,s){const a=o.__sentry_transaction,l=r([a,"optionalAccess",e=>e.startChild,"call",n=>n({description:e.name,op:`middleware.express.${t}`})]);e.call(this,n,i,o,(function(...e){r([l,"optionalAccess",e=>e.finish,"call",e=>e()]),s.call(this,...e)}))};default:throw new Error(`Express middleware takes 2-4 arguments. Got: ${n}`)}}Express.__initStatic(),t.Express=Express},2926:(e,t,n)=>{var{_optionalChain:r}=n(3363);Object.defineProperty(t,"__esModule",{value:!0});const i=n(4023),o=n(9992);class GraphQL{constructor(){GraphQL.prototype.__init.call(this)}static __initStatic(){this.id="GraphQL"}__init(){this.name=GraphQL.id}setupOnce(e,t){if(o.shouldDisableAutoInstrumentation(t))return void(("undefined"==typeof __SENTRY_DEBUG__||__SENTRY_DEBUG__)&&i.logger.log("GraphQL Integration is skipped because of instrumenter configuration."));const n=i.loadModule("graphql/execution/execute.js");n?i.fill(n,"execute",(function(e){return function(...n){const o=t().getScope(),s=r([o,"optionalAccess",e=>e.getSpan,"call",e=>e()]),a=r([s,"optionalAccess",e=>e.startChild,"call",e=>e({description:"execute",op:"graphql.execute"})]);r([o,"optionalAccess",e=>e.setSpan,"call",e=>e(a)]);const l=e.call(this,...n);return i.isThenable(l)?l.then((e=>(r([a,"optionalAccess",e=>e.finish,"call",e=>e()]),r([o,"optionalAccess",e=>e.setSpan,"call",e=>e(s)]),e))):(r([a,"optionalAccess",e=>e.finish,"call",e=>e()]),r([o,"optionalAccess",e=>e.setSpan,"call",e=>e(s)]),l)}})):("undefined"==typeof __SENTRY_DEBUG__||__SENTRY_DEBUG__)&&i.logger.error("GraphQL Integration was unable to require graphql/execution package.")}}GraphQL.__initStatic(),t.GraphQL=GraphQL},3830:(e,t,n)=>{var{_optionalChain:r}=n(3363);Object.defineProperty(t,"__esModule",{value:!0});const i=n(4023),o=n(9992),s=["aggregate","bulkWrite","countDocuments","createIndex","createIndexes","deleteMany","deleteOne","distinct","drop","dropIndex","dropIndexes","estimatedDocumentCount","find","findOne","findOneAndDelete","findOneAndReplace","findOneAndUpdate","indexes","indexExists","indexInformation","initializeOrderedBulkOp","insertMany","insertOne","isCapped","mapReduce","options","parallelCollectionScan","rename","replaceOne","stats","updateMany","updateOne"],a={bulkWrite:["operations"],countDocuments:["query"],createIndex:["fieldOrSpec"],createIndexes:["indexSpecs"],deleteMany:["filter"],deleteOne:["filter"],distinct:["key","query"],dropIndex:["indexName"],find:["query"],findOne:["query"],findOneAndDelete:["filter"],findOneAndReplace:["filter","replacement"],findOneAndUpdate:["filter","update"],indexExists:["indexes"],insertMany:["docs"],insertOne:["doc"],mapReduce:["map","reduce"],rename:["newName"],replaceOne:["filter","doc"],updateMany:["filter","update"],updateOne:["filter","update"]};class Mongo{static __initStatic(){this.id="Mongo"}__init(){this.name=Mongo.id}constructor(e={}){Mongo.prototype.__init.call(this),this._operations=Array.isArray(e.operations)?e.operations:s,this._describeOperations=!("describeOperations"in e)||e.describeOperations,this._useMongoose=!!e.useMongoose}setupOnce(e,t){if(o.shouldDisableAutoInstrumentation(t))return void(("undefined"==typeof __SENTRY_DEBUG__||__SENTRY_DEBUG__)&&i.logger.log("Mongo Integration is skipped because of instrumenter configuration."));const n=this._useMongoose?"mongoose":"mongodb",r=i.loadModule(n);r?this._instrumentOperations(r.Collection,this._operations,t):("undefined"==typeof __SENTRY_DEBUG__||__SENTRY_DEBUG__)&&i.logger.error(`Mongo Integration was unable to require \`${n}\` package.`)}_instrumentOperations(e,t,n){t.forEach((t=>this._patchOperation(e,t,n)))}_patchOperation(e,t,n){if(!(t in e.prototype))return;const o=this._getSpanContextFromOperationArguments.bind(this);i.fill(e.prototype,t,(function(e){return function(...s){const a=s[s.length-1],l=n().getScope(),c=r([l,"optionalAccess",e=>e.getSpan,"call",e=>e()]);if("function"!=typeof a||"mapReduce"===t&&2===s.length){const n=r([c,"optionalAccess",e=>e.startChild,"call",e=>e(o(this,t,s))]),a=e.call(this,...s);if(i.isThenable(a))return a.then((e=>(r([n,"optionalAccess",e=>e.finish,"call",e=>e()]),e)));if((u=a)&&"object"==typeof u&&u.once&&"function"==typeof u.once){const e=a;try{e.once("close",(()=>{r([n,"optionalAccess",e=>e.finish,"call",e=>e()])}))}catch(h){r([n,"optionalAccess",e=>e.finish,"call",e=>e()])}return e}return r([n,"optionalAccess",e=>e.finish,"call",e=>e()]),a}var u;const d=r([c,"optionalAccess",e=>e.startChild,"call",e=>e(o(this,t,s.slice(0,-1)))]);return e.call(this,...s.slice(0,-1),(function(e,t){r([d,"optionalAccess",e=>e.finish,"call",e=>e()]),a(e,t)}))}}))}_getSpanContextFromOperationArguments(e,t,n){const r={collectionName:e.collectionName,dbName:e.dbName,namespace:e.namespace},i={op:"db",description:t,data:r},o=a[t],s=Array.isArray(this._describeOperations)?this._describeOperations.includes(t):this._describeOperations;if(!o||!s)return i;try{if("mapReduce"===t){const[e,t]=n;r[o[0]]="string"==typeof e?e:e.name||"<anonymous>",r[o[1]]="string"==typeof t?t:t.name||"<anonymous>"}else for(let e=0;e<o.length;e++)r[o[e]]=JSON.stringify(n[e])}catch(l){}return i}}Mongo.__initStatic(),t.Mongo=Mongo},9925:(e,t,n)=>{var{_optionalChain:r}=n(3363);Object.defineProperty(t,"__esModule",{value:!0});const i=n(4023),o=n(9992);class Mysql{constructor(){Mysql.prototype.__init.call(this)}static __initStatic(){this.id="Mysql"}__init(){this.name=Mysql.id}setupOnce(e,t){if(o.shouldDisableAutoInstrumentation(t))return void(("undefined"==typeof __SENTRY_DEBUG__||__SENTRY_DEBUG__)&&i.logger.log("Mysql Integration is skipped because of instrumenter configuration."));const n=i.loadModule("mysql/lib/Connection.js");n?i.fill(n,"createQuery",(function(e){return function(n,i,o){const s=t().getScope(),a=r([s,"optionalAccess",e=>e.getSpan,"call",e=>e()]),l=r([a,"optionalAccess",e=>e.startChild,"call",e=>e({description:"string"==typeof n?n:n.sql,op:"db"})]);return"function"==typeof o?e.call(this,n,i,(function(e,t,n){r([l,"optionalAccess",e=>e.finish,"call",e=>e()]),o(e,t,n)})):"function"==typeof i?e.call(this,n,(function(e,t,n){r([l,"optionalAccess",e=>e.finish,"call",e=>e()]),i(e,t,n)})):e.call(this,n,i,o)}})):("undefined"==typeof __SENTRY_DEBUG__||__SENTRY_DEBUG__)&&i.logger.error("Mysql Integration was unable to require `mysql` package.")}}Mysql.__initStatic(),t.Mysql=Mysql},9638:(e,t,n)=>{var{_optionalChain:r}=n(3363);Object.defineProperty(t,"__esModule",{value:!0});const i=n(4023),o=n(9992);class Postgres{static __initStatic(){this.id="Postgres"}__init(){this.name=Postgres.id}constructor(e={}){Postgres.prototype.__init.call(this),this._usePgNative=!!e.usePgNative}setupOnce(e,t){if(o.shouldDisableAutoInstrumentation(t))return void(("undefined"==typeof __SENTRY_DEBUG__||__SENTRY_DEBUG__)&&i.logger.log("Postgres Integration is skipped because of instrumenter configuration."));const n=i.loadModule("pg");if(!n)return void(("undefined"==typeof __SENTRY_DEBUG__||__SENTRY_DEBUG__)&&i.logger.error("Postgres Integration was unable to require `pg` package."));if(this._usePgNative&&!r([n,"access",e=>e.native,"optionalAccess",e=>e.Client]))return void(("undefined"==typeof __SENTRY_DEBUG__||__SENTRY_DEBUG__)&&i.logger.error("Postgres Integration was unable to access 'pg-native' bindings."));const{Client:s}=this._usePgNative?n.native:n;i.fill(s.prototype,"query",(function(e){return function(n,o,s){const a=t().getScope(),l=r([a,"optionalAccess",e=>e.getSpan,"call",e=>e()]),c=r([l,"optionalAccess",e=>e.startChild,"call",e=>e({description:"string"==typeof n?n:n.text,op:"db"})]);if("function"==typeof s)return e.call(this,n,o,(function(e,t){r([c,"optionalAccess",e=>e.finish,"call",e=>e()]),s(e,t)}));if("function"==typeof o)return e.call(this,n,(function(e,t){r([c,"optionalAccess",e=>e.finish,"call",e=>e()]),o(e,t)}));const u=void 0!==o?e.call(this,n,o):e.call(this,n);return i.isThenable(u)?u.then((e=>(r([c,"optionalAccess",e=>e.finish,"call",e=>e()]),e))):(r([c,"optionalAccess",e=>e.finish,"call",e=>e()]),u)}}))}}Postgres.__initStatic(),t.Postgres=Postgres},3084:(e,t,n)=>{var{_optionalChain:r}=n(3363);Object.defineProperty(t,"__esModule",{value:!0});const i=n(4023),o=n(9992);class Prisma{static __initStatic(){this.id="Prisma"}__init(){this.name=Prisma.id}constructor(e={}){var t;Prisma.prototype.__init.call(this),(t=e.client)&&t.$use?this._client=e.client:("undefined"==typeof __SENTRY_DEBUG__||__SENTRY_DEBUG__)&&i.logger.warn(`Unsupported Prisma client provided to PrismaIntegration. Provided client: ${JSON.stringify(e.client)}`)}setupOnce(e,t){this._client?o.shouldDisableAutoInstrumentation(t)?("undefined"==typeof __SENTRY_DEBUG__||__SENTRY_DEBUG__)&&i.logger.log("Prisma Integration is skipped because of instrumenter configuration."):this._client.$use(((e,n)=>{const o=t().getScope(),s=r([o,"optionalAccess",e=>e.getSpan,"call",e=>e()]),a=e.action,l=e.model,c=r([s,"optionalAccess",e=>e.startChild,"call",e=>e({description:l?`${l} ${a}`:a,op:"db.sql.prisma"})]),u=n(e);return i.isThenable(u)?u.then((e=>(r([c,"optionalAccess",e=>e.finish,"call",e=>e()]),e))):(r([c,"optionalAccess",e=>e.finish,"call",e=>e()]),u)})):("undefined"==typeof __SENTRY_DEBUG__||__SENTRY_DEBUG__)&&i.logger.error("PrismaIntegration is missing a Prisma Client Instance")}}Prisma.__initStatic(),t.Prisma=Prisma},9992:(e,t,n)=>{var{_optionalChain:r}=n(3363);Object.defineProperty(t,"__esModule",{value:!0}),t.shouldDisableAutoInstrumentation=function(e){const t=r([e,"call",e=>e(),"access",e=>e.getClient,"call",e=>e(),"optionalAccess",e=>e.getOptions,"call",e=>e()]);return"sentry"!==(r([t,"optionalAccess",e=>e.instrumenter])||"sentry")}},9171:(e,t,n)=>{Object.defineProperty(t,"__esModule",{value:!0});const r=n(4023);class SpanRecorder{__init(){this.spans=[]}constructor(e=1e3){SpanRecorder.prototype.__init.call(this),this._maxlen=e}add(e){this.spans.length>this._maxlen?e.spanRecorder=void 0:this.spans.push(e)}}class Span{__init2(){this.traceId=r.uuid4()}__init3(){this.spanId=r.uuid4().substring(16)}__init4(){this.startTimestamp=r.timestampWithMs()}__init5(){this.tags={}}__init6(){this.data={}}__init7(){this.instrumenter="sentry"}constructor(e){if(Span.prototype.__init2.call(this),Span.prototype.__init3.call(this),Span.prototype.__init4.call(this),Span.prototype.__init5.call(this),Span.prototype.__init6.call(this),Span.prototype.__init7.call(this),!e)return this;e.traceId&&(this.traceId=e.traceId),e.spanId&&(this.spanId=e.spanId),e.parentSpanId&&(this.parentSpanId=e.parentSpanId),"sampled"in e&&(this.sampled=e.sampled),e.op&&(this.op=e.op),e.description&&(this.description=e.description),e.data&&(this.data=e.data),e.tags&&(this.tags=e.tags),e.status&&(this.status=e.status),e.startTimestamp&&(this.startTimestamp=e.startTimestamp),e.endTimestamp&&(this.endTimestamp=e.endTimestamp),e.instrumenter&&(this.instrumenter=e.instrumenter)}startChild(e){const t=new Span({...e,parentSpanId:this.spanId,sampled:this.sampled,traceId:this.traceId});if(t.spanRecorder=this.spanRecorder,t.spanRecorder&&t.spanRecorder.add(t),t.transaction=this.transaction,("undefined"==typeof __SENTRY_DEBUG__||__SENTRY_DEBUG__)&&t.transaction){const n=`[Tracing] Starting '${e&&e.op||"< unknown op >"}' span on transaction '${t.transaction.name||"< unknown name >"}' (${t.transaction.spanId}).`;t.transaction.metadata.spanMetadata[t.spanId]={logMessage:n},r.logger.log(n)}return t}setTag(e,t){return this.tags={...this.tags,[e]:t},this}setData(e,t){return this.data={...this.data,[e]:t},this}setStatus(e){return this.status=e,this}setHttpStatus(e){this.setTag("http.status_code",String(e));const t=i(e);return"unknown_error"!==t&&this.setStatus(t),this}isSuccess(){return"ok"===this.status}finish(e){if(("undefined"==typeof __SENTRY_DEBUG__||__SENTRY_DEBUG__)&&this.transaction&&this.transaction.spanId!==this.spanId){const{logMessage:e}=this.transaction.metadata.spanMetadata[this.spanId];e&&r.logger.log(e.replace("Starting","Finishing"))}this.endTimestamp="number"==typeof e?e:r.timestampWithMs()}toTraceparent(){let e="";return void 0!==this.sampled&&(e=this.sampled?"-1":"-0"),`${this.traceId}-${this.spanId}${e}`}toContext(){return r.dropUndefinedKeys({data:this.data,description:this.description,endTimestamp:this.endTimestamp,op:this.op,parentSpanId:this.parentSpanId,sampled:this.sampled,spanId:this.spanId,startTimestamp:this.startTimestamp,status:this.status,tags:this.tags,traceId:this.traceId})}updateWithContext(e){return this.data=e.data||{},this.description=e.description,this.endTimestamp=e.endTimestamp,this.op=e.op,this.parentSpanId=e.parentSpanId,this.sampled=e.sampled,this.spanId=e.spanId||this.spanId,this.startTimestamp=e.startTimestamp||this.startTimestamp,this.status=e.status,this.tags=e.tags||{},this.traceId=e.traceId||this.traceId,this}getTraceContext(){return r.dropUndefinedKeys({data:Object.keys(this.data).length>0?this.data:void 0,description:this.description,op:this.op,parent_span_id:this.parentSpanId,span_id:this.spanId,status:this.status,tags:Object.keys(this.tags).length>0?this.tags:void 0,trace_id:this.traceId})}toJSON(){return r.dropUndefinedKeys({data:Object.keys(this.data).length>0?this.data:void 0,description:this.description,op:this.op,parent_span_id:this.parentSpanId,span_id:this.spanId,start_timestamp:this.startTimestamp,status:this.status,tags:Object.keys(this.tags).length>0?this.tags:void 0,timestamp:this.endTimestamp,trace_id:this.traceId})}}function i(e){if(e<400&&e>=100)return"ok";if(e>=400&&e<500)switch(e){case 401:return"unauthenticated";case 403:return"permission_denied";case 404:return"not_found";case 409:return"already_exists";case 413:return"failed_precondition";case 429:return"resource_exhausted";default:return"invalid_argument"}if(e>=500&&e<600)switch(e){case 501:return"unimplemented";case 503:return"unavailable";case 504:return"deadline_exceeded";default:return"internal_error"}return"unknown_error"}t.Span=Span,t.SpanRecorder=SpanRecorder,t.spanStatusfromHttpCode=i},6984:(e,t)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.SpanStatus=void 0,function(e){e.Ok="ok";e.DeadlineExceeded="deadline_exceeded";e.Unauthenticated="unauthenticated";e.PermissionDenied="permission_denied";e.NotFound="not_found";e.ResourceExhausted="resource_exhausted";e.InvalidArgument="invalid_argument";e.Unimplemented="unimplemented";e.Unavailable="unavailable";e.InternalError="internal_error";e.UnknownError="unknown_error";e.Cancelled="cancelled";e.AlreadyExists="already_exists";e.FailedPrecondition="failed_precondition";e.Aborted="aborted";e.OutOfRange="out_of_range";e.DataLoss="data_loss"}(t.SpanStatus||(t.SpanStatus={}))},3817:(e,t,n)=>{Object.defineProperty(t,"__esModule",{value:!0});const r=n(565),i=n(4023),o=n(9171);class Transaction extends o.Span{__init(){this._measurements={}}__init2(){this._contexts={}}__init3(){this._frozenDynamicSamplingContext=void 0}constructor(e,t){super(e),Transaction.prototype.__init.call(this),Transaction.prototype.__init2.call(this),Transaction.prototype.__init3.call(this),this._hub=t||r.getCurrentHub(),this._name=e.name||"",this.metadata={source:"custom",...e.metadata,spanMetadata:{}},this._trimEnd=e.trimEnd,this.transaction=this;const n=this.metadata.dynamicSamplingContext;n&&(this._frozenDynamicSamplingContext={...n})}get name(){return this._name}set name(e){this.setName(e)}setName(e,t="custom"){this._name=e,this.metadata.source=t}initSpanRecorder(e=1e3){this.spanRecorder||(this.spanRecorder=new o.SpanRecorder(e)),this.spanRecorder.add(this)}setContext(e,t){null===t?delete this._contexts[e]:this._contexts[e]=t}setMeasurement(e,t,n=""){this._measurements[e]={value:t,unit:n}}setMetadata(e){this.metadata={...this.metadata,...e}}finish(e){if(void 0!==this.endTimestamp)return;if(this.name||(("undefined"==typeof __SENTRY_DEBUG__||__SENTRY_DEBUG__)&&i.logger.warn("Transaction has no name, falling back to `<unlabeled transaction>`."),this.name="<unlabeled transaction>"),super.finish(e),!0!==this.sampled){("undefined"==typeof __SENTRY_DEBUG__||__SENTRY_DEBUG__)&&i.logger.log("[Tracing] Discarding transaction because its trace was not chosen to be sampled.");const e=this._hub.getClient();return void(e&&e.recordDroppedEvent("sample_rate","transaction"))}const t=this.spanRecorder?this.spanRecorder.spans.filter((e=>e!==this&&e.endTimestamp)):[];this._trimEnd&&t.length>0&&(this.endTimestamp=t.reduce(((e,t)=>e.endTimestamp&&t.endTimestamp?e.endTimestamp>t.endTimestamp?e:t:e)).endTimestamp);const n=this.metadata,r={contexts:{...this._contexts,trace:this.getTraceContext()},spans:t,start_timestamp:this.startTimestamp,tags:this.tags,timestamp:this.endTimestamp,transaction:this.name,type:"transaction",sdkProcessingMetadata:{...n,dynamicSamplingContext:this.getDynamicSamplingContext()},...n.source&&{transaction_info:{source:n.source}}};return Object.keys(this._measurements).length>0&&(("undefined"==typeof __SENTRY_DEBUG__||__SENTRY_DEBUG__)&&i.logger.log("[Measurements] Adding measurements to transaction",JSON.stringify(this._measurements,void 0,2)),r.measurements=this._measurements),("undefined"==typeof __SENTRY_DEBUG__||__SENTRY_DEBUG__)&&i.logger.log(`[Tracing] Finishing ${this.op} transaction: ${this.name}.`),this._hub.captureEvent(r)}toContext(){const e=super.toContext();return i.dropUndefinedKeys({...e,name:this.name,trimEnd:this._trimEnd})}updateWithContext(e){return super.updateWithContext(e),this.name=e.name||"",this._trimEnd=e.trimEnd,this}getDynamicSamplingContext(){if(this._frozenDynamicSamplingContext)return this._frozenDynamicSamplingContext;const e=this._hub||r.getCurrentHub(),t=e&&e.getClient();if(!t)return{};const{environment:n,release:o}=t.getOptions()||{},{publicKey:s}=t.getDsn()||{},a=this.metadata.sampleRate,l=void 0!==a?a.toString():void 0,c=e.getScope(),{segment:u}=c&&c.getUser()||{},d=this.metadata.source,h=d&&"url"!==d?this.name:void 0;return i.dropUndefinedKeys({environment:n,release:o,transaction:h,user_segment:u,public_key:s,trace_id:this.traceId,sample_rate:l})}}t.Transaction=Transaction},1083:(e,t,n)=>{Object.defineProperty(t,"__esModule",{value:!0});const r=n(565),i=n(4023);t.TRACEPARENT_REGEXP=i.TRACEPARENT_REGEXP,t.extractTraceparentData=i.extractTraceparentData,t.stripUrlQueryAndFragment=i.stripUrlQueryAndFragment,t.getActiveTransaction=function(e){const t=(e||r.getCurrentHub()).getScope();return t&&t.getTransaction()},t.hasTracingEnabled=function(e){return r.hasTracingEnabled(e)},t.msToSec=function(e){return e/1e3}},9693:(e,t,n)=>{Object.defineProperty(t,"__esModule",{value:!0});const r=n(3988),i=n(8579),o="sentry-",s=/^sentry-/,a=8192;function l(e){return e.split(",").map((e=>e.split("=").map((e=>decodeURIComponent(e.trim()))))).reduce(((e,[t,n])=>(e[t]=n,e)),{})}t.BAGGAGE_HEADER_NAME="baggage",t.MAX_BAGGAGE_STRING_LENGTH=a,t.SENTRY_BAGGAGE_KEY_PREFIX=o,t.SENTRY_BAGGAGE_KEY_PREFIX_REGEX=s,t.baggageHeaderToDynamicSamplingContext=function(e){if(!r.isString(e)&&!Array.isArray(e))return;let t={};if(Array.isArray(e))t=e.reduce(((e,t)=>({...e,...l(t)})),{});else{if(!e)return;t=l(e)}const n=Object.entries(t).reduce(((e,[t,n])=>{if(t.match(s)){e[t.slice(o.length)]=n}return e}),{});return Object.keys(n).length>0?n:void 0},t.dynamicSamplingContextToSentryBaggageHeader=function(e){return function(e){if(0===Object.keys(e).length)return;return Object.entries(e).reduce(((e,[t,n],r)=>{const o=`${encodeURIComponent(t)}=${encodeURIComponent(n)}`,s=0===r?o:`${e},${o}`;return s.length>a?(("undefined"==typeof __SENTRY_DEBUG__||__SENTRY_DEBUG__)&&i.logger.warn(`Not adding key: ${t} with val: ${n} to baggage header due to exceeding baggage size limits.`),e):s}),"")}(Object.entries(e).reduce(((e,[t,n])=>(n&&(e[`${o}${t}`]=n),e)),{}))}},8691:(e,t,n)=>{Object.defineProperty(t,"__esModule",{value:!0});const r=n(3988),i=n(5303).getGlobalObject(),o=80;function s(e,t){const n=e,i=[];let o,s,a,l,c;if(!n||!n.tagName)return"";i.push(n.tagName.toLowerCase());const u=t&&t.length?t.filter((e=>n.getAttribute(e))).map((e=>[e,n.getAttribute(e)])):null;if(u&&u.length)u.forEach((e=>{i.push(`[${e[0]}="${e[1]}"]`)}));else if(n.id&&i.push(`#${n.id}`),o=n.className,o&&r.isString(o))for(s=o.split(/\s+/),c=0;c<s.length;c++)i.push(`.${s[c]}`);const d=["aria-label","type","name","title","alt"];for(c=0;c<d.length;c++)a=d[c],l=n.getAttribute(a),l&&i.push(`[${a}="${l}"]`);return i.join("")}t.getDomElement=function(e){return i.document&&i.document.querySelector?i.document.querySelector(e):null},t.getLocationHref=function(){try{return i.document.location.href}catch(e){return""}},t.htmlTreeAsString=function(e,t={}){try{let n=e;const r=5,i=[];let a=0,l=0;const c=" > ",u=c.length;let d;const h=Array.isArray(t)?t:t.keyAttrs,p=!Array.isArray(t)&&t.maxStringLength||o;for(;n&&a++<r&&(d=s(n,h),!("html"===d||a>1&&l+i.length*u+d.length>=p));)i.push(d),l+=d.length,n=n.parentNode;return i.reverse().join(c)}catch(n){return"<unknown>"}}},1351:(e,t,n)=>{Object.defineProperty(t,"__esModule",{value:!0});const r=n(8262);t._asyncNullishCoalesce=async function(e,t){return r._nullishCoalesce(e,t)}},5008:(e,t)=>{Object.defineProperty(t,"__esModule",{value:!0}),t._asyncOptionalChain=async function(e){let t,n=e[0],r=1;for(;r<e.length;){const i=e[r],o=e[r+1];if(r+=2,("optionalAccess"===i||"optionalCall"===i)&&null==n)return;"access"===i||"optionalAccess"===i?(t=n,n=await o(n)):"call"!==i&&"optionalCall"!==i||(n=await o(((...e)=>n.call(t,...e))),t=void 0)}return n}},5819:(e,t,n)=>{Object.defineProperty(t,"__esModule",{value:!0});const r=n(5008);t._asyncOptionalChainDelete=async function(e){const t=await r._asyncOptionalChain(e);return t??!0}},4751:(e,t)=>{Object.defineProperty(t,"__esModule",{value:!0}),t._createNamedExportFrom=function(e,n,r){t[n]=e[r]}},4948:(e,t)=>{Object.defineProperty(t,"__esModule",{value:!0}),t._createStarExport=function(e){Object.keys(e).filter((e=>"default"!==e&&"__esModule"!==e&&!(e in t))).forEach((n=>t[n]=e[n]))}},4698:(e,t)=>{Object.defineProperty(t,"__esModule",{value:!0}),t._interopDefault=function(e){return e.__esModule?e.default:e}},9747:(e,t)=>{Object.defineProperty(t,"__esModule",{value:!0}),t._interopNamespace=function(e){return e.__esModule?e:{...e,default:e}}},1026:(e,t)=>{Object.defineProperty(t,"__esModule",{value:!0}),t._interopNamespaceDefaultOnly=function(e){return{__proto__:null,default:e}}},282:(e,t)=>{Object.defineProperty(t,"__esModule",{value:!0}),t._interopRequireDefault=function(e){return e.__esModule?e:{default:e}}},6304:(e,t)=>{Object.defineProperty(t,"__esModule",{value:!0}),t._interopRequireWildcard=function(e){return e.__esModule?e:{...e,default:e}}},8262:(e,t)=>{Object.defineProperty(t,"__esModule",{value:!0}),t._nullishCoalesce=function(e,t){return null!=e?e:t()}},8825:(e,t)=>{Object.defineProperty(t,"__esModule",{value:!0}),t._optionalChain=function(e){let t,n=e[0],r=1;for(;r<e.length;){const i=e[r],o=e[r+1];if(r+=2,("optionalAccess"===i||"optionalCall"===i)&&null==n)return;"access"===i||"optionalAccess"===i?(t=n,n=o(n)):"call"!==i&&"optionalCall"!==i||(n=o(((...e)=>n.call(t,...e))),t=void 0)}return n}},5782:(e,t,n)=>{Object.defineProperty(t,"__esModule",{value:!0});const r=n(8825);t._optionalChainDelete=function(e){const t=r._optionalChain(e);return t??!0}},3363:(e,t,n)=>{Object.defineProperty(t,"__esModule",{value:!0});const r=n(1351),i=n(5008),o=n(5819),s=n(4751),a=n(4948),l=n(4698),c=n(9747),u=n(1026),d=n(282),h=n(6304),p=n(8262),f=n(8825),m=n(5782);t._asyncNullishCoalesce=r._asyncNullishCoalesce,t._asyncOptionalChain=i._asyncOptionalChain,t._asyncOptionalChainDelete=o._asyncOptionalChainDelete,t._createNamedExportFrom=s._createNamedExportFrom,t._createStarExport=a._createStarExport,t._interopDefault=l._interopDefault,t._interopNamespace=c._interopNamespace,t._interopNamespaceDefaultOnly=u._interopNamespaceDefaultOnly,t._interopRequireDefault=d._interopRequireDefault,t._interopRequireWildcard=h._interopRequireWildcard,t._nullishCoalesce=p._nullishCoalesce,t._optionalChain=f._optionalChain,t._optionalChainDelete=m._optionalChainDelete},3527:(e,t,n)=>{Object.defineProperty(t,"__esModule",{value:!0});const r=n(7547),i=n(6638);t.createClientReportEnvelope=function(e,t,n){const o=[{type:"client_report"},{timestamp:n||i.dateTimestampInSeconds(),discarded_events:e}];return r.createEnvelope(t?{dsn:t}:{},[o])}},7162:(e,t,n)=>{Object.defineProperty(t,"__esModule",{value:!0});const r=n(5031),i=/^(?:(\w+):)\/\/(?:(\w+)(?::(\w+)?)?@)([\w.-]+)(?::(\d+))?\/(.+)/;function o(e){const t=i.exec(e);if(!t)throw new r.SentryError(`Invalid Sentry Dsn: ${e}`);const[n,o,a="",l,c="",u]=t.slice(1);let d="",h=u;const p=h.split("/");if(p.length>1&&(d=p.slice(0,-1).join("/"),h=p.pop()),h){const e=h.match(/^\d+/);e&&(h=e[0])}return s({host:l,pass:a,path:d,projectId:h,port:c,protocol:n,publicKey:o})}function s(e){return{protocol:e.protocol,publicKey:e.publicKey||"",pass:e.pass||"",host:e.host,port:e.port||"",path:e.path||"",projectId:e.projectId}}t.dsnFromString=o,t.dsnToString=function(e,t=!1){const{host:n,path:r,pass:i,port:o,projectId:s,protocol:a,publicKey:l}=e;return`${a}://${l}${t&&i?`:${i}`:""}@${n}${o?`:${o}`:""}/${r?`${r}/`:r}${s}`},t.makeDsn=function(e){const t="string"==typeof e?o(e):s(e);return function(e){if("undefined"!=typeof __SENTRY_DEBUG__&&!__SENTRY_DEBUG__)return;const{port:t,projectId:n,protocol:i}=e;if(["protocol","publicKey","host","projectId"].forEach((t=>{if(!e[t])throw new r.SentryError(`Invalid Sentry Dsn: ${t} missing`)})),!n.match(/^\d+$/))throw new r.SentryError(`Invalid Sentry Dsn: Invalid projectId ${n}`);if(!function(e){return"http"===e||"https"===e}(i))throw new r.SentryError(`Invalid Sentry Dsn: Invalid protocol ${i}`);if(t&&isNaN(parseInt(t,10)))throw new r.SentryError(`Invalid Sentry Dsn: Invalid port ${t}`)}(t),t}},5259:(e,t)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.getSDKSource=function(){return"npm"},t.isBrowserBundle=function(){return"undefined"!=typeof __SENTRY_BROWSER_BUNDLE__&&!!__SENTRY_BROWSER_BUNDLE__}},7547:(e,t,n)=>{Object.defineProperty(t,"__esModule",{value:!0});const r=n(7162),i=n(8762),o=n(7393);function s(e,t){const n=e[1];for(const r of n){if(t(r,r[0].type))return!0}return!1}function a(e,t){return(t||new TextEncoder).encode(e)}const l={session:"session",sessions:"session",attachment:"attachment",transaction:"transaction",event:"error",client_report:"internal",user_report:"default",profile:"profile",replay_event:"replay",replay_recording:"replay"};t.addItemToEnvelope=function(e,t){const[n,r]=e;return[n,[...r,t]]},t.createAttachmentEnvelopeItem=function(e,t){const n="string"==typeof e.data?a(e.data,t):e.data;return[o.dropUndefinedKeys({type:"attachment",length:n.length,filename:e.filename,content_type:e.contentType,attachment_type:e.attachmentType}),n]},t.createEnvelope=function(e,t=[]){return[e,t]},t.createEventEnvelopeHeaders=function(e,t,n,i){const s=e.sdkProcessingMetadata&&e.sdkProcessingMetadata.dynamicSamplingContext;return{event_id:e.event_id,sent_at:(new Date).toISOString(),...t&&{sdk:t},...!!n&&{dsn:r.dsnToString(i)},..."transaction"===e.type&&s&&{trace:o.dropUndefinedKeys({...s})}}},t.envelopeContainsItemType=function(e,t){return s(e,((e,n)=>t.includes(n)))},t.envelopeItemTypeToDataCategory=function(e){return l[e]},t.forEachEnvelopeItem=s,t.getSdkMetadataForEnvelopeHeader=function(e){if(!e||!e.sdk)return;const{name:t,version:n}=e.sdk;return{name:t,version:n}},t.parseEnvelope=function(e,t,n){let r="string"==typeof e?t.encode(e):e;function i(e){const t=r.subarray(0,e);return r=r.subarray(e+1),t}function o(){let e=r.indexOf(10);return e<0&&(e=r.length),JSON.parse(n.decode(i(e)))}const s=o(),a=[];for(;r.length;){const e=o(),t="number"==typeof e.length?e.length:void 0;a.push([e,t?i(t):o()])}return[s,a]},t.serializeEnvelope=function(e,t){const[n,r]=e;let o=JSON.stringify(n);function s(e){"string"==typeof o?o="string"==typeof e?o+e:[a(o,t),e]:o.push("string"==typeof e?a(e,t):e)}for(const a of r){const[e,t]=a;if(s(`\n${JSON.stringify(e)}\n`),"string"==typeof t||t instanceof Uint8Array)s(t);else{let e;try{e=JSON.stringify(t)}catch(l){e=JSON.stringify(i.normalize(t))}s(e)}}return"string"==typeof o?o:function(e){const t=e.reduce(((e,t)=>e+t.length),0),n=new Uint8Array(t);let r=0;for(const i of e)n.set(i,r),r+=i.length;return n}(o)}},5031:(e,t)=>{Object.defineProperty(t,"__esModule",{value:!0});class SentryError extends Error{constructor(e,t="warn"){super(e),this.message=e,this.name=new.target.prototype.constructor.name,Object.setPrototypeOf(this,new.target.prototype),this.logLevel=t}}t.SentryError=SentryError},4023:(e,t,n)=>{Object.defineProperty(t,"__esModule",{value:!0});const r=n(8691),i=n(7162),o=n(5031),s=n(5303),a=n(9987),l=n(3988),c=n(8579),u=n(5853),d=n(9484),h=n(4773),p=n(8762),f=n(7393),m=n(9458),_=n(2781),g=n(535),v=n(6659),y=n(9670),b=n(2879),w=n(518),E=n(7356),S=n(6638),k=n(8257),T=n(5259),I=n(7547),C=n(3527),R=n(8266),N=n(9693),x=n(3258);t.getDomElement=r.getDomElement,t.getLocationHref=r.getLocationHref,t.htmlTreeAsString=r.htmlTreeAsString,t.dsnFromString=i.dsnFromString,t.dsnToString=i.dsnToString,t.makeDsn=i.makeDsn,t.SentryError=o.SentryError,t.GLOBAL_OBJ=s.GLOBAL_OBJ,t.getGlobalObject=s.getGlobalObject,t.getGlobalSingleton=s.getGlobalSingleton,t.addInstrumentationHandler=a.addInstrumentationHandler,t.isDOMError=l.isDOMError,t.isDOMException=l.isDOMException,t.isElement=l.isElement,t.isError=l.isError,t.isErrorEvent=l.isErrorEvent,t.isEvent=l.isEvent,t.isInstanceOf=l.isInstanceOf,t.isNaN=l.isNaN,t.isPlainObject=l.isPlainObject,t.isPrimitive=l.isPrimitive,t.isRegExp=l.isRegExp,t.isString=l.isString,t.isSyntheticEvent=l.isSyntheticEvent,t.isThenable=l.isThenable,t.CONSOLE_LEVELS=c.CONSOLE_LEVELS,t.consoleSandbox=c.consoleSandbox,Object.defineProperty(t,"logger",{enumerable:!0,get:()=>c.logger}),t.memoBuilder=u.memoBuilder,t.addContextToFrame=d.addContextToFrame,t.addExceptionMechanism=d.addExceptionMechanism,t.addExceptionTypeValue=d.addExceptionTypeValue,t.arrayify=d.arrayify,t.checkOrSetAlreadyCaught=d.checkOrSetAlreadyCaught,t.getEventDescription=d.getEventDescription,t.parseSemver=d.parseSemver,t.uuid4=d.uuid4,t.dynamicRequire=h.dynamicRequire,t.isNodeEnv=h.isNodeEnv,t.loadModule=h.loadModule,t.normalize=p.normalize,t.normalizeToSize=p.normalizeToSize,t.walk=p.walk,t.addNonEnumerableProperty=f.addNonEnumerableProperty,t.convertToPlainObject=f.convertToPlainObject,t.dropUndefinedKeys=f.dropUndefinedKeys,t.extractExceptionKeysForMessage=f.extractExceptionKeysForMessage,t.fill=f.fill,t.getOriginalFunction=f.getOriginalFunction,t.markFunctionWrapped=f.markFunctionWrapped,t.objectify=f.objectify,t.urlEncode=f.urlEncode,t.basename=m.basename,t.dirname=m.dirname,t.isAbsolute=m.isAbsolute,t.join=m.join,t.normalizePath=m.normalizePath,t.relative=m.relative,t.resolve=m.resolve,t.makePromiseBuffer=_.makePromiseBuffer,t.addRequestDataToEvent=g.addRequestDataToEvent,t.addRequestDataToTransaction=g.addRequestDataToTransaction,t.extractPathForTransaction=g.extractPathForTransaction,t.extractRequestData=g.extractRequestData,t.severityFromString=v.severityFromString,t.severityLevelFromString=v.severityLevelFromString,t.validSeverityLevels=v.validSeverityLevels,t.createStackParser=y.createStackParser,t.getFunctionName=y.getFunctionName,t.nodeStackLineParser=y.nodeStackLineParser,t.stackParserFromStackParserOptions=y.stackParserFromStackParserOptions,t.stripSentryFramesAndReverse=y.stripSentryFramesAndReverse,t.escapeStringForRegex=b.escapeStringForRegex,t.isMatchingPattern=b.isMatchingPattern,t.safeJoin=b.safeJoin,t.snipLine=b.snipLine,t.stringMatchesSomePattern=b.stringMatchesSomePattern,t.truncate=b.truncate,t.isNativeFetch=w.isNativeFetch,t.supportsDOMError=w.supportsDOMError,t.supportsDOMException=w.supportsDOMException,t.supportsErrorEvent=w.supportsErrorEvent,t.supportsFetch=w.supportsFetch,t.supportsHistory=w.supportsHistory,t.supportsNativeFetch=w.supportsNativeFetch,t.supportsReferrerPolicy=w.supportsReferrerPolicy,t.supportsReportingObserver=w.supportsReportingObserver,t.SyncPromise=E.SyncPromise,t.rejectedSyncPromise=E.rejectedSyncPromise,t.resolvedSyncPromise=E.resolvedSyncPromise,Object.defineProperty(t,"_browserPerformanceTimeOriginMode",{enumerable:!0,get:()=>S._browserPerformanceTimeOriginMode}),t.browserPerformanceTimeOrigin=S.browserPerformanceTimeOrigin,t.dateTimestampInSeconds=S.dateTimestampInSeconds,t.timestampInSeconds=S.timestampInSeconds,t.timestampWithMs=S.timestampWithMs,t.usingPerformanceAPI=S.usingPerformanceAPI,t.TRACEPARENT_REGEXP=k.TRACEPARENT_REGEXP,t.extractTraceparentData=k.extractTraceparentData,t.getSDKSource=T.getSDKSource,t.isBrowserBundle=T.isBrowserBundle,t.addItemToEnvelope=I.addItemToEnvelope,t.createAttachmentEnvelopeItem=I.createAttachmentEnvelopeItem,t.createEnvelope=I.createEnvelope,t.createEventEnvelopeHeaders=I.createEventEnvelopeHeaders,t.envelopeContainsItemType=I.envelopeContainsItemType,t.envelopeItemTypeToDataCategory=I.envelopeItemTypeToDataCategory,t.forEachEnvelopeItem=I.forEachEnvelopeItem,t.getSdkMetadataForEnvelopeHeader=I.getSdkMetadataForEnvelopeHeader,t.parseEnvelope=I.parseEnvelope,t.serializeEnvelope=I.serializeEnvelope,t.createClientReportEnvelope=C.createClientReportEnvelope,t.DEFAULT_RETRY_AFTER=R.DEFAULT_RETRY_AFTER,t.disabledUntil=R.disabledUntil,t.isRateLimited=R.isRateLimited,t.parseRetryAfterHeader=R.parseRetryAfterHeader,t.updateRateLimits=R.updateRateLimits,t.BAGGAGE_HEADER_NAME=N.BAGGAGE_HEADER_NAME,t.MAX_BAGGAGE_STRING_LENGTH=N.MAX_BAGGAGE_STRING_LENGTH,t.SENTRY_BAGGAGE_KEY_PREFIX=N.SENTRY_BAGGAGE_KEY_PREFIX,t.SENTRY_BAGGAGE_KEY_PREFIX_REGEX=N.SENTRY_BAGGAGE_KEY_PREFIX_REGEX,t.baggageHeaderToDynamicSamplingContext=N.baggageHeaderToDynamicSamplingContext,t.dynamicSamplingContextToSentryBaggageHeader=N.dynamicSamplingContextToSentryBaggageHeader,t.getNumberOfUrlSegments=x.getNumberOfUrlSegments,t.parseUrl=x.parseUrl,t.stripUrlQueryAndFragment=x.stripUrlQueryAndFragment},9987:(e,t,n)=>{Object.defineProperty(t,"__esModule",{value:!0});const r=n(3988),i=n(8579),o=n(7393),s=n(9670),a=n(518),l=n(5303).getGlobalObject(),c={},u={};function d(e){if(!u[e])switch(u[e]=!0,e){case"console":!function(){if(!("console"in l))return;i.CONSOLE_LEVELS.forEach((function(e){e in l.console&&o.fill(l.console,e,(function(t){return function(...n){h("console",{args:n,level:e}),t&&t.apply(l.console,n)}}))}))}();break;case"dom":!function(){if(!("document"in l))return;const e=h.bind(null,"dom"),t=y(e,!0);l.document.addEventListener("click",t,!1),l.document.addEventListener("keypress",t,!1),["EventTarget","Node"].forEach((t=>{const n=l[t]&&l[t].prototype;n&&n.hasOwnProperty&&n.hasOwnProperty("addEventListener")&&(o.fill(n,"addEventListener",(function(t){return function(n,r,i){if("click"===n||"keypress"==n)try{const r=this,o=r.__sentry_instrumentation_handlers__=r.__sentry_instrumentation_handlers__||{},s=o[n]=o[n]||{refCount:0};if(!s.handler){const r=y(e);s.handler=r,t.call(this,n,r,i)}s.refCount++}catch(o){}return t.call(this,n,r,i)}})),o.fill(n,"removeEventListener",(function(e){return function(t,n,r){if("click"===t||"keypress"==t)try{const n=this,i=n.__sentry_instrumentation_handlers__||{},o=i[t];o&&(o.refCount--,o.refCount<=0&&(e.call(this,t,o.handler,r),o.handler=void 0,delete i[t]),0===Object.keys(i).length&&delete n.__sentry_instrumentation_handlers__)}catch(i){}return e.call(this,t,n,r)}})))}))}();break;case"xhr":!function(){if(!("XMLHttpRequest"in l))return;const e=XMLHttpRequest.prototype;o.fill(e,"open",(function(e){return function(...t){const n=this,i=t[1],s=n.__sentry_xhr__={method:r.isString(t[0])?t[0].toUpperCase():t[0],url:t[1]};r.isString(i)&&"POST"===s.method&&i.match(/sentry_key/)&&(n.__sentry_own_request__=!0);const a=function(){if(4===n.readyState){try{s.status_code=n.status}catch(e){}h("xhr",{args:t,endTimestamp:Date.now(),startTimestamp:Date.now(),xhr:n})}};return"onreadystatechange"in n&&"function"==typeof n.onreadystatechange?o.fill(n,"onreadystatechange",(function(e){return function(...t){return a(),e.apply(n,t)}})):n.addEventListener("readystatechange",a),e.apply(n,t)}})),o.fill(e,"send",(function(e){return function(...t){return this.__sentry_xhr__&&void 0!==t[0]&&(this.__sentry_xhr__.body=t[0]),h("xhr",{args:t,startTimestamp:Date.now(),xhr:this}),e.apply(this,t)}}))}();break;case"fetch":!function(){if(!a.supportsNativeFetch())return;o.fill(l,"fetch",(function(e){return function(...t){const n={args:t,fetchData:{method:p(t),url:f(t)},startTimestamp:Date.now()};return h("fetch",{...n}),e.apply(l,t).then((e=>(h("fetch",{...n,endTimestamp:Date.now(),response:e}),e)),(e=>{throw h("fetch",{...n,endTimestamp:Date.now(),error:e}),e}))}}))}();break;case"history":!function(){if(!a.supportsHistory())return;const e=l.onpopstate;function t(e){return function(...t){const n=t.length>2?t[2]:void 0;if(n){const e=m,t=String(n);m=t,h("history",{from:e,to:t})}return e.apply(this,t)}}l.onpopstate=function(...t){const n=l.location.href,r=m;if(m=n,h("history",{from:r,to:n}),e)try{return e.apply(this,t)}catch(i){}},o.fill(l.history,"pushState",t),o.fill(l.history,"replaceState",t)}();break;case"error":b=l.onerror,l.onerror=function(e,t,n,r,i){return h("error",{column:r,error:i,line:n,msg:e,url:t}),!!b&&b.apply(this,arguments)};break;case"unhandledrejection":w=l.onunhandledrejection,l.onunhandledrejection=function(e){return h("unhandledrejection",e),!w||w.apply(this,arguments)};break;default:return void(("undefined"==typeof __SENTRY_DEBUG__||__SENTRY_DEBUG__)&&i.logger.warn("unknown instrumentation type:",e))}}function h(e,t){if(e&&c[e])for(const r of c[e]||[])try{r(t)}catch(n){("undefined"==typeof __SENTRY_DEBUG__||__SENTRY_DEBUG__)&&i.logger.error(`Error while triggering instrumentation handler.\nType: ${e}\nName: ${s.getFunctionName(r)}\nError:`,n)}}function p(e=[]){return"Request"in l&&r.isInstanceOf(e[0],Request)&&e[0].method?String(e[0].method).toUpperCase():e[1]&&e[1].method?String(e[1].method).toUpperCase():"GET"}function f(e=[]){return"string"==typeof e[0]?e[0]:"Request"in l&&r.isInstanceOf(e[0],Request)?e[0].url:String(e[0])}let m;const _=1e3;let g,v;function y(e,t=!1){return n=>{if(!n||v===n)return;if(function(e){if("keypress"!==e.type)return!1;try{const t=e.target;if(!t||!t.tagName)return!0;if("INPUT"===t.tagName||"TEXTAREA"===t.tagName||t.isContentEditable)return!1}catch(t){}return!0}(n))return;const r="keypress"===n.type?"input":n.type;(void 0===g||function(e,t){if(!e)return!0;if(e.type!==t.type)return!0;try{if(e.target!==t.target)return!0}catch(n){}return!1}(v,n))&&(e({event:n,name:r,global:t}),v=n),clearTimeout(g),g=l.setTimeout((()=>{g=void 0}),_)}}let b=null;let w=null;t.addInstrumentationHandler=function(e,t){c[e]=c[e]||[],c[e].push(t),d(e)}},3988:(e,t)=>{Object.defineProperty(t,"__esModule",{value:!0});const n=Object.prototype.toString;function r(e,t){return n.call(e)===`[object ${t}]`}function i(e){return r(e,"Object")}function o(e,t){try{return e instanceof t}catch(n){return!1}}t.isDOMError=function(e){return r(e,"DOMError")},t.isDOMException=function(e){return r(e,"DOMException")},t.isElement=function(e){return"undefined"!=typeof Element&&o(e,Element)},t.isError=function(e){switch(n.call(e)){case"[object Error]":case"[object Exception]":case"[object DOMException]":return!0;default:return o(e,Error)}},t.isErrorEvent=function(e){return r(e,"ErrorEvent")},t.isEvent=function(e){return"undefined"!=typeof Event&&o(e,Event)},t.isInstanceOf=o,t.isNaN=function(e){return"number"==typeof e&&e!=e},t.isPlainObject=i,t.isPrimitive=function(e){return null===e||"object"!=typeof e&&"function"!=typeof e},t.isRegExp=function(e){return r(e,"RegExp")},t.isString=function(e){return r(e,"String")},t.isSyntheticEvent=function(e){return i(e)&&"nativeEvent"in e&&"preventDefault"in e&&"stopPropagation"in e},t.isThenable=function(e){return Boolean(e&&e.then&&"function"==typeof e.then)}},8579:(e,t,n)=>{Object.defineProperty(t,"__esModule",{value:!0});const r=n(5303),i="Sentry Logger ",o=["debug","info","warn","error","log","assert","trace"];function s(e){if(!("console"in r.GLOBAL_OBJ))return e();const t=r.GLOBAL_OBJ.console,n={};o.forEach((e=>{const r=t[e]&&t[e].__sentry_original__;e in t&&r&&(n[e]=t[e],t[e]=r)}));try{return e()}finally{Object.keys(n).forEach((e=>{t[e]=n[e]}))}}function a(){let e=!1;const t={enable:()=>{e=!0},disable:()=>{e=!1}};return"undefined"==typeof __SENTRY_DEBUG__||__SENTRY_DEBUG__?o.forEach((n=>{t[n]=(...t)=>{e&&s((()=>{r.GLOBAL_OBJ.console[n](`${i}[${n}]:`,...t)}))}})):o.forEach((e=>{t[e]=()=>{}})),t}t.logger=void 0,"undefined"==typeof __SENTRY_DEBUG__||__SENTRY_DEBUG__?t.logger=r.getGlobalSingleton("logger",a):t.logger=a(),t.CONSOLE_LEVELS=o,t.consoleSandbox=s},5853:(e,t)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.memoBuilder=function(){const e="function"==typeof WeakSet,t=e?new WeakSet:[];return[function(n){if(e)return!!t.has(n)||(t.add(n),!1);for(let e=0;e<t.length;e++){if(t[e]===n)return!0}return t.push(n),!1},function(n){if(e)t.delete(n);else for(let e=0;e<t.length;e++)if(t[e]===n){t.splice(e,1);break}}]}},9484:(e,t,n)=>{Object.defineProperty(t,"__esModule",{value:!0});const r=n(7393),i=n(2879),o=n(5303);function s(e){return e.exception&&e.exception.values?e.exception.values[0]:void 0}const a=/^(0|[1-9]\d*)\.(0|[1-9]\d*)\.(0|[1-9]\d*)(?:-((?:0|[1-9]\d*|\d*[a-zA-Z-][0-9a-zA-Z-]*)(?:\.(?:0|[1-9]\d*|\d*[a-zA-Z-][0-9a-zA-Z-]*))*))?(?:\+([0-9a-zA-Z-]+(?:\.[0-9a-zA-Z-]+)*))?$/;t.addContextToFrame=function(e,t,n=5){if(void 0===t.lineno)return;const r=e.length,o=Math.max(Math.min(r,t.lineno-1),0);t.pre_context=e.slice(Math.max(0,o-n),o).map((e=>i.snipLine(e,0))),t.context_line=i.snipLine(e[Math.min(r-1,o)],t.colno||0),t.post_context=e.slice(Math.min(o+1,r),o+1+n).map((e=>i.snipLine(e,0)))},t.addExceptionMechanism=function(e,t){const n=s(e);if(!n)return;const r=n.mechanism;if(n.mechanism={type:"generic",handled:!0,...r,...t},t&&"data"in t){const e={...r&&r.data,...t.data};n.mechanism.data=e}},t.addExceptionTypeValue=function(e,t,n){const r=e.exception=e.exception||{},i=r.values=r.values||[],o=i[0]=i[0]||{};o.value||(o.value=t||""),o.type||(o.type=n||"Error")},t.arrayify=function(e){return Array.isArray(e)?e:[e]},t.checkOrSetAlreadyCaught=function(e){if(e&&e.__sentry_captured__)return!0;try{r.addNonEnumerableProperty(e,"__sentry_captured__",!0)}catch(t){}return!1},t.getEventDescription=function(e){const{message:t,event_id:n}=e;if(t)return t;const r=s(e);return r?r.type&&r.value?`${r.type}: ${r.value}`:r.type||r.value||n||"<unknown>":n||"<unknown>"},t.parseSemver=function(e){const t=e.match(a)||[],n=parseInt(t[1],10),r=parseInt(t[2],10),i=parseInt(t[3],10);return{buildmetadata:t[5],major:isNaN(n)?void 0:n,minor:isNaN(r)?void 0:r,patch:isNaN(i)?void 0:i,prerelease:t[4]}},t.uuid4=function(){const e=o.GLOBAL_OBJ,t=e.crypto||e.msCrypto;if(t&&t.randomUUID)return t.randomUUID().replace(/-/g,"");const n=t&&t.getRandomValues?()=>t.getRandomValues(new Uint8Array(1))[0]:()=>16*Math.random();return([1e7]+1e3+4e3+8e3+1e11).replace(/[018]/g,(e=>(e^(15&n())>>e/4).toString(16)))}},4773:(e,t,n)=>{e=n.nmd(e),Object.defineProperty(t,"__esModule",{value:!0});const r=n(5259);function i(e,t){return e.require(t)}t.dynamicRequire=i,t.isNodeEnv=function(){return!r.isBrowserBundle()&&"[object process]"===Object.prototype.toString.call("undefined"!=typeof process?process:0)},t.loadModule=function(t){let n;try{n=i(e,t)}catch(r){}try{const{cwd:r}=i(e,"process");n=i(e,`${r()}/node_modules/${t}`)}catch(r){}return n}},8762:(e,t,n)=>{Object.defineProperty(t,"__esModule",{value:!0});const r=n(3988),i=n(5853),o=n(7393),s=n(9670);function a(e,t=1/0,n=1/0){try{return l("",e,t,n)}catch(r){return{ERROR:`**non-serializable** (${r})`}}}function l(e,t,a=1/0,c=1/0,u=i.memoBuilder()){const[d,h]=u;if(null===t||["number","boolean","string"].includes(typeof t)&&!r.isNaN(t))return t;const p=function(e,t){try{return"domain"===e&&t&&"object"==typeof t&&t._events?"[Domain]":"domainEmitter"===e?"[DomainEmitter]":void 0!==n.g&&t===n.g?"[Global]":"undefined"!=typeof window&&t===window?"[Window]":"undefined"!=typeof document&&t===document?"[Document]":r.isSyntheticEvent(t)?"[SyntheticEvent]":"number"==typeof t&&t!=t?"[NaN]":void 0===t?"[undefined]":"function"==typeof t?`[Function: ${s.getFunctionName(t)}]`:"symbol"==typeof t?`[${String(t)}]`:"bigint"==typeof t?`[BigInt: ${String(t)}]`:`[object ${function(e){const t=Object.getPrototypeOf(e);return t?t.constructor.name:"null prototype"}(t)}]`}catch(i){return`**non-serializable** (${i})`}}(e,t);if(!p.startsWith("[object "))return p;if(t.__sentry_skip_normalization__)return t;if(0===a)return p.replace("object ","");if(d(t))return"[Circular ~]";const f=t;if(f&&"function"==typeof f.toJSON)try{return l("",f.toJSON(),a-1,c,u)}catch(v){}const m=Array.isArray(t)?[]:{};let _=0;const g=o.convertToPlainObject(t);for(const n in g){if(!Object.prototype.hasOwnProperty.call(g,n))continue;if(_>=c){m[n]="[MaxProperties ~]";break}const e=g[n];m[n]=l(n,e,a-1,c,u),_++}return h(t),m}t.normalize=a,t.normalizeToSize=function e(t,n=3,r=102400){const i=a(t,n);return o=i,function(e){return~-encodeURI(e).split(/%..|./).length}(JSON.stringify(o))>r?e(t,n-1,r):i;var o},t.walk=l},7393:(e,t,n)=>{Object.defineProperty(t,"__esModule",{value:!0});const r=n(8691),i=n(3988),o=n(2879);function s(e,t,n){Object.defineProperty(e,t,{value:n,writable:!0,configurable:!0})}function a(e,t){const n=t.prototype||{};e.prototype=t.prototype=n,s(e,"__sentry_original__",t)}function l(e){if(i.isError(e))return{message:e.message,name:e.name,stack:e.stack,...u(e)};if(i.isEvent(e)){const t={type:e.type,target:c(e.target),currentTarget:c(e.currentTarget),...u(e)};return"undefined"!=typeof CustomEvent&&i.isInstanceOf(e,CustomEvent)&&(t.detail=e.detail),t}return e}function c(e){try{return i.isElement(e)?r.htmlTreeAsString(e):Object.prototype.toString.call(e)}catch(t){return"<unknown>"}}function u(e){if("object"==typeof e&&null!==e){const t={};for(const n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t}return{}}function d(e,t){if(i.isPlainObject(e)){const n=t.get(e);if(void 0!==n)return n;const r={};t.set(e,r);for(const i of Object.keys(e))void 0!==e[i]&&(r[i]=d(e[i],t));return r}if(Array.isArray(e)){const n=t.get(e);if(void 0!==n)return n;const r=[];return t.set(e,r),e.forEach((e=>{r.push(d(e,t))})),r}return e}t.addNonEnumerableProperty=s,t.convertToPlainObject=l,t.dropUndefinedKeys=function(e){return d(e,new Map)},t.extractExceptionKeysForMessage=function(e,t=40){const n=Object.keys(l(e));if(n.sort(),!n.length)return"[object has no keys]";if(n[0].length>=t)return o.truncate(n[0],t);for(let r=n.length;r>0;r--){const e=n.slice(0,r).join(", ");if(!(e.length>t))return r===n.length?e:o.truncate(e,t)}return""},t.fill=function(e,t,n){if(!(t in e))return;const r=e[t],i=n(r);if("function"==typeof i)try{a(i,r)}catch(o){}e[t]=i},t.getOriginalFunction=function(e){return e.__sentry_original__},t.markFunctionWrapped=a,t.objectify=function(e){let t;switch(!0){case null==e:t=new String(e);break;case"symbol"==typeof e||"bigint"==typeof e:t=Object(e);break;case i.isPrimitive(e):t=new e.constructor(e);break;default:t=e}return t},t.urlEncode=function(e){return Object.keys(e).map((t=>`${encodeURIComponent(t)}=${encodeURIComponent(e[t])}`)).join("&")}},9458:(e,t)=>{function n(e,t){let n=0;for(let r=e.length-1;r>=0;r--){const t=e[r];"."===t?e.splice(r,1):".."===t?(e.splice(r,1),n++):n&&(e.splice(r,1),n--)}if(t)for(;n--;n)e.unshift("..");return e}Object.defineProperty(t,"__esModule",{value:!0});const r=/^(\/?|)([\s\S]*?)((?:\.{1,2}|[^/]+?|)(\.[^./]*|))(?:[/]*)$/;function i(e){const t=r.exec(e);return t?t.slice(1):[]}function o(...e){let t="",r=!1;for(let n=e.length-1;n>=-1&&!r;n--){const i=n>=0?e[n]:"/";i&&(t=`${i}/${t}`,r="/"===i.charAt(0))}return t=n(t.split("/").filter((e=>!!e)),!r).join("/"),(r?"/":"")+t||"."}function s(e){let t=0;for(;t<e.length&&""===e[t];t++);let n=e.length-1;for(;n>=0&&""===e[n];n--);return t>n?[]:e.slice(t,n-t+1)}function a(e){const t=l(e),r="/"===e.slice(-1);let i=n(e.split("/").filter((e=>!!e)),!t).join("/");return i||t||(i="."),i&&r&&(i+="/"),(t?"/":"")+i}function l(e){return"/"===e.charAt(0)}t.basename=function(e,t){let n=i(e)[2];return t&&n.slice(-1*t.length)===t&&(n=n.slice(0,n.length-t.length)),n},t.dirname=function(e){const t=i(e),n=t[0];let r=t[1];return n||r?(r&&(r=r.slice(0,r.length-1)),n+r):"."},t.isAbsolute=l,t.join=function(...e){return a(e.join("/"))},t.normalizePath=a,t.relative=function(e,t){e=o(e).slice(1),t=o(t).slice(1);const n=s(e.split("/")),r=s(t.split("/")),i=Math.min(n.length,r.length);let a=i;for(let o=0;o<i;o++)if(n[o]!==r[o]){a=o;break}let l=[];for(let o=a;o<n.length;o++)l.push("..");return l=l.concat(r.slice(a)),l.join("/")},t.resolve=o},2781:(e,t,n)=>{Object.defineProperty(t,"__esModule",{value:!0});const r=n(5031),i=n(7356);t.makePromiseBuffer=function(e){const t=[];function n(e){return t.splice(t.indexOf(e),1)[0]}return{$:t,add:function(o){if(!(void 0===e||t.length<e))return i.rejectedSyncPromise(new r.SentryError("Not adding Promise because buffer limit was reached."));const s=o();return-1===t.indexOf(s)&&t.push(s),s.then((()=>n(s))).then(null,(()=>n(s).then(null,(()=>{})))),s},drain:function(e){return new i.SyncPromise(((n,r)=>{let o=t.length;if(!o)return n(!0);const s=setTimeout((()=>{e&&e>0&&n(!1)}),e);t.forEach((e=>{i.resolvedSyncPromise(e).then((()=>{--o||(clearTimeout(s),n(!0))}),r)}))}))}}}},8266:(e,t)=>{Object.defineProperty(t,"__esModule",{value:!0});const n=6e4;function r(e,t=Date.now()){const r=parseInt(`${e}`,10);if(!isNaN(r))return 1e3*r;const i=Date.parse(`${e}`);return isNaN(i)?n:i-t}function i(e,t){return e[t]||e.all||0}t.DEFAULT_RETRY_AFTER=n,t.disabledUntil=i,t.isRateLimited=function(e,t,n=Date.now()){return i(e,t)>n},t.parseRetryAfterHeader=r,t.updateRateLimits=function(e,{statusCode:t,headers:n},i=Date.now()){const o={...e},s=n&&n["x-sentry-rate-limits"],a=n&&n["retry-after"];if(s)for(const r of s.trim().split(",")){const[e,t]=r.split(":",2),n=parseInt(e,10),s=1e3*(isNaN(n)?60:n);if(t)for(const r of t.split(";"))o[r]=i+s;else o.all=i+s}else a?o.all=i+r(a,i):429===t&&(o.all=i+6e4);return o}},535:(e,t,n)=>{Object.defineProperty(t,"__esModule",{value:!0});const r=n(3988),i=n(8762),o=n(3258),s={ip:!1,request:!0,transaction:!0,user:!0},a=["cookies","data","headers","method","query_string","url"],l=["id","username","email"];function c(e,t={}){const n=e.method&&e.method.toUpperCase();let r="",i="url";t.customRoute||e.route?(r=t.customRoute||`${e.baseUrl||""}${e.route&&e.route.path}`,i="route"):(e.originalUrl||e.url)&&(r=o.stripUrlQueryAndFragment(e.originalUrl||e.url||""));let s="";return t.method&&n&&(s+=n),t.method&&t.path&&(s+=" "),t.path&&r&&(s+=r),[s,i]}function u(e,t){const{include:n=a,deps:o}=t||{},s={},l=e.headers||{},c=e.method,u=e.hostname||e.host||l.host||"<no host>",h=`${"https"===e.protocol||e.socket&&e.socket.encrypted?"https":"http"}://${u}${e.originalUrl||e.url||""}`;return n.forEach((t=>{switch(t){case"headers":s.headers=l;break;case"method":s.method=c;break;case"url":s.url=h;break;case"cookies":s.cookies=e.cookies||l.cookie&&o&&o.cookie&&o.cookie.parse(l.cookie)||{};break;case"query_string":s.query_string=d(e,o);break;case"data":if("GET"===c||"HEAD"===c)break;void 0!==e.body&&(s.data=r.isString(e.body)?e.body:JSON.stringify(i.normalize(e.body)));break;default:({}).hasOwnProperty.call(e,t)&&(s[t]=e[t])}})),s}function d(e,t){let n=e.originalUrl||e.url||"";if(n)return n.startsWith("/")&&(n=`http://dogs.are.great${n}`),e.query||void 0!==typeof URL&&new URL(n).search.replace("?","")||t&&t.url&&t.url.parse(n).query||void 0}t.addRequestDataToEvent=function(e,t,n){const i={...s,...n&&n.include};if(i.request){const r=Array.isArray(i.request)?u(t,{include:i.request,deps:n&&n.deps}):u(t,{deps:n&&n.deps});e.request={...e.request,...r}}if(i.user){const n=t.user&&r.isPlainObject(t.user)?function(e,t){const n={};return(Array.isArray(t)?t:l).forEach((t=>{e&&t in e&&(n[t]=e[t])})),n}(t.user,i.user):{};Object.keys(n).length&&(e.user={...e.user,...n})}if(i.ip){const n=t.ip||t.socket&&t.socket.remoteAddress;n&&(e.user={...e.user,ip_address:n})}return i.transaction&&!e.transaction&&(e.transaction=function(e,t){switch(t){case"path":return c(e,{path:!0})[0];case"handler":return e.route&&e.route.stack&&e.route.stack[0]&&e.route.stack[0].name||"<anonymous>";default:return c(e,{path:!0,method:!0})[0]}}(t,i.transaction)),e},t.addRequestDataToTransaction=function(e,t,n){e&&(e.metadata.source&&"url"!==e.metadata.source||e.setName(...c(t,{path:!0,method:!0})),e.setData("url",t.originalUrl||t.url),t.baseUrl&&e.setData("baseUrl",t.baseUrl),e.setData("query",d(t,n)))},t.extractPathForTransaction=c,t.extractRequestData=u},6659:(e,t)=>{Object.defineProperty(t,"__esModule",{value:!0});const n=["fatal","error","warning","log","info","debug"];function r(e){return"warn"===e?"warning":n.includes(e)?e:"log"}t.severityFromString=function(e){return r(e)},t.severityLevelFromString=r,t.validSeverityLevels=n},9670:(e,t)=>{Object.defineProperty(t,"__esModule",{value:!0});const n=50;function r(...e){const t=e.sort(((e,t)=>e[0]-t[0])).map((e=>e[1]));return(e,n=0)=>{const r=[];for(const i of e.split("\n").slice(n)){if(i.length>1024)continue;const e=i.replace(/\(error: (.*)\)/,"$1");for(const n of t){const t=n(e);if(t){r.push(t);break}}}return i(r)}}function i(e){if(!e.length)return[];let t=e;const r=t[0].function||"",i=t[t.length-1].function||"";return-1===r.indexOf("captureMessage")&&-1===r.indexOf("captureException")||(t=t.slice(1)),-1!==i.indexOf("sentryWrapped")&&(t=t.slice(0,-1)),t.slice(0,n).map((e=>({...e,filename:e.filename||t[0].filename,function:e.function||"?"}))).reverse()}const o="<anonymous>";function s(e){const t=/^\s*[-]{4,}$/,n=/at (?:async )?(?:(.+?)\s+\()?(?:(.+):(\d+):(\d+)?|([^)]+))\)?/;return r=>{if(r.match(t))return{filename:r};const i=r.match(n);if(!i)return;let o,s,a,l,c;if(i[1]){a=i[1];let e=a.lastIndexOf(".");if("."===a[e-1]&&e--,e>0){o=a.slice(0,e),s=a.slice(e+1);const t=o.indexOf(".Module");t>0&&(a=a.slice(t+1),o=o.slice(0,t))}l=void 0}s&&(l=o,c=s),"<anonymous>"===s&&(c=void 0,a=void 0),void 0===a&&(c=c||"<anonymous>",a=l?`${l}.${c}`:c);const u=i[2]&&i[2].startsWith("file://")?i[2].slice(7):i[2],d=!("native"===i[5]||u&&!u.startsWith("/")&&!u.startsWith(".")&&1!==u.indexOf(":\\"))&&void 0!==u&&!u.includes("node_modules/");return{filename:u,module:e?e(u):void 0,function:a,lineno:parseInt(i[3],10)||void 0,colno:parseInt(i[4],10)||void 0,in_app:d}}}t.createStackParser=r,t.getFunctionName=function(e){try{return e&&"function"==typeof e&&e.name||o}catch(t){return o}},t.nodeStackLineParser=function(e){return[90,s(e)]},t.stackParserFromStackParserOptions=function(e){return Array.isArray(e)?r(...e):e},t.stripSentryFramesAndReverse=i},2879:(e,t,n)=>{Object.defineProperty(t,"__esModule",{value:!0});const r=n(3988);function i(e,t,n=!1){return!!r.isString(e)&&(r.isRegExp(t)?t.test(e):!!r.isString(t)&&(n?e===t:e.includes(t)))}t.escapeStringForRegex=function(e){return e.replace(/[|\\{}()[\]^$+*?.]/g,"\\$&").replace(/-/g,"\\x2d")},t.isMatchingPattern=i,t.safeJoin=function(e,t){if(!Array.isArray(e))return"";const n=[];for(let i=0;i<e.length;i++){const t=e[i];try{n.push(String(t))}catch(r){n.push("[value cannot be serialized]")}}return n.join(t)},t.snipLine=function(e,t){let n=e;const r=n.length;if(r<=150)return n;t>r&&(t=r);let i=Math.max(t-60,0);i<5&&(i=0);let o=Math.min(i+140,r);return o>r-5&&(o=r),o===r&&(i=Math.max(o-140,0)),n=n.slice(i,o),i>0&&(n=`'{snip} ${n}`),o<r&&(n+=" {snip}"),n},t.stringMatchesSomePattern=function(e,t=[],n=!1){return t.some((t=>i(e,t,n)))},t.truncate=function(e,t=0){return"string"!=typeof e||0===t||e.length<=t?e:`${e.slice(0,t)}...`}},518:(e,t,n)=>{Object.defineProperty(t,"__esModule",{value:!0});const r=n(8579),i=n(5303).getGlobalObject();function o(){if(!("fetch"in i))return!1;try{return new Headers,new Request("http://www.example.com"),new Response,!0}catch(e){return!1}}function s(e){return e&&/^function fetch\(\)\s+\{\s+\[native code\]\s+\}$/.test(e.toString())}t.isNativeFetch=s,t.supportsDOMError=function(){try{return new DOMError(""),!0}catch(e){return!1}},t.supportsDOMException=function(){try{return new DOMException(""),!0}catch(e){return!1}},t.supportsErrorEvent=function(){try{return new ErrorEvent(""),!0}catch(e){return!1}},t.supportsFetch=o,t.supportsHistory=function(){const e=i.chrome,t=e&&e.app&&e.app.runtime,n="history"in i&&!!i.history.pushState&&!!i.history.replaceState;return!t&&n},t.supportsNativeFetch=function(){if(!o())return!1;if(s(i.fetch))return!0;let e=!1;const t=i.document;if(t&&"function"==typeof t.createElement)try{const n=t.createElement("iframe");n.hidden=!0,t.head.appendChild(n),n.contentWindow&&n.contentWindow.fetch&&(e=s(n.contentWindow.fetch)),t.head.removeChild(n)}catch(n){("undefined"==typeof __SENTRY_DEBUG__||__SENTRY_DEBUG__)&&r.logger.warn("Could not create sandbox iframe for pure fetch check, bailing to window.fetch: ",n)}return e},t.supportsReferrerPolicy=function(){if(!o())return!1;try{return new Request("_",{referrerPolicy:"origin"}),!0}catch(e){return!1}},t.supportsReportingObserver=function(){return"ReportingObserver"in i}},7356:(e,t,n)=>{Object.defineProperty(t,"__esModule",{value:!0});const r=n(3988);var i;!function(e){e[e.PENDING=0]="PENDING";e[e.RESOLVED=1]="RESOLVED";e[e.REJECTED=2]="REJECTED"}(i||(i={}));class SyncPromise{__init(){this._state=i.PENDING}__init2(){this._handlers=[]}constructor(e){SyncPromise.prototype.__init.call(this),SyncPromise.prototype.__init2.call(this),SyncPromise.prototype.__init3.call(this),SyncPromise.prototype.__init4.call(this),SyncPromise.prototype.__init5.call(this),SyncPromise.prototype.__init6.call(this);try{e(this._resolve,this._reject)}catch(t){this._reject(t)}}then(e,t){return new SyncPromise(((n,r)=>{this._handlers.push([!1,t=>{if(e)try{n(e(t))}catch(i){r(i)}else n(t)},e=>{if(t)try{n(t(e))}catch(i){r(i)}else r(e)}]),this._executeHandlers()}))}catch(e){return this.then((e=>e),e)}finally(e){return new SyncPromise(((t,n)=>{let r,i;return this.then((t=>{i=!1,r=t,e&&e()}),(t=>{i=!0,r=t,e&&e()})).then((()=>{i?n(r):t(r)}))}))}__init3(){this._resolve=e=>{this._setResult(i.RESOLVED,e)}}__init4(){this._reject=e=>{this._setResult(i.REJECTED,e)}}__init5(){this._setResult=(e,t)=>{this._state===i.PENDING&&(r.isThenable(t)?t.then(this._resolve,this._reject):(this._state=e,this._value=t,this._executeHandlers()))}}__init6(){this._executeHandlers=()=>{if(this._state===i.PENDING)return;const e=this._handlers.slice();this._handlers=[],e.forEach((e=>{e[0]||(this._state===i.RESOLVED&&e[1](this._value),this._state===i.REJECTED&&e[2](this._value),e[0]=!0)}))}}}t.SyncPromise=SyncPromise,t.rejectedSyncPromise=function(e){return new SyncPromise(((t,n)=>{n(e)}))},t.resolvedSyncPromise=function(e){return new SyncPromise((t=>{t(e)}))}},6638:(e,t,n)=>{e=n.nmd(e),Object.defineProperty(t,"__esModule",{value:!0});const r=n(4773),i=n(5303).getGlobalObject(),o={nowSeconds:()=>Date.now()/1e3};const s=r.isNodeEnv()?function(){try{return r.dynamicRequire(e,"perf_hooks").performance}catch(t){return}}():function(){const{performance:e}=i;if(!e||!e.now)return;return{now:()=>e.now(),timeOrigin:Date.now()-e.now()}}(),a=void 0===s?o:{nowSeconds:()=>(s.timeOrigin+s.now())/1e3},l=o.nowSeconds.bind(o),c=a.nowSeconds.bind(a),u=c,d=void 0!==s;t._browserPerformanceTimeOriginMode=void 0;const h=(()=>{const{performance:e}=i;if(!e||!e.now)return void(t._browserPerformanceTimeOriginMode="none");const n=36e5,r=e.now(),o=Date.now(),s=e.timeOrigin?Math.abs(e.timeOrigin+r-o):n,a=s<n,l=e.timing&&e.timing.navigationStart,c="number"==typeof l?Math.abs(l+r-o):n;return a||c<n?s<=c?(t._browserPerformanceTimeOriginMode="timeOrigin",e.timeOrigin):(t._browserPerformanceTimeOriginMode="navigationStart",l):(t._browserPerformanceTimeOriginMode="dateNow",o)})();t.browserPerformanceTimeOrigin=h,t.dateTimestampInSeconds=l,t.timestampInSeconds=c,t.timestampWithMs=u,t.usingPerformanceAPI=d},8257:(e,t)=>{Object.defineProperty(t,"__esModule",{value:!0});const n=new RegExp("^[ \\t]*([0-9a-f]{32})?-?([0-9a-f]{16})?-?([01])?[ \\t]*$");t.TRACEPARENT_REGEXP=n,t.extractTraceparentData=function(e){const t=e.match(n);if(!e||!t)return;let r;return"1"===t[3]?r=!0:"0"===t[3]&&(r=!1),{traceId:t[1],parentSampled:r,parentSpanId:t[2]}}},3258:(e,t)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.getNumberOfUrlSegments=function(e){return e.split(/\\?\//).filter((e=>e.length>0&&","!==e)).length},t.parseUrl=function(e){if(!e)return{};const t=e.match(/^(([^:/?#]+):)?(\/\/([^/?#]*))?([^?#]*)(\?([^#]*))?(#(.*))?$/);if(!t)return{};const n=t[6]||"",r=t[8]||"";return{host:t[4],path:t[5],protocol:t[2],relative:t[5]+n+r}},t.stripUrlQueryAndFragment=function(e){return e.split(/[\?#]/,1)[0]}},5303:(e,t,n)=>{function r(e){return e&&e.Math==Math?e:void 0}Object.defineProperty(t,"__esModule",{value:!0});const i="object"==typeof globalThis&&r(globalThis)||"object"==typeof window&&r(window)||"object"==typeof self&&r(self)||"object"==typeof n.g&&r(n.g)||function(){return this}()||{};t.GLOBAL_OBJ=i,t.getGlobalObject=function(){return i},t.getGlobalSingleton=function(e,t,n){const r=n||i,o=r.__SENTRY__=r.__SENTRY__||{};return o[e]||(o[e]=t())}},2498:function(e,t,n){e.exports=function(){"use strict";function e(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function t(t){for(var n=1;n<arguments.length;n++){var r=null!=arguments[n]?arguments[n]:{};n%2?e(Object(r),!0).forEach((function(e){a(t,e,r[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):e(Object(r)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(r,e))}))}return t}function r(e){return r="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},r(e)}function i(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function o(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,_(r.key),r)}}function s(e,t,n){return t&&o(e.prototype,t),n&&o(e,n),Object.defineProperty(e,"prototype",{writable:!1}),e}function a(e,t,n){return(t=_(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function l(e){return c(e)||u(e)||d(e)||p()}function c(e){if(Array.isArray(e))return h(e)}function u(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}function d(e,t){if(e){if("string"==typeof e)return h(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?h(e,t):void 0}}function h(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function p(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}function f(e,t){var n="undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(!n){if(Array.isArray(e)||(n=d(e))||t&&e&&"number"==typeof e.length){n&&(e=n);var r=0,i=function(){};return{s:i,n:function(){return r>=e.length?{done:!0}:{done:!1,value:e[r++]}},e:function(e){throw e},f:i}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var o,s=!0,a=!1;return{s:function(){n=n.call(e)},n:function(){var e=n.next();return s=e.done,e},e:function(e){a=!0,o=e},f:function(){try{s||null==n.return||n.return()}finally{if(a)throw o}}}}function m(e,t){if("object"!=typeof e||null===e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!=typeof r)return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}function _(e){var t=m(e,"string");return"symbol"==typeof t?t:String(t)}function g(){return"object"==typeof window&&void 0!==(null===window||void 0===window?void 0:window.document)}var v=function(){var e;if(g()){var t=window,n=Array;if(void 0!==t.Prototype&&void 0!==(null===(e=n.prototype)||void 0===e?void 0:e.toJSON))return delete n.prototype.toJSON,!0}return!1},y={DEFAULT_INSTANCE:"$default_instance",API_VERSION:2,MAX_STRING_LENGTH:4096,MAX_PROPERTY_KEYS:1e3,IDENTIFY_EVENT:"$identify",GROUP_IDENTIFY_EVENT:"$groupidentify",EVENT_LOG_URL:"api.amplitude.com",EVENT_LOG_EU_URL:"api.eu.amplitude.com",DYNAMIC_CONFIG_URL:"regionconfig.amplitude.com",DYNAMIC_CONFIG_EU_URL:"regionconfig.eu.amplitude.com",LAST_EVENT_ID:"amplitude_lastEventId",LAST_EVENT_TIME:"amplitude_lastEventTime",LAST_IDENTIFY_ID:"amplitude_lastIdentifyId",LAST_SEQUENCE_NUMBER:"amplitude_lastSequenceNumber",SESSION_ID:"amplitude_sessionId",DEVICE_ID:"amplitude_deviceId",OPT_OUT:"amplitude_optOut",USER_ID:"amplitude_userId",DEVICE_ID_INDEX:0,USER_ID_INDEX:1,OPT_OUT_INDEX:2,SESSION_ID_INDEX:3,LAST_EVENT_TIME_INDEX:4,EVENT_ID_INDEX:5,IDENTIFY_ID_INDEX:6,SEQUENCE_NUMBER_INDEX:7,COOKIE_TEST_PREFIX:"amp_cookie_test",COOKIE_PREFIX:"amp",STORAGE_DEFAULT:"",STORAGE_COOKIES:"cookies",STORAGE_NONE:"none",STORAGE_LOCAL:"localStorage",STORAGE_SESSION:"sessionStorage",REVENUE_EVENT:"revenue_amount",REVENUE_PRODUCT_ID:"$productId",REVENUE_QUANTITY:"$quantity",REVENUE_PRICE:"$price",REVENUE_REVENUE_TYPE:"$revenueType",AMP_DEVICE_ID_PARAM:"amp_device_id",AMP_REFERRER_PARAM:"amp_referrer",REFERRER:"referrer",UTM_SOURCE:"utm_source",UTM_MEDIUM:"utm_medium",UTM_CAMPAIGN:"utm_campaign",UTM_TERM:"utm_term",UTM_CONTENT:"utm_content",ATTRIBUTION_EVENT:"[Amplitude] Attribution Captured",TRANSPORT_HTTP:"http",TRANSPORT_BEACON:"beacon"},b={encode:function(e){for(var t="",n=0;n<e.length;n++){var r=e.charCodeAt(n);r<128?t+=String.fromCharCode(r):r>127&&r<2048?(t+=String.fromCharCode(r>>6|192),t+=String.fromCharCode(63&r|128)):(t+=String.fromCharCode(r>>12|224),t+=String.fromCharCode(r>>6&63|128),t+=String.fromCharCode(63&r|128))}return t},decode:function(e){for(var t="",n=0,r=0,i=0,o=0;n<e.length;)(r=e.charCodeAt(n))<128?(t+=String.fromCharCode(r),n++):r>191&&r<224?(i=e.charCodeAt(n+1),t+=String.fromCharCode((31&r)<<6|63&i),n+=2):(i=e.charCodeAt(n+1),o=e.charCodeAt(n+2),t+=String.fromCharCode((15&r)<<12|(63&i)<<6|63&o),n+=3);return t}},w="undefined"!=typeof globalThis?globalThis:"undefined"!=typeof window?window:"undefined"!=typeof self?self:void 0!==n.g?n.g:void 0,E={_keyStr:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=",encode:function(e){try{if(w.btoa&&w.atob)return w.btoa(unescape(encodeURIComponent(e)))}catch(t){}return E._encode(e)},_encode:function(e){var t,n,r,i,o,s,a,l="",c=0;for(e=b.encode(e);c<e.length;)i=(t=e.charCodeAt(c++))>>2,o=(3&t)<<4|(n=e.charCodeAt(c++))>>4,s=(15&n)<<2|(r=e.charCodeAt(c++))>>6,a=63&r,isNaN(n)?s=a=64:isNaN(r)&&(a=64),l=l+E._keyStr.charAt(i)+E._keyStr.charAt(o)+E._keyStr.charAt(s)+E._keyStr.charAt(a);return l},decode:function(e){try{if(w.btoa&&w.atob)return decodeURIComponent(escape(w.atob(e)))}catch(t){}return E._decode(e)},_decode:function(e){var t,n,r,i,o,s,a="",l=0;for(e=e.replace(/[^A-Za-z0-9+/=]/g,"");l<e.length;)t=E._keyStr.indexOf(e.charAt(l++))<<2|(i=E._keyStr.indexOf(e.charAt(l++)))>>4,n=(15&i)<<4|(o=E._keyStr.indexOf(e.charAt(l++)))>>2,r=(3&o)<<6|(s=E._keyStr.indexOf(e.charAt(l++))),a+=String.fromCharCode(t),64!==o&&(a+=String.fromCharCode(n)),64!==s&&(a+=String.fromCharCode(r));return a=b.decode(a)}},S=Object.prototype.toString;function k(e){switch(S.call(e)){case"[object Date]":return"date";case"[object RegExp]":return"regexp";case"[object Arguments]":return"arguments";case"[object Array]":return"array";case"[object Error]":return"error"}return null===e?"null":void 0===e?"undefined":e!=e?"nan":e&&1===e.nodeType?"element":"undefined"!=typeof Buffer&&"function"==typeof Buffer.isBuffer&&Buffer.isBuffer(e)?"buffer":r(e=e.valueOf?e.valueOf():Object.prototype.valueOf.apply(e))}var T,I={DISABLE:0,ERROR:1,WARN:2,INFO:3},C=I.WARN,R={error:function(e){C>=I.ERROR&&N(e)},warn:function(e){C>=I.WARN&&N(e)},info:function(e){C>=I.INFO&&N(e)}},N=function(e){try{console.log("[Amplitude] "+e)}catch(t){}},x=function e(t){if("array"===k(t))for(var n=0;n<t.length;n++)t[n]=e(t[n]);else if("object"===k(t))for(var r in t)r in t&&(t[r]=e(t[r]));else t=P(t);return t},P=function(e){return"string"===k(e)&&e.length>y.MAX_STRING_LENGTH?e.substring(0,y.MAX_STRING_LENGTH):e},O=function(e,t,n){return k(e)===n||(R.error("Invalid "+t+" input type. Expected "+n+" but received "+k(e)),!1)},A=function(e){return!(!O(e,"deviceId","string")||e.indexOf(".")>=0&&(R.error("Device IDs may not contain '.' characters. Value will be ignored: \"".concat(e,'"')),1))},D=function(e){return!(!O(e,"transport","string")||(e!==y.TRANSPORT_HTTP&&e!==y.TRANSPORT_BEACON?(R.error("transport value must be one of '".concat(y.TRANSPORT_BEACON,"' or '").concat(y.TRANSPORT_HTTP,"'")),1):e!==y.TRANSPORT_HTTP&&"undefined"!=typeof navigator&&!navigator.sendBeacon&&(R.error("browser does not support sendBeacon, so transport must be HTTP"),1)))},M=function(e){var t=k(e);if("object"!==t)return R.error("Error: invalid properties format. Expecting Javascript object, received "+t+", ignoring"),{};if(Object.keys(e).length>y.MAX_PROPERTY_KEYS)return R.error("Error: too many properties (more than 1000), ignoring"),{};var n={};for(var r in e)if(Object.prototype.hasOwnProperty.call(e,r)){var i=r,o=k(i);"string"!==o&&(i=String(i),R.warn("WARNING: Non-string property key, received type "+o+', coercing to string "'+i+'"'));var s=U(i,e[r]);null!==s&&(n[i]=s)}return n},L=["nan","function","arguments","regexp","element"],U=function e(t,n){var r=k(n);if(-1!==L.indexOf(r))R.warn('WARNING: Property key "'+t+'" with invalid value type '+r+", ignoring"),n=null;else if("undefined"===r)n=null;else if("error"===r)n=String(n),R.warn('WARNING: Property key "'+t+'" with value type error, coercing to '+n);else if("array"===r){for(var i=[],o=0;o<n.length;o++){var s=n[o],a=k(s);"array"!==a?"object"===a?i.push(M(s)):i.push(e(t,s)):R.warn("WARNING: Cannot have "+a+" nested in an array property value, skipping")}n=i}else"object"===r&&(n=M(n));return n},F=function(e){var t=k(e);if("object"!==t)return R.error("Error: invalid groups format. Expecting Javascript object, received "+t+", ignoring"),{};var n={};for(var r in e)if(Object.prototype.hasOwnProperty.call(e,r)){var i=r,o=k(i);"string"!==o&&(i=String(i),R.warn("WARNING: Non-string groupType, received type "+o+', coercing to string "'+i+'"'));var s=B(i,e[r]);null!==s&&(n[i]=s)}return n},B=function(e,t){var n=k(t);if("string"===n)return t;if("date"===n||"number"===n||"boolean"===n)return t=String(t),R.warn("WARNING: Non-string groupName, received type "+n+', coercing to string "'+t+'"'),t;if("array"===n){for(var r=[],i=0;i<t.length;i++){var o=t[i],s=k(o);"array"!==s&&"object"!==s?"string"===s?r.push(o):"date"!==s&&"number"!==s&&"boolean"!==s||(o=String(o),R.warn("WARNING: Non-string groupName, received type "+s+', coercing to string "'+o+'"'),r.push(o)):R.warn("WARNING: Skipping nested "+s+" in array groupName")}return r}R.warn("WARNING: Non-string groupName, received type "+n+". Please use strings or array of strings for groupName")},z=function(e){return!!(O(e,"sessionId","number")&&new Date(e).getTime()>0)||(R.error("sessionId value must in milliseconds since epoch (Unix Timestamp)"),!1)},W={setLogLevel:function(e){Object.prototype.hasOwnProperty.call(I,e)&&(C=I[e])},getLogLevel:function(){return C},logLevels:I,log:R,isEmptyString:function(e){return!e||0===e.length},isWebWorkerEnvironment:function(){return"undefined"!=typeof WorkerGlobalScope},getQueryParam:function(e,t){e=e.replace(/[[]/,"\\[").replace(/[\]]/,"\\]");var n=new RegExp("[\\?&]"+e+"=([^&#]*)").exec(t);return null===n?void 0:decodeURIComponent(n[1].replace(/\+/g," "))},sessionStorageEnabled:function(){try{if(w.sessionStorage)return!0}catch(e){}return!1},truncate:x,validateGroups:F,validateInput:O,validateProperties:M,validateDeviceId:A,validateTransport:D,validateSessionId:z},G=function(){return w.location},H="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-_",$=function(){for(var e="",t=0;t<22;++t)e+=H.charAt(Math.floor(64*Math.random()));return e},V=function(e){try{for(var t=document.cookie.split(";"),n=null,r=0;r<t.length;r++){for(var i=t[r];" "===i.charAt(0);)i=i.substring(1,i.length);if(0===i.indexOf(e)){n=i.substring(e.length,i.length);break}}return n}catch(o){return null}},Y=function(e,t,n){var r=null!==t?n.expirationDays:-1;if(r){var i=new Date;i.setTime(i.getTime()+24*r*60*60*1e3),r=i}var o=e+"="+t;r&&(o+="; expires="+r.toUTCString()),o+="; path=/",n.domain&&(o+="; domain="+n.domain),n.secure&&(o+="; Secure"),n.sameSite&&(o+="; SameSite="+n.sameSite),document.cookie=o},K=function(){var e,t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"",n=t.split(".")[y.LAST_EVENT_TIME_INDEX];return n&&(e=parseInt(n,32)),e||(W.log.warn("unable to parse malformed cookie: ".concat(t)),0)},J=function(e){return l(e).sort((function(e,t){var n=K(e);return K(t)-n}))},X=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=y.COOKIE_TEST_PREFIX+$();if("undefined"==typeof document)return!1;var n=!1;try{var r=String(Date.now());Y(t,r,e),W.log.info("Testing if cookies available"),n=V(t+"=")===r}catch(i){W.log.warn('Error thrown when checking for cookies. Reason: "'.concat(i,'"'))}finally{W.log.info("Cleaning up cookies availability test"),Y(t,null,e)}return n},Q={set:Y,get:V,getAll:function(e){try{var t,n=document.cookie.split(";").map((function(e){return e.trimStart()})),r=[],i=f(n);try{for(i.s();!(t=i.n()).done;){for(var o=t.value;" "===o.charAt(0);)o=o.substring(1);0===o.indexOf(e)&&r.push(o.substring(e.length))}}catch(s){i.e(s)}finally{i.f()}return r}catch(a){return[]}},getLastEventTime:K,sortByEventTime:J,areCookiesEnabled:X},Z=function(e){var t=w.location?w.location.hostname:"";if(e){if("undefined"!=typeof document){var n=document.createElement("a");return n.href=e,n.hostname||t}if("function"==typeof URL)return new URL(e).hostname||t}return t},ee=function(e){var t=Z(e).split("."),n=[],r="_tldtest_"+$();if(W.isWebWorkerEnvironment())return"";for(var i=t.length-2;i>=0;--i)n.push(t.slice(i).join("."));for(var o=0;o<n.length;++o){var s=n[o],a={domain:"."+s};if(Q.set(r,1,a),Q.get(r))return Q.set(r,null,a),s}return""},te={expirationDays:void 0,domain:void 0},ne=function(e){if(0===arguments.length)return te;e=e||{},te.expirationDays=e.expirationDays,te.secure=e.secure,te.sameSite=e.sameSite;var t=W.isEmptyString(e.domain)?"."+ee(G().href):e.domain,n=Math.random();te.domain=t,oe("amplitude_test",n);var r=ie("amplitude_test");return r&&r===n||(t=null),se("amplitude_test"),te.domain=t,te},re=function(e){var t="";return te.domain&&(t="."===te.domain.charAt(0)?te.domain.substring(1):te.domain),e+t},ie=function(e){var t=re(e)+"=",n=Q.get(t);try{if(n)return JSON.parse(E.decode(n))}catch(r){return null}return null},oe=function(e,t){try{return Q.set(re(e),E.encode(JSON.stringify(t)),te),!0}catch(n){return!1}},se=function(e){try{return Q.set(re(e),null,te),!0}catch(t){return!1}},ae={reset:function(){te={expirationDays:void 0,domain:void 0}},options:ne,get:ie,set:oe,remove:se,setRaw:function(e,t){try{return Q.set(re(e),t,te),!0}catch(n){return!1}},getRaw:function(e){var t=re(e)+"=";return Q.get(t)}},le=function(){function e(){i(this,e),this.map=new Map,this.length=0}return s(e,[{key:"key",value:function(e){var t=Array.from(this.map.keys())[e];return this.map.get(t)}},{key:"getItem",value:function(e){return this.map.get(e)}},{key:"setItem",value:function(e,t){this.map.has(e)||(this.length+=1),this.map.set(e,t)}},{key:"removeItem",value:function(e){this.map.has(e)&&(this.length-=1,this.map.delete(e))}},{key:"clear",value:function(){this.map.clear(),this.length=0}}]),e}();if(function(){var e,t=new Date;try{return w.localStorage.setItem(t,t),e=w.localStorage.getItem(t)===String(t),w.localStorage.removeItem(t),e}catch(n){}return!1}())T=w.localStorage;else if(void 0!==w&&w.globalStorage)try{T=w.globalStorage[w.location.hostname]}catch(Zt){}else if("undefined"!=typeof document){var ce=document.createElement("div"),ue="localStorage";ce.style.display="none",document.getElementsByTagName("head")[0].appendChild(ce),ce.addBehavior&&(ce.addBehavior("#default#userdata"),T={length:0,setItem:function(e,t){ce.load(ue),ce.getAttribute(e)||this.length++,ce.setAttribute(e,t),ce.save(ue)},getItem:function(e){return ce.load(ue),ce.getAttribute(e)},removeItem:function(e){ce.load(ue),ce.getAttribute(e)&&this.length--,ce.removeAttribute(e),ce.save(ue)},clear:function(){ce.load(ue);for(var e,t=0;e=ce.XMLDocument.documentElement.attributes[t++];)ce.removeAttribute(e.name);ce.save(ue),this.length=0},key:function(e){return ce.load(ue),ce.XMLDocument.documentElement.attributes[e]}},ce.load(ue),T.length=ce.XMLDocument.documentElement.attributes.length)}else W.isWebWorkerEnvironment()&&(T=new le);T||(T={length:0,setItem:function(e,t){},getItem:function(e){},removeItem:function(e){},clear:function(){},key:function(e){}});var de,he=T,pe=function(){this.storage=null};pe.prototype.getStorage=function(e){if(null!==this.storage)return this.storage;if(!e&&Q.areCookiesEnabled())this.storage=ae;else{var t="amp_cookiestore_";this.storage={_options:{expirationDays:void 0,domain:void 0,secure:!1},reset:function(){this._options={expirationDays:void 0,domain:void 0,secure:!1}},options:function(e){return 0===arguments.length?this._options:(e=e||{},this._options.expirationDays=e.expirationDays||this._options.expirationDays,this._options.domain=e.domain||this._options.domain||w&&w.location&&w.location.hostname,this._options.secure=e.secure||!1)},get:function(e){try{return JSON.parse(he.getItem(t+e))}catch(Zt){}return null},set:function(e,n){try{return he.setItem(t+e,JSON.stringify(n)),!0}catch(Zt){}return!1},remove:function(e){try{he.removeItem(t+e)}catch(Zt){return!1}}}}return this.storage};var fe=(a(de={},y.STORAGE_COOKIES,!0),a(de,y.STORAGE_NONE,!0),a(de,y.STORAGE_LOCAL,!0),a(de,y.STORAGE_SESSION,!0),de),me=function(){function e(t){var n=t.storageKey,r=t.disableCookies,o=t.domain,s=t.secure,a=t.sameSite,l=t.expirationDays,c=t.storage;i(this,e),this.storageKey=n,this.domain=o,this.secure=s,this.sameSite=a,this.expirationDays=l,this.cookieDomain="";var u=G()?G().href:void 0,d=ee(u);if(this.cookieDomain=o||(d?"."+d:null),fe[c])this.storage=c;else{var h=r||!Q.areCookiesEnabled({domain:this.cookieDomain,secure:this.secure,sameSite:this.sameSite,expirationDays:this.expirationDays});this.storage=h?y.STORAGE_LOCAL:y.STORAGE_COOKIES}}return s(e,[{key:"getCookieStorageKey",value:function(){if(!this.domain)return this.storageKey;var e="."===this.domain.charAt(0)?this.domain.substring(1):this.domain;return"".concat(this.storageKey).concat(e?"_".concat(e):"")}},{key:"save",value:function(e){var t=e.deviceId,n=e.userId,r=e.optOut,i=e.sessionId,o=e.lastEventTime,s=e.eventId,a=e.identifyId,l=e.sequenceNumber;if(this.storage!==y.STORAGE_NONE){var c=[t,E.encode(n||""),r?"1":"",i?i.toString(32):"0",o?o.toString(32):"0",s?s.toString(32):"0",a?a.toString(32):"0",l?l.toString(32):"0"].join(".");switch(this.storage){case y.STORAGE_SESSION:w.sessionStorage&&w.sessionStorage.setItem(this.storageKey,c);break;case y.STORAGE_LOCAL:he.setItem(this.storageKey,c);break;case y.STORAGE_COOKIES:this.saveCookie(c)}}}},{key:"saveCookie",value:function(e){Q.set(this.getCookieStorageKey(),e,{domain:this.cookieDomain,secure:this.secure,sameSite:this.sameSite,expirationDays:this.expirationDays})}},{key:"load",value:function(){var e,t=this;if(this.storage===y.STORAGE_COOKIES){var n=this.getCookieStorageKey()+"=",r=Q.getAll(n);if(0===r.length||1===r.length)e=r[0];else{var i=Q.sortByEventTime(r)[0];r.forEach((function(){return Q.set(t.getCookieStorageKey(),null,{})})),this.saveCookie(i),e=Q.get(n)}}if(e||(e=he.getItem(this.storageKey)),!e)try{e=w.sessionStorage&&w.sessionStorage.getItem(this.storageKey)}catch(Zt){W.log.info('window.sessionStorage unavailable. Reason: "'.concat(Zt,'"'))}if(!e)return null;var o=e.split("."),s=null;if(o[y.USER_ID_INDEX])try{s=E.decode(o[y.USER_ID_INDEX])}catch(Zt){s=null}return{deviceId:o[y.DEVICE_ID_INDEX],userId:s,optOut:"1"===o[y.OPT_OUT_INDEX],sessionId:parseInt(o[y.SESSION_ID_INDEX],32),lastEventTime:parseInt(o[y.LAST_EVENT_TIME_INDEX],32),eventId:parseInt(o[y.EVENT_ID_INDEX],32),identifyId:parseInt(o[y.IDENTIFY_ID_INDEX],32),sequenceNumber:parseInt(o[y.SEQUENCE_NUMBER_INDEX],32)}}},{key:"clear",value:function(){var e;if(this.storage===y.STORAGE_COOKIES&&(e=Q.get(this.getCookieStorageKey()+"="),Q.set(this.getCookieStorageKey(),null,{domain:this.cookieDomain,secure:this.secure,sameSite:this.sameSite,expirationDays:0})),e||(e=he.getItem(this.storageKey),he.clear()),!e)try{e=w.sessionStorage&&w.sessionStorage.getItem(this.storageKey),w.sessionStorage.clear()}catch(Zt){W.log.info('window.sessionStorage unavailable. Reason: "'.concat(Zt,'"'))}return!!e}}]),e}(),_e=function(e,t){var n=e?"?"+e.split(".").slice(-1)[0].replace(/\|/g,"&"):"",r=function(e,t,n,r){return W.getQueryParam(e,t)||W.getQueryParam(n,r)},i=r(y.UTM_SOURCE,t,"utmcsr",n),o=r(y.UTM_MEDIUM,t,"utmcmd",n),s=r(y.UTM_CAMPAIGN,t,"utmccn",n),a=r(y.UTM_TERM,t,"utmctr",n),l=r(y.UTM_CONTENT,t,"utmcct",n),c={},u=function(e,t){W.isEmptyString(t)||(c[e]=t)};return u(y.UTM_SOURCE,i),u(y.UTM_MEDIUM,o),u(y.UTM_CAMPAIGN,s),u(y.UTM_TERM,a),u(y.UTM_CONTENT,l),c},ge="$add",ve="$append",ye="$clearAll",be="$prepend",we="$set",Ee="$setOnce",Se="$unset",ke="$preInsert",Te="$postInsert",Ie="$remove",Ce=function(){this.userPropertiesOperations={},this.properties=[]};Ce.prototype.add=function(e,t){return"number"===k(t)||"string"===k(t)?this._addOperation(ge,e,t):W.log.error("Unsupported type for value: "+k(t)+", expecting number or string"),this},Ce.prototype.append=function(e,t){return this._addOperation(ve,e,t),this},Ce.prototype.clearAll=function(){return Object.keys(this.userPropertiesOperations).length>0?(Object.prototype.hasOwnProperty.call(this.userPropertiesOperations,ye)||W.log.error("Need to send $clearAll on its own Identify object without any other operations, skipping $clearAll"),this):(this.userPropertiesOperations[ye]="-",this)},Ce.prototype.prepend=function(e,t){return this._addOperation(be,e,t),this},Ce.prototype.set=function(e,t){return this._addOperation(we,e,t),this},Ce.prototype.setOnce=function(e,t){return this._addOperation(Ee,e,t),this},Ce.prototype.unset=function(e){return this._addOperation(Se,e,"-"),this},Ce.prototype.preInsert=function(e,t){return this._addOperation(ke,e,t),this},Ce.prototype.postInsert=function(e,t){return this._addOperation(Te,e,t),this},Ce.prototype.remove=function(e,t){return this._addOperation(Ie,e,t),this},Ce.prototype._addOperation=function(e,t,n){Object.prototype.hasOwnProperty.call(this.userPropertiesOperations,ye)?W.log.error("This identify already contains a $clearAll operation, skipping operation "+e):-1===this.properties.indexOf(t)?(Object.prototype.hasOwnProperty.call(this.userPropertiesOperations,e)||(this.userPropertiesOperations[e]={}),this.userPropertiesOperations[e][t]=n,this.properties.push(t)):W.log.error('User property "'+t+'" already used in this identify, skipping operation '+e)};var Re="undefined"!=typeof globalThis?globalThis:"undefined"!=typeof window?window:void 0!==n.g?n.g:"undefined"!=typeof self?self:{},Ne={};!function(e){!function(t){function n(e,t){var n=(65535&e)+(65535&t);return(e>>16)+(t>>16)+(n>>16)<<16|65535&n}function r(e,t){return e<<t|e>>>32-t}function i(e,t,i,o,s,a){return n(r(n(n(t,e),n(o,a)),s),i)}function o(e,t,n,r,o,s,a){return i(t&n|~t&r,e,t,o,s,a)}function s(e,t,n,r,o,s,a){return i(t&r|n&~r,e,t,o,s,a)}function a(e,t,n,r,o,s,a){return i(t^n^r,e,t,o,s,a)}function l(e,t,n,r,o,s,a){return i(n^(t|~r),e,t,o,s,a)}function c(e,t){var r,i,c,u,d;e[t>>5]|=128<<t%32,e[14+(t+64>>>9<<4)]=t;var h=1732584193,p=-271733879,f=-1732584194,m=271733878;for(r=0;r<e.length;r+=16)i=h,c=p,u=f,d=m,h=o(h,p,f,m,e[r],7,-680876936),m=o(m,h,p,f,e[r+1],12,-389564586),f=o(f,m,h,p,e[r+2],17,606105819),p=o(p,f,m,h,e[r+3],22,-1044525330),h=o(h,p,f,m,e[r+4],7,-176418897),m=o(m,h,p,f,e[r+5],12,1200080426),f=o(f,m,h,p,e[r+6],17,-1473231341),p=o(p,f,m,h,e[r+7],22,-45705983),h=o(h,p,f,m,e[r+8],7,1770035416),m=o(m,h,p,f,e[r+9],12,-1958414417),f=o(f,m,h,p,e[r+10],17,-42063),p=o(p,f,m,h,e[r+11],22,-1990404162),h=o(h,p,f,m,e[r+12],7,1804603682),m=o(m,h,p,f,e[r+13],12,-40341101),f=o(f,m,h,p,e[r+14],17,-1502002290),h=s(h,p=o(p,f,m,h,e[r+15],22,1236535329),f,m,e[r+1],5,-165796510),m=s(m,h,p,f,e[r+6],9,-1069501632),f=s(f,m,h,p,e[r+11],14,643717713),p=s(p,f,m,h,e[r],20,-373897302),h=s(h,p,f,m,e[r+5],5,-701558691),m=s(m,h,p,f,e[r+10],9,38016083),f=s(f,m,h,p,e[r+15],14,-660478335),p=s(p,f,m,h,e[r+4],20,-405537848),h=s(h,p,f,m,e[r+9],5,568446438),m=s(m,h,p,f,e[r+14],9,-1019803690),f=s(f,m,h,p,e[r+3],14,-187363961),p=s(p,f,m,h,e[r+8],20,1163531501),h=s(h,p,f,m,e[r+13],5,-1444681467),m=s(m,h,p,f,e[r+2],9,-51403784),f=s(f,m,h,p,e[r+7],14,1735328473),h=a(h,p=s(p,f,m,h,e[r+12],20,-1926607734),f,m,e[r+5],4,-378558),m=a(m,h,p,f,e[r+8],11,-2022574463),f=a(f,m,h,p,e[r+11],16,1839030562),p=a(p,f,m,h,e[r+14],23,-35309556),h=a(h,p,f,m,e[r+1],4,-1530992060),m=a(m,h,p,f,e[r+4],11,1272893353),f=a(f,m,h,p,e[r+7],16,-155497632),p=a(p,f,m,h,e[r+10],23,-1094730640),h=a(h,p,f,m,e[r+13],4,681279174),m=a(m,h,p,f,e[r],11,-358537222),f=a(f,m,h,p,e[r+3],16,-722521979),p=a(p,f,m,h,e[r+6],23,76029189),h=a(h,p,f,m,e[r+9],4,-640364487),m=a(m,h,p,f,e[r+12],11,-421815835),f=a(f,m,h,p,e[r+15],16,530742520),h=l(h,p=a(p,f,m,h,e[r+2],23,-995338651),f,m,e[r],6,-198630844),m=l(m,h,p,f,e[r+7],10,1126891415),f=l(f,m,h,p,e[r+14],15,-1416354905),p=l(p,f,m,h,e[r+5],21,-57434055),h=l(h,p,f,m,e[r+12],6,1700485571),m=l(m,h,p,f,e[r+3],10,-1894986606),f=l(f,m,h,p,e[r+10],15,-1051523),p=l(p,f,m,h,e[r+1],21,-2054922799),h=l(h,p,f,m,e[r+8],6,1873313359),m=l(m,h,p,f,e[r+15],10,-30611744),f=l(f,m,h,p,e[r+6],15,-1560198380),p=l(p,f,m,h,e[r+13],21,1309151649),h=l(h,p,f,m,e[r+4],6,-145523070),m=l(m,h,p,f,e[r+11],10,-1120210379),f=l(f,m,h,p,e[r+2],15,718787259),p=l(p,f,m,h,e[r+9],21,-343485551),h=n(h,i),p=n(p,c),f=n(f,u),m=n(m,d);return[h,p,f,m]}function u(e){var t,n="",r=32*e.length;for(t=0;t<r;t+=8)n+=String.fromCharCode(e[t>>5]>>>t%32&255);return n}function d(e){var t,n=[];for(n[(e.length>>2)-1]=void 0,t=0;t<n.length;t+=1)n[t]=0;var r=8*e.length;for(t=0;t<r;t+=8)n[t>>5]|=(255&e.charCodeAt(t/8))<<t%32;return n}function h(e){return u(c(d(e),8*e.length))}function p(e,t){var n,r,i=d(e),o=[],s=[];for(o[15]=s[15]=void 0,i.length>16&&(i=c(i,8*e.length)),n=0;n<16;n+=1)o[n]=909522486^i[n],s[n]=1549556828^i[n];return r=c(o.concat(d(t)),512+8*t.length),u(c(s.concat(r),640))}function f(e){var t,n,r="0123456789abcdef",i="";for(n=0;n<e.length;n+=1)t=e.charCodeAt(n),i+=r.charAt(t>>>4&15)+r.charAt(15&t);return i}function m(e){return unescape(encodeURIComponent(e))}function _(e){return h(m(e))}function g(e){return f(_(e))}function v(e,t){return p(m(e),m(t))}function y(e,t){return f(v(e,t))}function b(e,t,n){return t?n?v(t,e):y(t,e):n?_(e):g(e)}e.exports?e.exports=b:t.md5=b}(Re)}({get exports(){return Ne},set exports(e){Ne=e}});var xe=Ne,Pe="%[a-f0-9]{2}",Oe=new RegExp("("+Pe+")|([^%]+?)","gi"),Ae=new RegExp("("+Pe+")+","gi");function De(e,t){try{return[decodeURIComponent(e.join(""))]}catch(i){}if(1===e.length)return e;t=t||1;var n=e.slice(0,t),r=e.slice(t);return Array.prototype.concat.call([],De(n),De(r))}function Me(e){try{return decodeURIComponent(e)}catch(r){for(var t=e.match(Oe)||[],n=1;n<t.length;n++)t=(e=De(t,n).join("")).match(Oe)||[];return e}}function Le(e){for(var t={"%FE%FF":"\ufffd\ufffd","%FF%FE":"\ufffd\ufffd"},n=Ae.exec(e);n;){try{t[n[0]]=decodeURIComponent(n[0])}catch(a){var r=Me(n[0]);r!==n[0]&&(t[n[0]]=r)}n=Ae.exec(e)}t["%C2"]="\ufffd";for(var i=Object.keys(t),o=0;o<i.length;o++){var s=i[o];e=e.replace(new RegExp(s,"g"),t[s])}return e}var Ue=function(e){if("string"!=typeof e)throw new TypeError("Expected `encodedURI` to be of type `string`, got `"+typeof e+"`");try{return e=e.replace(/\+/g," "),decodeURIComponent(e)}catch(t){return Le(e)}},Fe=(e,t)=>{if("string"!=typeof e||"string"!=typeof t)throw new TypeError("Expected the arguments to be of type `string`");if(""===t)return[e];const n=e.indexOf(t);return-1===n?[e]:[e.slice(0,n),e.slice(n+t.length)]};function je(e,t){const n={};if(Array.isArray(t))for(const r of t){const t=Object.getOwnPropertyDescriptor(e,r);t?.enumerable&&Object.defineProperty(n,r,t)}else for(const r of Reflect.ownKeys(e)){const i=Object.getOwnPropertyDescriptor(e,r);i.enumerable&&t(r,e[r],e)&&Object.defineProperty(n,r,i)}return n}const Be=e=>null==e,ze=e=>encodeURIComponent(e).replace(/[!'()*]/g,(e=>`%${e.charCodeAt(0).toString(16).toUpperCase()}`)),We=Symbol("encodeFragmentIdentifier");function Ge(e){switch(e.arrayFormat){case"index":return t=>(n,r)=>{const i=n.length;return void 0===r||e.skipNull&&null===r||e.skipEmptyString&&""===r?n:null===r?[...n,[$e(t,e),"[",i,"]"].join("")]:[...n,[$e(t,e),"[",$e(i,e),"]=",$e(r,e)].join("")]};case"bracket":return t=>(n,r)=>void 0===r||e.skipNull&&null===r||e.skipEmptyString&&""===r?n:null===r?[...n,[$e(t,e),"[]"].join("")]:[...n,[$e(t,e),"[]=",$e(r,e)].join("")];case"colon-list-separator":return t=>(n,r)=>void 0===r||e.skipNull&&null===r||e.skipEmptyString&&""===r?n:null===r?[...n,[$e(t,e),":list="].join("")]:[...n,[$e(t,e),":list=",$e(r,e)].join("")];case"comma":case"separator":case"bracket-separator":{const t="bracket-separator"===e.arrayFormat?"[]=":"=";return n=>(r,i)=>void 0===i||e.skipNull&&null===i||e.skipEmptyString&&""===i?r:(i=null===i?"":i,0===r.length?[[$e(n,e),t,$e(i,e)].join("")]:[[r,$e(i,e)].join(e.arrayFormatSeparator)])}default:return t=>(n,r)=>void 0===r||e.skipNull&&null===r||e.skipEmptyString&&""===r?n:null===r?[...n,$e(t,e)]:[...n,[$e(t,e),"=",$e(r,e)].join("")]}}function qe(e){let t;switch(e.arrayFormat){case"index":return(e,n,r)=>{t=/\[(\d*)]$/.exec(e),e=e.replace(/\[\d*]$/,""),t?(void 0===r[e]&&(r[e]={}),r[e][t[1]]=n):r[e]=n};case"bracket":return(e,n,r)=>{t=/(\[])$/.exec(e),e=e.replace(/\[]$/,""),t?void 0!==r[e]?r[e]=[...r[e],n]:r[e]=[n]:r[e]=n};case"colon-list-separator":return(e,n,r)=>{t=/(:list)$/.exec(e),e=e.replace(/:list$/,""),t?void 0!==r[e]?r[e]=[...r[e],n]:r[e]=[n]:r[e]=n};case"comma":case"separator":return(t,n,r)=>{const i="string"==typeof n&&n.includes(e.arrayFormatSeparator),o="string"==typeof n&&!i&&Ve(n,e).includes(e.arrayFormatSeparator);n=o?Ve(n,e):n;const s=i||o?n.split(e.arrayFormatSeparator).map((t=>Ve(t,e))):null===n?n:Ve(n,e);r[t]=s};case"bracket-separator":return(t,n,r)=>{const i=/(\[])$/.test(t);if(t=t.replace(/\[]$/,""),!i)return void(r[t]=n?Ve(n,e):n);const o=null===n?[]:n.split(e.arrayFormatSeparator).map((t=>Ve(t,e)));void 0!==r[t]?r[t]=[...r[t],...o]:r[t]=o};default:return(e,t,n)=>{void 0!==n[e]?n[e]=[...[n[e]].flat(),t]:n[e]=t}}}function He(e){if("string"!=typeof e||1!==e.length)throw new TypeError("arrayFormatSeparator must be single character string")}function $e(e,t){return t.encode?t.strict?ze(e):encodeURIComponent(e):e}function Ve(e,t){return t.decode?Ue(e):e}function Ye(e){return Array.isArray(e)?e.sort():"object"==typeof e?Ye(Object.keys(e)).sort(((e,t)=>Number(e)-Number(t))).map((t=>e[t])):e}function Ke(e){const t=e.indexOf("#");return-1!==t&&(e=e.slice(0,t)),e}function Je(e){let t="";const n=e.indexOf("#");return-1!==n&&(t=e.slice(n)),t}function Xe(e,t){return t.parseNumbers&&!Number.isNaN(Number(e))&&"string"==typeof e&&""!==e.trim()?e=Number(e):!t.parseBooleans||null===e||"true"!==e.toLowerCase()&&"false"!==e.toLowerCase()||(e="true"===e.toLowerCase()),e}function Qe(e){const t=(e=Ke(e)).indexOf("?");return-1===t?"":e.slice(t+1)}function Ze(e,t){He((t={decode:!0,sort:!0,arrayFormat:"none",arrayFormatSeparator:",",parseNumbers:!1,parseBooleans:!1,...t}).arrayFormatSeparator);const n=qe(t),r=Object.create(null);if("string"!=typeof e)return r;if(!(e=e.trim().replace(/^[?#&]/,"")))return r;for(const i of e.split("&")){if(""===i)continue;let[e,o]=Fe(t.decode?i.replace(/\+/g," "):i,"=");o=void 0===o?null:["comma","separator","bracket-separator"].includes(t.arrayFormat)?o:Ve(o,t),n(Ve(e,t),o,r)}for(const[i,o]of Object.entries(r))if("object"==typeof o&&null!==o)for(const[e,n]of Object.entries(o))o[e]=Xe(n,t);else r[i]=Xe(o,t);return!1===t.sort?r:(!0===t.sort?Object.keys(r).sort():Object.keys(r).sort(t.sort)).reduce(((e,t)=>{const n=r[t];return Boolean(n)&&"object"==typeof n&&!Array.isArray(n)?e[t]=Ye(n):e[t]=n,e}),Object.create(null))}function et(e,t){if(!e)return"";He((t={encode:!0,strict:!0,arrayFormat:"none",arrayFormatSeparator:",",...t}).arrayFormatSeparator);const n=n=>t.skipNull&&Be(e[n])||t.skipEmptyString&&""===e[n],r=Ge(t),i={};for(const[s,a]of Object.entries(e))n(s)||(i[s]=a);const o=Object.keys(i);return!1!==t.sort&&o.sort(t.sort),o.map((n=>{const i=e[n];return void 0===i?"":null===i?$e(n,t):Array.isArray(i)?0===i.length&&"bracket-separator"===t.arrayFormat?$e(n,t)+"[]":i.reduce(r(n),[]).join("&"):$e(n,t)+"="+$e(i,t)})).filter((e=>e.length>0)).join("&")}function tt(e,t){t={decode:!0,...t};const[n,r]=Fe(e,"#");return{url:n?.split("?")?.[0]??"",query:Ze(Qe(e),t),...t&&t.parseFragmentIdentifier&&r?{fragmentIdentifier:Ve(r,t)}:{}}}function nt(e,t){t={encode:!0,strict:!0,[We]:!0,...t};const n=Ke(e.url).split("?")[0]||"";let r=et({...Ze(Qe(e.url),{sort:!1}),...e.query},t);r&&(r=`?${r}`);let i=Je(e.url);if(e.fragmentIdentifier){const r=new URL(n);r.hash=e.fragmentIdentifier,i=t[We]?r.hash:`#${e.fragmentIdentifier}`}return`${n}${r}${i}`}function rt(e,t,n){n={parseFragmentIdentifier:!0,[We]:!1,...n};const{url:r,query:i,fragmentIdentifier:o}=tt(e,n);return nt({url:r,query:je(i,t),fragmentIdentifier:o},n)}function it(e,t,n){return rt(e,Array.isArray(t)?e=>!t.includes(e):(e,n)=>!t(e,n),n)}var ot=Object.freeze({__proto__:null,extract:Qe,parse:Ze,stringify:et,parseUrl:tt,stringifyUrl:nt,pick:rt,exclude:it}),st=function(e,t,n){this.url=e,this.data=t||{},this.headers=n},at="Cross-Origin-Resource-Policy";function lt(e,t){for(var n in t)(n!==at||t[n])&&e.setRequestHeader(n,t[n])}st.prototype.send=function(e){if(w.XDomainRequest){var t=new w.XDomainRequest;t.open("POST",this.url,!0),t.onload=function(){e(200,t.responseText)},t.onerror=function(){"Request Entity Too Large"===t.responseText?e(413,t.responseText):e(500,t.responseText)},t.ontimeout=function(){},t.onprogress=function(){},t.send(ot.stringify(this.data))}else if("undefined"!=typeof XMLHttpRequest){var n=new XMLHttpRequest;n.open("POST",this.url,!0),n.onreadystatechange=function(){4===n.readyState&&e(n.status,n.responseText)},lt(n,this.headers),n.send(ot.stringify(this.data))}else{var r=void 0;fetch(this.url,{method:"POST",headers:this.headers,body:ot.stringify(this.data)}).then((function(e){return r=e.status,e.text()})).then((function(t){e(r,t)}))}};var ct=function(){this._price=null,this._productId=null,this._quantity=1,this._revenueType=null,this._properties=null};ct.prototype.setProductId=function(e){return"string"!==k(e)?W.log.error("Unsupported type for productId: "+k(e)+", expecting string"):W.isEmptyString(e)?W.log.error("Invalid empty productId"):this._productId=e,this},ct.prototype.setQuantity=function(e){return"number"!==k(e)?W.log.error("Unsupported type for quantity: "+k(e)+", expecting number"):this._quantity=parseInt(e),this},ct.prototype.setPrice=function(e){return"number"!==k(e)?W.log.error("Unsupported type for price: "+k(e)+", expecting number"):this._price=e,this},ct.prototype.setRevenueType=function(e){return"string"!==k(e)?W.log.error("Unsupported type for revenueType: "+k(e)+", expecting string"):this._revenueType=e,this},ct.prototype.setEventProperties=function(e){return"object"!==k(e)?W.log.error("Unsupported type for eventProperties: "+k(e)+", expecting object"):this._properties=W.validateProperties(e),this},ct.prototype._isValidRevenue=function(){return"number"===k(this._price)||(W.log.error("Invalid revenue, need to set price field"),!1)},ct.prototype._toJSONObject=function(){var e="object"===k(this._properties)?this._properties:{};return null!==this._productId&&(e[y.REVENUE_PRODUCT_ID]=this._productId),null!==this._quantity&&(e[y.REVENUE_QUANTITY]=this._quantity),null!==this._price&&(e[y.REVENUE_PRICE]=this._price),null!==this._revenueType&&(e[y.REVENUE_REVENUE_TYPE]=this._revenueType),e};var ut={};!function(e,t){!function(n,r){var i="0.7.31",o="",s="?",a="function",l="undefined",c="object",u="string",d="major",h="model",p="name",f="type",m="vendor",_="version",g="architecture",v="console",y="mobile",b="tablet",w="smarttv",E="wearable",S="embedded",k=275,T="Amazon",I="Apple",C="ASUS",R="BlackBerry",N="Browser",x="Chrome",P="Firefox",O="Google",A="Huawei",D="LG",M="Microsoft",L="Motorola",U="Opera",F="Samsung",B="Sony",z="Xiaomi",W="Zebra",G="Facebook",H=function(e,t){var n={};for(var r in e)t[r]&&t[r].length%2==0?n[r]=t[r].concat(e[r]):n[r]=e[r];return n},$=function(e){for(var t={},n=0;n<e.length;n++)t[e[n].toUpperCase()]=e[n];return t},V=function(e,t){return typeof e===u&&-1!==Y(t).indexOf(Y(e))},Y=function(e){return e.toLowerCase()},K=function(e){return typeof e===u?e.replace(/[^\d\.]/g,o).split(".")[0]:r},J=function(e,t){if(typeof e===u)return e=e.replace(/^\s\s*/,o).replace(/\s\s*$/,o),typeof t===l?e:e.substring(0,k)},X=function(e,t){for(var n,i,o,s,l,u,d=0;d<t.length&&!l;){var h=t[d],p=t[d+1];for(n=i=0;n<h.length&&!l;)if(l=h[n++].exec(e))for(o=0;o<p.length;o++)u=l[++i],typeof(s=p[o])===c&&s.length>0?2===s.length?typeof s[1]==a?this[s[0]]=s[1].call(this,u):this[s[0]]=s[1]:3===s.length?typeof s[1]!==a||s[1].exec&&s[1].test?this[s[0]]=u?u.replace(s[1],s[2]):r:this[s[0]]=u?s[1].call(this,u,s[2]):r:4===s.length&&(this[s[0]]=u?s[3].call(this,u.replace(s[1],s[2])):r):this[s]=u||r;d+=2}},Q=function(e,t){for(var n in t)if(typeof t[n]===c&&t[n].length>0){for(var i=0;i<t[n].length;i++)if(V(t[n][i],e))return n===s?r:n}else if(V(t[n],e))return n===s?r:n;return e},Z={ME:"4.90","NT 3.11":"NT3.51","NT 4.0":"NT4.0",2e3:"NT 5.0",XP:["NT 5.1","NT 5.2"],Vista:"NT 6.0",7:"NT 6.1",8:"NT 6.2",8.1:"NT 6.3",10:["NT 6.4","NT 10.0"],RT:"ARM"},ee={browser:[[/\b(?:crmo|crios)\/([\w\.]+)/i],[_,[p,"Chrome"]],[/edg(?:e|ios|a)?\/([\w\.]+)/i],[_,[p,"Edge"]],[/(opera mini)\/([-\w\.]+)/i,/(opera [mobiletab]{3,6})\b.+version\/([-\w\.]+)/i,/(opera)(?:.+version\/|[\/ ]+)([\w\.]+)/i],[p,_],[/opios[\/ ]+([\w\.]+)/i],[_,[p,U+" Mini"]],[/\bopr\/([\w\.]+)/i],[_,[p,U]],[/(kindle)\/([\w\.]+)/i,/(lunascape|maxthon|netfront|jasmine|blazer)[\/ ]?([\w\.]*)/i,/(avant |iemobile|slim)(?:browser)?[\/ ]?([\w\.]*)/i,/(ba?idubrowser)[\/ ]?([\w\.]+)/i,/(?:ms|\()(ie) ([\w\.]+)/i,/(flock|rockmelt|midori|epiphany|silk|skyfire|ovibrowser|bolt|iron|vivaldi|iridium|phantomjs|bowser|quark|qupzilla|falkon|rekonq|puffin|brave|whale|qqbrowserlite|qq)\/([-\w\.]+)/i,/(weibo)__([\d\.]+)/i],[p,_],[/(?:\buc? ?browser|(?:juc.+)ucweb)[\/ ]?([\w\.]+)/i],[_,[p,"UC"+N]],[/\bqbcore\/([\w\.]+)/i],[_,[p,"WeChat(Win) Desktop"]],[/micromessenger\/([\w\.]+)/i],[_,[p,"WeChat"]],[/konqueror\/([\w\.]+)/i],[_,[p,"Konqueror"]],[/trident.+rv[: ]([\w\.]{1,9})\b.+like gecko/i],[_,[p,"IE"]],[/yabrowser\/([\w\.]+)/i],[_,[p,"Yandex"]],[/(avast|avg)\/([\w\.]+)/i],[[p,/(.+)/,"$1 Secure "+N],_],[/\bfocus\/([\w\.]+)/i],[_,[p,P+" Focus"]],[/\bopt\/([\w\.]+)/i],[_,[p,U+" Touch"]],[/coc_coc\w+\/([\w\.]+)/i],[_,[p,"Coc Coc"]],[/dolfin\/([\w\.]+)/i],[_,[p,"Dolphin"]],[/coast\/([\w\.]+)/i],[_,[p,U+" Coast"]],[/miuibrowser\/([\w\.]+)/i],[_,[p,"MIUI "+N]],[/fxios\/([-\w\.]+)/i],[_,[p,P]],[/\bqihu|(qi?ho?o?|360)browser/i],[[p,"360 "+N]],[/(oculus|samsung|sailfish)browser\/([\w\.]+)/i],[[p,/(.+)/,"$1 "+N],_],[/(comodo_dragon)\/([\w\.]+)/i],[[p,/_/g," "],_],[/(electron)\/([\w\.]+) safari/i,/(tesla)(?: qtcarbrowser|\/(20\d\d\.[-\w\.]+))/i,/m?(qqbrowser|baiduboxapp|2345Explorer)[\/ ]?([\w\.]+)/i],[p,_],[/(metasr)[\/ ]?([\w\.]+)/i,/(lbbrowser)/i],[p],[/((?:fban\/fbios|fb_iab\/fb4a)(?!.+fbav)|;fbav\/([\w\.]+);)/i],[[p,G],_],[/safari (line)\/([\w\.]+)/i,/\b(line)\/([\w\.]+)\/iab/i,/(chromium|instagram)[\/ ]([-\w\.]+)/i],[p,_],[/\bgsa\/([\w\.]+) .*safari\//i],[_,[p,"GSA"]],[/headlesschrome(?:\/([\w\.]+)| )/i],[_,[p,x+" Headless"]],[/ wv\).+(chrome)\/([\w\.]+)/i],[[p,x+" WebView"],_],[/droid.+ version\/([\w\.]+)\b.+(?:mobile safari|safari)/i],[_,[p,"Android "+N]],[/(chrome|omniweb|arora|[tizenoka]{5} ?browser)\/v?([\w\.]+)/i],[p,_],[/version\/([\w\.]+) .*mobile\/\w+ (safari)/i],[_,[p,"Mobile Safari"]],[/version\/([\w\.]+) .*(mobile ?safari|safari)/i],[_,p],[/webkit.+?(mobile ?safari|safari)(\/[\w\.]+)/i],[p,[_,Q,{"1.0":"/8",1.2:"/1",1.3:"/3","2.0":"/412","2.0.2":"/416","2.0.3":"/417","2.0.4":"/419","?":"/"}]],[/(webkit|khtml)\/([\w\.]+)/i],[p,_],[/(navigator|netscape\d?)\/([-\w\.]+)/i],[[p,"Netscape"],_],[/mobile vr; rv:([\w\.]+)\).+firefox/i],[_,[p,P+" Reality"]],[/ekiohf.+(flow)\/([\w\.]+)/i,/(swiftfox)/i,/(icedragon|iceweasel|camino|chimera|fennec|maemo browser|minimo|conkeror|klar)[\/ ]?([\w\.\+]+)/i,/(seamonkey|k-meleon|icecat|iceape|firebird|phoenix|palemoon|basilisk|waterfox)\/([-\w\.]+)$/i,/(firefox)\/([\w\.]+)/i,/(mozilla)\/([\w\.]+) .+rv\:.+gecko\/\d+/i,/(polaris|lynx|dillo|icab|doris|amaya|w3m|netsurf|sleipnir|obigo|mosaic|(?:go|ice|up)[\. ]?browser)[-\/ ]?v?([\w\.]+)/i,/(links) \(([\w\.]+)/i],[p,_]],cpu:[[/(?:(amd|x(?:(?:86|64)[-_])?|wow|win)64)[;\)]/i],[[g,"amd64"]],[/(ia32(?=;))/i],[[g,Y]],[/((?:i[346]|x)86)[;\)]/i],[[g,"ia32"]],[/\b(aarch64|arm(v?8e?l?|_?64))\b/i],[[g,"arm64"]],[/\b(arm(?:v[67])?ht?n?[fl]p?)\b/i],[[g,"armhf"]],[/windows (ce|mobile); ppc;/i],[[g,"arm"]],[/((?:ppc|powerpc)(?:64)?)(?: mac|;|\))/i],[[g,/ower/,o,Y]],[/(sun4\w)[;\)]/i],[[g,"sparc"]],[/((?:avr32|ia64(?=;))|68k(?=\))|\barm(?=v(?:[1-7]|[5-7]1)l?|;|eabi)|(?=atmel )avr|(?:irix|mips|sparc)(?:64)?\b|pa-risc)/i],[[g,Y]]],device:[[/\b(sch-i[89]0\d|shw-m380s|sm-[pt]\w{2,4}|gt-[pn]\d{2,4}|sgh-t8[56]9|nexus 10)/i],[h,[m,F],[f,b]],[/\b((?:s[cgp]h|gt|sm)-\w+|galaxy nexus)/i,/samsung[- ]([-\w]+)/i,/sec-(sgh\w+)/i],[h,[m,F],[f,y]],[/((ipod|iphone)\d+,\d+)/i],[h,[m,I],[f,y]],[/(ipad\d+,\d+)/i],[h,[m,I],[f,b]],[/\((ip(?:hone|od)[\w ]*);/i],[h,[m,I],[f,y]],[/\((ipad);[-\w\),; ]+apple/i,/applecoremedia\/[\w\.]+ \((ipad)/i,/\b(ipad)\d\d?,\d\d?[;\]].+ios/i],[h,[m,I],[f,b]],[/\b((?:ag[rs][23]?|bah2?|sht?|btv)-a?[lw]\d{2})\b(?!.+d\/s)/i],[h,[m,A],[f,b]],[/(?:huawei|honor)([-\w ]+)[;\)]/i,/\b(nexus 6p|\w{2,4}e?-[atu]?[ln][\dx][012359c][adn]?)\b(?!.+d\/s)/i],[h,[m,A],[f,y]],[/\b(poco[\w ]+)(?: bui|\))/i,/\b; (\w+) build\/hm\1/i,/\b(hm[-_ ]?note?[_ ]?(?:\d\w)?) bui/i,/\b(redmi[\-_ ]?(?:note|k)?[\w_ ]+)(?: bui|\))/i,/\b(mi[-_ ]?(?:a\d|one|one[_ ]plus|note lte|max|cc)?[_ ]?(?:\d?\w?)[_ ]?(?:plus|se|lite)?)(?: bui|\))/i],[[h,/_/g," "],[m,z],[f,y]],[/\b(mi[-_ ]?(?:pad)(?:[\w_ ]+))(?: bui|\))/i],[[h,/_/g," "],[m,z],[f,b]],[/; (\w+) bui.+ oppo/i,/\b(cph[12]\d{3}|p(?:af|c[al]|d\w|e[ar])[mt]\d0|x9007|a101op)\b/i],[h,[m,"OPPO"],[f,y]],[/vivo (\w+)(?: bui|\))/i,/\b(v[12]\d{3}\w?[at])(?: bui|;)/i],[h,[m,"Vivo"],[f,y]],[/\b(rmx[12]\d{3})(?: bui|;|\))/i],[h,[m,"Realme"],[f,y]],[/\b(milestone|droid(?:[2-4x]| (?:bionic|x2|pro|razr))?:?( 4g)?)\b[\w ]+build\//i,/\bmot(?:orola)?[- ](\w*)/i,/((?:moto[\w\(\) ]+|xt\d{3,4}|nexus 6)(?= bui|\)))/i],[h,[m,L],[f,y]],[/\b(mz60\d|xoom[2 ]{0,2}) build\//i],[h,[m,L],[f,b]],[/((?=lg)?[vl]k\-?\d{3}) bui| 3\.[-\w; ]{10}lg?-([06cv9]{3,4})/i],[h,[m,D],[f,b]],[/(lm(?:-?f100[nv]?|-[\w\.]+)(?= bui|\))|nexus [45])/i,/\blg[-e;\/ ]+((?!browser|netcast|android tv)\w+)/i,/\blg-?([\d\w]+) bui/i],[h,[m,D],[f,y]],[/(ideatab[-\w ]+)/i,/lenovo ?(s[56]000[-\w]+|tab(?:[\w ]+)|yt[-\d\w]{6}|tb[-\d\w]{6})/i],[h,[m,"Lenovo"],[f,b]],[/(?:maemo|nokia).*(n900|lumia \d+)/i,/nokia[-_ ]?([-\w\.]*)/i],[[h,/_/g," "],[m,"Nokia"],[f,y]],[/(pixel c)\b/i],[h,[m,O],[f,b]],[/droid.+; (pixel[\daxl ]{0,6})(?: bui|\))/i],[h,[m,O],[f,y]],[/droid.+ (a?\d[0-2]{2}so|[c-g]\d{4}|so[-gl]\w+|xq-a\w[4-7][12])(?= bui|\).+chrome\/(?![1-6]{0,1}\d\.))/i],[h,[m,B],[f,y]],[/sony tablet [ps]/i,/\b(?:sony)?sgp\w+(?: bui|\))/i],[[h,"Xperia Tablet"],[m,B],[f,b]],[/ (kb2005|in20[12]5|be20[12][59])\b/i,/(?:one)?(?:plus)? (a\d0\d\d)(?: b|\))/i],[h,[m,"OnePlus"],[f,y]],[/(alexa)webm/i,/(kf[a-z]{2}wi)( bui|\))/i,/(kf[a-z]+)( bui|\)).+silk\//i],[h,[m,T],[f,b]],[/((?:sd|kf)[0349hijorstuw]+)( bui|\)).+silk\//i],[[h,/(.+)/g,"Fire Phone $1"],[m,T],[f,y]],[/(playbook);[-\w\),; ]+(rim)/i],[h,m,[f,b]],[/\b((?:bb[a-f]|st[hv])100-\d)/i,/\(bb10; (\w+)/i],[h,[m,R],[f,y]],[/(?:\b|asus_)(transfo[prime ]{4,10} \w+|eeepc|slider \w+|nexus 7|padfone|p00[cj])/i],[h,[m,C],[f,b]],[/ (z[bes]6[027][012][km][ls]|zenfone \d\w?)\b/i],[h,[m,C],[f,y]],[/(nexus 9)/i],[h,[m,"HTC"],[f,b]],[/(htc)[-;_ ]{1,2}([\w ]+(?=\)| bui)|\w+)/i,/(zte)[- ]([\w ]+?)(?: bui|\/|\))/i,/(alcatel|geeksphone|nexian|panasonic|sony(?!-bra))[-_ ]?([-\w]*)/i],[m,[h,/_/g," "],[f,y]],[/droid.+; ([ab][1-7]-?[0178a]\d\d?)/i],[h,[m,"Acer"],[f,b]],[/droid.+; (m[1-5] note) bui/i,/\bmz-([-\w]{2,})/i],[h,[m,"Meizu"],[f,y]],[/\b(sh-?[altvz]?\d\d[a-ekm]?)/i],[h,[m,"Sharp"],[f,y]],[/(blackberry|benq|palm(?=\-)|sonyericsson|acer|asus|dell|meizu|motorola|polytron)[-_ ]?([-\w]*)/i,/(hp) ([\w ]+\w)/i,/(asus)-?(\w+)/i,/(microsoft); (lumia[\w ]+)/i,/(lenovo)[-_ ]?([-\w]+)/i,/(jolla)/i,/(oppo) ?([\w ]+) bui/i],[m,h,[f,y]],[/(archos) (gamepad2?)/i,/(hp).+(touchpad(?!.+tablet)|tablet)/i,/(kindle)\/([\w\.]+)/i,/(nook)[\w ]+build\/(\w+)/i,/(dell) (strea[kpr\d ]*[\dko])/i,/(le[- ]+pan)[- ]+(\w{1,9}) bui/i,/(trinity)[- ]*(t\d{3}) bui/i,/(gigaset)[- ]+(q\w{1,9}) bui/i,/(vodafone) ([\w ]+)(?:\)| bui)/i],[m,h,[f,b]],[/(surface duo)/i],[h,[m,M],[f,b]],[/droid [\d\.]+; (fp\du?)(?: b|\))/i],[h,[m,"Fairphone"],[f,y]],[/(u304aa)/i],[h,[m,"AT&T"],[f,y]],[/\bsie-(\w*)/i],[h,[m,"Siemens"],[f,y]],[/\b(rct\w+) b/i],[h,[m,"RCA"],[f,b]],[/\b(venue[\d ]{2,7}) b/i],[h,[m,"Dell"],[f,b]],[/\b(q(?:mv|ta)\w+) b/i],[h,[m,"Verizon"],[f,b]],[/\b(?:barnes[& ]+noble |bn[rt])([\w\+ ]*) b/i],[h,[m,"Barnes & Noble"],[f,b]],[/\b(tm\d{3}\w+) b/i],[h,[m,"NuVision"],[f,b]],[/\b(k88) b/i],[h,[m,"ZTE"],[f,b]],[/\b(nx\d{3}j) b/i],[h,[m,"ZTE"],[f,y]],[/\b(gen\d{3}) b.+49h/i],[h,[m,"Swiss"],[f,y]],[/\b(zur\d{3}) b/i],[h,[m,"Swiss"],[f,b]],[/\b((zeki)?tb.*\b) b/i],[h,[m,"Zeki"],[f,b]],[/\b([yr]\d{2}) b/i,/\b(dragon[- ]+touch |dt)(\w{5}) b/i],[[m,"Dragon Touch"],h,[f,b]],[/\b(ns-?\w{0,9}) b/i],[h,[m,"Insignia"],[f,b]],[/\b((nxa|next)-?\w{0,9}) b/i],[h,[m,"NextBook"],[f,b]],[/\b(xtreme\_)?(v(1[045]|2[015]|[3469]0|7[05])) b/i],[[m,"Voice"],h,[f,y]],[/\b(lvtel\-)?(v1[12]) b/i],[[m,"LvTel"],h,[f,y]],[/\b(ph-1) /i],[h,[m,"Essential"],[f,y]],[/\b(v(100md|700na|7011|917g).*\b) b/i],[h,[m,"Envizen"],[f,b]],[/\b(trio[-\w\. ]+) b/i],[h,[m,"MachSpeed"],[f,b]],[/\btu_(1491) b/i],[h,[m,"Rotor"],[f,b]],[/(shield[\w ]+) b/i],[h,[m,"Nvidia"],[f,b]],[/(sprint) (\w+)/i],[m,h,[f,y]],[/(kin\.[onetw]{3})/i],[[h,/\./g," "],[m,M],[f,y]],[/droid.+; (cc6666?|et5[16]|mc[239][23]x?|vc8[03]x?)\)/i],[h,[m,W],[f,b]],[/droid.+; (ec30|ps20|tc[2-8]\d[kx])\)/i],[h,[m,W],[f,y]],[/(ouya)/i,/(nintendo) ([wids3utch]+)/i],[m,h,[f,v]],[/droid.+; (shield) bui/i],[h,[m,"Nvidia"],[f,v]],[/(playstation [345portablevi]+)/i],[h,[m,B],[f,v]],[/\b(xbox(?: one)?(?!; xbox))[\); ]/i],[h,[m,M],[f,v]],[/smart-tv.+(samsung)/i],[m,[f,w]],[/hbbtv.+maple;(\d+)/i],[[h,/^/,"SmartTV"],[m,F],[f,w]],[/(nux; netcast.+smarttv|lg (netcast\.tv-201\d|android tv))/i],[[m,D],[f,w]],[/(apple) ?tv/i],[m,[h,I+" TV"],[f,w]],[/crkey/i],[[h,x+"cast"],[m,O],[f,w]],[/droid.+aft(\w)( bui|\))/i],[h,[m,T],[f,w]],[/\(dtv[\);].+(aquos)/i],[h,[m,"Sharp"],[f,w]],[/(bravia[\w- ]+) bui/i],[h,[m,B],[f,w]],[/\b(roku)[\dx]*[\)\/]((?:dvp-)?[\d\.]*)/i,/hbbtv\/\d+\.\d+\.\d+ +\([\w ]*; *(\w[^;]*);([^;]*)/i],[[m,J],[h,J],[f,w]],[/\b(android tv|smart[- ]?tv|opera tv|tv; rv:)\b/i],[[f,w]],[/((pebble))app/i],[m,h,[f,E]],[/droid.+; (glass) \d/i],[h,[m,O],[f,E]],[/droid.+; (wt63?0{2,3})\)/i],[h,[m,W],[f,E]],[/(quest( 2)?)/i],[h,[m,G],[f,E]],[/(tesla)(?: qtcarbrowser|\/[-\w\.]+)/i],[m,[f,S]],[/droid .+?; ([^;]+?)(?: bui|\) applew).+? mobile safari/i],[h,[f,y]],[/droid .+?; ([^;]+?)(?: bui|\) applew).+?(?! mobile) safari/i],[h,[f,b]],[/\b((tablet|tab)[;\/]|focus\/\d(?!.+mobile))/i],[[f,b]],[/(phone|mobile(?:[;\/]| safari)|pda(?=.+windows ce))/i],[[f,y]],[/(android[-\w\. ]{0,9});.+buil/i],[h,[m,"Generic"]]],engine:[[/windows.+ edge\/([\w\.]+)/i],[_,[p,"EdgeHTML"]],[/webkit\/537\.36.+chrome\/(?!27)([\w\.]+)/i],[_,[p,"Blink"]],[/(presto)\/([\w\.]+)/i,/(webkit|trident|netfront|netsurf|amaya|lynx|w3m|goanna)\/([\w\.]+)/i,/ekioh(flow)\/([\w\.]+)/i,/(khtml|tasman|links)[\/ ]\(?([\w\.]+)/i,/(icab)[\/ ]([23]\.[\d\.]+)/i],[p,_],[/rv\:([\w\.]{1,9})\b.+(gecko)/i],[_,p]],os:[[/microsoft (windows) (vista|xp)/i],[p,_],[/(windows) nt 6\.2; (arm)/i,/(windows (?:phone(?: os)?|mobile))[\/ ]?([\d\.\w ]*)/i,/(windows)[\/ ]?([ntce\d\. ]+\w)(?!.+xbox)/i],[p,[_,Q,Z]],[/(win(?=3|9|n)|win 9x )([nt\d\.]+)/i],[[p,"Windows"],[_,Q,Z]],[/ip[honead]{2,4}\b(?:.*os ([\w]+) like mac|; opera)/i,/cfnetwork\/.+darwin/i],[[_,/_/g,"."],[p,"iOS"]],[/(mac os x) ?([\w\. ]*)/i,/(macintosh|mac_powerpc\b)(?!.+haiku)/i],[[p,"Mac OS"],[_,/_/g,"."]],[/droid ([\w\.]+)\b.+(android[- ]x86)/i],[_,p],[/(android|webos|qnx|bada|rim tablet os|maemo|meego|sailfish)[-\/ ]?([\w\.]*)/i,/(blackberry)\w*\/([\w\.]*)/i,/(tizen|kaios)[\/ ]([\w\.]+)/i,/\((series40);/i],[p,_],[/\(bb(10);/i],[_,[p,R]],[/(?:symbian ?os|symbos|s60(?=;)|series60)[-\/ ]?([\w\.]*)/i],[_,[p,"Symbian"]],[/mozilla\/[\d\.]+ \((?:mobile|tablet|tv|mobile; [\w ]+); rv:.+ gecko\/([\w\.]+)/i],[_,[p,P+" OS"]],[/web0s;.+rt(tv)/i,/\b(?:hp)?wos(?:browser)?\/([\w\.]+)/i],[_,[p,"webOS"]],[/crkey\/([\d\.]+)/i],[_,[p,x+"cast"]],[/(cros) [\w]+ ([\w\.]+\w)/i],[[p,"Chromium OS"],_],[/(nintendo|playstation) ([wids345portablevuch]+)/i,/(xbox); +xbox ([^\);]+)/i,/\b(joli|palm)\b ?(?:os)?\/?([\w\.]*)/i,/(mint)[\/\(\) ]?(\w*)/i,/(mageia|vectorlinux)[; ]/i,/([kxln]?ubuntu|debian|suse|opensuse|gentoo|arch(?= linux)|slackware|fedora|mandriva|centos|pclinuxos|red ?hat|zenwalk|linpus|raspbian|plan 9|minix|risc os|contiki|deepin|manjaro|elementary os|sabayon|linspire)(?: gnu\/linux)?(?: enterprise)?(?:[- ]linux)?(?:-gnu)?[-\/ ]?(?!chrom|package)([-\w\.]*)/i,/(hurd|linux) ?([\w\.]*)/i,/(gnu) ?([\w\.]*)/i,/\b([-frentopcghs]{0,5}bsd|dragonfly)[\/ ]?(?!amd|[ix346]{1,2}86)([\w\.]*)/i,/(haiku) (\w+)/i],[p,_],[/(sunos) ?([\w\.\d]*)/i],[[p,"Solaris"],_],[/((?:open)?solaris)[-\/ ]?([\w\.]*)/i,/(aix) ((\d)(?=\.|\)| )[\w\.])*/i,/\b(beos|os\/2|amigaos|morphos|openvms|fuchsia|hp-ux)/i,/(unix) ?([\w\.]*)/i],[p,_]]},te=function(e,t){if(typeof e===c&&(t=e,e=r),!(this instanceof te))return new te(e,t).getResult();var i=e||(typeof n!==l&&n.navigator&&n.navigator.userAgent?n.navigator.userAgent:o),s=t?H(ee,t):ee;return this.getBrowser=function(){var e={};return e[p]=r,e[_]=r,X.call(e,i,s.browser),e.major=K(e.version),e},this.getCPU=function(){var e={};return e[g]=r,X.call(e,i,s.cpu),e},this.getDevice=function(){var e={};return e[m]=r,e[h]=r,e[f]=r,X.call(e,i,s.device),e},this.getEngine=function(){var e={};return e[p]=r,e[_]=r,X.call(e,i,s.engine),e},this.getOS=function(){var e={};return e[p]=r,e[_]=r,X.call(e,i,s.os),e},this.getResult=function(){return{ua:this.getUA(),browser:this.getBrowser(),engine:this.getEngine(),os:this.getOS(),device:this.getDevice(),cpu:this.getCPU()}},this.getUA=function(){return i},this.setUA=function(e){return i=typeof e===u&&e.length>k?J(e,k):e,this},this.setUA(i),this};te.VERSION=i,te.BROWSER=$([p,_,d]),te.CPU=$([g]),te.DEVICE=$([h,m,f,v,y,w,b,E,S]),te.ENGINE=te.OS=$([p,_]),e.exports&&(t=e.exports=te),t.UAParser=te;var ne=typeof n!==l&&(n.jQuery||n.Zepto);if(ne&&!ne.ua){var re=new te;ne.ua=re.getResult(),ne.ua.get=function(){return re.getUA()},ne.ua.set=function(e){re.setUA(e);var t=re.getResult();for(var n in t)ne.ua[n]=t[n]}}}("object"==typeof window?window:Re)}({get exports(){return ut},set exports(e){ut=e}},ut);var dt=ut,ht=function e(t){return t?(t^16*Math.random()>>t/4).toString(16):([1e7]+-1e3+-4e3+-8e3+-1e11).replace(/[018]/g,e)},pt={getLanguage:function(){return"undefined"!=typeof navigator&&(navigator.languages&&navigator.languages[0]||navigator.language||navigator.userLanguage)||""}},ft={US:"US",EU:"EU"},mt=function(e){var t=y.EVENT_LOG_URL;switch(e){case ft.EU:t=y.EVENT_LOG_EU_URL;break;case ft.US:t=y.EVENT_LOG_URL}return t},_t=function(e){var t=y.DYNAMIC_CONFIG_URL;switch(e){case ft.EU:t=y.DYNAMIC_CONFIG_EU_URL;break;case ft.US:t=y.DYNAMIC_CONFIG_URL}return t},gt="8.21.5",vt={apiEndpoint:y.EVENT_LOG_URL,batchEvents:!1,cookieExpiration:365,cookieName:"amplitude_id",sameSiteCookie:"Lax",cookieForceUpgrade:!1,deferInitialization:!1,disableCookies:!1,deviceIdFromUrlParam:!1,domain:"",eventUploadPeriodMillis:3e4,eventUploadThreshold:30,forceHttps:!0,includeFbclid:!1,includeGclid:!1,includeReferrer:!1,includeUtm:!1,ingestionMetadata:{sourceName:"",sourceVersion:""},language:pt.getLanguage(),library:{name:"amplitude-js",version:gt},logLevel:"WARN",logAttributionCapturedEvent:!1,optOut:!1,onError:function(){},onExitPage:function(){},onNewSessionStart:function(){},plan:{branch:"",source:"",version:"",versionId:""},platform:"Web",savedMaxCount:1e3,saveEvents:!0,saveParamsReferrerOncePerSession:!0,secureCookie:!1,sessionTimeout:18e5,storage:y.STORAGE_DEFAULT,trackingOptions:{city:!0,country:!0,carrier:!0,device_manufacturer:!0,device_model:!0,dma:!0,ip_address:!0,language:!0,os_name:!0,os_version:!0,platform:!0,region:!0,version_name:!0},transport:y.TRANSPORT_HTTP,unsetParamsReferrerOnNewSession:!1,unsentKey:"amplitude_unsent",unsentIdentifyKey:"amplitude_unsent_identify",uploadBatchSize:100,headers:{"Content-Type":"application/x-www-form-urlencoded; charset=UTF-8","Cross-Origin-Resource-Policy":"cross-origin"},serverZone:ft.US,useDynamicConfig:!1,serverZoneBasedApi:!1,sessionId:null,partnerId:""},yt=new(function(){function e(){return i(this,e),e.instance||(this.ingestionEndpoint=y.EVENT_LOG_URL,e.instance=this),e.instance}return s(e,[{key:"refresh",value:function(e,t,n){var r="https";t||"https:"===w.location.protocol||(r="http");var i=r+"://"+_t(e),o=this;if(w.XDomainRequest){var s=new w.XDomainRequest;s.open("GET",i,!0),s.onload=function(){var e=JSON.parse(s.responseText);o.ingestionEndpoint=e.ingestionEndpoint,n&&n()},s.onerror=function(){},s.ontimeout=function(){},s.onprogress=function(){},s.send()}else{var a=new XMLHttpRequest;a.open("GET",i,!0),a.onreadystatechange=function(){if(4===a.readyState&&200===a.status){var e=JSON.parse(a.responseText);o.ingestionEndpoint=e.ingestionEndpoint,n&&n()}},a.send()}}}]),e}()),bt=function(){function e(){this.ua=new ut.UAParser("undefined"!=typeof navigator?navigator.userAgent:null).getResult()}return e.prototype.getApplicationContext=function(){return{versionName:this.versionName,language:St(),platform:"Web",os:wt(this.ua),deviceModel:Et(this.ua)}},e}(),wt=function(e){var t,n;return[null===(t=e.browser)||void 0===t?void 0:t.name,null===(n=e.browser)||void 0===n?void 0:n.major].filter((function(e){return null!=e})).join(" ")},Et=function(e){var t;return null===(t=e.os)||void 0===t?void 0:t.name},St=function(){return"undefined"!=typeof navigator&&(navigator.languages&&navigator.languages[0]||navigator.language)||""},kt=function(){function e(){this.queue=[]}return e.prototype.logEvent=function(e){this.receiver?this.receiver(e):this.queue.length<512&&this.queue.push(e)},e.prototype.setEventReceiver=function(e){this.receiver=e,this.queue.length>0&&(this.queue.forEach((function(t){e(t)})),this.queue=[])},e}(),Tt=function(){return Tt=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var i in t=arguments[n])Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i]);return e},Tt.apply(this,arguments)},It=function(e,t){var n=typeof e;if(n!==typeof t)return!1;for(var r=0,i=["string","number","boolean","undefined"];r<i.length;r++)if(i[r]===n)return e===t;if(null==e&&null==t)return!0;if(null==e||null==t)return!1;if(e.length!==t.length)return!1;var o=Array.isArray(e),s=Array.isArray(t);if(o!==s)return!1;if(!o||!s){var a=Object.keys(e).sort(),l=Object.keys(t).sort();if(!It(a,l))return!1;var c=!0;return Object.keys(e).forEach((function(n){It(e[n],t[n])||(c=!1)})),c}for(var u=0;u<e.length;u++)if(!It(e[u],t[u]))return!1;return!0},Ct="$set",Rt="$unset",Nt="$clearAll";Object.entries||(Object.entries=function(e){for(var t=Object.keys(e),n=t.length,r=new Array(n);n--;)r[n]=[t[n],e[t[n]]];return r});var xt=function(){function e(){this.identity={userProperties:{}},this.listeners=new Set}return e.prototype.editIdentity=function(){var e=this,t=Tt({},this.identity.userProperties),n=Tt(Tt({},this.identity),{userProperties:t});return{setUserId:function(e){return n.userId=e,this},setDeviceId:function(e){return n.deviceId=e,this},setUserProperties:function(e){return n.userProperties=e,this},updateUserProperties:function(e){for(var t=n.userProperties||{},r=0,i=Object.entries(e);r<i.length;r++){var o=i[r],s=o[0],a=o[1];switch(s){case Ct:for(var l=0,c=Object.entries(a);l<c.length;l++){var u=c[l],d=u[0],h=u[1];t[d]=h}break;case Rt:for(var p=0,f=Object.keys(a);p<f.length;p++)delete t[d=f[p]];break;case Nt:t={}}}return n.userProperties=t,this},commit:function(){return e.setIdentity(n),this}}},e.prototype.getIdentity=function(){return Tt({},this.identity)},e.prototype.setIdentity=function(e){var t=Tt({},this.identity);this.identity=Tt({},e),It(t,this.identity)||this.listeners.forEach((function(t){t(e)}))},e.prototype.addIdentityListener=function(e){this.listeners.add(e)},e.prototype.removeIdentityListener=function(e){this.listeners.delete(e)},e}(),Pt="undefined"!=typeof globalThis?globalThis:void 0!==n.g?n.g:self,Ot=function(){function e(){this.identityStore=new xt,this.eventBridge=new kt,this.applicationContextProvider=new bt}return e.getInstance=function(t){return Pt.analyticsConnectorInstances||(Pt.analyticsConnectorInstances={}),Pt.analyticsConnectorInstances[t]||(Pt.analyticsConnectorInstances[t]=new e),Pt.analyticsConnectorInstances[t]},e}(),At=function(e){g()||W.isWebWorkerEnvironment()||W.log.warn("amplitude-js will not work in a non-browser environment. If you are planning to add Amplitude to a node environment, please use @amplitude/node"),this._instanceName=W.isEmptyString(e)?y.DEFAULT_INSTANCE:e.toLowerCase(),this._unsentEvents=[],this._unsentIdentifys=[],this.options=t(t({},vt),{},{headers:t({},vt.headers),ingestionMetadata:t({},vt.ingestionMetadata),library:t({},vt.library),plan:t({},vt.plan),trackingOptions:t({},vt.trackingOptions)}),this._q=[],this._sending=!1,this._updateScheduled=!1,this._onInitCallbacks=[],this._onNewSessionStartCallbacks=[],this._eventId=0,this._identifyId=0,this._lastEventTime=null,this._newSession=!1,this._sequenceNumber=0,this._sessionId=null,this._isInitialized=!1,this._connector=null,this._userAgent="undefined"!=typeof navigator&&navigator&&navigator.userAgent||null,this._ua=new dt(this._userAgent).getResult()};At.prototype.Identify=Ce,At.prototype.Revenue=ct,At.prototype.init=function(e,t,n,r){var i=this;if("string"!==k(e)||W.isEmptyString(e))W.log.error("Invalid apiKey. Please re-initialize with a valid apiKey");else try{this._connector=Ot.getInstance(this._instanceName),Mt(this.options,n),(g()||W.isWebWorkerEnvironment())&&void 0!==w.Prototype&&Array.prototype.toJSON&&(v(),W.log.warn("Prototype.js injected Array.prototype.toJSON. Deleting Array.prototype.toJSON to prevent double-stringify")),this.options.cookieName!==vt.cookieName&&W.log.warn("The cookieName option is deprecated. We will be ignoring it for newer cookies"),this.options.serverZoneBasedApi&&(this.options.apiEndpoint=mt(this.options.serverZone)),this._refreshDynamicConfig(),this.options.apiKey=e,this._storageSuffix="_"+e+(this._instanceName===y.DEFAULT_INSTANCE?"":"_"+this._instanceName),this._storageSuffixV5=e.slice(0,6),this._oldCookiename=this.options.cookieName+this._storageSuffix,this._unsentKey=this.options.unsentKey+this._storageSuffix,this._unsentIdentifyKey=this.options.unsentIdentifyKey+this._storageSuffix,this._cookieName=y.COOKIE_PREFIX+"_"+this._storageSuffixV5,this.cookieStorage=(new pe).getStorage(this.options.disableCookies),this.cookieStorage.options({expirationDays:this.options.cookieExpiration,domain:this.options.domain,secure:this.options.secureCookie,sameSite:this.options.sameSiteCookie}),this._metadataStorage=new me({storageKey:this._cookieName,disableCookies:this.options.disableCookies,expirationDays:this.options.cookieExpiration,domain:this.options.domain,secure:this.options.secureCookie,sameSite:this.options.sameSiteCookie,storage:this.options.storage});var o=!!this.cookieStorage.get(this._oldCookiename),s=!!this._metadataStorage.load();this._useOldCookie=!s&&o&&!this.options.cookieForceUpgrade;var a=s||o;if(this.options.deferInitialization&&!a)return void this._deferInitialization(e,t,n,r);this.options.domain=this.cookieStorage.options().domain,"string"===k(this.options.logLevel)&&W.setLogLevel(this.options.logLevel);var l=Ht(this);this._apiPropertiesTrackingOptions=Object.keys(l).length>0?{tracking_options:l}:{},this.options.cookieForceUpgrade&&o&&(s||Ut(this),this.cookieStorage.remove(this._oldCookiename)),Lt(this),this._pendingReadStorage=!0;var c=function(e){n&&n.deviceId&&!W.validateDeviceId(n.deviceId)&&(W.log.error('Invalid device ID rejected. Randomly generated UUID will be used instead of "'.concat(n.deviceId,'"')),delete n.deviceId),i.options.deviceId=i._getInitialDeviceId(n&&n.deviceId,e),i.options.userId="string"===k(t)&&!W.isEmptyString(t)&&t||"number"===k(t)&&t.toString()||i.options.userId||null;var r=(new Date).getTime(),o=!i._sessionId||!i._lastEventTime||r-i._lastEventTime>i.options.sessionTimeout||i.options.sessionId;o&&(i.options.unsetParamsReferrerOnNewSession&&i._unsetUTMParams(),i._newSession=!0,i._sessionId=i.options.sessionId||r,i.options.sessionId=void 0,i.options.saveParamsReferrerOncePerSession&&i._trackParamsAndReferrer()),i.options.saveParamsReferrerOncePerSession||i._trackParamsAndReferrer(),i.options.saveEvents&&(Dt(i._unsentEvents),Dt(i._unsentIdentifys)),i._lastEventTime=r,jt(i),i._pendingReadStorage=!1,i._sendEventsIfReady();for(var s=0;s<i._onInitCallbacks.length;s++)i._onInitCallbacks[s](i);i._onInitCallbacks=[],i._isInitialized=!0,o&&i._runNewSessionStartCallbacks()};this.options.saveEvents&&(this._unsentEvents=this._loadSavedUnsentEvents(this.options.unsentKey).map((function(e){return{event:e}})).concat(this._unsentEvents),this._unsentIdentifys=this._loadSavedUnsentEvents(this.options.unsentIdentifyKey).map((function(e){return{event:e}})).concat(this._unsentIdentifys)),n&&n.onNewSessionStart&&this.onNewSessionStart(this.options.onNewSessionStart),c(),this.runQueuedFunctions(),"function"===k(r)&&r(this);var u=this.options.onExitPage;if("function"===k(u)&&w.addEventListener&&!this.pageHandlersAdded){this.pageHandlersAdded=!0;var d=function(){var e=i.options.transport;i.setTransport(y.TRANSPORT_BEACON),u(),i.setTransport(e)};w.addEventListener("pagehide",(function(){d()}),!1)}this._connector.eventBridge.setEventReceiver((function(e){i._logEvent(e.eventType,e.eventProperties,e.userProperties)}));var h=this._connector.identityStore.editIdentity();this.options.deviceId&&h.setDeviceId(this.options.deviceId),this.options.userId&&h.setUserId(this.options.userId),h.commit()}catch(p){W.log.error(p),n&&"function"===k(n.onError)&&n.onError(p)}},At.prototype._runNewSessionStartCallbacks=function(){for(var e=0;e<this._onNewSessionStartCallbacks.length;e++)this._onNewSessionStartCallbacks[e](this)},At.prototype.deleteLowerLevelDomainCookies=function(){var e=Z(),t=this.options.domain&&"."===this.options.domain[0]?this.options.domain.slice(1):this.options.domain;if(t&&W.isWebWorkerEnvironment()&&e!==t&&new RegExp(t+"$").test(e)){for(var n=e.split("."),r=t.split("."),i=n.length;i>r.length;--i){var o=n.slice(n.length-i).join(".");Q.set(this._cookieName,null,{domain:"."+o})}Q.set(this._cookieName,null,{})}},At.prototype._getInitialDeviceId=function(e,t){if(e)return e;if(this.options.deviceIdFromUrlParam){var n=this._getDeviceIdFromUrlParam(this._getUrlParams());if(n)return n}return this.options.deviceId?this.options.deviceId:t||$()};var Dt=function(e){for(var t=0;t<e.length;t++){var n=e[t].event.user_properties,r=e[t].event.event_properties,i=e[t].event.groups;e[t].event.user_properties=W.validateProperties(n),e[t].event.event_properties=W.validateProperties(r),e[t].event.groups=W.validateGroups(i)}};At.prototype._trackParamsAndReferrer=function(){var e,n,r,i;if(this.options.includeUtm&&(e=this._initUtmData()),this.options.includeReferrer&&(n=this._saveReferrer(this._getReferrer())),this.options.includeGclid&&(r=this._saveGclid(this._getUrlParams())),this.options.includeFbclid&&(i=this._saveFbclid(this._getUrlParams())),this.options.logAttributionCapturedEvent){var o=t(t(t(t({},e),n),r),i);Object.keys(o).length>0&&this.logEvent(y.ATTRIBUTION_EVENT,o)}};var Mt=function e(n,r){if("object"===k(r)){var i=new Set(["headers"]),o=function(t){if(Object.prototype.hasOwnProperty.call(n,t)){var i=r[t],o=k(n[t]);("transport"!==t||W.validateTransport(i))&&("sessionId"!==t||null===i?W.validateInput(i,t+" option",o)&&("boolean"===o?n[t]=!!i:"string"===o&&!W.isEmptyString(i)||"number"===o&&i>0||"function"===o?n[t]=i:"object"===o&&e(n[t],i)):n[t]=W.validateSessionId(i)?i:null)}};for(var s in r)i.has(s)?n[s]=t(t({},n[s]),r[s]):Object.prototype.hasOwnProperty.call(r,s)&&o(s)}};At.prototype.runQueuedFunctions=function(){var e=this._q;this._q=[];for(var t=0;t<e.length;t++){var n=this[e[t][0]];"function"===k(n)&&n.apply(this,e[t].slice(1))}},At.prototype._apiKeySet=function(e){return!W.isEmptyString(this.options.apiKey)||(W.log.error("Invalid apiKey. Please set a valid apiKey with init() before calling "+e),!1)},At.prototype._loadSavedUnsentEvents=function(e){var t=this._getFromStorage(he,e),n=this._parseSavedUnsentEventsString(t,e);return this._setInStorage(he,e,JSON.stringify(n)),n},At.prototype._parseSavedUnsentEventsString=function(e,t){if(W.isEmptyString(e))return[];if("string"===k(e))try{var n=JSON.parse(e);if("array"===k(n))return n}catch(Zt){}return W.log.error("Unable to load "+t+" events. Restart with a new empty queue."),[]},At.prototype.isNewSession=function(){return this._newSession},At.prototype.onInit=function(e){this._isInitialized?e(this):this._onInitCallbacks.push(e)},At.prototype.onNewSessionStart=function(e){this._onNewSessionStartCallbacks.push(e)},At.prototype.getSessionId=function(){return this._sessionId},At.prototype.nextEventId=function(){return this._eventId++,this._eventId},At.prototype.nextIdentifyId=function(){return this._identifyId++,this._identifyId},At.prototype.nextSequenceNumber=function(){return this._sequenceNumber++,this._sequenceNumber},At.prototype._unsentCount=function(){return this._unsentEvents.length+this._unsentIdentifys.length},At.prototype._sendEventsIfReady=function(){return 0!==this._unsentCount()&&(this.options.batchEvents?this._unsentCount()>=this.options.eventUploadThreshold||this.options.transport===y.TRANSPORT_BEACON?(this.sendEvents(),!0):(this._updateScheduled||(this._updateScheduled=!0,setTimeout((function(){this._updateScheduled=!1,this.sendEvents()}).bind(this),this.options.eventUploadPeriodMillis)),!1):(this.sendEvents(),!0))},At.prototype.clearStorage=function(){return this._metadataStorage.clear()},At.prototype._getFromStorage=function(e,t){return e.getItem(t+this._storageSuffix)},At.prototype._setInStorage=function(e,t,n){e.setItem(t+this._storageSuffix,n)};var Lt=function(e){if(e._useOldCookie){var t=e.cookieStorage.get(e._oldCookiename);"object"!==k(t)||Ft(e,t)}else{var n=e._metadataStorage.load();"object"===k(n)&&Ft(e,n)}},Ut=function(e){var t=e.cookieStorage.get(e._oldCookiename);"object"===k(t)&&(Ft(e,t),jt(e))},Ft=function(e,t){t.deviceId&&(e.options.deviceId=t.deviceId),t.userId&&(e.options.userId=t.userId),null!==t.optOut&&void 0!==t.optOut&&!1!==t.optOut&&(e.options.optOut=t.optOut),t.sessionId&&(e._sessionId=parseInt(t.sessionId,10)),t.lastEventTime&&(e._lastEventTime=parseInt(t.lastEventTime,10)),t.eventId&&(e._eventId=parseInt(t.eventId,10)),t.identifyId&&(e._identifyId=parseInt(t.identifyId,10)),t.sequenceNumber&&(e._sequenceNumber=parseInt(t.sequenceNumber,10))},jt=function(e){var t={deviceId:e.options.deviceId,userId:e.options.userId,optOut:e.options.optOut,sessionId:e._sessionId,lastEventTime:e._lastEventTime,eventId:e._eventId,identifyId:e._identifyId,sequenceNumber:e._sequenceNumber};e._useOldCookie?e.cookieStorage.set(e.options.cookieName+e._storageSuffix,t):e._metadataStorage.save(t)};At.prototype._initUtmData=function(e,t){e=e||this._getUrlParams(),t=t||this.cookieStorage.get("__utmz");var n=_e(t,e);return Bt(this,n),n},At.prototype._unsetUTMParams=function(){var e=new Ce;e.unset(y.REFERRER),e.unset(y.UTM_SOURCE),e.unset(y.UTM_MEDIUM),e.unset(y.UTM_CAMPAIGN),e.unset(y.UTM_TERM),e.unset(y.UTM_CONTENT),this.identify(e)};var Bt=function(e,t){if("object"===k(t)&&0!==Object.keys(t).length){var n=new Ce;for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&(n.setOnce("initial_"+r,t[r]),n.set(r,t[r]));e.identify(n)}};At.prototype._getReferrer=function(){var e=this._getReferrerFromUrlParam(this._getUrlParams());return e||("undefined"!=typeof document?document.referrer:"")},At.prototype._getUrlParams=function(){return w.location.search},At.prototype._saveGclid=function(e){var t=W.getQueryParam("gclid",e);if(!W.isEmptyString(t)){var n={gclid:t};return Bt(this,n),n}},At.prototype._saveFbclid=function(e){var t=W.getQueryParam("fbclid",e);if(!W.isEmptyString(t)){var n={fbclid:t};return Bt(this,n),n}},At.prototype._getDeviceIdFromUrlParam=function(e){return W.getQueryParam(y.AMP_DEVICE_ID_PARAM,e)},At.prototype._getReferrerFromUrlParam=function(e){return W.getQueryParam(y.AMP_REFERRER_PARAM,e)},At.prototype._getReferringDomain=function(e){if(W.isEmptyString(e))return null;var t=e.split("/");return t.length>=3?t[2]:null},At.prototype._saveReferrer=function(e){if(!W.isEmptyString(e)){var t={referrer:e,referring_domain:this._getReferringDomain(e)};return Bt(this,t),t}},At.prototype.saveEvents=function(){try{var e=JSON.stringify(this._unsentEvents.map((function(e){return e.event})));this._setInStorage(he,this.options.unsentKey,e)}catch(Zt){}try{var t=JSON.stringify(this._unsentIdentifys.map((function(e){return e.event})));this._setInStorage(he,this.options.unsentIdentifyKey,t)}catch(Zt){}},At.prototype.setDomain=function(e){if(this._shouldDeferCall())return this._q.push(["setDomain"].concat(Array.prototype.slice.call(arguments,0)));if(W.validateInput(e,"domain","string"))try{this.cookieStorage.options({expirationDays:this.options.cookieExpiration,secure:this.options.secureCookie,domain:e,sameSite:this.options.sameSiteCookie}),this.options.domain=this.cookieStorage.options().domain,Lt(this),jt(this)}catch(Zt){W.log.error(Zt)}},At.prototype.setUserId=function(e){var t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];if(W.validateInput(t,"startNewSession","boolean")){if(this._shouldDeferCall())return this._q.push(["setUserId"].concat(Array.prototype.slice.call(arguments,0)));try{this.options.userId=null!=e&&""+e||null,t&&(this.options.unsetParamsReferrerOnNewSession&&this._unsetUTMParams(),this._newSession=!0,this._sessionId=(new Date).getTime(),this._runNewSessionStartCallbacks(),this.options.saveParamsReferrerOncePerSession&&this._trackParamsAndReferrer()),jt(this),this._connector&&this._connector.identityStore.editIdentity().setUserId(this.options.userId).commit()}catch(Zt){W.log.error(Zt)}}},At.prototype.setGroup=function(e,t){if(this._shouldDeferCall())return this._q.push(["setGroup"].concat(Array.prototype.slice.call(arguments,0)));if(this._apiKeySet("setGroup()")&&W.validateInput(e,"groupType","string")&&!W.isEmptyString(e)){var n={};n[e]=t;var r=(new Ce).set(e,t);this._logEvent(y.IDENTIFY_EVENT,null,null,r.userPropertiesOperations,n,null,null,null)}},At.prototype.setOptOut=function(e){if(this._shouldDeferCall())return this._q.push(["setOptOut"].concat(Array.prototype.slice.call(arguments,0)));if(W.validateInput(e,"enable","boolean"))try{this.options.optOut=e,jt(this)}catch(Zt){W.log.error(Zt)}},At.prototype.setSessionId=function(e){if(W.validateInput(e,"sessionId","number"))try{this._sessionId=e,jt(this)}catch(Zt){W.log.error(Zt)}},At.prototype.resetSessionId=function(){this.setSessionId((new Date).getTime())},At.prototype.regenerateDeviceId=function(){if(this._shouldDeferCall())return this._q.push(["regenerateDeviceId"].concat(Array.prototype.slice.call(arguments,0)));this.setDeviceId($())},At.prototype.setDeviceId=function(e){if(this._shouldDeferCall())return this._q.push(["setDeviceId"].concat(Array.prototype.slice.call(arguments,0)));if(W.validateDeviceId(e))try{W.isEmptyString(e)||(this.options.deviceId=""+e,jt(this),this._connector&&this._connector.identityStore.editIdentity().setDeviceId(this.options.deviceId).commit())}catch(Zt){W.log.error(Zt)}},At.prototype.setTransport=function(e){if(this._shouldDeferCall())return this._q.push(["setTransport"].concat(Array.prototype.slice.call(arguments,0)));W.validateTransport(e)&&(this.options.transport=e)},At.prototype.setUserProperties=function(e){if(this._shouldDeferCall())return this._q.push(["setUserProperties"].concat(Array.prototype.slice.call(arguments,0)));if(this._apiKeySet("setUserProperties()")&&W.validateInput(e,"userProperties","object")){var t=W.truncate(W.validateProperties(e));if(0!==Object.keys(t).length){var n=new Ce;for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&n.set(r,t[r]);this.identify(n)}}},At.prototype.clearUserProperties=function(){if(this._shouldDeferCall())return this._q.push(["clearUserProperties"].concat(Array.prototype.slice.call(arguments,0)));if(this._apiKeySet("clearUserProperties()")){var e=new Ce;e.clearAll(),this.identify(e)}};var zt=function(e,t){for(var n=0;n<t._q.length;n++){var r=e[t._q[n][0]];"function"===k(r)&&r.apply(e,t._q[n].slice(1))}return e};At.prototype.identify=function(e,t,n,r){if(this._shouldDeferCall())return this._q.push(["identify"].concat(Array.prototype.slice.call(arguments,0)));if(this._apiKeySet("identify()"))if("object"===k(e)&&Object.prototype.hasOwnProperty.call(e,"_q")&&(e=zt(new Ce,e)),e instanceof Ce){if(Object.keys(e.userPropertiesOperations).length>0)return this._logEvent(y.IDENTIFY_EVENT,null,null,e.userPropertiesOperations,null,null,null,t,n,r);Vt(t,n,0,"No request sent",{reason:"No user property operations"})}else W.log.error("Invalid identify input type. Expected Identify object but saw "+k(e)),Vt(t,n,0,"No request sent",{reason:"Invalid identify input type"});else Vt(t,n,0,"No request sent",{reason:"API key is not set"})},At.prototype.groupIdentify=function(e,t,n,r,i,o){if(this._shouldDeferCall())return this._q.push(["groupIdentify"].concat(Array.prototype.slice.call(arguments,0)));if(this._apiKeySet("groupIdentify()"))if(W.validateInput(e,"group_type","string")&&!W.isEmptyString(e))if(null!=t)if("object"===k(n)&&Object.prototype.hasOwnProperty.call(n,"_q")&&(n=zt(new Ce,n)),n instanceof Ce){if(Object.keys(n.userPropertiesOperations).length>0)return this._logEvent(y.GROUP_IDENTIFY_EVENT,null,null,null,a({},e,t),n.userPropertiesOperations,null,r,i,o);Vt(r,i,0,"No request sent",{reason:"No group property operations"})}else W.log.error("Invalid identify input type. Expected Identify object but saw "+k(n)),Vt(r,i,0,"No request sent",{reason:"Invalid identify input type"});else Vt(r,i,0,"No request sent",{reason:"Invalid group name"});else Vt(r,i,0,"No request sent",{reason:"Invalid group type"});else Vt(r,i,0,"No request sent",{reason:"API key is not set"})},At.prototype.setVersionName=function(e){if(this._shouldDeferCall())return this._q.push(["setVersionName"].concat(Array.prototype.slice.call(arguments,0)));W.validateInput(e,"versionName","string")&&(this.options.versionName=e)},At.prototype._logEvent=function(e,n,r,i,o,s,a,l,c,u){if(Lt(this),e)if(this.options.optOut)Vt(l,c,0,"No request sent",{reason:"optOut is set to true"});else try{var d;d=e===y.IDENTIFY_EVENT||e===y.GROUP_IDENTIFY_EVENT?this.nextIdentifyId():this.nextEventId();var h=this.nextSequenceNumber(),p="number"===k(a)?a:(new Date).getTime();u?this._sessionId=-1:(!this._sessionId||!this._lastEventTime||p-this._lastEventTime>this.options.sessionTimeout)&&(this._sessionId=p,this._runNewSessionStartCallbacks()),this._lastEventTime=p,jt(this);var f=this._ua.browser.name,m=this._ua.browser.major,_=this._ua.device.model||this._ua.os.name,g=this._ua.device.vendor;i=i||{};var v=t({},this._apiPropertiesTrackingOptions);r=t(t({},r||{}),v),n=n||{},o=o||{},s=s||{};var b={device_id:this.options.deviceId,user_id:this.options.userId,timestamp:p,event_id:d,session_id:this._sessionId||-1,event_type:e,version_name:this.options.versionName||null,platform:qt(this,"platform")?this.options.platform:null,os_name:qt(this,"os_name")&&f||null,os_version:qt(this,"os_version")&&m||null,device_model:qt(this,"device_model")&&_||null,device_manufacturer:qt(this,"device_manufacturer")&&g||null,language:qt(this,"language")?this.options.language:null,api_properties:r,event_properties:W.truncate(W.validateProperties(n)),user_properties:W.truncate(W.validateProperties(i)),uuid:ht(),library:this.options.library,sequence_number:h,groups:W.truncate(W.validateGroups(o)),group_properties:W.truncate(W.validateProperties(s)),user_agent:this._userAgent,partner_id:this.options.partnerId||null};return Wt(this)&&(b.plan={branch:this.options.plan.branch||void 0,source:this.options.plan.source||void 0,version:this.options.plan.version||void 0,versionId:this.options.plan.versionId||void 0}),Gt(this)&&(b.ingestion_metadata={source_name:this.options.ingestionMetadata.sourceName||void 0,source_version:this.options.ingestionMetadata.sourceVersion||void 0}),e===y.IDENTIFY_EVENT||e===y.GROUP_IDENTIFY_EVENT?(this._unsentIdentifys.push({event:b,callback:l,errorCallback:c}),this._limitEventsQueued(this._unsentIdentifys)):(this._unsentEvents.push({event:b,callback:l,errorCallback:c}),this._limitEventsQueued(this._unsentEvents)),this.options.saveEvents&&this.saveEvents(),this._sendEventsIfReady(),e===y.IDENTIFY_EVENT&&this._connector&&this._connector.identityStore.editIdentity().updateUserProperties(W.truncate(W.validateProperties(i))).commit(),d}catch(Zt){W.log.error(Zt)}else Vt(l,c,0,"No request sent",{reason:"Missing eventType"})};var Wt=function(e){return e.options.plan&&(e.options.plan.source||e.options.plan.branch||e.options.plan.version||e.options.plan.versionId)},Gt=function(e){return e.options.ingestionMetadata&&(e.options.ingestionMetadata.sourceName||e.options.ingestionMetadata.sourceVersion)},qt=function(e,t){return!!e.options.trackingOptions[t]},Ht=function(e){for(var t=["city","country","dma","ip_address","region"],n={},r=0;r<t.length;r++){var i=t[r];qt(e,i)||(n[i]=!1)}return n};At.prototype._limitEventsQueued=function(e){e.length>this.options.savedMaxCount&&e.splice(0,e.length-this.options.savedMaxCount).forEach((function(e){Vt(e.callback,e.errorCallback,0,"No request sent",{reason:"Event dropped because options.savedMaxCount exceeded. User may be offline or have a content blocker"})}))},At.prototype.logEvent=function(e,t,n,r){var i=arguments.length>4&&void 0!==arguments[4]&&arguments[4];return this._shouldDeferCall()?this._q.push(["logEvent"].concat(Array.prototype.slice.call(arguments,0))):this.logEventWithTimestamp(e,t,null,n,r,i)},At.prototype.logEventWithTimestamp=function(e,t,n,r,i){var o=arguments.length>5&&void 0!==arguments[5]&&arguments[5];return this._shouldDeferCall()?this._q.push(["logEventWithTimestamp"].concat(Array.prototype.slice.call(arguments,0))):this._apiKeySet("logEvent()")?W.validateInput(e,"eventType","string")?W.isEmptyString(e)?(Vt(r,i,0,"No request sent",{reason:"Missing eventType"}),-1):(W.validateInput(o,"outOfSession","boolean")||Vt(r,i,0,"No request sent",{reason:"Invalid outOfSession value"}),this._logEvent(e,t,null,null,null,null,n,r,i,o)):(Vt(r,i,0,"No request sent",{reason:"Invalid type for eventType"}),-1):(Vt(r,i,0,"No request sent",{reason:"API key not set"}),-1)},At.prototype.logEventWithGroups=function(e,t,n,r,i){var o=arguments.length>5&&void 0!==arguments[5]&&arguments[5];return this._shouldDeferCall()?this._q.push(["logEventWithGroups"].concat(Array.prototype.slice.call(arguments,0))):this._apiKeySet("logEventWithGroups()")?W.validateInput(e,"eventType","string")?(W.validateInput(o,"outOfSession","boolean")||Vt(event.callback,event.errorCallback,0,"No request sent",{reason:"Invalid outOfSession value"}),this._logEvent(e,t,null,null,n,null,null,r,i,o)):(Vt(event.callback,event.errorCallback,0,"No request sent",{reason:"Invalid type for eventType"}),-1):(Vt(event.callback,event.errorCallback,0,"No request sent",{reason:"API key not set"}),-1)};var $t=function(e){return!isNaN(parseFloat(e))&&isFinite(e)},Vt=function(e,t,n,r,i){"function"===k(e)&&e(n,r,i),"function"===k(t)&&t(n,r,i)};At.prototype.logRevenueV2=function(e){if(this._shouldDeferCall())return this._q.push(["logRevenueV2"].concat(Array.prototype.slice.call(arguments,0)));if(this._apiKeySet("logRevenueV2()"))if("object"===k(e)&&Object.prototype.hasOwnProperty.call(e,"_q")&&(e=zt(new ct,e)),e instanceof ct){if(e&&e._isValidRevenue())return this.logEvent(y.REVENUE_EVENT,e._toJSONObject())}else W.log.error("Invalid revenue input type. Expected Revenue object but saw "+k(e))},At.prototype.logRevenue=function(e,t,n){return this._shouldDeferCall()?this._q.push(["logRevenue"].concat(Array.prototype.slice.call(arguments,0))):this._apiKeySet("logRevenue()")&&$t(e)&&(void 0===t||$t(t))?this._logEvent(y.REVENUE_EVENT,{},{productId:n,special:"revenue_amount",quantity:t||1,price:e},null,null,null,null,null):-1},At.prototype._logErrorsOnEvents=function(e,t,n,r){for(var i=["_unsentEvents","_unsentIdentifys"],o=0;o<i.length;o++)for(var s=i[o],a="_unsentEvents"===s?e:t,l=0;l<this[s].length;l++){var c=this[s][l];c.event.event_id<=a&&c.errorCallback&&c.errorCallback(n,r)}},At.prototype.removeEvents=function(e,t,n,r){Yt(this,"_unsentEvents",e,n,r),Yt(this,"_unsentIdentifys",t,n,r)};var Yt=function(e,t,n,r,i){if(!(n<0)){for(var o=[],s=0;s<e[t].length;s++){var a=e[t][s];a.event.event_id>n?o.push(a):a.callback&&a.callback(r,i)}e[t]=o}};At.prototype.sendEvents=function(){if(this._apiKeySet("sendEvents()")){if(this.options.optOut)this.removeEvents(1/0,1/0,0,"No request sent",{reason:"Opt out is set to true"});else if(0!==this._unsentCount()){if(this.options.transport!==y.TRANSPORT_BEACON){if(this._sending)return;this._sending=!0}var e=(this.options.forceHttps||"https:"===w.location.protocol?"https":"http")+"://"+this.options.apiEndpoint,t=Math.min(this._unsentCount(),this.options.uploadBatchSize),n=this._mergeEventsAndIdentifys(t),r=n.maxEventId,i=n.maxIdentifyId,o=JSON.stringify(n.eventsToSend.map((function(e){return e.event}))),s=(new Date).getTime(),a={client:this.options.apiKey,e:o,v:y.API_VERSION,upload_time:s,checksum:xe(y.API_VERSION+this.options.apiKey+o+s)};if(this.options.transport!==y.TRANSPORT_BEACON||"undefined"==typeof navigator){var l=this;try{new st(e,a,this.options.headers).send((function(e,n){l._sending=!1;try{200===e?(l.removeEvents(r,i,e,n),l.options.saveEvents&&l.saveEvents(),l._sendEventsIfReady()):(l._logErrorsOnEvents(r,i,e,n),413===e&&(1===l.options.uploadBatchSize&&l.removeEvents(r,i,e,n),l.options.uploadBatchSize=Math.ceil(t/2),l.sendEvents()))}catch(Zt){}}))}catch(Zt){var c=0,u="Request failed to send";W.log.error(u),l._logErrorsOnEvents(r,i,c,u),l.removeEvents(r,i,c,u,{reason:Zt.message})}}else navigator.sendBeacon(e,new URLSearchParams(a))?(this.removeEvents(r,i,200,"success"),this.options.saveEvents&&this.saveEvents()):this._logErrorsOnEvents(r,i,0,"")}}else this.removeEvents(1/0,1/0,0,"No request sent",{reason:"API key not set"})},At.prototype._mergeEventsAndIdentifys=function(e){for(var t=[],n=0,r=-1,i=0,o=-1;t.length<e;){var s=void 0,a=i>=this._unsentIdentifys.length,l=n>=this._unsentEvents.length;if(l&&a){W.log.error("Merging Events and Identifys, less events and identifys than expected");break}a?r=(s=this._unsentEvents[n++]).event.event_id:l?o=(s=this._unsentIdentifys[i++]).event.event_id:!("sequence_number"in this._unsentEvents[n].event)||this._unsentEvents[n].event.sequence_number<this._unsentIdentifys[i].event.sequence_number?r=(s=this._unsentEvents[n++]).event.event_id:o=(s=this._unsentIdentifys[i++]).event.event_id,t.push(s)}return{eventsToSend:t,maxEventId:r,maxIdentifyId:o}},At.prototype.setGlobalUserProperties=function(e){this.setUserProperties(e)},At.prototype.__VERSION__=function(){return this.options.library.version},At.prototype.setLibrary=function(e,t){null!=e&&(this.options.library.name=e),null!=t&&(this.options.library.version=t)},At.prototype._shouldDeferCall=function(){return this._pendingReadStorage||this._initializationDeferred},At.prototype._deferInitialization=function(){this._initializationDeferred=!0,this._q.push(["init"].concat(Array.prototype.slice.call(arguments,0)))},At.prototype.enableTracking=function(){this._initializationDeferred=!1,jt(this),this.runQueuedFunctions()},At.prototype._refreshDynamicConfig=function(){this.options.useDynamicConfig&&yt.refresh(this.options.serverZone,this.options.forceHttps,(function(){this.options.apiEndpoint=yt.ingestionEndpoint}).bind(this))},At.prototype.getDeviceId=function(){return this.options.deviceId},At.prototype.getUserId=function(){return this.options.userId},At.prototype.setMinTimeBetweenSessionsMillis=function(e){if(W.validateInput(e,"timeInMillis","number")){if(this._shouldDeferCall())return this._q.push(["setMinTimeBetweenSessionsMillis"].concat(Array.prototype.slice.call(arguments,0)));try{this.options.sessionTimeout=e}catch(Zt){W.log.error(Zt)}}},At.prototype.setEventUploadThreshold=function(e){if(W.validateInput(e,"eventUploadThreshold","number")){if(this._shouldDeferCall())return this._q.push(["setEventUploadThreshold"].concat(Array.prototype.slice.call(arguments,0)));try{this.options.eventUploadThreshold=e}catch(Zt){W.log.error(Zt)}}},At.prototype.setUseDynamicConfig=function(e){if(W.validateInput(e,"useDynamicConfig","boolean")){if(this._shouldDeferCall())return this._q.push(["setUseDynamicConfig"].concat(Array.prototype.slice.call(arguments,0)));try{this.options.useDynamicConfig=e,this._refreshDynamicConfig()}catch(Zt){W.log.error(Zt)}}},At.prototype.setServerZone=function(e){var t=!(arguments.length>1&&void 0!==arguments[1])||arguments[1];if((e===ft.EU||e===ft.US)&&W.validateInput(t,"serverZoneBasedApi","boolean")){if(this._shouldDeferCall())return this._q.push(["setServerZone"].concat(Array.prototype.slice.call(arguments,0)));try{this.options.serverZone=e,this.options.serverZoneBasedApi=t,t&&(this.options.apiEndpoint=mt(this.options.serverZone))}catch(Zt){W.log.error(Zt)}}},At.prototype.setServerUrl=function(e){if(W.validateInput(e,"serverUrl","string")){if(this._shouldDeferCall())return this._q.push(["setServerUrl"].concat(Array.prototype.slice.call(arguments,0)));try{this.options.apiEndpoint=e}catch(Zt){W.log.error(Zt)}}};var Kt=function(){this.options=t({},vt),this._q=[],this._instances={}};Kt.prototype.Identify=Ce,Kt.prototype.Revenue=ct,Kt.prototype.getInstance=function(e){e=W.isEmptyString(e)?y.DEFAULT_INSTANCE:e.toLowerCase();var t=this._instances[e];return void 0===t&&(t=new At(e),this._instances[e]=t),t},Kt.prototype.runQueuedFunctions=function(){for(var e=0;e<this._q.length;e++){var t=this[this._q[e][0]];"function"===k(t)&&t.apply(this,this._q[e].slice(1))}for(var n in this._q=[],this._instances)Object.prototype.hasOwnProperty.call(this._instances,n)&&this._instances[n].runQueuedFunctions()},Kt.prototype.init=function(e,t,n,r){this.getInstance().init(e,t,n,(function(e){this.options=e.options,"function"===k(r)&&r(e)}).bind(this))},Kt.prototype.isNewSession=function(){return this.getInstance().isNewSession()},Kt.prototype.getSessionId=function(){return this.getInstance().getSessionId()},Kt.prototype.nextEventId=function(){return this.getInstance().nextEventId()},Kt.prototype.nextIdentifyId=function(){return this.getInstance().nextIdentifyId()},Kt.prototype.nextSequenceNumber=function(){return this.getInstance().nextSequenceNumber()},Kt.prototype.saveEvents=function(){this.getInstance().saveEvents()},Kt.prototype.setDomain=function(e){this.getInstance().setDomain(e)},Kt.prototype.setUserId=function(e){this.getInstance().setUserId(e)},Kt.prototype.setGroup=function(e,t){this.getInstance().setGroup(e,t)},Kt.prototype.setOptOut=function(e){this.getInstance().setOptOut(e)},Kt.prototype.regenerateDeviceId=function(){this.getInstance().regenerateDeviceId()},Kt.prototype.setDeviceId=function(e){this.getInstance().setDeviceId(e)},Kt.prototype.setUserProperties=function(e){this.getInstance().setUserProperties(e)},Kt.prototype.clearUserProperties=function(){this.getInstance().clearUserProperties()},Kt.prototype.identify=function(e,t){this.getInstance().identify(e,t)},Kt.prototype.setVersionName=function(e){this.getInstance().setVersionName(e)},Kt.prototype.logEvent=function(e,t,n){return this.getInstance().logEvent(e,t,n)},Kt.prototype.logEventWithGroups=function(e,t,n,r){return this.getInstance().logEventWithGroups(e,t,n,r)},Kt.prototype.logRevenueV2=function(e){return this.getInstance().logRevenueV2(e)},Kt.prototype.logRevenue=function(e,t,n){return this.getInstance().logRevenue(e,t,n)},Kt.prototype.removeEvents=function(e,t){this.getInstance().removeEvents(e,t)},Kt.prototype.sendEvents=function(e){this.getInstance().sendEvents(e)},Kt.prototype.setGlobalUserProperties=function(e){this.getInstance().setUserProperties(e)},Kt.prototype.__VERSION__=gt;var Jt=void 0!==w&&w.amplitude||{},Xt=new Kt;for(var Qt in Xt._q=Jt._q||[],Jt._iq)Object.prototype.hasOwnProperty.call(Jt._iq,Qt)&&(Xt.getInstance(Qt)._q=Jt._iq[Qt]._q||[]);return Xt.runQueuedFunctions(),Xt}()},3463:(e,t,n)=>{"use strict";var r=n(3887),i={childContextTypes:!0,contextType:!0,contextTypes:!0,defaultProps:!0,displayName:!0,getDefaultProps:!0,getDerivedStateFromError:!0,getDerivedStateFromProps:!0,mixins:!0,propTypes:!0,type:!0},o={name:!0,length:!0,prototype:!0,caller:!0,callee:!0,arguments:!0,arity:!0},s={$$typeof:!0,compare:!0,defaultProps:!0,displayName:!0,propTypes:!0,type:!0},a={};function l(e){return r.isMemo(e)?s:a[e.$$typeof]||i}a[r.ForwardRef]={$$typeof:!0,render:!0,defaultProps:!0,displayName:!0,propTypes:!0},a[r.Memo]=s;var c=Object.defineProperty,u=Object.getOwnPropertyNames,d=Object.getOwnPropertySymbols,h=Object.getOwnPropertyDescriptor,p=Object.getPrototypeOf,f=Object.prototype;e.exports=function e(t,n,r){if("string"!=typeof n){if(f){var i=p(n);i&&i!==f&&e(t,i,r)}var s=u(n);d&&(s=s.concat(d(n)));for(var a=l(t),m=l(n),_=0;_<s.length;++_){var g=s[_];if(!(o[g]||r&&r[g]||m&&m[g]||a&&a[g])){var v=h(n,g);try{c(t,g,v)}catch(y){}}}}return t}},3459:(e,t)=>{"use strict";var n="function"==typeof Symbol&&Symbol.for,r=n?Symbol.for("react.element"):60103,i=n?Symbol.for("react.portal"):60106,o=n?Symbol.for("react.fragment"):60107,s=n?Symbol.for("react.strict_mode"):60108,a=n?Symbol.for("react.profiler"):60114,l=n?Symbol.for("react.provider"):60109,c=n?Symbol.for("react.context"):60110,u=n?Symbol.for("react.async_mode"):60111,d=n?Symbol.for("react.concurrent_mode"):60111,h=n?Symbol.for("react.forward_ref"):60112,p=n?Symbol.for("react.suspense"):60113,f=n?Symbol.for("react.suspense_list"):60120,m=n?Symbol.for("react.memo"):60115,_=n?Symbol.for("react.lazy"):60116,g=n?Symbol.for("react.block"):60121,v=n?Symbol.for("react.fundamental"):60117,y=n?Symbol.for("react.responder"):60118,b=n?Symbol.for("react.scope"):60119;function w(e){if("object"==typeof e&&null!==e){var t=e.$$typeof;switch(t){case r:switch(e=e.type){case u:case d:case o:case a:case s:case p:return e;default:switch(e=e&&e.$$typeof){case c:case h:case _:case m:case l:return e;default:return t}}case i:return t}}}function E(e){return w(e)===d}t.AsyncMode=u,t.ConcurrentMode=d,t.ContextConsumer=c,t.ContextProvider=l,t.Element=r,t.ForwardRef=h,t.Fragment=o,t.Lazy=_,t.Memo=m,t.Portal=i,t.Profiler=a,t.StrictMode=s,t.Suspense=p,t.isAsyncMode=function(e){return E(e)||w(e)===u},t.isConcurrentMode=E,t.isContextConsumer=function(e){return w(e)===c},t.isContextProvider=function(e){return w(e)===l},t.isElement=function(e){return"object"==typeof e&&null!==e&&e.$$typeof===r},t.isForwardRef=function(e){return w(e)===h},t.isFragment=function(e){return w(e)===o},t.isLazy=function(e){return w(e)===_},t.isMemo=function(e){return w(e)===m},t.isPortal=function(e){return w(e)===i},t.isProfiler=function(e){return w(e)===a},t.isStrictMode=function(e){return w(e)===s},t.isSuspense=function(e){return w(e)===p},t.isValidElementType=function(e){return"string"==typeof e||"function"==typeof e||e===o||e===d||e===a||e===s||e===p||e===f||"object"==typeof e&&null!==e&&(e.$$typeof===_||e.$$typeof===m||e.$$typeof===l||e.$$typeof===c||e.$$typeof===h||e.$$typeof===v||e.$$typeof===y||e.$$typeof===b||e.$$typeof===g)},t.typeOf=w},3887:(e,t,n)=>{"use strict";e.exports=n(3459)},2967:(e,t,n)=>{"use strict";var r=n(2784),i=n(4616);function o(e){for(var t="https://reactjs.org/docs/error-decoder.html?invariant="+e,n=1;n<arguments.length;n++)t+="&args[]="+encodeURIComponent(arguments[n]);return"Minified React error #"+e+"; visit "+t+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var s=new Set,a={};function l(e,t){c(e,t),c(e+"Capture",t)}function c(e,t){for(a[e]=t,e=0;e<t.length;e++)s.add(t[e])}var u=!("undefined"==typeof window||void 0===window.document||void 0===window.document.createElement),d=Object.prototype.hasOwnProperty,h=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,p={},f={};function m(e,t,n,r,i,o,s){this.acceptsBooleans=2===t||3===t||4===t,this.attributeName=r,this.attributeNamespace=i,this.mustUseProperty=n,this.propertyName=e,this.type=t,this.sanitizeURL=o,this.removeEmptyString=s}var _={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach((function(e){_[e]=new m(e,0,!1,e,null,!1,!1)})),[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach((function(e){var t=e[0];_[t]=new m(t,1,!1,e[1],null,!1,!1)})),["contentEditable","draggable","spellCheck","value"].forEach((function(e){_[e]=new m(e,2,!1,e.toLowerCase(),null,!1,!1)})),["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach((function(e){_[e]=new m(e,2,!1,e,null,!1,!1)})),"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach((function(e){_[e]=new m(e,3,!1,e.toLowerCase(),null,!1,!1)})),["checked","multiple","muted","selected"].forEach((function(e){_[e]=new m(e,3,!0,e,null,!1,!1)})),["capture","download"].forEach((function(e){_[e]=new m(e,4,!1,e,null,!1,!1)})),["cols","rows","size","span"].forEach((function(e){_[e]=new m(e,6,!1,e,null,!1,!1)})),["rowSpan","start"].forEach((function(e){_[e]=new m(e,5,!1,e.toLowerCase(),null,!1,!1)}));var g=/[\-:]([a-z])/g;function v(e){return e[1].toUpperCase()}function y(e,t,n,r){var i=_.hasOwnProperty(t)?_[t]:null;(null!==i?0!==i.type:r||!(2<t.length)||"o"!==t[0]&&"O"!==t[0]||"n"!==t[1]&&"N"!==t[1])&&(function(e,t,n,r){if(null==t||function(e,t,n,r){if(null!==n&&0===n.type)return!1;switch(typeof t){case"function":case"symbol":return!0;case"boolean":return!r&&(null!==n?!n.acceptsBooleans:"data-"!==(e=e.toLowerCase().slice(0,5))&&"aria-"!==e);default:return!1}}(e,t,n,r))return!0;if(r)return!1;if(null!==n)switch(n.type){case 3:return!t;case 4:return!1===t;case 5:return isNaN(t);case 6:return isNaN(t)||1>t}return!1}(t,n,i,r)&&(n=null),r||null===i?function(e){return!!d.call(f,e)||!d.call(p,e)&&(h.test(e)?f[e]=!0:(p[e]=!0,!1))}(t)&&(null===n?e.removeAttribute(t):e.setAttribute(t,""+n)):i.mustUseProperty?e[i.propertyName]=null===n?3!==i.type&&"":n:(t=i.attributeName,r=i.attributeNamespace,null===n?e.removeAttribute(t):(n=3===(i=i.type)||4===i&&!0===n?"":""+n,r?e.setAttributeNS(r,t,n):e.setAttribute(t,n))))}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach((function(e){var t=e.replace(g,v);_[t]=new m(t,1,!1,e,null,!1,!1)})),"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach((function(e){var t=e.replace(g,v);_[t]=new m(t,1,!1,e,"http://www.w3.org/1999/xlink",!1,!1)})),["xml:base","xml:lang","xml:space"].forEach((function(e){var t=e.replace(g,v);_[t]=new m(t,1,!1,e,"http://www.w3.org/XML/1998/namespace",!1,!1)})),["tabIndex","crossOrigin"].forEach((function(e){_[e]=new m(e,1,!1,e.toLowerCase(),null,!1,!1)})),_.xlinkHref=new m("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1),["src","href","action","formAction"].forEach((function(e){_[e]=new m(e,1,!1,e.toLowerCase(),null,!0,!0)}));var b=r.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,w=Symbol.for("react.element"),E=Symbol.for("react.portal"),S=Symbol.for("react.fragment"),k=Symbol.for("react.strict_mode"),T=Symbol.for("react.profiler"),I=Symbol.for("react.provider"),C=Symbol.for("react.context"),R=Symbol.for("react.forward_ref"),N=Symbol.for("react.suspense"),x=Symbol.for("react.suspense_list"),P=Symbol.for("react.memo"),O=Symbol.for("react.lazy");Symbol.for("react.scope"),Symbol.for("react.debug_trace_mode");var A=Symbol.for("react.offscreen");Symbol.for("react.legacy_hidden"),Symbol.for("react.cache"),Symbol.for("react.tracing_marker");var D=Symbol.iterator;function M(e){return null===e||"object"!=typeof e?null:"function"==typeof(e=D&&e[D]||e["@@iterator"])?e:null}var L,U=Object.assign;function F(e){if(void 0===L)try{throw Error()}catch(n){var t=n.stack.trim().match(/\n( *(at )?)/);L=t&&t[1]||""}return"\n"+L+e}var B=!1;function z(e,t){if(!e||B)return"";B=!0;var n=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(t)if(t=function(){throw Error()},Object.defineProperty(t.prototype,"props",{set:function(){throw Error()}}),"object"==typeof Reflect&&Reflect.construct){try{Reflect.construct(t,[])}catch(c){var r=c}Reflect.construct(e,[],t)}else{try{t.call()}catch(c){r=c}e.call(t.prototype)}else{try{throw Error()}catch(c){r=c}e()}}catch(c){if(c&&r&&"string"==typeof c.stack){for(var i=c.stack.split("\n"),o=r.stack.split("\n"),s=i.length-1,a=o.length-1;1<=s&&0<=a&&i[s]!==o[a];)a--;for(;1<=s&&0<=a;s--,a--)if(i[s]!==o[a]){if(1!==s||1!==a)do{if(s--,0>--a||i[s]!==o[a]){var l="\n"+i[s].replace(" at new "," at ");return e.displayName&&l.includes("<anonymous>")&&(l=l.replace("<anonymous>",e.displayName)),l}}while(1<=s&&0<=a);break}}}finally{B=!1,Error.prepareStackTrace=n}return(e=e?e.displayName||e.name:"")?F(e):""}function W(e){switch(e.tag){case 5:return F(e.type);case 16:return F("Lazy");case 13:return F("Suspense");case 19:return F("SuspenseList");case 0:case 2:case 15:return e=z(e.type,!1);case 11:return e=z(e.type.render,!1);case 1:return e=z(e.type,!0);default:return""}}function G(e){if(null==e)return null;if("function"==typeof e)return e.displayName||e.name||null;if("string"==typeof e)return e;switch(e){case S:return"Fragment";case E:return"Portal";case T:return"Profiler";case k:return"StrictMode";case N:return"Suspense";case x:return"SuspenseList"}if("object"==typeof e)switch(e.$$typeof){case C:return(e.displayName||"Context")+".Consumer";case I:return(e._context.displayName||"Context")+".Provider";case R:var t=e.render;return(e=e.displayName)||(e=""!==(e=t.displayName||t.name||"")?"ForwardRef("+e+")":"ForwardRef"),e;case P:return null!==(t=e.displayName||null)?t:G(e.type)||"Memo";case O:t=e._payload,e=e._init;try{return G(e(t))}catch(n){}}return null}function H(e){var t=e.type;switch(e.tag){case 24:return"Cache";case 9:return(t.displayName||"Context")+".Consumer";case 10:return(t._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return e=(e=t.render).displayName||e.name||"",t.displayName||(""!==e?"ForwardRef("+e+")":"ForwardRef");case 7:return"Fragment";case 5:return t;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return G(t);case 8:return t===k?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if("function"==typeof t)return t.displayName||t.name||null;if("string"==typeof t)return t}return null}function $(e){switch(typeof e){case"boolean":case"number":case"string":case"undefined":case"object":return e;default:return""}}function V(e){var t=e.type;return(e=e.nodeName)&&"input"===e.toLowerCase()&&("checkbox"===t||"radio"===t)}function Y(e){e._valueTracker||(e._valueTracker=function(e){var t=V(e)?"checked":"value",n=Object.getOwnPropertyDescriptor(e.constructor.prototype,t),r=""+e[t];if(!e.hasOwnProperty(t)&&void 0!==n&&"function"==typeof n.get&&"function"==typeof n.set){var i=n.get,o=n.set;return Object.defineProperty(e,t,{configurable:!0,get:function(){return i.call(this)},set:function(e){r=""+e,o.call(this,e)}}),Object.defineProperty(e,t,{enumerable:n.enumerable}),{getValue:function(){return r},setValue:function(e){r=""+e},stopTracking:function(){e._valueTracker=null,delete e[t]}}}}(e))}function K(e){if(!e)return!1;var t=e._valueTracker;if(!t)return!0;var n=t.getValue(),r="";return e&&(r=V(e)?e.checked?"true":"false":e.value),(e=r)!==n&&(t.setValue(e),!0)}function J(e){if(void 0===(e=e||("undefined"!=typeof document?document:void 0)))return null;try{return e.activeElement||e.body}catch(t){return e.body}}function X(e,t){var n=t.checked;return U({},t,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:null!=n?n:e._wrapperState.initialChecked})}function Q(e,t){var n=null==t.defaultValue?"":t.defaultValue,r=null!=t.checked?t.checked:t.defaultChecked;n=$(null!=t.value?t.value:n),e._wrapperState={initialChecked:r,initialValue:n,controlled:"checkbox"===t.type||"radio"===t.type?null!=t.checked:null!=t.value}}function Z(e,t){null!=(t=t.checked)&&y(e,"checked",t,!1)}function ee(e,t){Z(e,t);var n=$(t.value),r=t.type;if(null!=n)"number"===r?(0===n&&""===e.value||e.value!=n)&&(e.value=""+n):e.value!==""+n&&(e.value=""+n);else if("submit"===r||"reset"===r)return void e.removeAttribute("value");t.hasOwnProperty("value")?ne(e,t.type,n):t.hasOwnProperty("defaultValue")&&ne(e,t.type,$(t.defaultValue)),null==t.checked&&null!=t.defaultChecked&&(e.defaultChecked=!!t.defaultChecked)}function te(e,t,n){if(t.hasOwnProperty("value")||t.hasOwnProperty("defaultValue")){var r=t.type;if(!("submit"!==r&&"reset"!==r||void 0!==t.value&&null!==t.value))return;t=""+e._wrapperState.initialValue,n||t===e.value||(e.value=t),e.defaultValue=t}""!==(n=e.name)&&(e.name=""),e.defaultChecked=!!e._wrapperState.initialChecked,""!==n&&(e.name=n)}function ne(e,t,n){"number"===t&&J(e.ownerDocument)===e||(null==n?e.defaultValue=""+e._wrapperState.initialValue:e.defaultValue!==""+n&&(e.defaultValue=""+n))}var re=Array.isArray;function ie(e,t,n,r){if(e=e.options,t){t={};for(var i=0;i<n.length;i++)t["$"+n[i]]=!0;for(n=0;n<e.length;n++)i=t.hasOwnProperty("$"+e[n].value),e[n].selected!==i&&(e[n].selected=i),i&&r&&(e[n].defaultSelected=!0)}else{for(n=""+$(n),t=null,i=0;i<e.length;i++){if(e[i].value===n)return e[i].selected=!0,void(r&&(e[i].defaultSelected=!0));null!==t||e[i].disabled||(t=e[i])}null!==t&&(t.selected=!0)}}function oe(e,t){if(null!=t.dangerouslySetInnerHTML)throw Error(o(91));return U({},t,{value:void 0,defaultValue:void 0,children:""+e._wrapperState.initialValue})}function se(e,t){var n=t.value;if(null==n){if(n=t.children,t=t.defaultValue,null!=n){if(null!=t)throw Error(o(92));if(re(n)){if(1<n.length)throw Error(o(93));n=n[0]}t=n}null==t&&(t=""),n=t}e._wrapperState={initialValue:$(n)}}function ae(e,t){var n=$(t.value),r=$(t.defaultValue);null!=n&&((n=""+n)!==e.value&&(e.value=n),null==t.defaultValue&&e.defaultValue!==n&&(e.defaultValue=n)),null!=r&&(e.defaultValue=""+r)}function le(e){var t=e.textContent;t===e._wrapperState.initialValue&&""!==t&&null!==t&&(e.value=t)}function ce(e){switch(e){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function ue(e,t){return null==e||"http://www.w3.org/1999/xhtml"===e?ce(t):"http://www.w3.org/2000/svg"===e&&"foreignObject"===t?"http://www.w3.org/1999/xhtml":e}var de,he,pe=(he=function(e,t){if("http://www.w3.org/2000/svg"!==e.namespaceURI||"innerHTML"in e)e.innerHTML=t;else{for((de=de||document.createElement("div")).innerHTML="<svg>"+t.valueOf().toString()+"</svg>",t=de.firstChild;e.firstChild;)e.removeChild(e.firstChild);for(;t.firstChild;)e.appendChild(t.firstChild)}},"undefined"!=typeof MSApp&&MSApp.execUnsafeLocalFunction?function(e,t,n,r){MSApp.execUnsafeLocalFunction((function(){return he(e,t)}))}:he);function fe(e,t){if(t){var n=e.firstChild;if(n&&n===e.lastChild&&3===n.nodeType)return void(n.nodeValue=t)}e.textContent=t}var me={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},_e=["Webkit","ms","Moz","O"];function ge(e,t,n){return null==t||"boolean"==typeof t||""===t?"":n||"number"!=typeof t||0===t||me.hasOwnProperty(e)&&me[e]?(""+t).trim():t+"px"}function ve(e,t){for(var n in e=e.style,t)if(t.hasOwnProperty(n)){var r=0===n.indexOf("--"),i=ge(n,t[n],r);"float"===n&&(n="cssFloat"),r?e.setProperty(n,i):e[n]=i}}Object.keys(me).forEach((function(e){_e.forEach((function(t){t=t+e.charAt(0).toUpperCase()+e.substring(1),me[t]=me[e]}))}));var ye=U({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function be(e,t){if(t){if(ye[e]&&(null!=t.children||null!=t.dangerouslySetInnerHTML))throw Error(o(137,e));if(null!=t.dangerouslySetInnerHTML){if(null!=t.children)throw Error(o(60));if("object"!=typeof t.dangerouslySetInnerHTML||!("__html"in t.dangerouslySetInnerHTML))throw Error(o(61))}if(null!=t.style&&"object"!=typeof t.style)throw Error(o(62))}}function we(e,t){if(-1===e.indexOf("-"))return"string"==typeof t.is;switch(e){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var Ee=null;function Se(e){return(e=e.target||e.srcElement||window).correspondingUseElement&&(e=e.correspondingUseElement),3===e.nodeType?e.parentNode:e}var ke=null,Te=null,Ie=null;function Ce(e){if(e=wi(e)){if("function"!=typeof ke)throw Error(o(280));var t=e.stateNode;t&&(t=Si(t),ke(e.stateNode,e.type,t))}}function Re(e){Te?Ie?Ie.push(e):Ie=[e]:Te=e}function Ne(){if(Te){var e=Te,t=Ie;if(Ie=Te=null,Ce(e),t)for(e=0;e<t.length;e++)Ce(t[e])}}function xe(e,t){return e(t)}function Pe(){}var Oe=!1;function Ae(e,t,n){if(Oe)return e(t,n);Oe=!0;try{return xe(e,t,n)}finally{Oe=!1,(null!==Te||null!==Ie)&&(Pe(),Ne())}}function De(e,t){var n=e.stateNode;if(null===n)return null;var r=Si(n);if(null===r)return null;n=r[t];e:switch(t){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(r=!r.disabled)||(r=!("button"===(e=e.type)||"input"===e||"select"===e||"textarea"===e)),e=!r;break e;default:e=!1}if(e)return null;if(n&&"function"!=typeof n)throw Error(o(231,t,typeof n));return n}var Me=!1;if(u)try{var Le={};Object.defineProperty(Le,"passive",{get:function(){Me=!0}}),window.addEventListener("test",Le,Le),window.removeEventListener("test",Le,Le)}catch(he){Me=!1}function Ue(e,t,n,r,i,o,s,a,l){var c=Array.prototype.slice.call(arguments,3);try{t.apply(n,c)}catch(u){this.onError(u)}}var Fe=!1,je=null,Be=!1,ze=null,We={onError:function(e){Fe=!0,je=e}};function Ge(e,t,n,r,i,o,s,a,l){Fe=!1,je=null,Ue.apply(We,arguments)}function qe(e){var t=e,n=e;if(e.alternate)for(;t.return;)t=t.return;else{e=t;do{0!=(4098&(t=e).flags)&&(n=t.return),e=t.return}while(e)}return 3===t.tag?n:null}function He(e){if(13===e.tag){var t=e.memoizedState;if(null===t&&(null!==(e=e.alternate)&&(t=e.memoizedState)),null!==t)return t.dehydrated}return null}function $e(e){if(qe(e)!==e)throw Error(o(188))}function Ve(e){return null!==(e=function(e){var t=e.alternate;if(!t){if(null===(t=qe(e)))throw Error(o(188));return t!==e?null:e}for(var n=e,r=t;;){var i=n.return;if(null===i)break;var s=i.alternate;if(null===s){if(null!==(r=i.return)){n=r;continue}break}if(i.child===s.child){for(s=i.child;s;){if(s===n)return $e(i),e;if(s===r)return $e(i),t;s=s.sibling}throw Error(o(188))}if(n.return!==r.return)n=i,r=s;else{for(var a=!1,l=i.child;l;){if(l===n){a=!0,n=i,r=s;break}if(l===r){a=!0,r=i,n=s;break}l=l.sibling}if(!a){for(l=s.child;l;){if(l===n){a=!0,n=s,r=i;break}if(l===r){a=!0,r=s,n=i;break}l=l.sibling}if(!a)throw Error(o(189))}}if(n.alternate!==r)throw Error(o(190))}if(3!==n.tag)throw Error(o(188));return n.stateNode.current===n?e:t}(e))?Ye(e):null}function Ye(e){if(5===e.tag||6===e.tag)return e;for(e=e.child;null!==e;){var t=Ye(e);if(null!==t)return t;e=e.sibling}return null}var Ke=i.unstable_scheduleCallback,Je=i.unstable_cancelCallback,Xe=i.unstable_shouldYield,Qe=i.unstable_requestPaint,Ze=i.unstable_now,et=i.unstable_getCurrentPriorityLevel,tt=i.unstable_ImmediatePriority,nt=i.unstable_UserBlockingPriority,rt=i.unstable_NormalPriority,it=i.unstable_LowPriority,ot=i.unstable_IdlePriority,st=null,at=null;var lt=Math.clz32?Math.clz32:function(e){return e>>>=0,0===e?32:31-(ct(e)/ut|0)|0},ct=Math.log,ut=Math.LN2;var dt=64,ht=4194304;function pt(e){switch(e&-e){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return 4194240&e;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return 130023424&e;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return e}}function ft(e,t){var n=e.pendingLanes;if(0===n)return 0;var r=0,i=e.suspendedLanes,o=e.pingedLanes,s=268435455&n;if(0!==s){var a=s&~i;0!==a?r=pt(a):0!==(o&=s)&&(r=pt(o))}else 0!==(s=n&~i)?r=pt(s):0!==o&&(r=pt(o));if(0===r)return 0;if(0!==t&&t!==r&&0==(t&i)&&((i=r&-r)>=(o=t&-t)||16===i&&0!=(4194240&o)))return t;if(0!=(4&r)&&(r|=16&n),0!==(t=e.entangledLanes))for(e=e.entanglements,t&=r;0<t;)i=1<<(n=31-lt(t)),r|=e[n],t&=~i;return r}function mt(e,t){switch(e){case 1:case 2:case 4:return t+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t+5e3;default:return-1}}function _t(e){return 0!==(e=-1073741825&e.pendingLanes)?e:1073741824&e?1073741824:0}function gt(){var e=dt;return 0==(4194240&(dt<<=1))&&(dt=64),e}function vt(e){for(var t=[],n=0;31>n;n++)t.push(e);return t}function yt(e,t,n){e.pendingLanes|=t,536870912!==t&&(e.suspendedLanes=0,e.pingedLanes=0),(e=e.eventTimes)[t=31-lt(t)]=n}function bt(e,t){var n=e.entangledLanes|=t;for(e=e.entanglements;n;){var r=31-lt(n),i=1<<r;i&t|e[r]&t&&(e[r]|=t),n&=~i}}var wt=0;function Et(e){return 1<(e&=-e)?4<e?0!=(268435455&e)?16:536870912:4:1}var St,kt,Tt,It,Ct,Rt=!1,Nt=[],xt=null,Pt=null,Ot=null,At=new Map,Dt=new Map,Mt=[],Lt="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function Ut(e,t){switch(e){case"focusin":case"focusout":xt=null;break;case"dragenter":case"dragleave":Pt=null;break;case"mouseover":case"mouseout":Ot=null;break;case"pointerover":case"pointerout":At.delete(t.pointerId);break;case"gotpointercapture":case"lostpointercapture":Dt.delete(t.pointerId)}}function Ft(e,t,n,r,i,o){return null===e||e.nativeEvent!==o?(e={blockedOn:t,domEventName:n,eventSystemFlags:r,nativeEvent:o,targetContainers:[i]},null!==t&&(null!==(t=wi(t))&&kt(t)),e):(e.eventSystemFlags|=r,t=e.targetContainers,null!==i&&-1===t.indexOf(i)&&t.push(i),e)}function jt(e){var t=bi(e.target);if(null!==t){var n=qe(t);if(null!==n)if(13===(t=n.tag)){if(null!==(t=He(n)))return e.blockedOn=t,void Ct(e.priority,(function(){Tt(n)}))}else if(3===t&&n.stateNode.current.memoizedState.isDehydrated)return void(e.blockedOn=3===n.tag?n.stateNode.containerInfo:null)}e.blockedOn=null}function Bt(e){if(null!==e.blockedOn)return!1;for(var t=e.targetContainers;0<t.length;){var n=Xt(e.domEventName,e.eventSystemFlags,t[0],e.nativeEvent);if(null!==n)return null!==(t=wi(n))&&kt(t),e.blockedOn=n,!1;var r=new(n=e.nativeEvent).constructor(n.type,n);Ee=r,n.target.dispatchEvent(r),Ee=null,t.shift()}return!0}function zt(e,t,n){Bt(e)&&n.delete(t)}function Wt(){Rt=!1,null!==xt&&Bt(xt)&&(xt=null),null!==Pt&&Bt(Pt)&&(Pt=null),null!==Ot&&Bt(Ot)&&(Ot=null),At.forEach(zt),Dt.forEach(zt)}function Gt(e,t){e.blockedOn===t&&(e.blockedOn=null,Rt||(Rt=!0,i.unstable_scheduleCallback(i.unstable_NormalPriority,Wt)))}function qt(e){function t(t){return Gt(t,e)}if(0<Nt.length){Gt(Nt[0],e);for(var n=1;n<Nt.length;n++){var r=Nt[n];r.blockedOn===e&&(r.blockedOn=null)}}for(null!==xt&&Gt(xt,e),null!==Pt&&Gt(Pt,e),null!==Ot&&Gt(Ot,e),At.forEach(t),Dt.forEach(t),n=0;n<Mt.length;n++)(r=Mt[n]).blockedOn===e&&(r.blockedOn=null);for(;0<Mt.length&&null===(n=Mt[0]).blockedOn;)jt(n),null===n.blockedOn&&Mt.shift()}var Ht=b.ReactCurrentBatchConfig,$t=!0;function Vt(e,t,n,r){var i=wt,o=Ht.transition;Ht.transition=null;try{wt=1,Kt(e,t,n,r)}finally{wt=i,Ht.transition=o}}function Yt(e,t,n,r){var i=wt,o=Ht.transition;Ht.transition=null;try{wt=4,Kt(e,t,n,r)}finally{wt=i,Ht.transition=o}}function Kt(e,t,n,r){if($t){var i=Xt(e,t,n,r);if(null===i)$r(e,t,r,Jt,n),Ut(e,r);else if(function(e,t,n,r,i){switch(t){case"focusin":return xt=Ft(xt,e,t,n,r,i),!0;case"dragenter":return Pt=Ft(Pt,e,t,n,r,i),!0;case"mouseover":return Ot=Ft(Ot,e,t,n,r,i),!0;case"pointerover":var o=i.pointerId;return At.set(o,Ft(At.get(o)||null,e,t,n,r,i)),!0;case"gotpointercapture":return o=i.pointerId,Dt.set(o,Ft(Dt.get(o)||null,e,t,n,r,i)),!0}return!1}(i,e,t,n,r))r.stopPropagation();else if(Ut(e,r),4&t&&-1<Lt.indexOf(e)){for(;null!==i;){var o=wi(i);if(null!==o&&St(o),null===(o=Xt(e,t,n,r))&&$r(e,t,r,Jt,n),o===i)break;i=o}null!==i&&r.stopPropagation()}else $r(e,t,r,null,n)}}var Jt=null;function Xt(e,t,n,r){if(Jt=null,null!==(e=bi(e=Se(r))))if(null===(t=qe(e)))e=null;else if(13===(n=t.tag)){if(null!==(e=He(t)))return e;e=null}else if(3===n){if(t.stateNode.current.memoizedState.isDehydrated)return 3===t.tag?t.stateNode.containerInfo:null;e=null}else t!==e&&(e=null);return Jt=e,null}function Qt(e){switch(e){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(et()){case tt:return 1;case nt:return 4;case rt:case it:return 16;case ot:return 536870912;default:return 16}default:return 16}}var Zt=null,en=null,tn=null;function nn(){if(tn)return tn;var e,t,n=en,r=n.length,i="value"in Zt?Zt.value:Zt.textContent,o=i.length;for(e=0;e<r&&n[e]===i[e];e++);var s=r-e;for(t=1;t<=s&&n[r-t]===i[o-t];t++);return tn=i.slice(e,1<t?1-t:void 0)}function rn(e){var t=e.keyCode;return"charCode"in e?0===(e=e.charCode)&&13===t&&(e=13):e=t,10===e&&(e=13),32<=e||13===e?e:0}function on(){return!0}function sn(){return!1}function an(e){function t(t,n,r,i,o){for(var s in this._reactName=t,this._targetInst=r,this.type=n,this.nativeEvent=i,this.target=o,this.currentTarget=null,e)e.hasOwnProperty(s)&&(t=e[s],this[s]=t?t(i):i[s]);return this.isDefaultPrevented=(null!=i.defaultPrevented?i.defaultPrevented:!1===i.returnValue)?on:sn,this.isPropagationStopped=sn,this}return U(t.prototype,{preventDefault:function(){this.defaultPrevented=!0;var e=this.nativeEvent;e&&(e.preventDefault?e.preventDefault():"unknown"!=typeof e.returnValue&&(e.returnValue=!1),this.isDefaultPrevented=on)},stopPropagation:function(){var e=this.nativeEvent;e&&(e.stopPropagation?e.stopPropagation():"unknown"!=typeof e.cancelBubble&&(e.cancelBubble=!0),this.isPropagationStopped=on)},persist:function(){},isPersistent:on}),t}var ln,cn,un,dn={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(e){return e.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},hn=an(dn),pn=U({},dn,{view:0,detail:0}),fn=an(pn),mn=U({},pn,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:Cn,button:0,buttons:0,relatedTarget:function(e){return void 0===e.relatedTarget?e.fromElement===e.srcElement?e.toElement:e.fromElement:e.relatedTarget},movementX:function(e){return"movementX"in e?e.movementX:(e!==un&&(un&&"mousemove"===e.type?(ln=e.screenX-un.screenX,cn=e.screenY-un.screenY):cn=ln=0,un=e),ln)},movementY:function(e){return"movementY"in e?e.movementY:cn}}),_n=an(mn),gn=an(U({},mn,{dataTransfer:0})),vn=an(U({},pn,{relatedTarget:0})),yn=an(U({},dn,{animationName:0,elapsedTime:0,pseudoElement:0})),bn=U({},dn,{clipboardData:function(e){return"clipboardData"in e?e.clipboardData:window.clipboardData}}),wn=an(bn),En=an(U({},dn,{data:0})),Sn={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},kn={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},Tn={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function In(e){var t=this.nativeEvent;return t.getModifierState?t.getModifierState(e):!!(e=Tn[e])&&!!t[e]}function Cn(){return In}var Rn=U({},pn,{key:function(e){if(e.key){var t=Sn[e.key]||e.key;if("Unidentified"!==t)return t}return"keypress"===e.type?13===(e=rn(e))?"Enter":String.fromCharCode(e):"keydown"===e.type||"keyup"===e.type?kn[e.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:Cn,charCode:function(e){return"keypress"===e.type?rn(e):0},keyCode:function(e){return"keydown"===e.type||"keyup"===e.type?e.keyCode:0},which:function(e){return"keypress"===e.type?rn(e):"keydown"===e.type||"keyup"===e.type?e.keyCode:0}}),Nn=an(Rn),xn=an(U({},mn,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0})),Pn=an(U({},pn,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:Cn})),On=an(U({},dn,{propertyName:0,elapsedTime:0,pseudoElement:0})),An=U({},mn,{deltaX:function(e){return"deltaX"in e?e.deltaX:"wheelDeltaX"in e?-e.wheelDeltaX:0},deltaY:function(e){return"deltaY"in e?e.deltaY:"wheelDeltaY"in e?-e.wheelDeltaY:"wheelDelta"in e?-e.wheelDelta:0},deltaZ:0,deltaMode:0}),Dn=an(An),Mn=[9,13,27,32],Ln=u&&"CompositionEvent"in window,Un=null;u&&"documentMode"in document&&(Un=document.documentMode);var Fn=u&&"TextEvent"in window&&!Un,jn=u&&(!Ln||Un&&8<Un&&11>=Un),Bn=String.fromCharCode(32),zn=!1;function Wn(e,t){switch(e){case"keyup":return-1!==Mn.indexOf(t.keyCode);case"keydown":return 229!==t.keyCode;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function Gn(e){return"object"==typeof(e=e.detail)&&"data"in e?e.data:null}var qn=!1;var Hn={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function $n(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return"input"===t?!!Hn[e.type]:"textarea"===t}function Vn(e,t,n,r){Re(r),0<(t=Yr(t,"onChange")).length&&(n=new hn("onChange","change",null,n,r),e.push({event:n,listeners:t}))}var Yn=null,Kn=null;function Jn(e){Br(e,0)}function Xn(e){if(K(Ei(e)))return e}function Qn(e,t){if("change"===e)return t}var Zn=!1;if(u){var er;if(u){var tr="oninput"in document;if(!tr){var nr=document.createElement("div");nr.setAttribute("oninput","return;"),tr="function"==typeof nr.oninput}er=tr}else er=!1;Zn=er&&(!document.documentMode||9<document.documentMode)}function rr(){Yn&&(Yn.detachEvent("onpropertychange",ir),Kn=Yn=null)}function ir(e){if("value"===e.propertyName&&Xn(Kn)){var t=[];Vn(t,Kn,e,Se(e)),Ae(Jn,t)}}function or(e,t,n){"focusin"===e?(rr(),Kn=n,(Yn=t).attachEvent("onpropertychange",ir)):"focusout"===e&&rr()}function sr(e){if("selectionchange"===e||"keyup"===e||"keydown"===e)return Xn(Kn)}function ar(e,t){if("click"===e)return Xn(t)}function lr(e,t){if("input"===e||"change"===e)return Xn(t)}var cr="function"==typeof Object.is?Object.is:function(e,t){return e===t&&(0!==e||1/e==1/t)||e!=e&&t!=t};function ur(e,t){if(cr(e,t))return!0;if("object"!=typeof e||null===e||"object"!=typeof t||null===t)return!1;var n=Object.keys(e),r=Object.keys(t);if(n.length!==r.length)return!1;for(r=0;r<n.length;r++){var i=n[r];if(!d.call(t,i)||!cr(e[i],t[i]))return!1}return!0}function dr(e){for(;e&&e.firstChild;)e=e.firstChild;return e}function hr(e,t){var n,r=dr(e);for(e=0;r;){if(3===r.nodeType){if(n=e+r.textContent.length,e<=t&&n>=t)return{node:r,offset:t-e};e=n}e:{for(;r;){if(r.nextSibling){r=r.nextSibling;break e}r=r.parentNode}r=void 0}r=dr(r)}}function pr(e,t){return!(!e||!t)&&(e===t||(!e||3!==e.nodeType)&&(t&&3===t.nodeType?pr(e,t.parentNode):"contains"in e?e.contains(t):!!e.compareDocumentPosition&&!!(16&e.compareDocumentPosition(t))))}function fr(){for(var e=window,t=J();t instanceof e.HTMLIFrameElement;){try{var n="string"==typeof t.contentWindow.location.href}catch(r){n=!1}if(!n)break;t=J((e=t.contentWindow).document)}return t}function mr(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t&&("input"===t&&("text"===e.type||"search"===e.type||"tel"===e.type||"url"===e.type||"password"===e.type)||"textarea"===t||"true"===e.contentEditable)}function _r(e){var t=fr(),n=e.focusedElem,r=e.selectionRange;if(t!==n&&n&&n.ownerDocument&&pr(n.ownerDocument.documentElement,n)){if(null!==r&&mr(n))if(t=r.start,void 0===(e=r.end)&&(e=t),"selectionStart"in n)n.selectionStart=t,n.selectionEnd=Math.min(e,n.value.length);else if((e=(t=n.ownerDocument||document)&&t.defaultView||window).getSelection){e=e.getSelection();var i=n.textContent.length,o=Math.min(r.start,i);r=void 0===r.end?o:Math.min(r.end,i),!e.extend&&o>r&&(i=r,r=o,o=i),i=hr(n,o);var s=hr(n,r);i&&s&&(1!==e.rangeCount||e.anchorNode!==i.node||e.anchorOffset!==i.offset||e.focusNode!==s.node||e.focusOffset!==s.offset)&&((t=t.createRange()).setStart(i.node,i.offset),e.removeAllRanges(),o>r?(e.addRange(t),e.extend(s.node,s.offset)):(t.setEnd(s.node,s.offset),e.addRange(t)))}for(t=[],e=n;e=e.parentNode;)1===e.nodeType&&t.push({element:e,left:e.scrollLeft,top:e.scrollTop});for("function"==typeof n.focus&&n.focus(),n=0;n<t.length;n++)(e=t[n]).element.scrollLeft=e.left,e.element.scrollTop=e.top}}var gr=u&&"documentMode"in document&&11>=document.documentMode,vr=null,yr=null,br=null,wr=!1;function Er(e,t,n){var r=n.window===n?n.document:9===n.nodeType?n:n.ownerDocument;wr||null==vr||vr!==J(r)||("selectionStart"in(r=vr)&&mr(r)?r={start:r.selectionStart,end:r.selectionEnd}:r={anchorNode:(r=(r.ownerDocument&&r.ownerDocument.defaultView||window).getSelection()).anchorNode,anchorOffset:r.anchorOffset,focusNode:r.focusNode,focusOffset:r.focusOffset},br&&ur(br,r)||(br=r,0<(r=Yr(yr,"onSelect")).length&&(t=new hn("onSelect","select",null,t,n),e.push({event:t,listeners:r}),t.target=vr)))}function Sr(e,t){var n={};return n[e.toLowerCase()]=t.toLowerCase(),n["Webkit"+e]="webkit"+t,n["Moz"+e]="moz"+t,n}var kr={animationend:Sr("Animation","AnimationEnd"),animationiteration:Sr("Animation","AnimationIteration"),animationstart:Sr("Animation","AnimationStart"),transitionend:Sr("Transition","TransitionEnd")},Tr={},Ir={};function Cr(e){if(Tr[e])return Tr[e];if(!kr[e])return e;var t,n=kr[e];for(t in n)if(n.hasOwnProperty(t)&&t in Ir)return Tr[e]=n[t];return e}u&&(Ir=document.createElement("div").style,"AnimationEvent"in window||(delete kr.animationend.animation,delete kr.animationiteration.animation,delete kr.animationstart.animation),"TransitionEvent"in window||delete kr.transitionend.transition);var Rr=Cr("animationend"),Nr=Cr("animationiteration"),xr=Cr("animationstart"),Pr=Cr("transitionend"),Or=new Map,Ar="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function Dr(e,t){Or.set(e,t),l(t,[e])}for(var Mr=0;Mr<Ar.length;Mr++){var Lr=Ar[Mr];Dr(Lr.toLowerCase(),"on"+(Lr[0].toUpperCase()+Lr.slice(1)))}Dr(Rr,"onAnimationEnd"),Dr(Nr,"onAnimationIteration"),Dr(xr,"onAnimationStart"),Dr("dblclick","onDoubleClick"),Dr("focusin","onFocus"),Dr("focusout","onBlur"),Dr(Pr,"onTransitionEnd"),c("onMouseEnter",["mouseout","mouseover"]),c("onMouseLeave",["mouseout","mouseover"]),c("onPointerEnter",["pointerout","pointerover"]),c("onPointerLeave",["pointerout","pointerover"]),l("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),l("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),l("onBeforeInput",["compositionend","keypress","textInput","paste"]),l("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),l("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),l("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var Ur="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),Fr=new Set("cancel close invalid load scroll toggle".split(" ").concat(Ur));function jr(e,t,n){var r=e.type||"unknown-event";e.currentTarget=n,function(e,t,n,r,i,s,a,l,c){if(Ge.apply(this,arguments),Fe){if(!Fe)throw Error(o(198));var u=je;Fe=!1,je=null,Be||(Be=!0,ze=u)}}(r,t,void 0,e),e.currentTarget=null}function Br(e,t){t=0!=(4&t);for(var n=0;n<e.length;n++){var r=e[n],i=r.event;r=r.listeners;e:{var o=void 0;if(t)for(var s=r.length-1;0<=s;s--){var a=r[s],l=a.instance,c=a.currentTarget;if(a=a.listener,l!==o&&i.isPropagationStopped())break e;jr(i,a,c),o=l}else for(s=0;s<r.length;s++){if(l=(a=r[s]).instance,c=a.currentTarget,a=a.listener,l!==o&&i.isPropagationStopped())break e;jr(i,a,c),o=l}}}if(Be)throw e=ze,Be=!1,ze=null,e}function zr(e,t){var n=t[gi];void 0===n&&(n=t[gi]=new Set);var r=e+"__bubble";n.has(r)||(Hr(t,e,2,!1),n.add(r))}function Wr(e,t,n){var r=0;t&&(r|=4),Hr(n,e,r,t)}var Gr="_reactListening"+Math.random().toString(36).slice(2);function qr(e){if(!e[Gr]){e[Gr]=!0,s.forEach((function(t){"selectionchange"!==t&&(Fr.has(t)||Wr(t,!1,e),Wr(t,!0,e))}));var t=9===e.nodeType?e:e.ownerDocument;null===t||t[Gr]||(t[Gr]=!0,Wr("selectionchange",!1,t))}}function Hr(e,t,n,r){switch(Qt(t)){case 1:var i=Vt;break;case 4:i=Yt;break;default:i=Kt}n=i.bind(null,t,n,e),i=void 0,!Me||"touchstart"!==t&&"touchmove"!==t&&"wheel"!==t||(i=!0),r?void 0!==i?e.addEventListener(t,n,{capture:!0,passive:i}):e.addEventListener(t,n,!0):void 0!==i?e.addEventListener(t,n,{passive:i}):e.addEventListener(t,n,!1)}function $r(e,t,n,r,i){var o=r;if(0==(1&t)&&0==(2&t)&&null!==r)e:for(;;){if(null===r)return;var s=r.tag;if(3===s||4===s){var a=r.stateNode.containerInfo;if(a===i||8===a.nodeType&&a.parentNode===i)break;if(4===s)for(s=r.return;null!==s;){var l=s.tag;if((3===l||4===l)&&((l=s.stateNode.containerInfo)===i||8===l.nodeType&&l.parentNode===i))return;s=s.return}for(;null!==a;){if(null===(s=bi(a)))return;if(5===(l=s.tag)||6===l){r=o=s;continue e}a=a.parentNode}}r=r.return}Ae((function(){var r=o,i=Se(n),s=[];e:{var a=Or.get(e);if(void 0!==a){var l=hn,c=e;switch(e){case"keypress":if(0===rn(n))break e;case"keydown":case"keyup":l=Nn;break;case"focusin":c="focus",l=vn;break;case"focusout":c="blur",l=vn;break;case"beforeblur":case"afterblur":l=vn;break;case"click":if(2===n.button)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":l=_n;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":l=gn;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":l=Pn;break;case Rr:case Nr:case xr:l=yn;break;case Pr:l=On;break;case"scroll":l=fn;break;case"wheel":l=Dn;break;case"copy":case"cut":case"paste":l=wn;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":l=xn}var u=0!=(4&t),d=!u&&"scroll"===e,h=u?null!==a?a+"Capture":null:a;u=[];for(var p,f=r;null!==f;){var m=(p=f).stateNode;if(5===p.tag&&null!==m&&(p=m,null!==h&&(null!=(m=De(f,h))&&u.push(Vr(f,m,p)))),d)break;f=f.return}0<u.length&&(a=new l(a,c,null,n,i),s.push({event:a,listeners:u}))}}if(0==(7&t)){if(l="mouseout"===e||"pointerout"===e,(!(a="mouseover"===e||"pointerover"===e)||n===Ee||!(c=n.relatedTarget||n.fromElement)||!bi(c)&&!c[_i])&&(l||a)&&(a=i.window===i?i:(a=i.ownerDocument)?a.defaultView||a.parentWindow:window,l?(l=r,null!==(c=(c=n.relatedTarget||n.toElement)?bi(c):null)&&(c!==(d=qe(c))||5!==c.tag&&6!==c.tag)&&(c=null)):(l=null,c=r),l!==c)){if(u=_n,m="onMouseLeave",h="onMouseEnter",f="mouse","pointerout"!==e&&"pointerover"!==e||(u=xn,m="onPointerLeave",h="onPointerEnter",f="pointer"),d=null==l?a:Ei(l),p=null==c?a:Ei(c),(a=new u(m,f+"leave",l,n,i)).target=d,a.relatedTarget=p,m=null,bi(i)===r&&((u=new u(h,f+"enter",c,n,i)).target=p,u.relatedTarget=d,m=u),d=m,l&&c)e:{for(h=c,f=0,p=u=l;p;p=Kr(p))f++;for(p=0,m=h;m;m=Kr(m))p++;for(;0<f-p;)u=Kr(u),f--;for(;0<p-f;)h=Kr(h),p--;for(;f--;){if(u===h||null!==h&&u===h.alternate)break e;u=Kr(u),h=Kr(h)}u=null}else u=null;null!==l&&Jr(s,a,l,u,!1),null!==c&&null!==d&&Jr(s,d,c,u,!0)}if("select"===(l=(a=r?Ei(r):window).nodeName&&a.nodeName.toLowerCase())||"input"===l&&"file"===a.type)var _=Qn;else if($n(a))if(Zn)_=lr;else{_=sr;var g=or}else(l=a.nodeName)&&"input"===l.toLowerCase()&&("checkbox"===a.type||"radio"===a.type)&&(_=ar);switch(_&&(_=_(e,r))?Vn(s,_,n,i):(g&&g(e,a,r),"focusout"===e&&(g=a._wrapperState)&&g.controlled&&"number"===a.type&&ne(a,"number",a.value)),g=r?Ei(r):window,e){case"focusin":($n(g)||"true"===g.contentEditable)&&(vr=g,yr=r,br=null);break;case"focusout":br=yr=vr=null;break;case"mousedown":wr=!0;break;case"contextmenu":case"mouseup":case"dragend":wr=!1,Er(s,n,i);break;case"selectionchange":if(gr)break;case"keydown":case"keyup":Er(s,n,i)}var v;if(Ln)e:{switch(e){case"compositionstart":var y="onCompositionStart";break e;case"compositionend":y="onCompositionEnd";break e;case"compositionupdate":y="onCompositionUpdate";break e}y=void 0}else qn?Wn(e,n)&&(y="onCompositionEnd"):"keydown"===e&&229===n.keyCode&&(y="onCompositionStart");y&&(jn&&"ko"!==n.locale&&(qn||"onCompositionStart"!==y?"onCompositionEnd"===y&&qn&&(v=nn()):(en="value"in(Zt=i)?Zt.value:Zt.textContent,qn=!0)),0<(g=Yr(r,y)).length&&(y=new En(y,e,null,n,i),s.push({event:y,listeners:g}),v?y.data=v:null!==(v=Gn(n))&&(y.data=v))),(v=Fn?function(e,t){switch(e){case"compositionend":return Gn(t);case"keypress":return 32!==t.which?null:(zn=!0,Bn);case"textInput":return(e=t.data)===Bn&&zn?null:e;default:return null}}(e,n):function(e,t){if(qn)return"compositionend"===e||!Ln&&Wn(e,t)?(e=nn(),tn=en=Zt=null,qn=!1,e):null;switch(e){case"paste":default:return null;case"keypress":if(!(t.ctrlKey||t.altKey||t.metaKey)||t.ctrlKey&&t.altKey){if(t.char&&1<t.char.length)return t.char;if(t.which)return String.fromCharCode(t.which)}return null;case"compositionend":return jn&&"ko"!==t.locale?null:t.data}}(e,n))&&(0<(r=Yr(r,"onBeforeInput")).length&&(i=new En("onBeforeInput","beforeinput",null,n,i),s.push({event:i,listeners:r}),i.data=v))}Br(s,t)}))}function Vr(e,t,n){return{instance:e,listener:t,currentTarget:n}}function Yr(e,t){for(var n=t+"Capture",r=[];null!==e;){var i=e,o=i.stateNode;5===i.tag&&null!==o&&(i=o,null!=(o=De(e,n))&&r.unshift(Vr(e,o,i)),null!=(o=De(e,t))&&r.push(Vr(e,o,i))),e=e.return}return r}function Kr(e){if(null===e)return null;do{e=e.return}while(e&&5!==e.tag);return e||null}function Jr(e,t,n,r,i){for(var o=t._reactName,s=[];null!==n&&n!==r;){var a=n,l=a.alternate,c=a.stateNode;if(null!==l&&l===r)break;5===a.tag&&null!==c&&(a=c,i?null!=(l=De(n,o))&&s.unshift(Vr(n,l,a)):i||null!=(l=De(n,o))&&s.push(Vr(n,l,a))),n=n.return}0!==s.length&&e.push({event:t,listeners:s})}var Xr=/\r\n?/g,Qr=/\u0000|\uFFFD/g;function Zr(e){return("string"==typeof e?e:""+e).replace(Xr,"\n").replace(Qr,"")}function ei(e,t,n){if(t=Zr(t),Zr(e)!==t&&n)throw Error(o(425))}function ti(){}var ni=null,ri=null;function ii(e,t){return"textarea"===e||"noscript"===e||"string"==typeof t.children||"number"==typeof t.children||"object"==typeof t.dangerouslySetInnerHTML&&null!==t.dangerouslySetInnerHTML&&null!=t.dangerouslySetInnerHTML.__html}var oi="function"==typeof setTimeout?setTimeout:void 0,si="function"==typeof clearTimeout?clearTimeout:void 0,ai="function"==typeof Promise?Promise:void 0,li="function"==typeof queueMicrotask?queueMicrotask:void 0!==ai?function(e){return ai.resolve(null).then(e).catch(ci)}:oi;function ci(e){setTimeout((function(){throw e}))}function ui(e,t){var n=t,r=0;do{var i=n.nextSibling;if(e.removeChild(n),i&&8===i.nodeType)if("/$"===(n=i.data)){if(0===r)return e.removeChild(i),void qt(t);r--}else"$"!==n&&"$?"!==n&&"$!"!==n||r++;n=i}while(n);qt(t)}function di(e){for(;null!=e;e=e.nextSibling){var t=e.nodeType;if(1===t||3===t)break;if(8===t){if("$"===(t=e.data)||"$!"===t||"$?"===t)break;if("/$"===t)return null}}return e}function hi(e){e=e.previousSibling;for(var t=0;e;){if(8===e.nodeType){var n=e.data;if("$"===n||"$!"===n||"$?"===n){if(0===t)return e;t--}else"/$"===n&&t++}e=e.previousSibling}return null}var pi=Math.random().toString(36).slice(2),fi="__reactFiber$"+pi,mi="__reactProps$"+pi,_i="__reactContainer$"+pi,gi="__reactEvents$"+pi,vi="__reactListeners$"+pi,yi="__reactHandles$"+pi;function bi(e){var t=e[fi];if(t)return t;for(var n=e.parentNode;n;){if(t=n[_i]||n[fi]){if(n=t.alternate,null!==t.child||null!==n&&null!==n.child)for(e=hi(e);null!==e;){if(n=e[fi])return n;e=hi(e)}return t}n=(e=n).parentNode}return null}function wi(e){return!(e=e[fi]||e[_i])||5!==e.tag&&6!==e.tag&&13!==e.tag&&3!==e.tag?null:e}function Ei(e){if(5===e.tag||6===e.tag)return e.stateNode;throw Error(o(33))}function Si(e){return e[mi]||null}var ki=[],Ti=-1;function Ii(e){return{current:e}}function Ci(e){0>Ti||(e.current=ki[Ti],ki[Ti]=null,Ti--)}function Ri(e,t){Ti++,ki[Ti]=e.current,e.current=t}var Ni={},xi=Ii(Ni),Pi=Ii(!1),Oi=Ni;function Ai(e,t){var n=e.type.contextTypes;if(!n)return Ni;var r=e.stateNode;if(r&&r.__reactInternalMemoizedUnmaskedChildContext===t)return r.__reactInternalMemoizedMaskedChildContext;var i,o={};for(i in n)o[i]=t[i];return r&&((e=e.stateNode).__reactInternalMemoizedUnmaskedChildContext=t,e.__reactInternalMemoizedMaskedChildContext=o),o}function Di(e){return null!=(e=e.childContextTypes)}function Mi(){Ci(Pi),Ci(xi)}function Li(e,t,n){if(xi.current!==Ni)throw Error(o(168));Ri(xi,t),Ri(Pi,n)}function Ui(e,t,n){var r=e.stateNode;if(t=t.childContextTypes,"function"!=typeof r.getChildContext)return n;for(var i in r=r.getChildContext())if(!(i in t))throw Error(o(108,H(e)||"Unknown",i));return U({},n,r)}function Fi(e){return e=(e=e.stateNode)&&e.__reactInternalMemoizedMergedChildContext||Ni,Oi=xi.current,Ri(xi,e),Ri(Pi,Pi.current),!0}function ji(e,t,n){var r=e.stateNode;if(!r)throw Error(o(169));n?(e=Ui(e,t,Oi),r.__reactInternalMemoizedMergedChildContext=e,Ci(Pi),Ci(xi),Ri(xi,e)):Ci(Pi),Ri(Pi,n)}var Bi=null,zi=!1,Wi=!1;function Gi(e){null===Bi?Bi=[e]:Bi.push(e)}function qi(){if(!Wi&&null!==Bi){Wi=!0;var e=0,t=wt;try{var n=Bi;for(wt=1;e<n.length;e++){var r=n[e];do{r=r(!0)}while(null!==r)}Bi=null,zi=!1}catch(i){throw null!==Bi&&(Bi=Bi.slice(e+1)),Ke(tt,qi),i}finally{wt=t,Wi=!1}}return null}var Hi=[],$i=0,Vi=null,Yi=0,Ki=[],Ji=0,Xi=null,Qi=1,Zi="";function eo(e,t){Hi[$i++]=Yi,Hi[$i++]=Vi,Vi=e,Yi=t}function to(e,t,n){Ki[Ji++]=Qi,Ki[Ji++]=Zi,Ki[Ji++]=Xi,Xi=e;var r=Qi;e=Zi;var i=32-lt(r)-1;r&=~(1<<i),n+=1;var o=32-lt(t)+i;if(30<o){var s=i-i%5;o=(r&(1<<s)-1).toString(32),r>>=s,i-=s,Qi=1<<32-lt(t)+i|n<<i|r,Zi=o+e}else Qi=1<<o|n<<i|r,Zi=e}function no(e){null!==e.return&&(eo(e,1),to(e,1,0))}function ro(e){for(;e===Vi;)Vi=Hi[--$i],Hi[$i]=null,Yi=Hi[--$i],Hi[$i]=null;for(;e===Xi;)Xi=Ki[--Ji],Ki[Ji]=null,Zi=Ki[--Ji],Ki[Ji]=null,Qi=Ki[--Ji],Ki[Ji]=null}var io=null,oo=null,so=!1,ao=null;function lo(e,t){var n=Dc(5,null,null,0);n.elementType="DELETED",n.stateNode=t,n.return=e,null===(t=e.deletions)?(e.deletions=[n],e.flags|=16):t.push(n)}function co(e,t){switch(e.tag){case 5:var n=e.type;return null!==(t=1!==t.nodeType||n.toLowerCase()!==t.nodeName.toLowerCase()?null:t)&&(e.stateNode=t,io=e,oo=di(t.firstChild),!0);case 6:return null!==(t=""===e.pendingProps||3!==t.nodeType?null:t)&&(e.stateNode=t,io=e,oo=null,!0);case 13:return null!==(t=8!==t.nodeType?null:t)&&(n=null!==Xi?{id:Qi,overflow:Zi}:null,e.memoizedState={dehydrated:t,treeContext:n,retryLane:1073741824},(n=Dc(18,null,null,0)).stateNode=t,n.return=e,e.child=n,io=e,oo=null,!0);default:return!1}}function uo(e){return 0!=(1&e.mode)&&0==(128&e.flags)}function ho(e){if(so){var t=oo;if(t){var n=t;if(!co(e,t)){if(uo(e))throw Error(o(418));t=di(n.nextSibling);var r=io;t&&co(e,t)?lo(r,n):(e.flags=-4097&e.flags|2,so=!1,io=e)}}else{if(uo(e))throw Error(o(418));e.flags=-4097&e.flags|2,so=!1,io=e}}}function po(e){for(e=e.return;null!==e&&5!==e.tag&&3!==e.tag&&13!==e.tag;)e=e.return;io=e}function fo(e){if(e!==io)return!1;if(!so)return po(e),so=!0,!1;var t;if((t=3!==e.tag)&&!(t=5!==e.tag)&&(t="head"!==(t=e.type)&&"body"!==t&&!ii(e.type,e.memoizedProps)),t&&(t=oo)){if(uo(e))throw mo(),Error(o(418));for(;t;)lo(e,t),t=di(t.nextSibling)}if(po(e),13===e.tag){if(!(e=null!==(e=e.memoizedState)?e.dehydrated:null))throw Error(o(317));e:{for(e=e.nextSibling,t=0;e;){if(8===e.nodeType){var n=e.data;if("/$"===n){if(0===t){oo=di(e.nextSibling);break e}t--}else"$"!==n&&"$!"!==n&&"$?"!==n||t++}e=e.nextSibling}oo=null}}else oo=io?di(e.stateNode.nextSibling):null;return!0}function mo(){for(var e=oo;e;)e=di(e.nextSibling)}function _o(){oo=io=null,so=!1}function go(e){null===ao?ao=[e]:ao.push(e)}var vo=b.ReactCurrentBatchConfig;function yo(e,t){if(e&&e.defaultProps){for(var n in t=U({},t),e=e.defaultProps)void 0===t[n]&&(t[n]=e[n]);return t}return t}var bo=Ii(null),wo=null,Eo=null,So=null;function ko(){So=Eo=wo=null}function To(e){var t=bo.current;Ci(bo),e._currentValue=t}function Io(e,t,n){for(;null!==e;){var r=e.alternate;if((e.childLanes&t)!==t?(e.childLanes|=t,null!==r&&(r.childLanes|=t)):null!==r&&(r.childLanes&t)!==t&&(r.childLanes|=t),e===n)break;e=e.return}}function Co(e,t){wo=e,So=Eo=null,null!==(e=e.dependencies)&&null!==e.firstContext&&(0!=(e.lanes&t)&&(Ea=!0),e.firstContext=null)}function Ro(e){var t=e._currentValue;if(So!==e)if(e={context:e,memoizedValue:t,next:null},null===Eo){if(null===wo)throw Error(o(308));Eo=e,wo.dependencies={lanes:0,firstContext:e}}else Eo=Eo.next=e;return t}var No=null;function xo(e){null===No?No=[e]:No.push(e)}function Po(e,t,n,r){var i=t.interleaved;return null===i?(n.next=n,xo(t)):(n.next=i.next,i.next=n),t.interleaved=n,Oo(e,r)}function Oo(e,t){e.lanes|=t;var n=e.alternate;for(null!==n&&(n.lanes|=t),n=e,e=e.return;null!==e;)e.childLanes|=t,null!==(n=e.alternate)&&(n.childLanes|=t),n=e,e=e.return;return 3===n.tag?n.stateNode:null}var Ao=!1;function Do(e){e.updateQueue={baseState:e.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function Mo(e,t){e=e.updateQueue,t.updateQueue===e&&(t.updateQueue={baseState:e.baseState,firstBaseUpdate:e.firstBaseUpdate,lastBaseUpdate:e.lastBaseUpdate,shared:e.shared,effects:e.effects})}function Lo(e,t){return{eventTime:e,lane:t,tag:0,payload:null,callback:null,next:null}}function Uo(e,t,n){var r=e.updateQueue;if(null===r)return null;if(r=r.shared,0!=(2&Pl)){var i=r.pending;return null===i?t.next=t:(t.next=i.next,i.next=t),r.pending=t,Oo(e,n)}return null===(i=r.interleaved)?(t.next=t,xo(r)):(t.next=i.next,i.next=t),r.interleaved=t,Oo(e,n)}function Fo(e,t,n){if(null!==(t=t.updateQueue)&&(t=t.shared,0!=(4194240&n))){var r=t.lanes;n|=r&=e.pendingLanes,t.lanes=n,bt(e,n)}}function jo(e,t){var n=e.updateQueue,r=e.alternate;if(null!==r&&n===(r=r.updateQueue)){var i=null,o=null;if(null!==(n=n.firstBaseUpdate)){do{var s={eventTime:n.eventTime,lane:n.lane,tag:n.tag,payload:n.payload,callback:n.callback,next:null};null===o?i=o=s:o=o.next=s,n=n.next}while(null!==n);null===o?i=o=t:o=o.next=t}else i=o=t;return n={baseState:r.baseState,firstBaseUpdate:i,lastBaseUpdate:o,shared:r.shared,effects:r.effects},void(e.updateQueue=n)}null===(e=n.lastBaseUpdate)?n.firstBaseUpdate=t:e.next=t,n.lastBaseUpdate=t}function Bo(e,t,n,r){var i=e.updateQueue;Ao=!1;var o=i.firstBaseUpdate,s=i.lastBaseUpdate,a=i.shared.pending;if(null!==a){i.shared.pending=null;var l=a,c=l.next;l.next=null,null===s?o=c:s.next=c,s=l;var u=e.alternate;null!==u&&((a=(u=u.updateQueue).lastBaseUpdate)!==s&&(null===a?u.firstBaseUpdate=c:a.next=c,u.lastBaseUpdate=l))}if(null!==o){var d=i.baseState;for(s=0,u=c=l=null,a=o;;){var h=a.lane,p=a.eventTime;if((r&h)===h){null!==u&&(u=u.next={eventTime:p,lane:0,tag:a.tag,payload:a.payload,callback:a.callback,next:null});e:{var f=e,m=a;switch(h=t,p=n,m.tag){case 1:if("function"==typeof(f=m.payload)){d=f.call(p,d,h);break e}d=f;break e;case 3:f.flags=-65537&f.flags|128;case 0:if(null==(h="function"==typeof(f=m.payload)?f.call(p,d,h):f))break e;d=U({},d,h);break e;case 2:Ao=!0}}null!==a.callback&&0!==a.lane&&(e.flags|=64,null===(h=i.effects)?i.effects=[a]:h.push(a))}else p={eventTime:p,lane:h,tag:a.tag,payload:a.payload,callback:a.callback,next:null},null===u?(c=u=p,l=d):u=u.next=p,s|=h;if(null===(a=a.next)){if(null===(a=i.shared.pending))break;a=(h=a).next,h.next=null,i.lastBaseUpdate=h,i.shared.pending=null}}if(null===u&&(l=d),i.baseState=l,i.firstBaseUpdate=c,i.lastBaseUpdate=u,null!==(t=i.shared.interleaved)){i=t;do{s|=i.lane,i=i.next}while(i!==t)}else null===o&&(i.shared.lanes=0);jl|=s,e.lanes=s,e.memoizedState=d}}function zo(e,t,n){if(e=t.effects,t.effects=null,null!==e)for(t=0;t<e.length;t++){var r=e[t],i=r.callback;if(null!==i){if(r.callback=null,r=n,"function"!=typeof i)throw Error(o(191,i));i.call(r)}}}var Wo=(new r.Component).refs;function Go(e,t,n,r){n=null==(n=n(r,t=e.memoizedState))?t:U({},t,n),e.memoizedState=n,0===e.lanes&&(e.updateQueue.baseState=n)}var qo={isMounted:function(e){return!!(e=e._reactInternals)&&qe(e)===e},enqueueSetState:function(e,t,n){e=e._reactInternals;var r=rc(),i=ic(e),o=Lo(r,i);o.payload=t,null!=n&&(o.callback=n),null!==(t=Uo(e,o,i))&&(oc(t,e,i,r),Fo(t,e,i))},enqueueReplaceState:function(e,t,n){e=e._reactInternals;var r=rc(),i=ic(e),o=Lo(r,i);o.tag=1,o.payload=t,null!=n&&(o.callback=n),null!==(t=Uo(e,o,i))&&(oc(t,e,i,r),Fo(t,e,i))},enqueueForceUpdate:function(e,t){e=e._reactInternals;var n=rc(),r=ic(e),i=Lo(n,r);i.tag=2,null!=t&&(i.callback=t),null!==(t=Uo(e,i,r))&&(oc(t,e,r,n),Fo(t,e,r))}};function Ho(e,t,n,r,i,o,s){return"function"==typeof(e=e.stateNode).shouldComponentUpdate?e.shouldComponentUpdate(r,o,s):!t.prototype||!t.prototype.isPureReactComponent||(!ur(n,r)||!ur(i,o))}function $o(e,t,n){var r=!1,i=Ni,o=t.contextType;return"object"==typeof o&&null!==o?o=Ro(o):(i=Di(t)?Oi:xi.current,o=(r=null!=(r=t.contextTypes))?Ai(e,i):Ni),t=new t(n,o),e.memoizedState=null!==t.state&&void 0!==t.state?t.state:null,t.updater=qo,e.stateNode=t,t._reactInternals=e,r&&((e=e.stateNode).__reactInternalMemoizedUnmaskedChildContext=i,e.__reactInternalMemoizedMaskedChildContext=o),t}function Vo(e,t,n,r){e=t.state,"function"==typeof t.componentWillReceiveProps&&t.componentWillReceiveProps(n,r),"function"==typeof t.UNSAFE_componentWillReceiveProps&&t.UNSAFE_componentWillReceiveProps(n,r),t.state!==e&&qo.enqueueReplaceState(t,t.state,null)}function Yo(e,t,n,r){var i=e.stateNode;i.props=n,i.state=e.memoizedState,i.refs=Wo,Do(e);var o=t.contextType;"object"==typeof o&&null!==o?i.context=Ro(o):(o=Di(t)?Oi:xi.current,i.context=Ai(e,o)),i.state=e.memoizedState,"function"==typeof(o=t.getDerivedStateFromProps)&&(Go(e,t,o,n),i.state=e.memoizedState),"function"==typeof t.getDerivedStateFromProps||"function"==typeof i.getSnapshotBeforeUpdate||"function"!=typeof i.UNSAFE_componentWillMount&&"function"!=typeof i.componentWillMount||(t=i.state,"function"==typeof i.componentWillMount&&i.componentWillMount(),"function"==typeof i.UNSAFE_componentWillMount&&i.UNSAFE_componentWillMount(),t!==i.state&&qo.enqueueReplaceState(i,i.state,null),Bo(e,n,i,r),i.state=e.memoizedState),"function"==typeof i.componentDidMount&&(e.flags|=4194308)}function Ko(e,t,n){if(null!==(e=n.ref)&&"function"!=typeof e&&"object"!=typeof e){if(n._owner){if(n=n._owner){if(1!==n.tag)throw Error(o(309));var r=n.stateNode}if(!r)throw Error(o(147,e));var i=r,s=""+e;return null!==t&&null!==t.ref&&"function"==typeof t.ref&&t.ref._stringRef===s?t.ref:(t=function(e){var t=i.refs;t===Wo&&(t=i.refs={}),null===e?delete t[s]:t[s]=e},t._stringRef=s,t)}if("string"!=typeof e)throw Error(o(284));if(!n._owner)throw Error(o(290,e))}return e}function Jo(e,t){throw e=Object.prototype.toString.call(t),Error(o(31,"[object Object]"===e?"object with keys {"+Object.keys(t).join(", ")+"}":e))}function Xo(e){return(0,e._init)(e._payload)}function Qo(e){function t(t,n){if(e){var r=t.deletions;null===r?(t.deletions=[n],t.flags|=16):r.push(n)}}function n(n,r){if(!e)return null;for(;null!==r;)t(n,r),r=r.sibling;return null}function r(e,t){for(e=new Map;null!==t;)null!==t.key?e.set(t.key,t):e.set(t.index,t),t=t.sibling;return e}function i(e,t){return(e=Lc(e,t)).index=0,e.sibling=null,e}function s(t,n,r){return t.index=r,e?null!==(r=t.alternate)?(r=r.index)<n?(t.flags|=2,n):r:(t.flags|=2,n):(t.flags|=1048576,n)}function a(t){return e&&null===t.alternate&&(t.flags|=2),t}function l(e,t,n,r){return null===t||6!==t.tag?((t=Bc(n,e.mode,r)).return=e,t):((t=i(t,n)).return=e,t)}function c(e,t,n,r){var o=n.type;return o===S?d(e,t,n.props.children,r,n.key):null!==t&&(t.elementType===o||"object"==typeof o&&null!==o&&o.$$typeof===O&&Xo(o)===t.type)?((r=i(t,n.props)).ref=Ko(e,t,n),r.return=e,r):((r=Uc(n.type,n.key,n.props,null,e.mode,r)).ref=Ko(e,t,n),r.return=e,r)}function u(e,t,n,r){return null===t||4!==t.tag||t.stateNode.containerInfo!==n.containerInfo||t.stateNode.implementation!==n.implementation?((t=zc(n,e.mode,r)).return=e,t):((t=i(t,n.children||[])).return=e,t)}function d(e,t,n,r,o){return null===t||7!==t.tag?((t=Fc(n,e.mode,r,o)).return=e,t):((t=i(t,n)).return=e,t)}function h(e,t,n){if("string"==typeof t&&""!==t||"number"==typeof t)return(t=Bc(""+t,e.mode,n)).return=e,t;if("object"==typeof t&&null!==t){switch(t.$$typeof){case w:return(n=Uc(t.type,t.key,t.props,null,e.mode,n)).ref=Ko(e,null,t),n.return=e,n;case E:return(t=zc(t,e.mode,n)).return=e,t;case O:return h(e,(0,t._init)(t._payload),n)}if(re(t)||M(t))return(t=Fc(t,e.mode,n,null)).return=e,t;Jo(e,t)}return null}function p(e,t,n,r){var i=null!==t?t.key:null;if("string"==typeof n&&""!==n||"number"==typeof n)return null!==i?null:l(e,t,""+n,r);if("object"==typeof n&&null!==n){switch(n.$$typeof){case w:return n.key===i?c(e,t,n,r):null;case E:return n.key===i?u(e,t,n,r):null;case O:return p(e,t,(i=n._init)(n._payload),r)}if(re(n)||M(n))return null!==i?null:d(e,t,n,r,null);Jo(e,n)}return null}function f(e,t,n,r,i){if("string"==typeof r&&""!==r||"number"==typeof r)return l(t,e=e.get(n)||null,""+r,i);if("object"==typeof r&&null!==r){switch(r.$$typeof){case w:return c(t,e=e.get(null===r.key?n:r.key)||null,r,i);case E:return u(t,e=e.get(null===r.key?n:r.key)||null,r,i);case O:return f(e,t,n,(0,r._init)(r._payload),i)}if(re(r)||M(r))return d(t,e=e.get(n)||null,r,i,null);Jo(t,r)}return null}function m(i,o,a,l){for(var c=null,u=null,d=o,m=o=0,_=null;null!==d&&m<a.length;m++){d.index>m?(_=d,d=null):_=d.sibling;var g=p(i,d,a[m],l);if(null===g){null===d&&(d=_);break}e&&d&&null===g.alternate&&t(i,d),o=s(g,o,m),null===u?c=g:u.sibling=g,u=g,d=_}if(m===a.length)return n(i,d),so&&eo(i,m),c;if(null===d){for(;m<a.length;m++)null!==(d=h(i,a[m],l))&&(o=s(d,o,m),null===u?c=d:u.sibling=d,u=d);return so&&eo(i,m),c}for(d=r(i,d);m<a.length;m++)null!==(_=f(d,i,m,a[m],l))&&(e&&null!==_.alternate&&d.delete(null===_.key?m:_.key),o=s(_,o,m),null===u?c=_:u.sibling=_,u=_);return e&&d.forEach((function(e){return t(i,e)})),so&&eo(i,m),c}function _(i,a,l,c){var u=M(l);if("function"!=typeof u)throw Error(o(150));if(null==(l=u.call(l)))throw Error(o(151));for(var d=u=null,m=a,_=a=0,g=null,v=l.next();null!==m&&!v.done;_++,v=l.next()){m.index>_?(g=m,m=null):g=m.sibling;var y=p(i,m,v.value,c);if(null===y){null===m&&(m=g);break}e&&m&&null===y.alternate&&t(i,m),a=s(y,a,_),null===d?u=y:d.sibling=y,d=y,m=g}if(v.done)return n(i,m),so&&eo(i,_),u;if(null===m){for(;!v.done;_++,v=l.next())null!==(v=h(i,v.value,c))&&(a=s(v,a,_),null===d?u=v:d.sibling=v,d=v);return so&&eo(i,_),u}for(m=r(i,m);!v.done;_++,v=l.next())null!==(v=f(m,i,_,v.value,c))&&(e&&null!==v.alternate&&m.delete(null===v.key?_:v.key),a=s(v,a,_),null===d?u=v:d.sibling=v,d=v);return e&&m.forEach((function(e){return t(i,e)})),so&&eo(i,_),u}return function e(r,o,s,l){if("object"==typeof s&&null!==s&&s.type===S&&null===s.key&&(s=s.props.children),"object"==typeof s&&null!==s){switch(s.$$typeof){case w:e:{for(var c=s.key,u=o;null!==u;){if(u.key===c){if((c=s.type)===S){if(7===u.tag){n(r,u.sibling),(o=i(u,s.props.children)).return=r,r=o;break e}}else if(u.elementType===c||"object"==typeof c&&null!==c&&c.$$typeof===O&&Xo(c)===u.type){n(r,u.sibling),(o=i(u,s.props)).ref=Ko(r,u,s),o.return=r,r=o;break e}n(r,u);break}t(r,u),u=u.sibling}s.type===S?((o=Fc(s.props.children,r.mode,l,s.key)).return=r,r=o):((l=Uc(s.type,s.key,s.props,null,r.mode,l)).ref=Ko(r,o,s),l.return=r,r=l)}return a(r);case E:e:{for(u=s.key;null!==o;){if(o.key===u){if(4===o.tag&&o.stateNode.containerInfo===s.containerInfo&&o.stateNode.implementation===s.implementation){n(r,o.sibling),(o=i(o,s.children||[])).return=r,r=o;break e}n(r,o);break}t(r,o),o=o.sibling}(o=zc(s,r.mode,l)).return=r,r=o}return a(r);case O:return e(r,o,(u=s._init)(s._payload),l)}if(re(s))return m(r,o,s,l);if(M(s))return _(r,o,s,l);Jo(r,s)}return"string"==typeof s&&""!==s||"number"==typeof s?(s=""+s,null!==o&&6===o.tag?(n(r,o.sibling),(o=i(o,s)).return=r,r=o):(n(r,o),(o=Bc(s,r.mode,l)).return=r,r=o),a(r)):n(r,o)}}var Zo=Qo(!0),es=Qo(!1),ts={},ns=Ii(ts),rs=Ii(ts),is=Ii(ts);function os(e){if(e===ts)throw Error(o(174));return e}function ss(e,t){switch(Ri(is,t),Ri(rs,e),Ri(ns,ts),e=t.nodeType){case 9:case 11:t=(t=t.documentElement)?t.namespaceURI:ue(null,"");break;default:t=ue(t=(e=8===e?t.parentNode:t).namespaceURI||null,e=e.tagName)}Ci(ns),Ri(ns,t)}function as(){Ci(ns),Ci(rs),Ci(is)}function ls(e){os(is.current);var t=os(ns.current),n=ue(t,e.type);t!==n&&(Ri(rs,e),Ri(ns,n))}function cs(e){rs.current===e&&(Ci(ns),Ci(rs))}var us=Ii(0);function ds(e){for(var t=e;null!==t;){if(13===t.tag){var n=t.memoizedState;if(null!==n&&(null===(n=n.dehydrated)||"$?"===n.data||"$!"===n.data))return t}else if(19===t.tag&&void 0!==t.memoizedProps.revealOrder){if(0!=(128&t.flags))return t}else if(null!==t.child){t.child.return=t,t=t.child;continue}if(t===e)break;for(;null===t.sibling;){if(null===t.return||t.return===e)return null;t=t.return}t.sibling.return=t.return,t=t.sibling}return null}var hs=[];function ps(){for(var e=0;e<hs.length;e++)hs[e]._workInProgressVersionPrimary=null;hs.length=0}var fs=b.ReactCurrentDispatcher,ms=b.ReactCurrentBatchConfig,_s=0,gs=null,vs=null,ys=null,bs=!1,ws=!1,Es=0,Ss=0;function ks(){throw Error(o(321))}function Ts(e,t){if(null===t)return!1;for(var n=0;n<t.length&&n<e.length;n++)if(!cr(e[n],t[n]))return!1;return!0}function Is(e,t,n,r,i,s){if(_s=s,gs=t,t.memoizedState=null,t.updateQueue=null,t.lanes=0,fs.current=null===e||null===e.memoizedState?ca:ua,e=n(r,i),ws){s=0;do{if(ws=!1,Es=0,25<=s)throw Error(o(301));s+=1,ys=vs=null,t.updateQueue=null,fs.current=da,e=n(r,i)}while(ws)}if(fs.current=la,t=null!==vs&&null!==vs.next,_s=0,ys=vs=gs=null,bs=!1,t)throw Error(o(300));return e}function Cs(){var e=0!==Es;return Es=0,e}function Rs(){var e={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return null===ys?gs.memoizedState=ys=e:ys=ys.next=e,ys}function Ns(){if(null===vs){var e=gs.alternate;e=null!==e?e.memoizedState:null}else e=vs.next;var t=null===ys?gs.memoizedState:ys.next;if(null!==t)ys=t,vs=e;else{if(null===e)throw Error(o(310));e={memoizedState:(vs=e).memoizedState,baseState:vs.baseState,baseQueue:vs.baseQueue,queue:vs.queue,next:null},null===ys?gs.memoizedState=ys=e:ys=ys.next=e}return ys}function xs(e,t){return"function"==typeof t?t(e):t}function Ps(e){var t=Ns(),n=t.queue;if(null===n)throw Error(o(311));n.lastRenderedReducer=e;var r=vs,i=r.baseQueue,s=n.pending;if(null!==s){if(null!==i){var a=i.next;i.next=s.next,s.next=a}r.baseQueue=i=s,n.pending=null}if(null!==i){s=i.next,r=r.baseState;var l=a=null,c=null,u=s;do{var d=u.lane;if((_s&d)===d)null!==c&&(c=c.next={lane:0,action:u.action,hasEagerState:u.hasEagerState,eagerState:u.eagerState,next:null}),r=u.hasEagerState?u.eagerState:e(r,u.action);else{var h={lane:d,action:u.action,hasEagerState:u.hasEagerState,eagerState:u.eagerState,next:null};null===c?(l=c=h,a=r):c=c.next=h,gs.lanes|=d,jl|=d}u=u.next}while(null!==u&&u!==s);null===c?a=r:c.next=l,cr(r,t.memoizedState)||(Ea=!0),t.memoizedState=r,t.baseState=a,t.baseQueue=c,n.lastRenderedState=r}if(null!==(e=n.interleaved)){i=e;do{s=i.lane,gs.lanes|=s,jl|=s,i=i.next}while(i!==e)}else null===i&&(n.lanes=0);return[t.memoizedState,n.dispatch]}function Os(e){var t=Ns(),n=t.queue;if(null===n)throw Error(o(311));n.lastRenderedReducer=e;var r=n.dispatch,i=n.pending,s=t.memoizedState;if(null!==i){n.pending=null;var a=i=i.next;do{s=e(s,a.action),a=a.next}while(a!==i);cr(s,t.memoizedState)||(Ea=!0),t.memoizedState=s,null===t.baseQueue&&(t.baseState=s),n.lastRenderedState=s}return[s,r]}function As(){}function Ds(e,t){var n=gs,r=Ns(),i=t(),s=!cr(r.memoizedState,i);if(s&&(r.memoizedState=i,Ea=!0),r=r.queue,$s(Us.bind(null,n,r,e),[e]),r.getSnapshot!==t||s||null!==ys&&1&ys.memoizedState.tag){if(n.flags|=2048,zs(9,Ls.bind(null,n,r,i,t),void 0,null),null===Ol)throw Error(o(349));0!=(30&_s)||Ms(n,t,i)}return i}function Ms(e,t,n){e.flags|=16384,e={getSnapshot:t,value:n},null===(t=gs.updateQueue)?(t={lastEffect:null,stores:null},gs.updateQueue=t,t.stores=[e]):null===(n=t.stores)?t.stores=[e]:n.push(e)}function Ls(e,t,n,r){t.value=n,t.getSnapshot=r,Fs(t)&&js(e)}function Us(e,t,n){return n((function(){Fs(t)&&js(e)}))}function Fs(e){var t=e.getSnapshot;e=e.value;try{var n=t();return!cr(e,n)}catch(r){return!0}}function js(e){var t=Oo(e,1);null!==t&&oc(t,e,1,-1)}function Bs(e){var t=Rs();return"function"==typeof e&&(e=e()),t.memoizedState=t.baseState=e,e={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:xs,lastRenderedState:e},t.queue=e,e=e.dispatch=ia.bind(null,gs,e),[t.memoizedState,e]}function zs(e,t,n,r){return e={tag:e,create:t,destroy:n,deps:r,next:null},null===(t=gs.updateQueue)?(t={lastEffect:null,stores:null},gs.updateQueue=t,t.lastEffect=e.next=e):null===(n=t.lastEffect)?t.lastEffect=e.next=e:(r=n.next,n.next=e,e.next=r,t.lastEffect=e),e}function Ws(){return Ns().memoizedState}function Gs(e,t,n,r){var i=Rs();gs.flags|=e,i.memoizedState=zs(1|t,n,void 0,void 0===r?null:r)}function qs(e,t,n,r){var i=Ns();r=void 0===r?null:r;var o=void 0;if(null!==vs){var s=vs.memoizedState;if(o=s.destroy,null!==r&&Ts(r,s.deps))return void(i.memoizedState=zs(t,n,o,r))}gs.flags|=e,i.memoizedState=zs(1|t,n,o,r)}function Hs(e,t){return Gs(8390656,8,e,t)}function $s(e,t){return qs(2048,8,e,t)}function Vs(e,t){return qs(4,2,e,t)}function Ys(e,t){return qs(4,4,e,t)}function Ks(e,t){return"function"==typeof t?(e=e(),t(e),function(){t(null)}):null!=t?(e=e(),t.current=e,function(){t.current=null}):void 0}function Js(e,t,n){return n=null!=n?n.concat([e]):null,qs(4,4,Ks.bind(null,t,e),n)}function Xs(){}function Qs(e,t){var n=Ns();t=void 0===t?null:t;var r=n.memoizedState;return null!==r&&null!==t&&Ts(t,r[1])?r[0]:(n.memoizedState=[e,t],e)}function Zs(e,t){var n=Ns();t=void 0===t?null:t;var r=n.memoizedState;return null!==r&&null!==t&&Ts(t,r[1])?r[0]:(e=e(),n.memoizedState=[e,t],e)}function ea(e,t,n){return 0==(21&_s)?(e.baseState&&(e.baseState=!1,Ea=!0),e.memoizedState=n):(cr(n,t)||(n=gt(),gs.lanes|=n,jl|=n,e.baseState=!0),t)}function ta(e,t){var n=wt;wt=0!==n&&4>n?n:4,e(!0);var r=ms.transition;ms.transition={};try{e(!1),t()}finally{wt=n,ms.transition=r}}function na(){return Ns().memoizedState}function ra(e,t,n){var r=ic(e);if(n={lane:r,action:n,hasEagerState:!1,eagerState:null,next:null},oa(e))sa(t,n);else if(null!==(n=Po(e,t,n,r))){oc(n,e,r,rc()),aa(n,t,r)}}function ia(e,t,n){var r=ic(e),i={lane:r,action:n,hasEagerState:!1,eagerState:null,next:null};if(oa(e))sa(t,i);else{var o=e.alternate;if(0===e.lanes&&(null===o||0===o.lanes)&&null!==(o=t.lastRenderedReducer))try{var s=t.lastRenderedState,a=o(s,n);if(i.hasEagerState=!0,i.eagerState=a,cr(a,s)){var l=t.interleaved;return null===l?(i.next=i,xo(t)):(i.next=l.next,l.next=i),void(t.interleaved=i)}}catch(c){}null!==(n=Po(e,t,i,r))&&(oc(n,e,r,i=rc()),aa(n,t,r))}}function oa(e){var t=e.alternate;return e===gs||null!==t&&t===gs}function sa(e,t){ws=bs=!0;var n=e.pending;null===n?t.next=t:(t.next=n.next,n.next=t),e.pending=t}function aa(e,t,n){if(0!=(4194240&n)){var r=t.lanes;n|=r&=e.pendingLanes,t.lanes=n,bt(e,n)}}var la={readContext:Ro,useCallback:ks,useContext:ks,useEffect:ks,useImperativeHandle:ks,useInsertionEffect:ks,useLayoutEffect:ks,useMemo:ks,useReducer:ks,useRef:ks,useState:ks,useDebugValue:ks,useDeferredValue:ks,useTransition:ks,useMutableSource:ks,useSyncExternalStore:ks,useId:ks,unstable_isNewReconciler:!1},ca={readContext:Ro,useCallback:function(e,t){return Rs().memoizedState=[e,void 0===t?null:t],e},useContext:Ro,useEffect:Hs,useImperativeHandle:function(e,t,n){return n=null!=n?n.concat([e]):null,Gs(4194308,4,Ks.bind(null,t,e),n)},useLayoutEffect:function(e,t){return Gs(4194308,4,e,t)},useInsertionEffect:function(e,t){return Gs(4,2,e,t)},useMemo:function(e,t){var n=Rs();return t=void 0===t?null:t,e=e(),n.memoizedState=[e,t],e},useReducer:function(e,t,n){var r=Rs();return t=void 0!==n?n(t):t,r.memoizedState=r.baseState=t,e={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:e,lastRenderedState:t},r.queue=e,e=e.dispatch=ra.bind(null,gs,e),[r.memoizedState,e]},useRef:function(e){return e={current:e},Rs().memoizedState=e},useState:Bs,useDebugValue:Xs,useDeferredValue:function(e){return Rs().memoizedState=e},useTransition:function(){var e=Bs(!1),t=e[0];return e=ta.bind(null,e[1]),Rs().memoizedState=e,[t,e]},useMutableSource:function(){},useSyncExternalStore:function(e,t,n){var r=gs,i=Rs();if(so){if(void 0===n)throw Error(o(407));n=n()}else{if(n=t(),null===Ol)throw Error(o(349));0!=(30&_s)||Ms(r,t,n)}i.memoizedState=n;var s={value:n,getSnapshot:t};return i.queue=s,Hs(Us.bind(null,r,s,e),[e]),r.flags|=2048,zs(9,Ls.bind(null,r,s,n,t),void 0,null),n},useId:function(){var e=Rs(),t=Ol.identifierPrefix;if(so){var n=Zi;t=":"+t+"R"+(n=(Qi&~(1<<32-lt(Qi)-1)).toString(32)+n),0<(n=Es++)&&(t+="H"+n.toString(32)),t+=":"}else t=":"+t+"r"+(n=Ss++).toString(32)+":";return e.memoizedState=t},unstable_isNewReconciler:!1},ua={readContext:Ro,useCallback:Qs,useContext:Ro,useEffect:$s,useImperativeHandle:Js,useInsertionEffect:Vs,useLayoutEffect:Ys,useMemo:Zs,useReducer:Ps,useRef:Ws,useState:function(){return Ps(xs)},useDebugValue:Xs,useDeferredValue:function(e){return ea(Ns(),vs.memoizedState,e)},useTransition:function(){return[Ps(xs)[0],Ns().memoizedState]},useMutableSource:As,useSyncExternalStore:Ds,useId:na,unstable_isNewReconciler:!1},da={readContext:Ro,useCallback:Qs,useContext:Ro,useEffect:$s,useImperativeHandle:Js,useInsertionEffect:Vs,useLayoutEffect:Ys,useMemo:Zs,useReducer:Os,useRef:Ws,useState:function(){return Os(xs)},useDebugValue:Xs,useDeferredValue:function(e){var t=Ns();return null===vs?t.memoizedState=e:ea(t,vs.memoizedState,e)},useTransition:function(){return[Os(xs)[0],Ns().memoizedState]},useMutableSource:As,useSyncExternalStore:Ds,useId:na,unstable_isNewReconciler:!1};function ha(e,t){try{var n="",r=t;do{n+=W(r),r=r.return}while(r);var i=n}catch(o){i="\nError generating stack: "+o.message+"\n"+o.stack}return{value:e,source:t,stack:i,digest:null}}function pa(e,t,n){return{value:e,source:null,stack:null!=n?n:null,digest:null!=t?t:null}}function fa(e,t){try{console.error(t.value)}catch(n){setTimeout((function(){throw n}))}}var ma="function"==typeof WeakMap?WeakMap:Map;function _a(e,t,n){(n=Lo(-1,n)).tag=3,n.payload={element:null};var r=t.value;return n.callback=function(){Vl||(Vl=!0,Yl=r),fa(0,t)},n}function ga(e,t,n){(n=Lo(-1,n)).tag=3;var r=e.type.getDerivedStateFromError;if("function"==typeof r){var i=t.value;n.payload=function(){return r(i)},n.callback=function(){fa(0,t)}}var o=e.stateNode;return null!==o&&"function"==typeof o.componentDidCatch&&(n.callback=function(){fa(0,t),"function"!=typeof r&&(null===Kl?Kl=new Set([this]):Kl.add(this));var e=t.stack;this.componentDidCatch(t.value,{componentStack:null!==e?e:""})}),n}function va(e,t,n){var r=e.pingCache;if(null===r){r=e.pingCache=new ma;var i=new Set;r.set(t,i)}else void 0===(i=r.get(t))&&(i=new Set,r.set(t,i));i.has(n)||(i.add(n),e=Rc.bind(null,e,t,n),t.then(e,e))}function ya(e){do{var t;if((t=13===e.tag)&&(t=null===(t=e.memoizedState)||null!==t.dehydrated),t)return e;e=e.return}while(null!==e);return null}function ba(e,t,n,r,i){return 0==(1&e.mode)?(e===t?e.flags|=65536:(e.flags|=128,n.flags|=131072,n.flags&=-52805,1===n.tag&&(null===n.alternate?n.tag=17:((t=Lo(-1,1)).tag=2,Uo(n,t,1))),n.lanes|=1),e):(e.flags|=65536,e.lanes=i,e)}var wa=b.ReactCurrentOwner,Ea=!1;function Sa(e,t,n,r){t.child=null===e?es(t,null,n,r):Zo(t,e.child,n,r)}function ka(e,t,n,r,i){n=n.render;var o=t.ref;return Co(t,i),r=Is(e,t,n,r,o,i),n=Cs(),null===e||Ea?(so&&n&&no(t),t.flags|=1,Sa(e,t,r,i),t.child):(t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~i,Va(e,t,i))}function Ta(e,t,n,r,i){if(null===e){var o=n.type;return"function"!=typeof o||Mc(o)||void 0!==o.defaultProps||null!==n.compare||void 0!==n.defaultProps?((e=Uc(n.type,null,r,t,t.mode,i)).ref=t.ref,e.return=t,t.child=e):(t.tag=15,t.type=o,Ia(e,t,o,r,i))}if(o=e.child,0==(e.lanes&i)){var s=o.memoizedProps;if((n=null!==(n=n.compare)?n:ur)(s,r)&&e.ref===t.ref)return Va(e,t,i)}return t.flags|=1,(e=Lc(o,r)).ref=t.ref,e.return=t,t.child=e}function Ia(e,t,n,r,i){if(null!==e){var o=e.memoizedProps;if(ur(o,r)&&e.ref===t.ref){if(Ea=!1,t.pendingProps=r=o,0==(e.lanes&i))return t.lanes=e.lanes,Va(e,t,i);0!=(131072&e.flags)&&(Ea=!0)}}return Na(e,t,n,r,i)}function Ca(e,t,n){var r=t.pendingProps,i=r.children,o=null!==e?e.memoizedState:null;if("hidden"===r.mode)if(0==(1&t.mode))t.memoizedState={baseLanes:0,cachePool:null,transitions:null},Ri(Ll,Ml),Ml|=n;else{if(0==(1073741824&n))return e=null!==o?o.baseLanes|n:n,t.lanes=t.childLanes=1073741824,t.memoizedState={baseLanes:e,cachePool:null,transitions:null},t.updateQueue=null,Ri(Ll,Ml),Ml|=e,null;t.memoizedState={baseLanes:0,cachePool:null,transitions:null},r=null!==o?o.baseLanes:n,Ri(Ll,Ml),Ml|=r}else null!==o?(r=o.baseLanes|n,t.memoizedState=null):r=n,Ri(Ll,Ml),Ml|=r;return Sa(e,t,i,n),t.child}function Ra(e,t){var n=t.ref;(null===e&&null!==n||null!==e&&e.ref!==n)&&(t.flags|=512,t.flags|=2097152)}function Na(e,t,n,r,i){var o=Di(n)?Oi:xi.current;return o=Ai(t,o),Co(t,i),n=Is(e,t,n,r,o,i),r=Cs(),null===e||Ea?(so&&r&&no(t),t.flags|=1,Sa(e,t,n,i),t.child):(t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~i,Va(e,t,i))}function xa(e,t,n,r,i){if(Di(n)){var o=!0;Fi(t)}else o=!1;if(Co(t,i),null===t.stateNode)$a(e,t),$o(t,n,r),Yo(t,n,r,i),r=!0;else if(null===e){var s=t.stateNode,a=t.memoizedProps;s.props=a;var l=s.context,c=n.contextType;"object"==typeof c&&null!==c?c=Ro(c):c=Ai(t,c=Di(n)?Oi:xi.current);var u=n.getDerivedStateFromProps,d="function"==typeof u||"function"==typeof s.getSnapshotBeforeUpdate;d||"function"!=typeof s.UNSAFE_componentWillReceiveProps&&"function"!=typeof s.componentWillReceiveProps||(a!==r||l!==c)&&Vo(t,s,r,c),Ao=!1;var h=t.memoizedState;s.state=h,Bo(t,r,s,i),l=t.memoizedState,a!==r||h!==l||Pi.current||Ao?("function"==typeof u&&(Go(t,n,u,r),l=t.memoizedState),(a=Ao||Ho(t,n,a,r,h,l,c))?(d||"function"!=typeof s.UNSAFE_componentWillMount&&"function"!=typeof s.componentWillMount||("function"==typeof s.componentWillMount&&s.componentWillMount(),"function"==typeof s.UNSAFE_componentWillMount&&s.UNSAFE_componentWillMount()),"function"==typeof s.componentDidMount&&(t.flags|=4194308)):("function"==typeof s.componentDidMount&&(t.flags|=4194308),t.memoizedProps=r,t.memoizedState=l),s.props=r,s.state=l,s.context=c,r=a):("function"==typeof s.componentDidMount&&(t.flags|=4194308),r=!1)}else{s=t.stateNode,Mo(e,t),a=t.memoizedProps,c=t.type===t.elementType?a:yo(t.type,a),s.props=c,d=t.pendingProps,h=s.context,"object"==typeof(l=n.contextType)&&null!==l?l=Ro(l):l=Ai(t,l=Di(n)?Oi:xi.current);var p=n.getDerivedStateFromProps;(u="function"==typeof p||"function"==typeof s.getSnapshotBeforeUpdate)||"function"!=typeof s.UNSAFE_componentWillReceiveProps&&"function"!=typeof s.componentWillReceiveProps||(a!==d||h!==l)&&Vo(t,s,r,l),Ao=!1,h=t.memoizedState,s.state=h,Bo(t,r,s,i);var f=t.memoizedState;a!==d||h!==f||Pi.current||Ao?("function"==typeof p&&(Go(t,n,p,r),f=t.memoizedState),(c=Ao||Ho(t,n,c,r,h,f,l)||!1)?(u||"function"!=typeof s.UNSAFE_componentWillUpdate&&"function"!=typeof s.componentWillUpdate||("function"==typeof s.componentWillUpdate&&s.componentWillUpdate(r,f,l),"function"==typeof s.UNSAFE_componentWillUpdate&&s.UNSAFE_componentWillUpdate(r,f,l)),"function"==typeof s.componentDidUpdate&&(t.flags|=4),"function"==typeof s.getSnapshotBeforeUpdate&&(t.flags|=1024)):("function"!=typeof s.componentDidUpdate||a===e.memoizedProps&&h===e.memoizedState||(t.flags|=4),"function"!=typeof s.getSnapshotBeforeUpdate||a===e.memoizedProps&&h===e.memoizedState||(t.flags|=1024),t.memoizedProps=r,t.memoizedState=f),s.props=r,s.state=f,s.context=l,r=c):("function"!=typeof s.componentDidUpdate||a===e.memoizedProps&&h===e.memoizedState||(t.flags|=4),"function"!=typeof s.getSnapshotBeforeUpdate||a===e.memoizedProps&&h===e.memoizedState||(t.flags|=1024),r=!1)}return Pa(e,t,n,r,o,i)}function Pa(e,t,n,r,i,o){Ra(e,t);var s=0!=(128&t.flags);if(!r&&!s)return i&&ji(t,n,!1),Va(e,t,o);r=t.stateNode,wa.current=t;var a=s&&"function"!=typeof n.getDerivedStateFromError?null:r.render();return t.flags|=1,null!==e&&s?(t.child=Zo(t,e.child,null,o),t.child=Zo(t,null,a,o)):Sa(e,t,a,o),t.memoizedState=r.state,i&&ji(t,n,!0),t.child}function Oa(e){var t=e.stateNode;t.pendingContext?Li(0,t.pendingContext,t.pendingContext!==t.context):t.context&&Li(0,t.context,!1),ss(e,t.containerInfo)}function Aa(e,t,n,r,i){return _o(),go(i),t.flags|=256,Sa(e,t,n,r),t.child}var Da,Ma,La,Ua,Fa={dehydrated:null,treeContext:null,retryLane:0};function ja(e){return{baseLanes:e,cachePool:null,transitions:null}}function Ba(e,t,n){var r,i=t.pendingProps,s=us.current,a=!1,l=0!=(128&t.flags);if((r=l)||(r=(null===e||null!==e.memoizedState)&&0!=(2&s)),r?(a=!0,t.flags&=-129):null!==e&&null===e.memoizedState||(s|=1),Ri(us,1&s),null===e)return ho(t),null!==(e=t.memoizedState)&&null!==(e=e.dehydrated)?(0==(1&t.mode)?t.lanes=1:"$!"===e.data?t.lanes=8:t.lanes=1073741824,null):(l=i.children,e=i.fallback,a?(i=t.mode,a=t.child,l={mode:"hidden",children:l},0==(1&i)&&null!==a?(a.childLanes=0,a.pendingProps=l):a=jc(l,i,0,null),e=Fc(e,i,n,null),a.return=t,e.return=t,a.sibling=e,t.child=a,t.child.memoizedState=ja(n),t.memoizedState=Fa,e):za(t,l));if(null!==(s=e.memoizedState)&&null!==(r=s.dehydrated))return function(e,t,n,r,i,s,a){if(n)return 256&t.flags?(t.flags&=-257,Wa(e,t,a,r=pa(Error(o(422))))):null!==t.memoizedState?(t.child=e.child,t.flags|=128,null):(s=r.fallback,i=t.mode,r=jc({mode:"visible",children:r.children},i,0,null),(s=Fc(s,i,a,null)).flags|=2,r.return=t,s.return=t,r.sibling=s,t.child=r,0!=(1&t.mode)&&Zo(t,e.child,null,a),t.child.memoizedState=ja(a),t.memoizedState=Fa,s);if(0==(1&t.mode))return Wa(e,t,a,null);if("$!"===i.data){if(r=i.nextSibling&&i.nextSibling.dataset)var l=r.dgst;return r=l,Wa(e,t,a,r=pa(s=Error(o(419)),r,void 0))}if(l=0!=(a&e.childLanes),Ea||l){if(null!==(r=Ol)){switch(a&-a){case 4:i=2;break;case 16:i=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:i=32;break;case 536870912:i=268435456;break;default:i=0}0!==(i=0!=(i&(r.suspendedLanes|a))?0:i)&&i!==s.retryLane&&(s.retryLane=i,Oo(e,i),oc(r,e,i,-1))}return vc(),Wa(e,t,a,r=pa(Error(o(421))))}return"$?"===i.data?(t.flags|=128,t.child=e.child,t=xc.bind(null,e),i._reactRetry=t,null):(e=s.treeContext,oo=di(i.nextSibling),io=t,so=!0,ao=null,null!==e&&(Ki[Ji++]=Qi,Ki[Ji++]=Zi,Ki[Ji++]=Xi,Qi=e.id,Zi=e.overflow,Xi=t),t=za(t,r.children),t.flags|=4096,t)}(e,t,l,i,r,s,n);if(a){a=i.fallback,l=t.mode,r=(s=e.child).sibling;var c={mode:"hidden",children:i.children};return 0==(1&l)&&t.child!==s?((i=t.child).childLanes=0,i.pendingProps=c,t.deletions=null):(i=Lc(s,c)).subtreeFlags=14680064&s.subtreeFlags,null!==r?a=Lc(r,a):(a=Fc(a,l,n,null)).flags|=2,a.return=t,i.return=t,i.sibling=a,t.child=i,i=a,a=t.child,l=null===(l=e.child.memoizedState)?ja(n):{baseLanes:l.baseLanes|n,cachePool:null,transitions:l.transitions},a.memoizedState=l,a.childLanes=e.childLanes&~n,t.memoizedState=Fa,i}return e=(a=e.child).sibling,i=Lc(a,{mode:"visible",children:i.children}),0==(1&t.mode)&&(i.lanes=n),i.return=t,i.sibling=null,null!==e&&(null===(n=t.deletions)?(t.deletions=[e],t.flags|=16):n.push(e)),t.child=i,t.memoizedState=null,i}function za(e,t){return(t=jc({mode:"visible",children:t},e.mode,0,null)).return=e,e.child=t}function Wa(e,t,n,r){return null!==r&&go(r),Zo(t,e.child,null,n),(e=za(t,t.pendingProps.children)).flags|=2,t.memoizedState=null,e}function Ga(e,t,n){e.lanes|=t;var r=e.alternate;null!==r&&(r.lanes|=t),Io(e.return,t,n)}function qa(e,t,n,r,i){var o=e.memoizedState;null===o?e.memoizedState={isBackwards:t,rendering:null,renderingStartTime:0,last:r,tail:n,tailMode:i}:(o.isBackwards=t,o.rendering=null,o.renderingStartTime=0,o.last=r,o.tail=n,o.tailMode=i)}function Ha(e,t,n){var r=t.pendingProps,i=r.revealOrder,o=r.tail;if(Sa(e,t,r.children,n),0!=(2&(r=us.current)))r=1&r|2,t.flags|=128;else{if(null!==e&&0!=(128&e.flags))e:for(e=t.child;null!==e;){if(13===e.tag)null!==e.memoizedState&&Ga(e,n,t);else if(19===e.tag)Ga(e,n,t);else if(null!==e.child){e.child.return=e,e=e.child;continue}if(e===t)break e;for(;null===e.sibling;){if(null===e.return||e.return===t)break e;e=e.return}e.sibling.return=e.return,e=e.sibling}r&=1}if(Ri(us,r),0==(1&t.mode))t.memoizedState=null;else switch(i){case"forwards":for(n=t.child,i=null;null!==n;)null!==(e=n.alternate)&&null===ds(e)&&(i=n),n=n.sibling;null===(n=i)?(i=t.child,t.child=null):(i=n.sibling,n.sibling=null),qa(t,!1,i,n,o);break;case"backwards":for(n=null,i=t.child,t.child=null;null!==i;){if(null!==(e=i.alternate)&&null===ds(e)){t.child=i;break}e=i.sibling,i.sibling=n,n=i,i=e}qa(t,!0,n,null,o);break;case"together":qa(t,!1,null,null,void 0);break;default:t.memoizedState=null}return t.child}function $a(e,t){0==(1&t.mode)&&null!==e&&(e.alternate=null,t.alternate=null,t.flags|=2)}function Va(e,t,n){if(null!==e&&(t.dependencies=e.dependencies),jl|=t.lanes,0==(n&t.childLanes))return null;if(null!==e&&t.child!==e.child)throw Error(o(153));if(null!==t.child){for(n=Lc(e=t.child,e.pendingProps),t.child=n,n.return=t;null!==e.sibling;)e=e.sibling,(n=n.sibling=Lc(e,e.pendingProps)).return=t;n.sibling=null}return t.child}function Ya(e,t){if(!so)switch(e.tailMode){case"hidden":t=e.tail;for(var n=null;null!==t;)null!==t.alternate&&(n=t),t=t.sibling;null===n?e.tail=null:n.sibling=null;break;case"collapsed":n=e.tail;for(var r=null;null!==n;)null!==n.alternate&&(r=n),n=n.sibling;null===r?t||null===e.tail?e.tail=null:e.tail.sibling=null:r.sibling=null}}function Ka(e){var t=null!==e.alternate&&e.alternate.child===e.child,n=0,r=0;if(t)for(var i=e.child;null!==i;)n|=i.lanes|i.childLanes,r|=14680064&i.subtreeFlags,r|=14680064&i.flags,i.return=e,i=i.sibling;else for(i=e.child;null!==i;)n|=i.lanes|i.childLanes,r|=i.subtreeFlags,r|=i.flags,i.return=e,i=i.sibling;return e.subtreeFlags|=r,e.childLanes=n,t}function Ja(e,t,n){var r=t.pendingProps;switch(ro(t),t.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return Ka(t),null;case 1:case 17:return Di(t.type)&&Mi(),Ka(t),null;case 3:return r=t.stateNode,as(),Ci(Pi),Ci(xi),ps(),r.pendingContext&&(r.context=r.pendingContext,r.pendingContext=null),null!==e&&null!==e.child||(fo(t)?t.flags|=4:null===e||e.memoizedState.isDehydrated&&0==(256&t.flags)||(t.flags|=1024,null!==ao&&(cc(ao),ao=null))),Ma(e,t),Ka(t),null;case 5:cs(t);var i=os(is.current);if(n=t.type,null!==e&&null!=t.stateNode)La(e,t,n,r,i),e.ref!==t.ref&&(t.flags|=512,t.flags|=2097152);else{if(!r){if(null===t.stateNode)throw Error(o(166));return Ka(t),null}if(e=os(ns.current),fo(t)){r=t.stateNode,n=t.type;var s=t.memoizedProps;switch(r[fi]=t,r[mi]=s,e=0!=(1&t.mode),n){case"dialog":zr("cancel",r),zr("close",r);break;case"iframe":case"object":case"embed":zr("load",r);break;case"video":case"audio":for(i=0;i<Ur.length;i++)zr(Ur[i],r);break;case"source":zr("error",r);break;case"img":case"image":case"link":zr("error",r),zr("load",r);break;case"details":zr("toggle",r);break;case"input":Q(r,s),zr("invalid",r);break;case"select":r._wrapperState={wasMultiple:!!s.multiple},zr("invalid",r);break;case"textarea":se(r,s),zr("invalid",r)}for(var l in be(n,s),i=null,s)if(s.hasOwnProperty(l)){var c=s[l];"children"===l?"string"==typeof c?r.textContent!==c&&(!0!==s.suppressHydrationWarning&&ei(r.textContent,c,e),i=["children",c]):"number"==typeof c&&r.textContent!==""+c&&(!0!==s.suppressHydrationWarning&&ei(r.textContent,c,e),i=["children",""+c]):a.hasOwnProperty(l)&&null!=c&&"onScroll"===l&&zr("scroll",r)}switch(n){case"input":Y(r),te(r,s,!0);break;case"textarea":Y(r),le(r);break;case"select":case"option":break;default:"function"==typeof s.onClick&&(r.onclick=ti)}r=i,t.updateQueue=r,null!==r&&(t.flags|=4)}else{l=9===i.nodeType?i:i.ownerDocument,"http://www.w3.org/1999/xhtml"===e&&(e=ce(n)),"http://www.w3.org/1999/xhtml"===e?"script"===n?((e=l.createElement("div")).innerHTML="<script><\/script>",e=e.removeChild(e.firstChild)):"string"==typeof r.is?e=l.createElement(n,{is:r.is}):(e=l.createElement(n),"select"===n&&(l=e,r.multiple?l.multiple=!0:r.size&&(l.size=r.size))):e=l.createElementNS(e,n),e[fi]=t,e[mi]=r,Da(e,t,!1,!1),t.stateNode=e;e:{switch(l=we(n,r),n){case"dialog":zr("cancel",e),zr("close",e),i=r;break;case"iframe":case"object":case"embed":zr("load",e),i=r;break;case"video":case"audio":for(i=0;i<Ur.length;i++)zr(Ur[i],e);i=r;break;case"source":zr("error",e),i=r;break;case"img":case"image":case"link":zr("error",e),zr("load",e),i=r;break;case"details":zr("toggle",e),i=r;break;case"input":Q(e,r),i=X(e,r),zr("invalid",e);break;case"option":default:i=r;break;case"select":e._wrapperState={wasMultiple:!!r.multiple},i=U({},r,{value:void 0}),zr("invalid",e);break;case"textarea":se(e,r),i=oe(e,r),zr("invalid",e)}for(s in be(n,i),c=i)if(c.hasOwnProperty(s)){var u=c[s];"style"===s?ve(e,u):"dangerouslySetInnerHTML"===s?null!=(u=u?u.__html:void 0)&&pe(e,u):"children"===s?"string"==typeof u?("textarea"!==n||""!==u)&&fe(e,u):"number"==typeof u&&fe(e,""+u):"suppressContentEditableWarning"!==s&&"suppressHydrationWarning"!==s&&"autoFocus"!==s&&(a.hasOwnProperty(s)?null!=u&&"onScroll"===s&&zr("scroll",e):null!=u&&y(e,s,u,l))}switch(n){case"input":Y(e),te(e,r,!1);break;case"textarea":Y(e),le(e);break;case"option":null!=r.value&&e.setAttribute("value",""+$(r.value));break;case"select":e.multiple=!!r.multiple,null!=(s=r.value)?ie(e,!!r.multiple,s,!1):null!=r.defaultValue&&ie(e,!!r.multiple,r.defaultValue,!0);break;default:"function"==typeof i.onClick&&(e.onclick=ti)}switch(n){case"button":case"input":case"select":case"textarea":r=!!r.autoFocus;break e;case"img":r=!0;break e;default:r=!1}}r&&(t.flags|=4)}null!==t.ref&&(t.flags|=512,t.flags|=2097152)}return Ka(t),null;case 6:if(e&&null!=t.stateNode)Ua(e,t,e.memoizedProps,r);else{if("string"!=typeof r&&null===t.stateNode)throw Error(o(166));if(n=os(is.current),os(ns.current),fo(t)){if(r=t.stateNode,n=t.memoizedProps,r[fi]=t,(s=r.nodeValue!==n)&&null!==(e=io))switch(e.tag){case 3:ei(r.nodeValue,n,0!=(1&e.mode));break;case 5:!0!==e.memoizedProps.suppressHydrationWarning&&ei(r.nodeValue,n,0!=(1&e.mode))}s&&(t.flags|=4)}else(r=(9===n.nodeType?n:n.ownerDocument).createTextNode(r))[fi]=t,t.stateNode=r}return Ka(t),null;case 13:if(Ci(us),r=t.memoizedState,null===e||null!==e.memoizedState&&null!==e.memoizedState.dehydrated){if(so&&null!==oo&&0!=(1&t.mode)&&0==(128&t.flags))mo(),_o(),t.flags|=98560,s=!1;else if(s=fo(t),null!==r&&null!==r.dehydrated){if(null===e){if(!s)throw Error(o(318));if(!(s=null!==(s=t.memoizedState)?s.dehydrated:null))throw Error(o(317));s[fi]=t}else _o(),0==(128&t.flags)&&(t.memoizedState=null),t.flags|=4;Ka(t),s=!1}else null!==ao&&(cc(ao),ao=null),s=!0;if(!s)return 65536&t.flags?t:null}return 0!=(128&t.flags)?(t.lanes=n,t):((r=null!==r)!==(null!==e&&null!==e.memoizedState)&&r&&(t.child.flags|=8192,0!=(1&t.mode)&&(null===e||0!=(1&us.current)?0===Ul&&(Ul=3):vc())),null!==t.updateQueue&&(t.flags|=4),Ka(t),null);case 4:return as(),Ma(e,t),null===e&&qr(t.stateNode.containerInfo),Ka(t),null;case 10:return To(t.type._context),Ka(t),null;case 19:if(Ci(us),null===(s=t.memoizedState))return Ka(t),null;if(r=0!=(128&t.flags),null===(l=s.rendering))if(r)Ya(s,!1);else{if(0!==Ul||null!==e&&0!=(128&e.flags))for(e=t.child;null!==e;){if(null!==(l=ds(e))){for(t.flags|=128,Ya(s,!1),null!==(r=l.updateQueue)&&(t.updateQueue=r,t.flags|=4),t.subtreeFlags=0,r=n,n=t.child;null!==n;)e=r,(s=n).flags&=14680066,null===(l=s.alternate)?(s.childLanes=0,s.lanes=e,s.child=null,s.subtreeFlags=0,s.memoizedProps=null,s.memoizedState=null,s.updateQueue=null,s.dependencies=null,s.stateNode=null):(s.childLanes=l.childLanes,s.lanes=l.lanes,s.child=l.child,s.subtreeFlags=0,s.deletions=null,s.memoizedProps=l.memoizedProps,s.memoizedState=l.memoizedState,s.updateQueue=l.updateQueue,s.type=l.type,e=l.dependencies,s.dependencies=null===e?null:{lanes:e.lanes,firstContext:e.firstContext}),n=n.sibling;return Ri(us,1&us.current|2),t.child}e=e.sibling}null!==s.tail&&Ze()>Hl&&(t.flags|=128,r=!0,Ya(s,!1),t.lanes=4194304)}else{if(!r)if(null!==(e=ds(l))){if(t.flags|=128,r=!0,null!==(n=e.updateQueue)&&(t.updateQueue=n,t.flags|=4),Ya(s,!0),null===s.tail&&"hidden"===s.tailMode&&!l.alternate&&!so)return Ka(t),null}else 2*Ze()-s.renderingStartTime>Hl&&1073741824!==n&&(t.flags|=128,r=!0,Ya(s,!1),t.lanes=4194304);s.isBackwards?(l.sibling=t.child,t.child=l):(null!==(n=s.last)?n.sibling=l:t.child=l,s.last=l)}return null!==s.tail?(t=s.tail,s.rendering=t,s.tail=t.sibling,s.renderingStartTime=Ze(),t.sibling=null,n=us.current,Ri(us,r?1&n|2:1&n),t):(Ka(t),null);case 22:case 23:return fc(),r=null!==t.memoizedState,null!==e&&null!==e.memoizedState!==r&&(t.flags|=8192),r&&0!=(1&t.mode)?0!=(1073741824&Ml)&&(Ka(t),6&t.subtreeFlags&&(t.flags|=8192)):Ka(t),null;case 24:case 25:return null}throw Error(o(156,t.tag))}function Xa(e,t){switch(ro(t),t.tag){case 1:return Di(t.type)&&Mi(),65536&(e=t.flags)?(t.flags=-65537&e|128,t):null;case 3:return as(),Ci(Pi),Ci(xi),ps(),0!=(65536&(e=t.flags))&&0==(128&e)?(t.flags=-65537&e|128,t):null;case 5:return cs(t),null;case 13:if(Ci(us),null!==(e=t.memoizedState)&&null!==e.dehydrated){if(null===t.alternate)throw Error(o(340));_o()}return 65536&(e=t.flags)?(t.flags=-65537&e|128,t):null;case 19:return Ci(us),null;case 4:return as(),null;case 10:return To(t.type._context),null;case 22:case 23:return fc(),null;default:return null}}Da=function(e,t){for(var n=t.child;null!==n;){if(5===n.tag||6===n.tag)e.appendChild(n.stateNode);else if(4!==n.tag&&null!==n.child){n.child.return=n,n=n.child;continue}if(n===t)break;for(;null===n.sibling;){if(null===n.return||n.return===t)return;n=n.return}n.sibling.return=n.return,n=n.sibling}},Ma=function(){},La=function(e,t,n,r){var i=e.memoizedProps;if(i!==r){e=t.stateNode,os(ns.current);var o,s=null;switch(n){case"input":i=X(e,i),r=X(e,r),s=[];break;case"select":i=U({},i,{value:void 0}),r=U({},r,{value:void 0}),s=[];break;case"textarea":i=oe(e,i),r=oe(e,r),s=[];break;default:"function"!=typeof i.onClick&&"function"==typeof r.onClick&&(e.onclick=ti)}for(u in be(n,r),n=null,i)if(!r.hasOwnProperty(u)&&i.hasOwnProperty(u)&&null!=i[u])if("style"===u){var l=i[u];for(o in l)l.hasOwnProperty(o)&&(n||(n={}),n[o]="")}else"dangerouslySetInnerHTML"!==u&&"children"!==u&&"suppressContentEditableWarning"!==u&&"suppressHydrationWarning"!==u&&"autoFocus"!==u&&(a.hasOwnProperty(u)?s||(s=[]):(s=s||[]).push(u,null));for(u in r){var c=r[u];if(l=null!=i?i[u]:void 0,r.hasOwnProperty(u)&&c!==l&&(null!=c||null!=l))if("style"===u)if(l){for(o in l)!l.hasOwnProperty(o)||c&&c.hasOwnProperty(o)||(n||(n={}),n[o]="");for(o in c)c.hasOwnProperty(o)&&l[o]!==c[o]&&(n||(n={}),n[o]=c[o])}else n||(s||(s=[]),s.push(u,n)),n=c;else"dangerouslySetInnerHTML"===u?(c=c?c.__html:void 0,l=l?l.__html:void 0,null!=c&&l!==c&&(s=s||[]).push(u,c)):"children"===u?"string"!=typeof c&&"number"!=typeof c||(s=s||[]).push(u,""+c):"suppressContentEditableWarning"!==u&&"suppressHydrationWarning"!==u&&(a.hasOwnProperty(u)?(null!=c&&"onScroll"===u&&zr("scroll",e),s||l===c||(s=[])):(s=s||[]).push(u,c))}n&&(s=s||[]).push("style",n);var u=s;(t.updateQueue=u)&&(t.flags|=4)}},Ua=function(e,t,n,r){n!==r&&(t.flags|=4)};var Qa=!1,Za=!1,el="function"==typeof WeakSet?WeakSet:Set,tl=null;function nl(e,t){var n=e.ref;if(null!==n)if("function"==typeof n)try{n(null)}catch(r){Cc(e,t,r)}else n.current=null}function rl(e,t,n){try{n()}catch(r){Cc(e,t,r)}}var il=!1;function ol(e,t,n){var r=t.updateQueue;if(null!==(r=null!==r?r.lastEffect:null)){var i=r=r.next;do{if((i.tag&e)===e){var o=i.destroy;i.destroy=void 0,void 0!==o&&rl(t,n,o)}i=i.next}while(i!==r)}}function sl(e,t){if(null!==(t=null!==(t=t.updateQueue)?t.lastEffect:null)){var n=t=t.next;do{if((n.tag&e)===e){var r=n.create;n.destroy=r()}n=n.next}while(n!==t)}}function al(e){var t=e.ref;if(null!==t){var n=e.stateNode;e.tag,e=n,"function"==typeof t?t(e):t.current=e}}function ll(e){var t=e.alternate;null!==t&&(e.alternate=null,ll(t)),e.child=null,e.deletions=null,e.sibling=null,5===e.tag&&(null!==(t=e.stateNode)&&(delete t[fi],delete t[mi],delete t[gi],delete t[vi],delete t[yi])),e.stateNode=null,e.return=null,e.dependencies=null,e.memoizedProps=null,e.memoizedState=null,e.pendingProps=null,e.stateNode=null,e.updateQueue=null}function cl(e){return 5===e.tag||3===e.tag||4===e.tag}function ul(e){e:for(;;){for(;null===e.sibling;){if(null===e.return||cl(e.return))return null;e=e.return}for(e.sibling.return=e.return,e=e.sibling;5!==e.tag&&6!==e.tag&&18!==e.tag;){if(2&e.flags)continue e;if(null===e.child||4===e.tag)continue e;e.child.return=e,e=e.child}if(!(2&e.flags))return e.stateNode}}function dl(e,t,n){var r=e.tag;if(5===r||6===r)e=e.stateNode,t?8===n.nodeType?n.parentNode.insertBefore(e,t):n.insertBefore(e,t):(8===n.nodeType?(t=n.parentNode).insertBefore(e,n):(t=n).appendChild(e),null!=(n=n._reactRootContainer)||null!==t.onclick||(t.onclick=ti));else if(4!==r&&null!==(e=e.child))for(dl(e,t,n),e=e.sibling;null!==e;)dl(e,t,n),e=e.sibling}function hl(e,t,n){var r=e.tag;if(5===r||6===r)e=e.stateNode,t?n.insertBefore(e,t):n.appendChild(e);else if(4!==r&&null!==(e=e.child))for(hl(e,t,n),e=e.sibling;null!==e;)hl(e,t,n),e=e.sibling}var pl=null,fl=!1;function ml(e,t,n){for(n=n.child;null!==n;)_l(e,t,n),n=n.sibling}function _l(e,t,n){if(at&&"function"==typeof at.onCommitFiberUnmount)try{at.onCommitFiberUnmount(st,n)}catch(a){}switch(n.tag){case 5:Za||nl(n,t);case 6:var r=pl,i=fl;pl=null,ml(e,t,n),fl=i,null!==(pl=r)&&(fl?(e=pl,n=n.stateNode,8===e.nodeType?e.parentNode.removeChild(n):e.removeChild(n)):pl.removeChild(n.stateNode));break;case 18:null!==pl&&(fl?(e=pl,n=n.stateNode,8===e.nodeType?ui(e.parentNode,n):1===e.nodeType&&ui(e,n),qt(e)):ui(pl,n.stateNode));break;case 4:r=pl,i=fl,pl=n.stateNode.containerInfo,fl=!0,ml(e,t,n),pl=r,fl=i;break;case 0:case 11:case 14:case 15:if(!Za&&(null!==(r=n.updateQueue)&&null!==(r=r.lastEffect))){i=r=r.next;do{var o=i,s=o.destroy;o=o.tag,void 0!==s&&(0!=(2&o)||0!=(4&o))&&rl(n,t,s),i=i.next}while(i!==r)}ml(e,t,n);break;case 1:if(!Za&&(nl(n,t),"function"==typeof(r=n.stateNode).componentWillUnmount))try{r.props=n.memoizedProps,r.state=n.memoizedState,r.componentWillUnmount()}catch(a){Cc(n,t,a)}ml(e,t,n);break;case 21:ml(e,t,n);break;case 22:1&n.mode?(Za=(r=Za)||null!==n.memoizedState,ml(e,t,n),Za=r):ml(e,t,n);break;default:ml(e,t,n)}}function gl(e){var t=e.updateQueue;if(null!==t){e.updateQueue=null;var n=e.stateNode;null===n&&(n=e.stateNode=new el),t.forEach((function(t){var r=Pc.bind(null,e,t);n.has(t)||(n.add(t),t.then(r,r))}))}}function vl(e,t){var n=t.deletions;if(null!==n)for(var r=0;r<n.length;r++){var i=n[r];try{var s=e,a=t,l=a;e:for(;null!==l;){switch(l.tag){case 5:pl=l.stateNode,fl=!1;break e;case 3:case 4:pl=l.stateNode.containerInfo,fl=!0;break e}l=l.return}if(null===pl)throw Error(o(160));_l(s,a,i),pl=null,fl=!1;var c=i.alternate;null!==c&&(c.return=null),i.return=null}catch(u){Cc(i,t,u)}}if(12854&t.subtreeFlags)for(t=t.child;null!==t;)yl(t,e),t=t.sibling}function yl(e,t){var n=e.alternate,r=e.flags;switch(e.tag){case 0:case 11:case 14:case 15:if(vl(t,e),bl(e),4&r){try{ol(3,e,e.return),sl(3,e)}catch(_){Cc(e,e.return,_)}try{ol(5,e,e.return)}catch(_){Cc(e,e.return,_)}}break;case 1:vl(t,e),bl(e),512&r&&null!==n&&nl(n,n.return);break;case 5:if(vl(t,e),bl(e),512&r&&null!==n&&nl(n,n.return),32&e.flags){var i=e.stateNode;try{fe(i,"")}catch(_){Cc(e,e.return,_)}}if(4&r&&null!=(i=e.stateNode)){var s=e.memoizedProps,a=null!==n?n.memoizedProps:s,l=e.type,c=e.updateQueue;if(e.updateQueue=null,null!==c)try{"input"===l&&"radio"===s.type&&null!=s.name&&Z(i,s),we(l,a);var u=we(l,s);for(a=0;a<c.length;a+=2){var d=c[a],h=c[a+1];"style"===d?ve(i,h):"dangerouslySetInnerHTML"===d?pe(i,h):"children"===d?fe(i,h):y(i,d,h,u)}switch(l){case"input":ee(i,s);break;case"textarea":ae(i,s);break;case"select":var p=i._wrapperState.wasMultiple;i._wrapperState.wasMultiple=!!s.multiple;var f=s.value;null!=f?ie(i,!!s.multiple,f,!1):p!==!!s.multiple&&(null!=s.defaultValue?ie(i,!!s.multiple,s.defaultValue,!0):ie(i,!!s.multiple,s.multiple?[]:"",!1))}i[mi]=s}catch(_){Cc(e,e.return,_)}}break;case 6:if(vl(t,e),bl(e),4&r){if(null===e.stateNode)throw Error(o(162));i=e.stateNode,s=e.memoizedProps;try{i.nodeValue=s}catch(_){Cc(e,e.return,_)}}break;case 3:if(vl(t,e),bl(e),4&r&&null!==n&&n.memoizedState.isDehydrated)try{qt(t.containerInfo)}catch(_){Cc(e,e.return,_)}break;case 4:default:vl(t,e),bl(e);break;case 13:vl(t,e),bl(e),8192&(i=e.child).flags&&(s=null!==i.memoizedState,i.stateNode.isHidden=s,!s||null!==i.alternate&&null!==i.alternate.memoizedState||(ql=Ze())),4&r&&gl(e);break;case 22:if(d=null!==n&&null!==n.memoizedState,1&e.mode?(Za=(u=Za)||d,vl(t,e),Za=u):vl(t,e),bl(e),8192&r){if(u=null!==e.memoizedState,(e.stateNode.isHidden=u)&&!d&&0!=(1&e.mode))for(tl=e,d=e.child;null!==d;){for(h=tl=d;null!==tl;){switch(f=(p=tl).child,p.tag){case 0:case 11:case 14:case 15:ol(4,p,p.return);break;case 1:nl(p,p.return);var m=p.stateNode;if("function"==typeof m.componentWillUnmount){r=p,n=p.return;try{t=r,m.props=t.memoizedProps,m.state=t.memoizedState,m.componentWillUnmount()}catch(_){Cc(r,n,_)}}break;case 5:nl(p,p.return);break;case 22:if(null!==p.memoizedState){kl(h);continue}}null!==f?(f.return=p,tl=f):kl(h)}d=d.sibling}e:for(d=null,h=e;;){if(5===h.tag){if(null===d){d=h;try{i=h.stateNode,u?"function"==typeof(s=i.style).setProperty?s.setProperty("display","none","important"):s.display="none":(l=h.stateNode,a=null!=(c=h.memoizedProps.style)&&c.hasOwnProperty("display")?c.display:null,l.style.display=ge("display",a))}catch(_){Cc(e,e.return,_)}}}else if(6===h.tag){if(null===d)try{h.stateNode.nodeValue=u?"":h.memoizedProps}catch(_){Cc(e,e.return,_)}}else if((22!==h.tag&&23!==h.tag||null===h.memoizedState||h===e)&&null!==h.child){h.child.return=h,h=h.child;continue}if(h===e)break e;for(;null===h.sibling;){if(null===h.return||h.return===e)break e;d===h&&(d=null),h=h.return}d===h&&(d=null),h.sibling.return=h.return,h=h.sibling}}break;case 19:vl(t,e),bl(e),4&r&&gl(e);case 21:}}function bl(e){var t=e.flags;if(2&t){try{e:{for(var n=e.return;null!==n;){if(cl(n)){var r=n;break e}n=n.return}throw Error(o(160))}switch(r.tag){case 5:var i=r.stateNode;32&r.flags&&(fe(i,""),r.flags&=-33),hl(e,ul(e),i);break;case 3:case 4:var s=r.stateNode.containerInfo;dl(e,ul(e),s);break;default:throw Error(o(161))}}catch(a){Cc(e,e.return,a)}e.flags&=-3}4096&t&&(e.flags&=-4097)}function wl(e,t,n){tl=e,El(e,t,n)}function El(e,t,n){for(var r=0!=(1&e.mode);null!==tl;){var i=tl,o=i.child;if(22===i.tag&&r){var s=null!==i.memoizedState||Qa;if(!s){var a=i.alternate,l=null!==a&&null!==a.memoizedState||Za;a=Qa;var c=Za;if(Qa=s,(Za=l)&&!c)for(tl=i;null!==tl;)l=(s=tl).child,22===s.tag&&null!==s.memoizedState?Tl(i):null!==l?(l.return=s,tl=l):Tl(i);for(;null!==o;)tl=o,El(o,t,n),o=o.sibling;tl=i,Qa=a,Za=c}Sl(e)}else 0!=(8772&i.subtreeFlags)&&null!==o?(o.return=i,tl=o):Sl(e)}}function Sl(e){for(;null!==tl;){var t=tl;if(0!=(8772&t.flags)){var n=t.alternate;try{if(0!=(8772&t.flags))switch(t.tag){case 0:case 11:case 15:Za||sl(5,t);break;case 1:var r=t.stateNode;if(4&t.flags&&!Za)if(null===n)r.componentDidMount();else{var i=t.elementType===t.type?n.memoizedProps:yo(t.type,n.memoizedProps);r.componentDidUpdate(i,n.memoizedState,r.__reactInternalSnapshotBeforeUpdate)}var s=t.updateQueue;null!==s&&zo(t,s,r);break;case 3:var a=t.updateQueue;if(null!==a){if(n=null,null!==t.child)switch(t.child.tag){case 5:case 1:n=t.child.stateNode}zo(t,a,n)}break;case 5:var l=t.stateNode;if(null===n&&4&t.flags){n=l;var c=t.memoizedProps;switch(t.type){case"button":case"input":case"select":case"textarea":c.autoFocus&&n.focus();break;case"img":c.src&&(n.src=c.src)}}break;case 6:case 4:case 12:case 19:case 17:case 21:case 22:case 23:case 25:break;case 13:if(null===t.memoizedState){var u=t.alternate;if(null!==u){var d=u.memoizedState;if(null!==d){var h=d.dehydrated;null!==h&&qt(h)}}}break;default:throw Error(o(163))}Za||512&t.flags&&al(t)}catch(p){Cc(t,t.return,p)}}if(t===e){tl=null;break}if(null!==(n=t.sibling)){n.return=t.return,tl=n;break}tl=t.return}}function kl(e){for(;null!==tl;){var t=tl;if(t===e){tl=null;break}var n=t.sibling;if(null!==n){n.return=t.return,tl=n;break}tl=t.return}}function Tl(e){for(;null!==tl;){var t=tl;try{switch(t.tag){case 0:case 11:case 15:var n=t.return;try{sl(4,t)}catch(l){Cc(t,n,l)}break;case 1:var r=t.stateNode;if("function"==typeof r.componentDidMount){var i=t.return;try{r.componentDidMount()}catch(l){Cc(t,i,l)}}var o=t.return;try{al(t)}catch(l){Cc(t,o,l)}break;case 5:var s=t.return;try{al(t)}catch(l){Cc(t,s,l)}}}catch(l){Cc(t,t.return,l)}if(t===e){tl=null;break}var a=t.sibling;if(null!==a){a.return=t.return,tl=a;break}tl=t.return}}var Il,Cl=Math.ceil,Rl=b.ReactCurrentDispatcher,Nl=b.ReactCurrentOwner,xl=b.ReactCurrentBatchConfig,Pl=0,Ol=null,Al=null,Dl=0,Ml=0,Ll=Ii(0),Ul=0,Fl=null,jl=0,Bl=0,zl=0,Wl=null,Gl=null,ql=0,Hl=1/0,$l=null,Vl=!1,Yl=null,Kl=null,Jl=!1,Xl=null,Ql=0,Zl=0,ec=null,tc=-1,nc=0;function rc(){return 0!=(6&Pl)?Ze():-1!==tc?tc:tc=Ze()}function ic(e){return 0==(1&e.mode)?1:0!=(2&Pl)&&0!==Dl?Dl&-Dl:null!==vo.transition?(0===nc&&(nc=gt()),nc):0!==(e=wt)?e:e=void 0===(e=window.event)?16:Qt(e.type)}function oc(e,t,n,r){if(50<Zl)throw Zl=0,ec=null,Error(o(185));yt(e,n,r),0!=(2&Pl)&&e===Ol||(e===Ol&&(0==(2&Pl)&&(Bl|=n),4===Ul&&uc(e,Dl)),sc(e,r),1===n&&0===Pl&&0==(1&t.mode)&&(Hl=Ze()+500,zi&&qi()))}function sc(e,t){var n=e.callbackNode;!function(e,t){for(var n=e.suspendedLanes,r=e.pingedLanes,i=e.expirationTimes,o=e.pendingLanes;0<o;){var s=31-lt(o),a=1<<s,l=i[s];-1===l?0!=(a&n)&&0==(a&r)||(i[s]=mt(a,t)):l<=t&&(e.expiredLanes|=a),o&=~a}}(e,t);var r=ft(e,e===Ol?Dl:0);if(0===r)null!==n&&Je(n),e.callbackNode=null,e.callbackPriority=0;else if(t=r&-r,e.callbackPriority!==t){if(null!=n&&Je(n),1===t)0===e.tag?function(e){zi=!0,Gi(e)}(dc.bind(null,e)):Gi(dc.bind(null,e)),li((function(){0==(6&Pl)&&qi()})),n=null;else{switch(Et(r)){case 1:n=tt;break;case 4:n=nt;break;case 16:default:n=rt;break;case 536870912:n=ot}n=Oc(n,ac.bind(null,e))}e.callbackPriority=t,e.callbackNode=n}}function ac(e,t){if(tc=-1,nc=0,0!=(6&Pl))throw Error(o(327));var n=e.callbackNode;if(Tc()&&e.callbackNode!==n)return null;var r=ft(e,e===Ol?Dl:0);if(0===r)return null;if(0!=(30&r)||0!=(r&e.expiredLanes)||t)t=yc(e,r);else{t=r;var i=Pl;Pl|=2;var s=gc();for(Ol===e&&Dl===t||($l=null,Hl=Ze()+500,mc(e,t));;)try{wc();break}catch(l){_c(e,l)}ko(),Rl.current=s,Pl=i,null!==Al?t=0:(Ol=null,Dl=0,t=Ul)}if(0!==t){if(2===t&&(0!==(i=_t(e))&&(r=i,t=lc(e,i))),1===t)throw n=Fl,mc(e,0),uc(e,r),sc(e,Ze()),n;if(6===t)uc(e,r);else{if(i=e.current.alternate,0==(30&r)&&!function(e){for(var t=e;;){if(16384&t.flags){var n=t.updateQueue;if(null!==n&&null!==(n=n.stores))for(var r=0;r<n.length;r++){var i=n[r],o=i.getSnapshot;i=i.value;try{if(!cr(o(),i))return!1}catch(a){return!1}}}if(n=t.child,16384&t.subtreeFlags&&null!==n)n.return=t,t=n;else{if(t===e)break;for(;null===t.sibling;){if(null===t.return||t.return===e)return!0;t=t.return}t.sibling.return=t.return,t=t.sibling}}return!0}(i)&&(2===(t=yc(e,r))&&(0!==(s=_t(e))&&(r=s,t=lc(e,s))),1===t))throw n=Fl,mc(e,0),uc(e,r),sc(e,Ze()),n;switch(e.finishedWork=i,e.finishedLanes=r,t){case 0:case 1:throw Error(o(345));case 2:case 5:kc(e,Gl,$l);break;case 3:if(uc(e,r),(130023424&r)===r&&10<(t=ql+500-Ze())){if(0!==ft(e,0))break;if(((i=e.suspendedLanes)&r)!==r){rc(),e.pingedLanes|=e.suspendedLanes&i;break}e.timeoutHandle=oi(kc.bind(null,e,Gl,$l),t);break}kc(e,Gl,$l);break;case 4:if(uc(e,r),(4194240&r)===r)break;for(t=e.eventTimes,i=-1;0<r;){var a=31-lt(r);s=1<<a,(a=t[a])>i&&(i=a),r&=~s}if(r=i,10<(r=(120>(r=Ze()-r)?120:480>r?480:1080>r?1080:1920>r?1920:3e3>r?3e3:4320>r?4320:1960*Cl(r/1960))-r)){e.timeoutHandle=oi(kc.bind(null,e,Gl,$l),r);break}kc(e,Gl,$l);break;default:throw Error(o(329))}}}return sc(e,Ze()),e.callbackNode===n?ac.bind(null,e):null}function lc(e,t){var n=Wl;return e.current.memoizedState.isDehydrated&&(mc(e,t).flags|=256),2!==(e=yc(e,t))&&(t=Gl,Gl=n,null!==t&&cc(t)),e}function cc(e){null===Gl?Gl=e:Gl.push.apply(Gl,e)}function uc(e,t){for(t&=~zl,t&=~Bl,e.suspendedLanes|=t,e.pingedLanes&=~t,e=e.expirationTimes;0<t;){var n=31-lt(t),r=1<<n;e[n]=-1,t&=~r}}function dc(e){if(0!=(6&Pl))throw Error(o(327));Tc();var t=ft(e,0);if(0==(1&t))return sc(e,Ze()),null;var n=yc(e,t);if(0!==e.tag&&2===n){var r=_t(e);0!==r&&(t=r,n=lc(e,r))}if(1===n)throw n=Fl,mc(e,0),uc(e,t),sc(e,Ze()),n;if(6===n)throw Error(o(345));return e.finishedWork=e.current.alternate,e.finishedLanes=t,kc(e,Gl,$l),sc(e,Ze()),null}function hc(e,t){var n=Pl;Pl|=1;try{return e(t)}finally{0===(Pl=n)&&(Hl=Ze()+500,zi&&qi())}}function pc(e){null!==Xl&&0===Xl.tag&&0==(6&Pl)&&Tc();var t=Pl;Pl|=1;var n=xl.transition,r=wt;try{if(xl.transition=null,wt=1,e)return e()}finally{wt=r,xl.transition=n,0==(6&(Pl=t))&&qi()}}function fc(){Ml=Ll.current,Ci(Ll)}function mc(e,t){e.finishedWork=null,e.finishedLanes=0;var n=e.timeoutHandle;if(-1!==n&&(e.timeoutHandle=-1,si(n)),null!==Al)for(n=Al.return;null!==n;){var r=n;switch(ro(r),r.tag){case 1:null!=(r=r.type.childContextTypes)&&Mi();break;case 3:as(),Ci(Pi),Ci(xi),ps();break;case 5:cs(r);break;case 4:as();break;case 13:case 19:Ci(us);break;case 10:To(r.type._context);break;case 22:case 23:fc()}n=n.return}if(Ol=e,Al=e=Lc(e.current,null),Dl=Ml=t,Ul=0,Fl=null,zl=Bl=jl=0,Gl=Wl=null,null!==No){for(t=0;t<No.length;t++)if(null!==(r=(n=No[t]).interleaved)){n.interleaved=null;var i=r.next,o=n.pending;if(null!==o){var s=o.next;o.next=i,r.next=s}n.pending=r}No=null}return e}function _c(e,t){for(;;){var n=Al;try{if(ko(),fs.current=la,bs){for(var r=gs.memoizedState;null!==r;){var i=r.queue;null!==i&&(i.pending=null),r=r.next}bs=!1}if(_s=0,ys=vs=gs=null,ws=!1,Es=0,Nl.current=null,null===n||null===n.return){Ul=1,Fl=t,Al=null;break}e:{var s=e,a=n.return,l=n,c=t;if(t=Dl,l.flags|=32768,null!==c&&"object"==typeof c&&"function"==typeof c.then){var u=c,d=l,h=d.tag;if(0==(1&d.mode)&&(0===h||11===h||15===h)){var p=d.alternate;p?(d.updateQueue=p.updateQueue,d.memoizedState=p.memoizedState,d.lanes=p.lanes):(d.updateQueue=null,d.memoizedState=null)}var f=ya(a);if(null!==f){f.flags&=-257,ba(f,a,l,0,t),1&f.mode&&va(s,u,t),c=u;var m=(t=f).updateQueue;if(null===m){var _=new Set;_.add(c),t.updateQueue=_}else m.add(c);break e}if(0==(1&t)){va(s,u,t),vc();break e}c=Error(o(426))}else if(so&&1&l.mode){var g=ya(a);if(null!==g){0==(65536&g.flags)&&(g.flags|=256),ba(g,a,l,0,t),go(ha(c,l));break e}}s=c=ha(c,l),4!==Ul&&(Ul=2),null===Wl?Wl=[s]:Wl.push(s),s=a;do{switch(s.tag){case 3:s.flags|=65536,t&=-t,s.lanes|=t,jo(s,_a(0,c,t));break e;case 1:l=c;var v=s.type,y=s.stateNode;if(0==(128&s.flags)&&("function"==typeof v.getDerivedStateFromError||null!==y&&"function"==typeof y.componentDidCatch&&(null===Kl||!Kl.has(y)))){s.flags|=65536,t&=-t,s.lanes|=t,jo(s,ga(s,l,t));break e}}s=s.return}while(null!==s)}Sc(n)}catch(b){t=b,Al===n&&null!==n&&(Al=n=n.return);continue}break}}function gc(){var e=Rl.current;return Rl.current=la,null===e?la:e}function vc(){0!==Ul&&3!==Ul&&2!==Ul||(Ul=4),null===Ol||0==(268435455&jl)&&0==(268435455&Bl)||uc(Ol,Dl)}function yc(e,t){var n=Pl;Pl|=2;var r=gc();for(Ol===e&&Dl===t||($l=null,mc(e,t));;)try{bc();break}catch(i){_c(e,i)}if(ko(),Pl=n,Rl.current=r,null!==Al)throw Error(o(261));return Ol=null,Dl=0,Ul}function bc(){for(;null!==Al;)Ec(Al)}function wc(){for(;null!==Al&&!Xe();)Ec(Al)}function Ec(e){var t=Il(e.alternate,e,Ml);e.memoizedProps=e.pendingProps,null===t?Sc(e):Al=t,Nl.current=null}function Sc(e){var t=e;do{var n=t.alternate;if(e=t.return,0==(32768&t.flags)){if(null!==(n=Ja(n,t,Ml)))return void(Al=n)}else{if(null!==(n=Xa(n,t)))return n.flags&=32767,void(Al=n);if(null===e)return Ul=6,void(Al=null);e.flags|=32768,e.subtreeFlags=0,e.deletions=null}if(null!==(t=t.sibling))return void(Al=t);Al=t=e}while(null!==t);0===Ul&&(Ul=5)}function kc(e,t,n){var r=wt,i=xl.transition;try{xl.transition=null,wt=1,function(e,t,n,r){do{Tc()}while(null!==Xl);if(0!=(6&Pl))throw Error(o(327));n=e.finishedWork;var i=e.finishedLanes;if(null===n)return null;if(e.finishedWork=null,e.finishedLanes=0,n===e.current)throw Error(o(177));e.callbackNode=null,e.callbackPriority=0;var s=n.lanes|n.childLanes;if(function(e,t){var n=e.pendingLanes&~t;e.pendingLanes=t,e.suspendedLanes=0,e.pingedLanes=0,e.expiredLanes&=t,e.mutableReadLanes&=t,e.entangledLanes&=t,t=e.entanglements;var r=e.eventTimes;for(e=e.expirationTimes;0<n;){var i=31-lt(n),o=1<<i;t[i]=0,r[i]=-1,e[i]=-1,n&=~o}}(e,s),e===Ol&&(Al=Ol=null,Dl=0),0==(2064&n.subtreeFlags)&&0==(2064&n.flags)||Jl||(Jl=!0,Oc(rt,(function(){return Tc(),null}))),s=0!=(15990&n.flags),0!=(15990&n.subtreeFlags)||s){s=xl.transition,xl.transition=null;var a=wt;wt=1;var l=Pl;Pl|=4,Nl.current=null,function(e,t){if(ni=$t,mr(e=fr())){if("selectionStart"in e)var n={start:e.selectionStart,end:e.selectionEnd};else e:{var r=(n=(n=e.ownerDocument)&&n.defaultView||window).getSelection&&n.getSelection();if(r&&0!==r.rangeCount){n=r.anchorNode;var i=r.anchorOffset,s=r.focusNode;r=r.focusOffset;try{n.nodeType,s.nodeType}catch(w){n=null;break e}var a=0,l=-1,c=-1,u=0,d=0,h=e,p=null;t:for(;;){for(var f;h!==n||0!==i&&3!==h.nodeType||(l=a+i),h!==s||0!==r&&3!==h.nodeType||(c=a+r),3===h.nodeType&&(a+=h.nodeValue.length),null!==(f=h.firstChild);)p=h,h=f;for(;;){if(h===e)break t;if(p===n&&++u===i&&(l=a),p===s&&++d===r&&(c=a),null!==(f=h.nextSibling))break;p=(h=p).parentNode}h=f}n=-1===l||-1===c?null:{start:l,end:c}}else n=null}n=n||{start:0,end:0}}else n=null;for(ri={focusedElem:e,selectionRange:n},$t=!1,tl=t;null!==tl;)if(e=(t=tl).child,0!=(1028&t.subtreeFlags)&&null!==e)e.return=t,tl=e;else for(;null!==tl;){t=tl;try{var m=t.alternate;if(0!=(1024&t.flags))switch(t.tag){case 0:case 11:case 15:case 5:case 6:case 4:case 17:break;case 1:if(null!==m){var _=m.memoizedProps,g=m.memoizedState,v=t.stateNode,y=v.getSnapshotBeforeUpdate(t.elementType===t.type?_:yo(t.type,_),g);v.__reactInternalSnapshotBeforeUpdate=y}break;case 3:var b=t.stateNode.containerInfo;1===b.nodeType?b.textContent="":9===b.nodeType&&b.documentElement&&b.removeChild(b.documentElement);break;default:throw Error(o(163))}}catch(w){Cc(t,t.return,w)}if(null!==(e=t.sibling)){e.return=t.return,tl=e;break}tl=t.return}m=il,il=!1}(e,n),yl(n,e),_r(ri),$t=!!ni,ri=ni=null,e.current=n,wl(n,e,i),Qe(),Pl=l,wt=a,xl.transition=s}else e.current=n;if(Jl&&(Jl=!1,Xl=e,Ql=i),s=e.pendingLanes,0===s&&(Kl=null),function(e){if(at&&"function"==typeof at.onCommitFiberRoot)try{at.onCommitFiberRoot(st,e,void 0,128==(128&e.current.flags))}catch(t){}}(n.stateNode),sc(e,Ze()),null!==t)for(r=e.onRecoverableError,n=0;n<t.length;n++)i=t[n],r(i.value,{componentStack:i.stack,digest:i.digest});if(Vl)throw Vl=!1,e=Yl,Yl=null,e;0!=(1&Ql)&&0!==e.tag&&Tc(),s=e.pendingLanes,0!=(1&s)?e===ec?Zl++:(Zl=0,ec=e):Zl=0,qi()}(e,t,n,r)}finally{xl.transition=i,wt=r}return null}function Tc(){if(null!==Xl){var e=Et(Ql),t=xl.transition,n=wt;try{if(xl.transition=null,wt=16>e?16:e,null===Xl)var r=!1;else{if(e=Xl,Xl=null,Ql=0,0!=(6&Pl))throw Error(o(331));var i=Pl;for(Pl|=4,tl=e.current;null!==tl;){var s=tl,a=s.child;if(0!=(16&tl.flags)){var l=s.deletions;if(null!==l){for(var c=0;c<l.length;c++){var u=l[c];for(tl=u;null!==tl;){var d=tl;switch(d.tag){case 0:case 11:case 15:ol(8,d,s)}var h=d.child;if(null!==h)h.return=d,tl=h;else for(;null!==tl;){var p=(d=tl).sibling,f=d.return;if(ll(d),d===u){tl=null;break}if(null!==p){p.return=f,tl=p;break}tl=f}}}var m=s.alternate;if(null!==m){var _=m.child;if(null!==_){m.child=null;do{var g=_.sibling;_.sibling=null,_=g}while(null!==_)}}tl=s}}if(0!=(2064&s.subtreeFlags)&&null!==a)a.return=s,tl=a;else e:for(;null!==tl;){if(0!=(2048&(s=tl).flags))switch(s.tag){case 0:case 11:case 15:ol(9,s,s.return)}var v=s.sibling;if(null!==v){v.return=s.return,tl=v;break e}tl=s.return}}var y=e.current;for(tl=y;null!==tl;){var b=(a=tl).child;if(0!=(2064&a.subtreeFlags)&&null!==b)b.return=a,tl=b;else e:for(a=y;null!==tl;){if(0!=(2048&(l=tl).flags))try{switch(l.tag){case 0:case 11:case 15:sl(9,l)}}catch(E){Cc(l,l.return,E)}if(l===a){tl=null;break e}var w=l.sibling;if(null!==w){w.return=l.return,tl=w;break e}tl=l.return}}if(Pl=i,qi(),at&&"function"==typeof at.onPostCommitFiberRoot)try{at.onPostCommitFiberRoot(st,e)}catch(E){}r=!0}return r}finally{wt=n,xl.transition=t}}return!1}function Ic(e,t,n){e=Uo(e,t=_a(0,t=ha(n,t),1),1),t=rc(),null!==e&&(yt(e,1,t),sc(e,t))}function Cc(e,t,n){if(3===e.tag)Ic(e,e,n);else for(;null!==t;){if(3===t.tag){Ic(t,e,n);break}if(1===t.tag){var r=t.stateNode;if("function"==typeof t.type.getDerivedStateFromError||"function"==typeof r.componentDidCatch&&(null===Kl||!Kl.has(r))){t=Uo(t,e=ga(t,e=ha(n,e),1),1),e=rc(),null!==t&&(yt(t,1,e),sc(t,e));break}}t=t.return}}function Rc(e,t,n){var r=e.pingCache;null!==r&&r.delete(t),t=rc(),e.pingedLanes|=e.suspendedLanes&n,Ol===e&&(Dl&n)===n&&(4===Ul||3===Ul&&(130023424&Dl)===Dl&&500>Ze()-ql?mc(e,0):zl|=n),sc(e,t)}function Nc(e,t){0===t&&(0==(1&e.mode)?t=1:(t=ht,0==(130023424&(ht<<=1))&&(ht=4194304)));var n=rc();null!==(e=Oo(e,t))&&(yt(e,t,n),sc(e,n))}function xc(e){var t=e.memoizedState,n=0;null!==t&&(n=t.retryLane),Nc(e,n)}function Pc(e,t){var n=0;switch(e.tag){case 13:var r=e.stateNode,i=e.memoizedState;null!==i&&(n=i.retryLane);break;case 19:r=e.stateNode;break;default:throw Error(o(314))}null!==r&&r.delete(t),Nc(e,n)}function Oc(e,t){return Ke(e,t)}function Ac(e,t,n,r){this.tag=e,this.key=n,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=t,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=r,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function Dc(e,t,n,r){return new Ac(e,t,n,r)}function Mc(e){return!(!(e=e.prototype)||!e.isReactComponent)}function Lc(e,t){var n=e.alternate;return null===n?((n=Dc(e.tag,t,e.key,e.mode)).elementType=e.elementType,n.type=e.type,n.stateNode=e.stateNode,n.alternate=e,e.alternate=n):(n.pendingProps=t,n.type=e.type,n.flags=0,n.subtreeFlags=0,n.deletions=null),n.flags=14680064&e.flags,n.childLanes=e.childLanes,n.lanes=e.lanes,n.child=e.child,n.memoizedProps=e.memoizedProps,n.memoizedState=e.memoizedState,n.updateQueue=e.updateQueue,t=e.dependencies,n.dependencies=null===t?null:{lanes:t.lanes,firstContext:t.firstContext},n.sibling=e.sibling,n.index=e.index,n.ref=e.ref,n}function Uc(e,t,n,r,i,s){var a=2;if(r=e,"function"==typeof e)Mc(e)&&(a=1);else if("string"==typeof e)a=5;else e:switch(e){case S:return Fc(n.children,i,s,t);case k:a=8,i|=8;break;case T:return(e=Dc(12,n,t,2|i)).elementType=T,e.lanes=s,e;case N:return(e=Dc(13,n,t,i)).elementType=N,e.lanes=s,e;case x:return(e=Dc(19,n,t,i)).elementType=x,e.lanes=s,e;case A:return jc(n,i,s,t);default:if("object"==typeof e&&null!==e)switch(e.$$typeof){case I:a=10;break e;case C:a=9;break e;case R:a=11;break e;case P:a=14;break e;case O:a=16,r=null;break e}throw Error(o(130,null==e?e:typeof e,""))}return(t=Dc(a,n,t,i)).elementType=e,t.type=r,t.lanes=s,t}function Fc(e,t,n,r){return(e=Dc(7,e,r,t)).lanes=n,e}function jc(e,t,n,r){return(e=Dc(22,e,r,t)).elementType=A,e.lanes=n,e.stateNode={isHidden:!1},e}function Bc(e,t,n){return(e=Dc(6,e,null,t)).lanes=n,e}function zc(e,t,n){return(t=Dc(4,null!==e.children?e.children:[],e.key,t)).lanes=n,t.stateNode={containerInfo:e.containerInfo,pendingChildren:null,implementation:e.implementation},t}function Wc(e,t,n,r,i){this.tag=t,this.containerInfo=e,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=vt(0),this.expirationTimes=vt(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=vt(0),this.identifierPrefix=r,this.onRecoverableError=i,this.mutableSourceEagerHydrationData=null}function Gc(e,t,n,r,i,o,s,a,l){return e=new Wc(e,t,n,a,l),1===t?(t=1,!0===o&&(t|=8)):t=0,o=Dc(3,null,null,t),e.current=o,o.stateNode=e,o.memoizedState={element:r,isDehydrated:n,cache:null,transitions:null,pendingSuspenseBoundaries:null},Do(o),e}function qc(e){if(!e)return Ni;e:{if(qe(e=e._reactInternals)!==e||1!==e.tag)throw Error(o(170));var t=e;do{switch(t.tag){case 3:t=t.stateNode.context;break e;case 1:if(Di(t.type)){t=t.stateNode.__reactInternalMemoizedMergedChildContext;break e}}t=t.return}while(null!==t);throw Error(o(171))}if(1===e.tag){var n=e.type;if(Di(n))return Ui(e,n,t)}return t}function Hc(e,t,n,r,i,o,s,a,l){return(e=Gc(n,r,!0,e,0,o,0,a,l)).context=qc(null),n=e.current,(o=Lo(r=rc(),i=ic(n))).callback=null!=t?t:null,Uo(n,o,i),e.current.lanes=i,yt(e,i,r),sc(e,r),e}function $c(e,t,n,r){var i=t.current,o=rc(),s=ic(i);return n=qc(n),null===t.context?t.context=n:t.pendingContext=n,(t=Lo(o,s)).payload={element:e},null!==(r=void 0===r?null:r)&&(t.callback=r),null!==(e=Uo(i,t,s))&&(oc(e,i,s,o),Fo(e,i,s)),s}function Vc(e){return(e=e.current).child?(e.child.tag,e.child.stateNode):null}function Yc(e,t){if(null!==(e=e.memoizedState)&&null!==e.dehydrated){var n=e.retryLane;e.retryLane=0!==n&&n<t?n:t}}function Kc(e,t){Yc(e,t),(e=e.alternate)&&Yc(e,t)}Il=function(e,t,n){if(null!==e)if(e.memoizedProps!==t.pendingProps||Pi.current)Ea=!0;else{if(0==(e.lanes&n)&&0==(128&t.flags))return Ea=!1,function(e,t,n){switch(t.tag){case 3:Oa(t),_o();break;case 5:ls(t);break;case 1:Di(t.type)&&Fi(t);break;case 4:ss(t,t.stateNode.containerInfo);break;case 10:var r=t.type._context,i=t.memoizedProps.value;Ri(bo,r._currentValue),r._currentValue=i;break;case 13:if(null!==(r=t.memoizedState))return null!==r.dehydrated?(Ri(us,1&us.current),t.flags|=128,null):0!=(n&t.child.childLanes)?Ba(e,t,n):(Ri(us,1&us.current),null!==(e=Va(e,t,n))?e.sibling:null);Ri(us,1&us.current);break;case 19:if(r=0!=(n&t.childLanes),0!=(128&e.flags)){if(r)return Ha(e,t,n);t.flags|=128}if(null!==(i=t.memoizedState)&&(i.rendering=null,i.tail=null,i.lastEffect=null),Ri(us,us.current),r)break;return null;case 22:case 23:return t.lanes=0,Ca(e,t,n)}return Va(e,t,n)}(e,t,n);Ea=0!=(131072&e.flags)}else Ea=!1,so&&0!=(1048576&t.flags)&&to(t,Yi,t.index);switch(t.lanes=0,t.tag){case 2:var r=t.type;$a(e,t),e=t.pendingProps;var i=Ai(t,xi.current);Co(t,n),i=Is(null,t,r,e,i,n);var s=Cs();return t.flags|=1,"object"==typeof i&&null!==i&&"function"==typeof i.render&&void 0===i.$$typeof?(t.tag=1,t.memoizedState=null,t.updateQueue=null,Di(r)?(s=!0,Fi(t)):s=!1,t.memoizedState=null!==i.state&&void 0!==i.state?i.state:null,Do(t),i.updater=qo,t.stateNode=i,i._reactInternals=t,Yo(t,r,e,n),t=Pa(null,t,r,!0,s,n)):(t.tag=0,so&&s&&no(t),Sa(null,t,i,n),t=t.child),t;case 16:r=t.elementType;e:{switch($a(e,t),e=t.pendingProps,r=(i=r._init)(r._payload),t.type=r,i=t.tag=function(e){if("function"==typeof e)return Mc(e)?1:0;if(null!=e){if((e=e.$$typeof)===R)return 11;if(e===P)return 14}return 2}(r),e=yo(r,e),i){case 0:t=Na(null,t,r,e,n);break e;case 1:t=xa(null,t,r,e,n);break e;case 11:t=ka(null,t,r,e,n);break e;case 14:t=Ta(null,t,r,yo(r.type,e),n);break e}throw Error(o(306,r,""))}return t;case 0:return r=t.type,i=t.pendingProps,Na(e,t,r,i=t.elementType===r?i:yo(r,i),n);case 1:return r=t.type,i=t.pendingProps,xa(e,t,r,i=t.elementType===r?i:yo(r,i),n);case 3:e:{if(Oa(t),null===e)throw Error(o(387));r=t.pendingProps,i=(s=t.memoizedState).element,Mo(e,t),Bo(t,r,null,n);var a=t.memoizedState;if(r=a.element,s.isDehydrated){if(s={element:r,isDehydrated:!1,cache:a.cache,pendingSuspenseBoundaries:a.pendingSuspenseBoundaries,transitions:a.transitions},t.updateQueue.baseState=s,t.memoizedState=s,256&t.flags){t=Aa(e,t,r,n,i=ha(Error(o(423)),t));break e}if(r!==i){t=Aa(e,t,r,n,i=ha(Error(o(424)),t));break e}for(oo=di(t.stateNode.containerInfo.firstChild),io=t,so=!0,ao=null,n=es(t,null,r,n),t.child=n;n;)n.flags=-3&n.flags|4096,n=n.sibling}else{if(_o(),r===i){t=Va(e,t,n);break e}Sa(e,t,r,n)}t=t.child}return t;case 5:return ls(t),null===e&&ho(t),r=t.type,i=t.pendingProps,s=null!==e?e.memoizedProps:null,a=i.children,ii(r,i)?a=null:null!==s&&ii(r,s)&&(t.flags|=32),Ra(e,t),Sa(e,t,a,n),t.child;case 6:return null===e&&ho(t),null;case 13:return Ba(e,t,n);case 4:return ss(t,t.stateNode.containerInfo),r=t.pendingProps,null===e?t.child=Zo(t,null,r,n):Sa(e,t,r,n),t.child;case 11:return r=t.type,i=t.pendingProps,ka(e,t,r,i=t.elementType===r?i:yo(r,i),n);case 7:return Sa(e,t,t.pendingProps,n),t.child;case 8:case 12:return Sa(e,t,t.pendingProps.children,n),t.child;case 10:e:{if(r=t.type._context,i=t.pendingProps,s=t.memoizedProps,a=i.value,Ri(bo,r._currentValue),r._currentValue=a,null!==s)if(cr(s.value,a)){if(s.children===i.children&&!Pi.current){t=Va(e,t,n);break e}}else for(null!==(s=t.child)&&(s.return=t);null!==s;){var l=s.dependencies;if(null!==l){a=s.child;for(var c=l.firstContext;null!==c;){if(c.context===r){if(1===s.tag){(c=Lo(-1,n&-n)).tag=2;var u=s.updateQueue;if(null!==u){var d=(u=u.shared).pending;null===d?c.next=c:(c.next=d.next,d.next=c),u.pending=c}}s.lanes|=n,null!==(c=s.alternate)&&(c.lanes|=n),Io(s.return,n,t),l.lanes|=n;break}c=c.next}}else if(10===s.tag)a=s.type===t.type?null:s.child;else if(18===s.tag){if(null===(a=s.return))throw Error(o(341));a.lanes|=n,null!==(l=a.alternate)&&(l.lanes|=n),Io(a,n,t),a=s.sibling}else a=s.child;if(null!==a)a.return=s;else for(a=s;null!==a;){if(a===t){a=null;break}if(null!==(s=a.sibling)){s.return=a.return,a=s;break}a=a.return}s=a}Sa(e,t,i.children,n),t=t.child}return t;case 9:return i=t.type,r=t.pendingProps.children,Co(t,n),r=r(i=Ro(i)),t.flags|=1,Sa(e,t,r,n),t.child;case 14:return i=yo(r=t.type,t.pendingProps),Ta(e,t,r,i=yo(r.type,i),n);case 15:return Ia(e,t,t.type,t.pendingProps,n);case 17:return r=t.type,i=t.pendingProps,i=t.elementType===r?i:yo(r,i),$a(e,t),t.tag=1,Di(r)?(e=!0,Fi(t)):e=!1,Co(t,n),$o(t,r,i),Yo(t,r,i,n),Pa(null,t,r,!0,e,n);case 19:return Ha(e,t,n);case 22:return Ca(e,t,n)}throw Error(o(156,t.tag))};var Jc="function"==typeof reportError?reportError:function(e){console.error(e)};function Xc(e){this._internalRoot=e}function Qc(e){this._internalRoot=e}function Zc(e){return!(!e||1!==e.nodeType&&9!==e.nodeType&&11!==e.nodeType)}function eu(e){return!(!e||1!==e.nodeType&&9!==e.nodeType&&11!==e.nodeType&&(8!==e.nodeType||" react-mount-point-unstable "!==e.nodeValue))}function tu(){}function nu(e,t,n,r,i){var o=n._reactRootContainer;if(o){var s=o;if("function"==typeof i){var a=i;i=function(){var e=Vc(s);a.call(e)}}$c(t,s,e,i)}else s=function(e,t,n,r,i){if(i){if("function"==typeof r){var o=r;r=function(){var e=Vc(s);o.call(e)}}var s=Hc(t,r,e,0,null,!1,0,"",tu);return e._reactRootContainer=s,e[_i]=s.current,qr(8===e.nodeType?e.parentNode:e),pc(),s}for(;i=e.lastChild;)e.removeChild(i);if("function"==typeof r){var a=r;r=function(){var e=Vc(l);a.call(e)}}var l=Gc(e,0,!1,null,0,!1,0,"",tu);return e._reactRootContainer=l,e[_i]=l.current,qr(8===e.nodeType?e.parentNode:e),pc((function(){$c(t,l,n,r)})),l}(n,t,e,i,r);return Vc(s)}Qc.prototype.render=Xc.prototype.render=function(e){var t=this._internalRoot;if(null===t)throw Error(o(409));$c(e,t,null,null)},Qc.prototype.unmount=Xc.prototype.unmount=function(){var e=this._internalRoot;if(null!==e){this._internalRoot=null;var t=e.containerInfo;pc((function(){$c(null,e,null,null)})),t[_i]=null}},Qc.prototype.unstable_scheduleHydration=function(e){if(e){var t=It();e={blockedOn:null,target:e,priority:t};for(var n=0;n<Mt.length&&0!==t&&t<Mt[n].priority;n++);Mt.splice(n,0,e),0===n&&jt(e)}},St=function(e){switch(e.tag){case 3:var t=e.stateNode;if(t.current.memoizedState.isDehydrated){var n=pt(t.pendingLanes);0!==n&&(bt(t,1|n),sc(t,Ze()),0==(6&Pl)&&(Hl=Ze()+500,qi()))}break;case 13:pc((function(){var t=Oo(e,1);if(null!==t){var n=rc();oc(t,e,1,n)}})),Kc(e,1)}},kt=function(e){if(13===e.tag){var t=Oo(e,134217728);if(null!==t)oc(t,e,134217728,rc());Kc(e,134217728)}},Tt=function(e){if(13===e.tag){var t=ic(e),n=Oo(e,t);if(null!==n)oc(n,e,t,rc());Kc(e,t)}},It=function(){return wt},Ct=function(e,t){var n=wt;try{return wt=e,t()}finally{wt=n}},ke=function(e,t,n){switch(t){case"input":if(ee(e,n),t=n.name,"radio"===n.type&&null!=t){for(n=e;n.parentNode;)n=n.parentNode;for(n=n.querySelectorAll("input[name="+JSON.stringify(""+t)+'][type="radio"]'),t=0;t<n.length;t++){var r=n[t];if(r!==e&&r.form===e.form){var i=Si(r);if(!i)throw Error(o(90));K(r),ee(r,i)}}}break;case"textarea":ae(e,n);break;case"select":null!=(t=n.value)&&ie(e,!!n.multiple,t,!1)}},xe=hc,Pe=pc;var ru={usingClientEntryPoint:!1,Events:[wi,Ei,Si,Re,Ne,hc]},iu={findFiberByHostInstance:bi,bundleType:0,version:"18.2.0",rendererPackageName:"react-dom"},ou={bundleType:iu.bundleType,version:iu.version,rendererPackageName:iu.rendererPackageName,rendererConfig:iu.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:b.ReactCurrentDispatcher,findHostInstanceByFiber:function(e){return null===(e=Ve(e))?null:e.stateNode},findFiberByHostInstance:iu.findFiberByHostInstance||function(){return null},findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.2.0-next-9e3b772b8-20220608"};if("undefined"!=typeof __REACT_DEVTOOLS_GLOBAL_HOOK__){var su=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!su.isDisabled&&su.supportsFiber)try{st=su.inject(ou),at=su}catch(he){}}t.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=ru,t.createPortal=function(e,t){var n=2<arguments.length&&void 0!==arguments[2]?arguments[2]:null;if(!Zc(t))throw Error(o(200));return function(e,t,n){var r=3<arguments.length&&void 0!==arguments[3]?arguments[3]:null;return{$$typeof:E,key:null==r?null:""+r,children:e,containerInfo:t,implementation:n}}(e,t,null,n)},t.createRoot=function(e,t){if(!Zc(e))throw Error(o(299));var n=!1,r="",i=Jc;return null!=t&&(!0===t.unstable_strictMode&&(n=!0),void 0!==t.identifierPrefix&&(r=t.identifierPrefix),void 0!==t.onRecoverableError&&(i=t.onRecoverableError)),t=Gc(e,1,!1,null,0,n,0,r,i),e[_i]=t.current,qr(8===e.nodeType?e.parentNode:e),new Xc(t)},t.findDOMNode=function(e){if(null==e)return null;if(1===e.nodeType)return e;var t=e._reactInternals;if(void 0===t){if("function"==typeof e.render)throw Error(o(188));throw e=Object.keys(e).join(","),Error(o(268,e))}return e=null===(e=Ve(t))?null:e.stateNode},t.flushSync=function(e){return pc(e)},t.hydrate=function(e,t,n){if(!eu(t))throw Error(o(200));return nu(null,e,t,!0,n)},t.hydrateRoot=function(e,t,n){if(!Zc(e))throw Error(o(405));var r=null!=n&&n.hydratedSources||null,i=!1,s="",a=Jc;if(null!=n&&(!0===n.unstable_strictMode&&(i=!0),void 0!==n.identifierPrefix&&(s=n.identifierPrefix),void 0!==n.onRecoverableError&&(a=n.onRecoverableError)),t=Hc(t,null,e,1,null!=n?n:null,i,0,s,a),e[_i]=t.current,qr(e),r)for(e=0;e<r.length;e++)i=(i=(n=r[e])._getVersion)(n._source),null==t.mutableSourceEagerHydrationData?t.mutableSourceEagerHydrationData=[n,i]:t.mutableSourceEagerHydrationData.push(n,i);return new Qc(t)},t.render=function(e,t,n){if(!eu(t))throw Error(o(200));return nu(null,e,t,!1,n)},t.unmountComponentAtNode=function(e){if(!eu(e))throw Error(o(40));return!!e._reactRootContainer&&(pc((function(){nu(null,null,e,!1,(function(){e._reactRootContainer=null,e[_i]=null}))})),!0)},t.unstable_batchedUpdates=hc,t.unstable_renderSubtreeIntoContainer=function(e,t,n,r){if(!eu(n))throw Error(o(200));if(null==e||void 0===e._reactInternals)throw Error(o(38));return nu(e,t,n,!1,r)},t.version="18.2.0-next-9e3b772b8-20220608"},7029:(e,t,n)=>{"use strict";var r=n(8316);t.s=r.createRoot,r.hydrateRoot},8316:(e,t,n)=>{"use strict";!function e(){if("undefined"!=typeof __REACT_DEVTOOLS_GLOBAL_HOOK__&&"function"==typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE)try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(e)}catch(t){console.error(t)}}(),e.exports=n(2967)},2175:function(e,t,n){!function(e,t,n,r){"use strict";function i(e){if(e&&e.__esModule)return e;var t=Object.create(null);return e&&Object.keys(e).forEach((function(n){if("default"!==n){var r=Object.getOwnPropertyDescriptor(e,n);Object.defineProperty(t,n,r.get?r:{enumerable:!0,get:function(){return e[n]}})}})),t.default=e,Object.freeze(t)}var o=i(t);function s(){return s=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},s.apply(this,arguments)}function a(e,t){if(null==e)return{};var n,r,i={},o=Object.keys(e);for(r=0;r<o.length;r++)n=o[r],t.indexOf(n)>=0||(i[n]=e[n]);return i}const l="get",c="application/x-www-form-urlencoded";function u(e){return null!=e&&"string"==typeof e.tagName}function d(e){return void 0===e&&(e=""),new URLSearchParams("string"==typeof e||Array.isArray(e)||e instanceof URLSearchParams?e:Object.keys(e).reduce(((t,n)=>{let r=e[n];return t.concat(Array.isArray(r)?r.map((e=>[n,e])):[[n,r]])}),[]))}function h(e,t,n){let r,i,o,s;if(u(a=e)&&"form"===a.tagName.toLowerCase()){let a=n.submissionTrigger;r=n.method||e.getAttribute("method")||l,i=n.action||e.getAttribute("action")||t,o=n.encType||e.getAttribute("enctype")||c,s=new FormData(e),a&&a.name&&s.append(a.name,a.value)}else if(function(e){return u(e)&&"button"===e.tagName.toLowerCase()}(e)||function(e){return u(e)&&"input"===e.tagName.toLowerCase()}(e)&&("submit"===e.type||"image"===e.type)){let a=e.form;if(null==a)throw new Error('Cannot submit a <button> or <input type="submit"> without a <form>');r=n.method||e.getAttribute("formmethod")||a.getAttribute("method")||l,i=n.action||e.getAttribute("formaction")||a.getAttribute("action")||t,o=n.encType||e.getAttribute("formenctype")||a.getAttribute("enctype")||c,s=new FormData(a),e.name&&s.append(e.name,e.value)}else{if(u(e))throw new Error('Cannot submit element that is not <form>, <button>, or <input type="submit|image">');if(r=n.method||l,i=n.action||t,o=n.encType||c,e instanceof FormData)s=e;else if(s=new FormData,e instanceof URLSearchParams)for(let[t,n]of e)s.append(t,n);else if(null!=e)for(let t of Object.keys(e))s.append(t,e[t])}var a;let{protocol:d,host:h}=window.location;return{url:new URL(i,d+"//"+h),method:r.toLowerCase(),encType:o,formData:s}}const p=["onClick","relative","reloadDocument","replace","state","target","to","preventScrollReset"],f=["aria-current","caseSensitive","className","end","style","to","children"],m=["reloadDocument","replace","method","action","onSubmit","fetcherKey","routeId","relative","preventScrollReset"];function _(){var e;let t=null==(e=window)?void 0:e.__staticRouterHydrationData;return t&&t.errors&&(t=s({},t,{errors:g(t.errors)})),t}function g(e){if(!e)return null;let t=Object.entries(e),n={};for(let[i,o]of t)if(o&&"RouteErrorResponse"===o.__type)n[i]=new r.ErrorResponse(o.status,o.statusText,o.data,!0===o.internal);else if(o&&"Error"===o.__type){let e=new Error(o.message);e.stack="",n[i]=e}else n[i]=o;return n}const v="undefined"!=typeof window&&void 0!==window.document&&void 0!==window.document.createElement,y=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,b=o.forwardRef((function(e,t){let i,{onClick:l,relative:c,reloadDocument:u,replace:d,state:h,target:f,to:m,preventScrollReset:_}=e,g=a(e,p),{basename:b}=o.useContext(n.UNSAFE_NavigationContext),w=!1;if("string"==typeof m&&y.test(m)&&(i=m,v)){let e=new URL(window.location.href),t=m.startsWith("//")?new URL(e.protocol+m):new URL(m),n=r.stripBasename(t.pathname,b);t.origin===e.origin&&null!=n?m=n+t.search+t.hash:w=!0}let E=n.useHref(m,{relative:c}),S=R(m,{replace:d,state:h,target:f,preventScrollReset:_,relative:c});return o.createElement("a",s({},g,{href:i||E,onClick:w||u?l:function(e){l&&l(e),e.defaultPrevented||S(e)},ref:t,target:f}))})),w=o.forwardRef((function(e,t){let{"aria-current":r="page",caseSensitive:i=!1,className:l="",end:c=!1,style:u,to:d,children:h}=e,p=a(e,f),m=n.useResolvedPath(d,{relative:p.relative}),_=n.useLocation(),g=o.useContext(n.UNSAFE_DataRouterStateContext),{navigator:v}=o.useContext(n.UNSAFE_NavigationContext),y=v.encodeLocation?v.encodeLocation(m).pathname:m.pathname,w=_.pathname,E=g&&g.navigation&&g.navigation.location?g.navigation.location.pathname:null;i||(w=w.toLowerCase(),E=E?E.toLowerCase():null,y=y.toLowerCase());let S,k=w===y||!c&&w.startsWith(y)&&"/"===w.charAt(y.length),T=null!=E&&(E===y||!c&&E.startsWith(y)&&"/"===E.charAt(y.length)),I=k?r:void 0;S="function"==typeof l?l({isActive:k,isPending:T}):[l,k?"active":null,T?"pending":null].filter(Boolean).join(" ");let C="function"==typeof u?u({isActive:k,isPending:T}):u;return o.createElement(b,s({},p,{"aria-current":I,className:S,ref:t,style:C,to:d}),"function"==typeof h?h({isActive:k,isPending:T}):h)})),E=o.forwardRef(((e,t)=>o.createElement(S,s({},e,{ref:t})))),S=o.forwardRef(((e,t)=>{let{reloadDocument:n,replace:r,method:i=l,action:c,onSubmit:u,fetcherKey:d,routeId:h,relative:p,preventScrollReset:f}=e,_=a(e,m),g=N(d,h),v="get"===i.toLowerCase()?"get":"post",y=x(c,{relative:p});return o.createElement("form",s({ref:t,method:v,action:y,onSubmit:n?u:e=>{if(u&&u(e),e.defaultPrevented)return;e.preventDefault();let t=e.nativeEvent.submitter,n=(null==t?void 0:t.getAttribute("formmethod"))||i;g(t||e.currentTarget,{method:n,replace:r,relative:p,preventScrollReset:f})}},_))}));var k,T;function I(e){let t=o.useContext(n.UNSAFE_DataRouterContext);return t||r.UNSAFE_invariant(!1),t}function C(e){let t=o.useContext(n.UNSAFE_DataRouterStateContext);return t||r.UNSAFE_invariant(!1),t}function R(e,t){let{target:r,replace:i,state:s,preventScrollReset:a,relative:l}=void 0===t?{}:t,c=n.useNavigate(),u=n.useLocation(),d=n.useResolvedPath(e,{relative:l});return o.useCallback((t=>{if(function(e,t){return!(0!==e.button||t&&"_self"!==t||function(e){return!!(e.metaKey||e.altKey||e.ctrlKey||e.shiftKey)}(e))}(t,r)){t.preventDefault();let r=void 0!==i?i:n.createPath(u)===n.createPath(d);c(e,{replace:r,state:s,preventScrollReset:a,relative:l})}}),[u,c,d,i,s,r,e,a,l])}function N(e,t){let{router:n}=I(k.UseSubmitImpl),i=x();return o.useCallback((function(o,s){if(void 0===s&&(s={}),"undefined"==typeof document)throw new Error("You are calling submit during the server render. Try calling submit within a `useEffect` or callback instead.");let{method:a,encType:l,formData:c,url:u}=h(o,i,s),d=u.pathname+u.search,p={replace:s.replace,preventScrollReset:s.preventScrollReset,formData:c,formMethod:a,formEncType:l};e?(null==t&&r.UNSAFE_invariant(!1),n.fetch(e,t,d,p)):n.navigate(d,p)}),[i,n,e,t])}function x(e,t){let{relative:i}=void 0===t?{}:t,{basename:a}=o.useContext(n.UNSAFE_NavigationContext),l=o.useContext(n.UNSAFE_RouteContext);l||r.UNSAFE_invariant(!1);let[c]=l.matches.slice(-1),u=s({},n.useResolvedPath(e||".",{relative:i})),d=n.useLocation();if(null==e&&(u.search=d.search,u.hash=d.hash,c.route.index)){let e=new URLSearchParams(u.search);e.delete("index"),u.search=e.toString()?"?"+e.toString():""}return e&&"."!==e||!c.route.index||(u.search=u.search?u.search.replace(/^\?/,"?index&"):"?index"),"/"!==a&&(u.pathname="/"===u.pathname?a:r.joinPaths([a,u.pathname])),n.createPath(u)}!function(e){e.UseScrollRestoration="useScrollRestoration",e.UseSubmitImpl="useSubmitImpl",e.UseFetcher="useFetcher"}(k||(k={})),function(e){e.UseFetchers="useFetchers",e.UseScrollRestoration="useScrollRestoration"}(T||(T={}));let P=0;const O="react-router-scroll-positions";let A={};function D(e){let{getKey:t,storageKey:r}=void 0===e?{}:e,{router:i}=I(k.UseScrollRestoration),{restoreScrollPosition:s,preventScrollReset:a}=C(T.UseScrollRestoration),l=n.useLocation(),c=n.useMatches(),u=n.useNavigation();o.useEffect((()=>(window.history.scrollRestoration="manual",()=>{window.history.scrollRestoration="auto"})),[]),function(e,t){let{capture:n}=t||{};o.useEffect((()=>{let t=null!=n?{capture:n}:void 0;return window.addEventListener("pagehide",e,t),()=>{window.removeEventListener("pagehide",e,t)}}),[e,n])}(o.useCallback((()=>{if("idle"===u.state){let e=(t?t(l,c):null)||l.key;A[e]=window.scrollY}sessionStorage.setItem(r||O,JSON.stringify(A)),window.history.scrollRestoration="auto"}),[r,t,u.state,l,c])),"undefined"!=typeof document&&(o.useLayoutEffect((()=>{try{let e=sessionStorage.getItem(r||O);e&&(A=JSON.parse(e))}catch(e){}}),[r]),o.useLayoutEffect((()=>{let e=null==i?void 0:i.enableScrollRestoration(A,(()=>window.scrollY),t);return()=>e&&e()}),[i,t]),o.useLayoutEffect((()=>{if(!1!==s)if("number"!=typeof s){if(l.hash){let e=document.getElementById(l.hash.slice(1));if(e)return void e.scrollIntoView()}!0!==a&&window.scrollTo(0,0)}else window.scrollTo(0,s)}),[l,s,a]))}Object.defineProperty(e,"AbortedDeferredError",{enumerable:!0,get:function(){return n.AbortedDeferredError}}),Object.defineProperty(e,"Await",{enumerable:!0,get:function(){return n.Await}}),Object.defineProperty(e,"MemoryRouter",{enumerable:!0,get:function(){return n.MemoryRouter}}),Object.defineProperty(e,"Navigate",{enumerable:!0,get:function(){return n.Navigate}}),Object.defineProperty(e,"NavigationType",{enumerable:!0,get:function(){return n.NavigationType}}),Object.defineProperty(e,"Outlet",{enumerable:!0,get:function(){return n.Outlet}}),Object.defineProperty(e,"Route",{enumerable:!0,get:function(){return n.Route}}),Object.defineProperty(e,"Router",{enumerable:!0,get:function(){return n.Router}}),Object.defineProperty(e,"RouterProvider",{enumerable:!0,get:function(){return n.RouterProvider}}),Object.defineProperty(e,"Routes",{enumerable:!0,get:function(){return n.Routes}}),Object.defineProperty(e,"UNSAFE_DataRouterContext",{enumerable:!0,get:function(){return n.UNSAFE_DataRouterContext}}),Object.defineProperty(e,"UNSAFE_DataRouterStateContext",{enumerable:!0,get:function(){return n.UNSAFE_DataRouterStateContext}}),Object.defineProperty(e,"UNSAFE_LocationContext",{enumerable:!0,get:function(){return n.UNSAFE_LocationContext}}),Object.defineProperty(e,"UNSAFE_NavigationContext",{enumerable:!0,get:function(){return n.UNSAFE_NavigationContext}}),Object.defineProperty(e,"UNSAFE_RouteContext",{enumerable:!0,get:function(){return n.UNSAFE_RouteContext}}),Object.defineProperty(e,"UNSAFE_enhanceManualRouteObjects",{enumerable:!0,get:function(){return n.UNSAFE_enhanceManualRouteObjects}}),Object.defineProperty(e,"createMemoryRouter",{enumerable:!0,get:function(){return n.createMemoryRouter}}),Object.defineProperty(e,"createPath",{enumerable:!0,get:function(){return n.createPath}}),Object.defineProperty(e,"createRoutesFromChildren",{enumerable:!0,get:function(){return n.createRoutesFromChildren}}),Object.defineProperty(e,"createRoutesFromElements",{enumerable:!0,get:function(){return n.createRoutesFromElements}}),Object.defineProperty(e,"defer",{enumerable:!0,get:function(){return n.defer}}),Object.defineProperty(e,"generatePath",{enumerable:!0,get:function(){return n.generatePath}}),Object.defineProperty(e,"isRouteErrorResponse",{enumerable:!0,get:function(){return n.isRouteErrorResponse}}),Object.defineProperty(e,"json",{enumerable:!0,get:function(){return n.json}}),Object.defineProperty(e,"matchPath",{enumerable:!0,get:function(){return n.matchPath}}),Object.defineProperty(e,"matchRoutes",{enumerable:!0,get:function(){return n.matchRoutes}}),Object.defineProperty(e,"parsePath",{enumerable:!0,get:function(){return n.parsePath}}),Object.defineProperty(e,"redirect",{enumerable:!0,get:function(){return n.redirect}}),Object.defineProperty(e,"renderMatches",{enumerable:!0,get:function(){return n.renderMatches}}),Object.defineProperty(e,"resolvePath",{enumerable:!0,get:function(){return n.resolvePath}}),Object.defineProperty(e,"unstable_useBlocker",{enumerable:!0,get:function(){return n.unstable_useBlocker}}),Object.defineProperty(e,"useActionData",{enumerable:!0,get:function(){return n.useActionData}}),Object.defineProperty(e,"useAsyncError",{enumerable:!0,get:function(){return n.useAsyncError}}),Object.defineProperty(e,"useAsyncValue",{enumerable:!0,get:function(){return n.useAsyncValue}}),Object.defineProperty(e,"useHref",{enumerable:!0,get:function(){return n.useHref}}),Object.defineProperty(e,"useInRouterContext",{enumerable:!0,get:function(){return n.useInRouterContext}}),Object.defineProperty(e,"useLoaderData",{enumerable:!0,get:function(){return n.useLoaderData}}),Object.defineProperty(e,"useLocation",{enumerable:!0,get:function(){return n.useLocation}}),Object.defineProperty(e,"useMatch",{enumerable:!0,get:function(){return n.useMatch}}),Object.defineProperty(e,"useMatches",{enumerable:!0,get:function(){return n.useMatches}}),Object.defineProperty(e,"useNavigate",{enumerable:!0,get:function(){return n.useNavigate}}),Object.defineProperty(e,"useNavigation",{enumerable:!0,get:function(){return n.useNavigation}}),Object.defineProperty(e,"useNavigationType",{enumerable:!0,get:function(){return n.useNavigationType}}),Object.defineProperty(e,"useOutlet",{enumerable:!0,get:function(){return n.useOutlet}}),Object.defineProperty(e,"useOutletContext",{enumerable:!0,get:function(){return n.useOutletContext}}),Object.defineProperty(e,"useParams",{enumerable:!0,get:function(){return n.useParams}}),Object.defineProperty(e,"useResolvedPath",{enumerable:!0,get:function(){return n.useResolvedPath}}),Object.defineProperty(e,"useRevalidator",{enumerable:!0,get:function(){return n.useRevalidator}}),Object.defineProperty(e,"useRouteError",{enumerable:!0,get:function(){return n.useRouteError}}),Object.defineProperty(e,"useRouteLoaderData",{enumerable:!0,get:function(){return n.useRouteLoaderData}}),Object.defineProperty(e,"useRoutes",{enumerable:!0,get:function(){return n.useRoutes}}),e.BrowserRouter=function(e){let{basename:t,children:i,window:s}=e,a=o.useRef();null==a.current&&(a.current=r.createBrowserHistory({window:s,v5Compat:!0}));let l=a.current,[c,u]=o.useState({action:l.action,location:l.location});return o.useLayoutEffect((()=>l.listen(u)),[l]),o.createElement(n.Router,{basename:t,children:i,location:c.location,navigationType:c.action,navigator:l})},e.Form=E,e.HashRouter=function(e){let{basename:t,children:i,window:s}=e,a=o.useRef();null==a.current&&(a.current=r.createHashHistory({window:s,v5Compat:!0}));let l=a.current,[c,u]=o.useState({action:l.action,location:l.location});return o.useLayoutEffect((()=>l.listen(u)),[l]),o.createElement(n.Router,{basename:t,children:i,location:c.location,navigationType:c.action,navigator:l})},e.Link=b,e.NavLink=w,e.ScrollRestoration=function(e){let{getKey:t,storageKey:n}=e;return D({getKey:t,storageKey:n}),null},e.UNSAFE_useScrollRestoration=D,e.createBrowserRouter=function(e,t){return r.createRouter({basename:null==t?void 0:t.basename,history:r.createBrowserHistory({window:null==t?void 0:t.window}),hydrationData:(null==t?void 0:t.hydrationData)||_(),routes:n.UNSAFE_enhanceManualRouteObjects(e)}).initialize()},e.createHashRouter=function(e,t){return r.createRouter({basename:null==t?void 0:t.basename,history:r.createHashHistory({window:null==t?void 0:t.window}),hydrationData:(null==t?void 0:t.hydrationData)||_(),routes:n.UNSAFE_enhanceManualRouteObjects(e)}).initialize()},e.createSearchParams=d,e.unstable_HistoryRouter=function(e){let{basename:t,children:r,history:i}=e;const[s,a]=o.useState({action:i.action,location:i.location});return o.useLayoutEffect((()=>i.listen(a)),[i]),o.createElement(n.Router,{basename:t,children:r,location:s.location,navigationType:s.action,navigator:i})},e.unstable_usePrompt=function(e){let{when:t,message:r}=e,i=n.unstable_useBlocker(t);o.useEffect((()=>{"blocked"!==i.state||t||i.reset()}),[i,t]),o.useEffect((()=>{"blocked"===i.state&&(window.confirm(r)?setTimeout(i.proceed,0):i.reset())}),[i,r])},e.useBeforeUnload=function(e,t){let{capture:n}=t||{};o.useEffect((()=>{let t=null!=n?{capture:n}:void 0;return window.addEventListener("beforeunload",e,t),()=>{window.removeEventListener("beforeunload",e,t)}}),[e,n])},e.useFetcher=function(){var e;let{router:t}=I(k.UseFetcher),i=o.useContext(n.UNSAFE_RouteContext);i||r.UNSAFE_invariant(!1);let a=null==(e=i.matches[i.matches.length-1])?void 0:e.route.id;null==a&&r.UNSAFE_invariant(!1);let[l]=o.useState((()=>String(++P))),[c]=o.useState((()=>(a||r.UNSAFE_invariant(!1),function(e,t){return o.forwardRef(((n,r)=>o.createElement(S,s({},n,{ref:r,fetcherKey:e,routeId:t}))))}(l,a)))),[u]=o.useState((()=>e=>{t||r.UNSAFE_invariant(!1),a||r.UNSAFE_invariant(!1),t.fetch(l,a,e)})),d=N(l,a),h=t.getFetcher(l),p=o.useMemo((()=>s({Form:c,submit:d,load:u},h)),[h,c,d,u]);return o.useEffect((()=>()=>{t?t.deleteFetcher(l):console.warn("No fetcher available to clean up from useFetcher()")}),[t,l]),p},e.useFetchers=function(){return[...C(T.UseFetchers).fetchers.values()]},e.useFormAction=x,e.useLinkClickHandler=R,e.useSearchParams=function(e){let t=o.useRef(d(e)),r=o.useRef(!1),i=n.useLocation(),s=o.useMemo((()=>function(e,t){let n=d(e);if(t)for(let r of t.keys())n.has(r)||t.getAll(r).forEach((e=>{n.append(r,e)}));return n}(i.search,r.current?null:t.current)),[i.search]),a=n.useNavigate(),l=o.useCallback(((e,t)=>{const n=d("function"==typeof e?e(s):e);r.current=!0,a("?"+n,t)}),[a,s]);return[s,l]},e.useSubmit=function(){return N()},Object.defineProperty(e,"__esModule",{value:!0})}(t,n(2784),n(3771),n(2149))},3771:(e,t,n)=>{"use strict";e.exports=n(4153)},4153:function(e,t,n){!function(e,t,n){"use strict";function r(e){if(e&&e.__esModule)return e;var t=Object.create(null);return e&&Object.keys(e).forEach((function(n){if("default"!==n){var r=Object.getOwnPropertyDescriptor(e,n);Object.defineProperty(t,n,r.get?r:{enumerable:!0,get:function(){return e[n]}})}})),t.default=e,Object.freeze(t)}var i=r(n);function o(){return o=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},o.apply(this,arguments)}const s="function"==typeof Object.is?Object.is:function(e,t){return e===t&&(0!==e||1/e==1/t)||e!=e&&t!=t},{useState:a,useEffect:l,useLayoutEffect:c,useDebugValue:u}=i;function d(e){const t=e.getSnapshot,n=e.value;try{const e=t();return!s(n,e)}catch(e){return!0}}const h="undefined"==typeof window||void 0===window.document||void 0===window.document.createElement?function(e,t,n){return t()}:function(e,t,n){const r=t(),[{inst:i},o]=a({inst:{value:r,getSnapshot:t}});return c((()=>{i.value=r,i.getSnapshot=t,d(i)&&o({inst:i})}),[e,r,t]),l((()=>(d(i)&&o({inst:i}),e((()=>{d(i)&&o({inst:i})})))),[e]),u(r),r},p="useSyncExternalStore"in i?(e=>e.useSyncExternalStore)(i):h,f=i.createContext(null),m=i.createContext(null),_=i.createContext(null),g=i.createContext(null),v=i.createContext(null),y=i.createContext({outlet:null,matches:[]}),b=i.createContext(null);function w(){return null!=i.useContext(v)}function E(){return w()||t.UNSAFE_invariant(!1),i.useContext(v).location}function S(){w()||t.UNSAFE_invariant(!1);let{basename:e,navigator:n}=i.useContext(g),{matches:r}=i.useContext(y),{pathname:o}=E(),s=JSON.stringify(t.UNSAFE_getPathContributingMatches(r).map((e=>e.pathnameBase))),a=i.useRef(!1);return i.useEffect((()=>{a.current=!0})),i.useCallback((function(r,i){if(void 0===i&&(i={}),!a.current)return;if("number"==typeof r)return void n.go(r);let l=t.resolveTo(r,JSON.parse(s),o,"path"===i.relative);"/"!==e&&(l.pathname="/"===l.pathname?e:t.joinPaths([e,l.pathname])),(i.replace?n.replace:n.push)(l,i.state,i)}),[e,n,s,o])}const k=i.createContext(null);function T(e){let t=i.useContext(y).outlet;return t?i.createElement(k.Provider,{value:e},t):t}function I(e,n){let{relative:r}=void 0===n?{}:n,{matches:o}=i.useContext(y),{pathname:s}=E(),a=JSON.stringify(t.UNSAFE_getPathContributingMatches(o).map((e=>e.pathnameBase)));return i.useMemo((()=>t.resolveTo(e,JSON.parse(a),s,"path"===r)),[e,a,s,r])}function C(e,n){w()||t.UNSAFE_invariant(!1);let{navigator:r}=i.useContext(g),s=i.useContext(m),{matches:a}=i.useContext(y),l=a[a.length-1],c=l?l.params:{};!l||l.pathname;let u=l?l.pathnameBase:"/";l&&l.route;let d,h=E();if(n){var p;let e="string"==typeof n?t.parsePath(n):n;"/"===u||(null==(p=e.pathname)?void 0:p.startsWith(u))||t.UNSAFE_invariant(!1),d=e}else d=h;let f=d.pathname||"/",_="/"===u?f:f.slice(u.length)||"/",b=t.matchRoutes(e,{pathname:_}),S=x(b&&b.map((e=>Object.assign({},e,{params:Object.assign({},c,e.params),pathname:t.joinPaths([u,r.encodeLocation?r.encodeLocation(e.pathname).pathname:e.pathname]),pathnameBase:"/"===e.pathnameBase?u:t.joinPaths([u,r.encodeLocation?r.encodeLocation(e.pathnameBase).pathname:e.pathnameBase])}))),a,s||void 0);return n&&S?i.createElement(v.Provider,{value:{location:o({pathname:"/",search:"",hash:"",state:null,key:"default"},d),navigationType:t.Action.Pop}},S):S}function R(){let e=L(),n=t.isRouteErrorResponse(e)?e.status+" "+e.statusText:e instanceof Error?e.message:JSON.stringify(e),r=e instanceof Error?e.stack:null,o={padding:"0.5rem",backgroundColor:"rgba(200,200,200, 0.5)"};return i.createElement(i.Fragment,null,i.createElement("h2",null,"Unexpected Application Error!"),i.createElement("h3",{style:{fontStyle:"italic"}},n),r?i.createElement("pre",{style:o},r):null,null)}class j extends i.Component{constructor(e){super(e),this.state={location:e.location,error:e.error}}static getDerivedStateFromError(e){return{error:e}}static getDerivedStateFromProps(e,t){return t.location!==e.location?{error:e.error,location:e.location}:{error:e.error||t.error,location:t.location}}componentDidCatch(e,t){console.error("React Router caught the following error during render",e,t)}render(){return this.state.error?i.createElement(y.Provider,{value:this.props.routeContext},i.createElement(b.Provider,{value:this.state.error,children:this.props.component})):this.props.children}}function N(e){let{routeContext:t,match:n,children:r}=e,o=i.useContext(f);return o&&o.static&&o.staticContext&&n.route.errorElement&&(o.staticContext._deepestRenderedBoundaryId=n.route.id),i.createElement(y.Provider,{value:t},r)}function x(e,n,r){if(void 0===n&&(n=[]),null==e){if(null==r||!r.errors)return null;e=r.matches}let o=e,s=null==r?void 0:r.errors;if(null!=s){let e=o.findIndex((e=>e.route.id&&(null==s?void 0:s[e.route.id])));e>=0||t.UNSAFE_invariant(!1),o=o.slice(0,Math.min(o.length,e+1))}return o.reduceRight(((e,t,a)=>{let l=t.route.id?null==s?void 0:s[t.route.id]:null,c=r?t.route.errorElement||i.createElement(R,null):null,u=n.concat(o.slice(0,a+1)),d=()=>i.createElement(N,{match:t,routeContext:{outlet:e,matches:u}},l?c:void 0!==t.route.element?t.route.element:e);return r&&(t.route.errorElement||0===a)?i.createElement(j,{location:r.location,component:c,error:l,children:d(),routeContext:{outlet:null,matches:u}}):d()}),null)}var P,O;function A(e){let n=i.useContext(f);return n||t.UNSAFE_invariant(!1),n}function D(e){let n=i.useContext(m);return n||t.UNSAFE_invariant(!1),n}function M(e){let n=function(e){let n=i.useContext(y);return n||t.UNSAFE_invariant(!1),n}(),r=n.matches[n.matches.length-1];return r.route.id||t.UNSAFE_invariant(!1),r.route.id}function L(){var e;let t=i.useContext(b),n=D(O.UseRouteError),r=M(O.UseRouteError);return t||(null==(e=n.errors)?void 0:e[r])}function U(){let e=i.useContext(_);return null==e?void 0:e._data}!function(e){e.UseBlocker="useBlocker",e.UseRevalidator="useRevalidator"}(P||(P={})),function(e){e.UseLoaderData="useLoaderData",e.UseActionData="useActionData",e.UseRouteError="useRouteError",e.UseNavigation="useNavigation",e.UseRouteLoaderData="useRouteLoaderData",e.UseMatches="useMatches",e.UseRevalidator="useRevalidator"}(O||(O={}));let F=0;function B(e){t.UNSAFE_invariant(!1)}function z(e){let{basename:n="/",children:r=null,location:o,navigationType:s=t.Action.Pop,navigator:a,static:l=!1}=e;w()&&t.UNSAFE_invariant(!1);let c=n.replace(/^\/*/,"/"),u=i.useMemo((()=>({basename:c,navigator:a,static:l})),[c,a,l]);"string"==typeof o&&(o=t.parsePath(o));let{pathname:d="/",search:h="",hash:p="",state:f=null,key:m="default"}=o,_=i.useMemo((()=>{let e=t.stripBasename(d,c);return null==e?null:{pathname:e,search:h,hash:p,state:f,key:m}}),[c,d,h,p,f,m]);return null==_?null:i.createElement(g.Provider,{value:u},i.createElement(v.Provider,{children:r,value:{location:_,navigationType:s}}))}function W(e){let{children:t,location:n}=e,r=i.useContext(f);return C(r&&!t?r.router.routes:V(t),n)}var G;!function(e){e[e.pending=0]="pending",e[e.success=1]="success",e[e.error=2]="error"}(G||(G={}));const H=new Promise((()=>{}));class q extends i.Component{constructor(e){super(e),this.state={error:null}}static getDerivedStateFromError(e){return{error:e}}componentDidCatch(e,t){console.error("<Await> caught the following error during render",e,t)}render(){let{children:e,errorElement:n,resolve:r}=this.props,o=null,s=G.pending;if(r instanceof Promise)if(this.state.error){s=G.error;let e=this.state.error;o=Promise.reject().catch((()=>{})),Object.defineProperty(o,"_tracked",{get:()=>!0}),Object.defineProperty(o,"_error",{get:()=>e})}else r._tracked?(o=r,s=void 0!==o._error?G.error:void 0!==o._data?G.success:G.pending):(s=G.pending,Object.defineProperty(r,"_tracked",{get:()=>!0}),o=r.then((e=>Object.defineProperty(r,"_data",{get:()=>e})),(e=>Object.defineProperty(r,"_error",{get:()=>e}))));else s=G.success,o=Promise.resolve(),Object.defineProperty(o,"_tracked",{get:()=>!0}),Object.defineProperty(o,"_data",{get:()=>r});if(s===G.error&&o._error instanceof t.AbortedDeferredError)throw H;if(s===G.error&&!n)throw o._error;if(s===G.error)return i.createElement(_.Provider,{value:o,children:n});if(s===G.success)return i.createElement(_.Provider,{value:o,children:e});throw o}}function $(e){let{children:t}=e,n=U(),r="function"==typeof t?t(n):t;return i.createElement(i.Fragment,null,r)}function V(e,n){void 0===n&&(n=[]);let r=[];return i.Children.forEach(e,((e,o)=>{if(!i.isValidElement(e))return;if(e.type===i.Fragment)return void r.push.apply(r,V(e.props.children,n));e.type!==B&&t.UNSAFE_invariant(!1),e.props.index&&e.props.children&&t.UNSAFE_invariant(!1);let s=[...n,o],a={id:e.props.id||s.join("-"),caseSensitive:e.props.caseSensitive,element:e.props.element,index:e.props.index,path:e.props.path,loader:e.props.loader,action:e.props.action,errorElement:e.props.errorElement,hasErrorBoundary:null!=e.props.errorElement,shouldRevalidate:e.props.shouldRevalidate,handle:e.props.handle};e.props.children&&(a.children=V(e.props.children,s)),r.push(a)})),r}function Y(e){return e.map((e=>{let t=o({},e);return null==t.hasErrorBoundary&&(t.hasErrorBoundary=null!=t.errorElement),t.children&&(t.children=Y(t.children)),t}))}Object.defineProperty(e,"AbortedDeferredError",{enumerable:!0,get:function(){return t.AbortedDeferredError}}),Object.defineProperty(e,"NavigationType",{enumerable:!0,get:function(){return t.Action}}),Object.defineProperty(e,"createPath",{enumerable:!0,get:function(){return t.createPath}}),Object.defineProperty(e,"defer",{enumerable:!0,get:function(){return t.defer}}),Object.defineProperty(e,"generatePath",{enumerable:!0,get:function(){return t.generatePath}}),Object.defineProperty(e,"isRouteErrorResponse",{enumerable:!0,get:function(){return t.isRouteErrorResponse}}),Object.defineProperty(e,"json",{enumerable:!0,get:function(){return t.json}}),Object.defineProperty(e,"matchPath",{enumerable:!0,get:function(){return t.matchPath}}),Object.defineProperty(e,"matchRoutes",{enumerable:!0,get:function(){return t.matchRoutes}}),Object.defineProperty(e,"parsePath",{enumerable:!0,get:function(){return t.parsePath}}),Object.defineProperty(e,"redirect",{enumerable:!0,get:function(){return t.redirect}}),Object.defineProperty(e,"resolvePath",{enumerable:!0,get:function(){return t.resolvePath}}),e.Await=function(e){let{children:t,errorElement:n,resolve:r}=e;return i.createElement(q,{resolve:r,errorElement:n},i.createElement($,null,t))},e.MemoryRouter=function(e){let{basename:n,children:r,initialEntries:o,initialIndex:s}=e,a=i.useRef();null==a.current&&(a.current=t.createMemoryHistory({initialEntries:o,initialIndex:s,v5Compat:!0}));let l=a.current,[c,u]=i.useState({action:l.action,location:l.location});return i.useLayoutEffect((()=>l.listen(u)),[l]),i.createElement(z,{basename:n,children:r,location:c.location,navigationType:c.action,navigator:l})},e.Navigate=function(e){let{to:n,replace:r,state:o,relative:s}=e;w()||t.UNSAFE_invariant(!1);let a=i.useContext(m),l=S();return i.useEffect((()=>{a&&"idle"!==a.navigation.state||l(n,{replace:r,state:o,relative:s})})),null},e.Outlet=function(e){return T(e.context)},e.Route=B,e.Router=z,e.RouterProvider=function(e){let{fallbackElement:t,router:n}=e,r=p(n.subscribe,(()=>n.state),(()=>n.state)),o=i.useMemo((()=>({createHref:n.createHref,encodeLocation:n.encodeLocation,go:e=>n.navigate(e),push:(e,t,r)=>n.navigate(e,{state:t,preventScrollReset:null==r?void 0:r.preventScrollReset}),replace:(e,t,r)=>n.navigate(e,{replace:!0,state:t,preventScrollReset:null==r?void 0:r.preventScrollReset})})),[n]),s=n.basename||"/";return i.createElement(i.Fragment,null,i.createElement(f.Provider,{value:{router:n,navigator:o,static:!1,basename:s}},i.createElement(m.Provider,{value:r},i.createElement(z,{basename:n.basename,location:n.state.location,navigationType:n.state.historyAction,navigator:o},n.state.initialized?i.createElement(W,null):t))),null)},e.Routes=W,e.UNSAFE_DataRouterContext=f,e.UNSAFE_DataRouterStateContext=m,e.UNSAFE_LocationContext=v,e.UNSAFE_NavigationContext=g,e.UNSAFE_RouteContext=y,e.UNSAFE_enhanceManualRouteObjects=Y,e.createMemoryRouter=function(e,n){return t.createRouter({basename:null==n?void 0:n.basename,history:t.createMemoryHistory({initialEntries:null==n?void 0:n.initialEntries,initialIndex:null==n?void 0:n.initialIndex}),hydrationData:null==n?void 0:n.hydrationData,routes:Y(e)}).initialize()},e.createRoutesFromChildren=V,e.createRoutesFromElements=V,e.renderMatches=function(e){return x(e)},e.unstable_useBlocker=function(e){let{router:t}=A(P.UseBlocker),[n]=i.useState((()=>String(++F))),r=i.useCallback((t=>"function"==typeof e?!!e(t):!!e),[e]),o=t.getBlocker(n,r);return i.useEffect((()=>()=>t.deleteBlocker(n)),[t,n]),o},e.useActionData=function(){let e=D(O.UseActionData);return i.useContext(y)||t.UNSAFE_invariant(!1),Object.values((null==e?void 0:e.actionData)||{})[0]},e.useAsyncError=function(){let e=i.useContext(_);return null==e?void 0:e._error},e.useAsyncValue=U,e.useHref=function(e,n){let{relative:r}=void 0===n?{}:n;w()||t.UNSAFE_invariant(!1);let{basename:o,navigator:s}=i.useContext(g),{hash:a,pathname:l,search:c}=I(e,{relative:r}),u=l;return"/"!==o&&(u="/"===l?o:t.joinPaths([o,l])),s.createHref({pathname:u,search:c,hash:a})},e.useInRouterContext=w,e.useLoaderData=function(){let e=D(O.UseLoaderData),t=M(O.UseLoaderData);if(!e.errors||null==e.errors[t])return e.loaderData[t];console.error("You cannot `useLoaderData` in an errorElement (routeId: "+t+")")},e.useLocation=E,e.useMatch=function(e){w()||t.UNSAFE_invariant(!1);let{pathname:n}=E();return i.useMemo((()=>t.matchPath(e,n)),[n,e])},e.useMatches=function(){let{matches:e,loaderData:t}=D(O.UseMatches);return i.useMemo((()=>e.map((e=>{let{pathname:n,params:r}=e;return{id:e.route.id,pathname:n,params:r,data:t[e.route.id],handle:e.route.handle}}))),[e,t])},e.useNavigate=S,e.useNavigation=function(){return D(O.UseNavigation).navigation},e.useNavigationType=function(){return i.useContext(v).navigationType},e.useOutlet=T,e.useOutletContext=function(){return i.useContext(k)},e.useParams=function(){let{matches:e}=i.useContext(y),t=e[e.length-1];return t?t.params:{}},e.useResolvedPath=I,e.useRevalidator=function(){let e=A(P.UseRevalidator),t=D(O.UseRevalidator);return{revalidate:e.router.revalidate,state:t.revalidation}},e.useRouteError=L,e.useRouteLoaderData=function(e){return D(O.UseRouteLoaderData).loaderData[e]},e.useRoutes=C,Object.defineProperty(e,"__esModule",{value:!0})}(t,n(2149),n(2784))},1837:(e,t,n)=>{"use strict";var r=n(2784),i=Symbol.for("react.element"),o=Symbol.for("react.fragment"),s=Object.prototype.hasOwnProperty,a=r.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,l={key:!0,ref:!0,__self:!0,__source:!0};function c(e,t,n){var r,o={},c=null,u=null;for(r in void 0!==n&&(c=""+n),void 0!==t.key&&(c=""+t.key),void 0!==t.ref&&(u=t.ref),t)s.call(t,r)&&!l.hasOwnProperty(r)&&(o[r]=t[r]);if(e&&e.defaultProps)for(r in t=e.defaultProps)void 0===o[r]&&(o[r]=t[r]);return{$$typeof:i,type:e,key:c,ref:u,props:o,_owner:a.current}}t.Fragment=o,t.jsx=c,t.jsxs=c},3426:(e,t)=>{"use strict";var n=Symbol.for("react.element"),r=Symbol.for("react.portal"),i=Symbol.for("react.fragment"),o=Symbol.for("react.strict_mode"),s=Symbol.for("react.profiler"),a=Symbol.for("react.provider"),l=Symbol.for("react.context"),c=Symbol.for("react.forward_ref"),u=Symbol.for("react.suspense"),d=Symbol.for("react.memo"),h=Symbol.for("react.lazy"),p=Symbol.iterator;var f={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},m=Object.assign,_={};function g(e,t,n){this.props=e,this.context=t,this.refs=_,this.updater=n||f}function v(){}function y(e,t,n){this.props=e,this.context=t,this.refs=_,this.updater=n||f}g.prototype.isReactComponent={},g.prototype.setState=function(e,t){if("object"!=typeof e&&"function"!=typeof e&&null!=e)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,e,t,"setState")},g.prototype.forceUpdate=function(e){this.updater.enqueueForceUpdate(this,e,"forceUpdate")},v.prototype=g.prototype;var b=y.prototype=new v;b.constructor=y,m(b,g.prototype),b.isPureReactComponent=!0;var w=Array.isArray,E=Object.prototype.hasOwnProperty,S={current:null},k={key:!0,ref:!0,__self:!0,__source:!0};function T(e,t,r){var i,o={},s=null,a=null;if(null!=t)for(i in void 0!==t.ref&&(a=t.ref),void 0!==t.key&&(s=""+t.key),t)E.call(t,i)&&!k.hasOwnProperty(i)&&(o[i]=t[i]);var l=arguments.length-2;if(1===l)o.children=r;else if(1<l){for(var c=Array(l),u=0;u<l;u++)c[u]=arguments[u+2];o.children=c}if(e&&e.defaultProps)for(i in l=e.defaultProps)void 0===o[i]&&(o[i]=l[i]);return{$$typeof:n,type:e,key:s,ref:a,props:o,_owner:S.current}}function I(e){return"object"==typeof e&&null!==e&&e.$$typeof===n}var C=/\/+/g;function R(e,t){return"object"==typeof e&&null!==e&&null!=e.key?function(e){var t={"=":"=0",":":"=2"};return"$"+e.replace(/[=:]/g,(function(e){return t[e]}))}(""+e.key):t.toString(36)}function N(e,t,i,o,s){var a=typeof e;"undefined"!==a&&"boolean"!==a||(e=null);var l=!1;if(null===e)l=!0;else switch(a){case"string":case"number":l=!0;break;case"object":switch(e.$$typeof){case n:case r:l=!0}}if(l)return s=s(l=e),e=""===o?"."+R(l,0):o,w(s)?(i="",null!=e&&(i=e.replace(C,"$&/")+"/"),N(s,t,i,"",(function(e){return e}))):null!=s&&(I(s)&&(s=function(e,t){return{$$typeof:n,type:e.type,key:t,ref:e.ref,props:e.props,_owner:e._owner}}(s,i+(!s.key||l&&l.key===s.key?"":(""+s.key).replace(C,"$&/")+"/")+e)),t.push(s)),1;if(l=0,o=""===o?".":o+":",w(e))for(var c=0;c<e.length;c++){var u=o+R(a=e[c],c);l+=N(a,t,i,u,s)}else if(u=function(e){return null===e||"object"!=typeof e?null:"function"==typeof(e=p&&e[p]||e["@@iterator"])?e:null}(e),"function"==typeof u)for(e=u.call(e),c=0;!(a=e.next()).done;)l+=N(a=a.value,t,i,u=o+R(a,c++),s);else if("object"===a)throw t=String(e),Error("Objects are not valid as a React child (found: "+("[object Object]"===t?"object with keys {"+Object.keys(e).join(", ")+"}":t)+"). If you meant to render a collection of children, use an array instead.");return l}function x(e,t,n){if(null==e)return e;var r=[],i=0;return N(e,r,"","",(function(e){return t.call(n,e,i++)})),r}function P(e){if(-1===e._status){var t=e._result;(t=t()).then((function(t){0!==e._status&&-1!==e._status||(e._status=1,e._result=t)}),(function(t){0!==e._status&&-1!==e._status||(e._status=2,e._result=t)})),-1===e._status&&(e._status=0,e._result=t)}if(1===e._status)return e._result.default;throw e._result}var O={current:null},A={transition:null},D={ReactCurrentDispatcher:O,ReactCurrentBatchConfig:A,ReactCurrentOwner:S};t.Children={map:x,forEach:function(e,t,n){x(e,(function(){t.apply(this,arguments)}),n)},count:function(e){var t=0;return x(e,(function(){t++})),t},toArray:function(e){return x(e,(function(e){return e}))||[]},only:function(e){if(!I(e))throw Error("React.Children.only expected to receive a single React element child.");return e}},t.Component=g,t.Fragment=i,t.Profiler=s,t.PureComponent=y,t.StrictMode=o,t.Suspense=u,t.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=D,t.cloneElement=function(e,t,r){if(null==e)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+e+".");var i=m({},e.props),o=e.key,s=e.ref,a=e._owner;if(null!=t){if(void 0!==t.ref&&(s=t.ref,a=S.current),void 0!==t.key&&(o=""+t.key),e.type&&e.type.defaultProps)var l=e.type.defaultProps;for(c in t)E.call(t,c)&&!k.hasOwnProperty(c)&&(i[c]=void 0===t[c]&&void 0!==l?l[c]:t[c])}var c=arguments.length-2;if(1===c)i.children=r;else if(1<c){l=Array(c);for(var u=0;u<c;u++)l[u]=arguments[u+2];i.children=l}return{$$typeof:n,type:e.type,key:o,ref:s,props:i,_owner:a}},t.createContext=function(e){return(e={$$typeof:l,_currentValue:e,_currentValue2:e,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null}).Provider={$$typeof:a,_context:e},e.Consumer=e},t.createElement=T,t.createFactory=function(e){var t=T.bind(null,e);return t.type=e,t},t.createRef=function(){return{current:null}},t.forwardRef=function(e){return{$$typeof:c,render:e}},t.isValidElement=I,t.lazy=function(e){return{$$typeof:h,_payload:{_status:-1,_result:e},_init:P}},t.memo=function(e,t){return{$$typeof:d,type:e,compare:void 0===t?null:t}},t.startTransition=function(e){var t=A.transition;A.transition={};try{e()}finally{A.transition=t}},t.unstable_act=function(){throw Error("act(...) is not supported in production builds of React.")},t.useCallback=function(e,t){return O.current.useCallback(e,t)},t.useContext=function(e){return O.current.useContext(e)},t.useDebugValue=function(){},t.useDeferredValue=function(e){return O.current.useDeferredValue(e)},t.useEffect=function(e,t){return O.current.useEffect(e,t)},t.useId=function(){return O.current.useId()},t.useImperativeHandle=function(e,t,n){return O.current.useImperativeHandle(e,t,n)},t.useInsertionEffect=function(e,t){return O.current.useInsertionEffect(e,t)},t.useLayoutEffect=function(e,t){return O.current.useLayoutEffect(e,t)},t.useMemo=function(e,t){return O.current.useMemo(e,t)},t.useReducer=function(e,t,n){return O.current.useReducer(e,t,n)},t.useRef=function(e){return O.current.useRef(e)},t.useState=function(e){return O.current.useState(e)},t.useSyncExternalStore=function(e,t,n){return O.current.useSyncExternalStore(e,t,n)},t.useTransition=function(){return O.current.useTransition()},t.version="18.2.0"},2784:(e,t,n)=>{"use strict";e.exports=n(3426)},2322:(e,t,n)=>{"use strict";e.exports=n(1837)},6475:(e,t)=>{"use strict";function n(e,t){var n=e.length;e.push(t);e:for(;0<n;){var r=n-1>>>1,i=e[r];if(!(0<o(i,t)))break e;e[r]=t,e[n]=i,n=r}}function r(e){return 0===e.length?null:e[0]}function i(e){if(0===e.length)return null;var t=e[0],n=e.pop();if(n!==t){e[0]=n;e:for(var r=0,i=e.length,s=i>>>1;r<s;){var a=2*(r+1)-1,l=e[a],c=a+1,u=e[c];if(0>o(l,n))c<i&&0>o(u,l)?(e[r]=u,e[c]=n,r=c):(e[r]=l,e[a]=n,r=a);else{if(!(c<i&&0>o(u,n)))break e;e[r]=u,e[c]=n,r=c}}}return t}function o(e,t){var n=e.sortIndex-t.sortIndex;return 0!==n?n:e.id-t.id}if("object"==typeof performance&&"function"==typeof performance.now){var s=performance;t.unstable_now=function(){return s.now()}}else{var a=Date,l=a.now();t.unstable_now=function(){return a.now()-l}}var c=[],u=[],d=1,h=null,p=3,f=!1,m=!1,_=!1,g="function"==typeof setTimeout?setTimeout:null,v="function"==typeof clearTimeout?clearTimeout:null,y="undefined"!=typeof setImmediate?setImmediate:null;function b(e){for(var t=r(u);null!==t;){if(null===t.callback)i(u);else{if(!(t.startTime<=e))break;i(u),t.sortIndex=t.expirationTime,n(c,t)}t=r(u)}}function w(e){if(_=!1,b(e),!m)if(null!==r(c))m=!0,A(E);else{var t=r(u);null!==t&&D(w,t.startTime-e)}}function E(e,n){m=!1,_&&(_=!1,v(I),I=-1),f=!0;var o=p;try{for(b(n),h=r(c);null!==h&&(!(h.expirationTime>n)||e&&!N());){var s=h.callback;if("function"==typeof s){h.callback=null,p=h.priorityLevel;var a=s(h.expirationTime<=n);n=t.unstable_now(),"function"==typeof a?h.callback=a:h===r(c)&&i(c),b(n)}else i(c);h=r(c)}if(null!==h)var l=!0;else{var d=r(u);null!==d&&D(w,d.startTime-n),l=!1}return l}finally{h=null,p=o,f=!1}}"undefined"!=typeof navigator&&void 0!==navigator.scheduling&&void 0!==navigator.scheduling.isInputPending&&navigator.scheduling.isInputPending.bind(navigator.scheduling);var S,k=!1,T=null,I=-1,C=5,R=-1;function N(){return!(t.unstable_now()-R<C)}function x(){if(null!==T){var e=t.unstable_now();R=e;var n=!0;try{n=T(!0,e)}finally{n?S():(k=!1,T=null)}}else k=!1}if("function"==typeof y)S=function(){y(x)};else if("undefined"!=typeof MessageChannel){var P=new MessageChannel,O=P.port2;P.port1.onmessage=x,S=function(){O.postMessage(null)}}else S=function(){g(x,0)};function A(e){T=e,k||(k=!0,S())}function D(e,n){I=g((function(){e(t.unstable_now())}),n)}t.unstable_IdlePriority=5,t.unstable_ImmediatePriority=1,t.unstable_LowPriority=4,t.unstable_NormalPriority=3,t.unstable_Profiling=null,t.unstable_UserBlockingPriority=2,t.unstable_cancelCallback=function(e){e.callback=null},t.unstable_continueExecution=function(){m||f||(m=!0,A(E))},t.unstable_forceFrameRate=function(e){0>e||125<e?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):C=0<e?Math.floor(1e3/e):5},t.unstable_getCurrentPriorityLevel=function(){return p},t.unstable_getFirstCallbackNode=function(){return r(c)},t.unstable_next=function(e){switch(p){case 1:case 2:case 3:var t=3;break;default:t=p}var n=p;p=t;try{return e()}finally{p=n}},t.unstable_pauseExecution=function(){},t.unstable_requestPaint=function(){},t.unstable_runWithPriority=function(e,t){switch(e){case 1:case 2:case 3:case 4:case 5:break;default:e=3}var n=p;p=e;try{return t()}finally{p=n}},t.unstable_scheduleCallback=function(e,i,o){var s=t.unstable_now();switch("object"==typeof o&&null!==o?o="number"==typeof(o=o.delay)&&0<o?s+o:s:o=s,e){case 1:var a=-1;break;case 2:a=250;break;case 5:a=1073741823;break;case 4:a=1e4;break;default:a=5e3}return e={id:d++,callback:i,priorityLevel:e,startTime:o,expirationTime:a=o+a,sortIndex:-1},o>s?(e.sortIndex=o,n(u,e),null===r(c)&&e===r(u)&&(_?(v(I),I=-1):_=!0,D(w,o-s))):(e.sortIndex=a,n(c,e),m||f||(m=!0,A(E))),e},t.unstable_shouldYield=N,t.unstable_wrapCallback=function(e){var t=p;return function(){var n=p;p=t;try{return e.apply(this,arguments)}finally{p=n}}}},4616:(e,t,n)=>{"use strict";e.exports=n(6475)}},e=>{var t;t=8624,e(e.s=t)}]);